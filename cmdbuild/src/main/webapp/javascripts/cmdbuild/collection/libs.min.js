function uncheckAll(t,e){"Ext.data.TreeStore"==Ext.getClassName(t)?uncheckTree(t.getRootNode(),e):t.each(function(t){t.set(e,!1),t.commit()})}function uncheckTree(t,e){t&&(t.set(e,!1),t.commit());for(var i=t.childNodes||t.children||[],n=0,s=i.length;n<s;++n)uncheckTree(i[n],e)}var Ext=Ext||{};Ext.Direct||(Ext.Direct={}),Ext.Toolbar||(Ext.Toolbar={}),Ext.app||(Ext.app={}),Ext.app.domain||(Ext.app.domain={}),Ext.button||(Ext.button={}),Ext.chart||(Ext.chart={}),Ext.chart.axis||(Ext.chart.axis={}),Ext.chart.series||(Ext.chart.series={}),Ext.chart.theme||(Ext.chart.theme={}),Ext.container||(Ext.container={}),Ext.core||(Ext.core={}),Ext.data||(Ext.data={}),Ext.data.association||(Ext.data.association={}),Ext.data.flash||(Ext.data.flash={}),Ext.data.proxy||(Ext.data.proxy={}),Ext.data.reader||(Ext.data.reader={}),Ext.data.writer||(Ext.data.writer={}),Ext.dd||(Ext.dd={}),Ext.direct||(Ext.direct={}),Ext.dom||(Ext.dom={}),Ext.draw||(Ext.draw={}),Ext.draw.engine||(Ext.draw.engine={}),Ext.flash||(Ext.flash={}),Ext.form||(Ext.form={}),Ext.form.Action||(Ext.form.Action={}),Ext.form.action||(Ext.form.action={}),Ext.form.field||(Ext.form.field={}),Ext.fx||(Ext.fx={}),Ext.fx.target||(Ext.fx.target={}),Ext.grid||(Ext.grid={}),Ext.grid.column||(Ext.grid.column={}),Ext.grid.feature||(Ext.grid.feature={}),Ext.grid.header||(Ext.grid.header={}),Ext.grid.locking||(Ext.grid.locking={}),Ext.grid.plugin||(Ext.grid.plugin={}),Ext.grid.property||(Ext.grid.property={}),Ext.layout||(Ext.layout={}),Ext.layout.boxOverflow||(Ext.layout.boxOverflow={}),Ext.layout.component||(Ext.layout.component={}),Ext.layout.component.field||(Ext.layout.component.field={}),Ext.layout.container||(Ext.layout.container={}),Ext.layout.container.boxOverflow||(Ext.layout.container.boxOverflow={}),Ext.list||(Ext.list={}),Ext.menu||(Ext.menu={}),Ext.panel||(Ext.panel={}),Ext.perf||(Ext.perf={}),Ext.picker||(Ext.picker={}),Ext.resizer||(Ext.resizer={}),Ext.rtl||(Ext.rtl={}),Ext.rtl.button||(Ext.rtl.button={}),Ext.rtl.dd||(Ext.rtl.dd={}),Ext.rtl.dom||(Ext.rtl.dom={}),Ext.rtl.form||(Ext.rtl.form={}),Ext.rtl.form.field||(Ext.rtl.form.field={}),Ext.rtl.grid||(Ext.rtl.grid={}),Ext.rtl.grid.column||(Ext.rtl.grid.column={}),Ext.rtl.grid.plugin||(Ext.rtl.grid.plugin={}),Ext.rtl.layout||(Ext.rtl.layout={}),Ext.rtl.layout.component||(Ext.rtl.layout.component={}),Ext.rtl.layout.component.field||(Ext.rtl.layout.component.field={}),Ext.rtl.layout.container||(Ext.rtl.layout.container={}),Ext.rtl.layout.container.boxOverflow||(Ext.rtl.layout.container.boxOverflow={}),Ext.rtl.panel||(Ext.rtl.panel={}),Ext.rtl.resizer||(Ext.rtl.resizer={}),Ext.rtl.slider||(Ext.rtl.slider={}),Ext.rtl.tab||(Ext.rtl.tab={}),Ext.rtl.tree||(Ext.rtl.tree={}),Ext.rtl.util||(Ext.rtl.util={}),Ext.rtl.view||(Ext.rtl.view={}),Ext.selection||(Ext.selection={}),Ext.slider||(Ext.slider={}),Ext.state||(Ext.state={}),Ext.tab||(Ext.tab={}),Ext.tip||(Ext.tip={}),Ext.toolbar||(Ext.toolbar={}),Ext.tree||(Ext.tree={}),Ext.tree.plugin||(Ext.tree.plugin={}),Ext.util||(Ext.util={}),Ext.ux||(Ext.ux={}),Ext.ux.form||(Ext.ux.form={}),Ext.view||(Ext.view={}),Ext.window||(Ext.window={}),function(t){var e,i,n,s,r=[],o=["constructor","toString","valueOf","toLocaleString"],a={},l={},h=0,d=function(t,e,i){var n,s,r,o,l=i.enumerableMembers,h=t.prototype;if(e){for(n in e)(o=e[n])&&o.$isFunction&&!o.$isClass&&o!==Ext.emptyFn&&o!==Ext.identityFn?(h[n]=s=o,s.$owner=t,s.$name=n):h[n]=o;for(r=1;l;r<<=1)l&r&&(l&=~r,h[n=a[r]]=s=e[n],s.$owner=t,s.$name=n)}},c=function(t,e,o,a,l,c,u,f,p,g,m){var x,E,y,v,b,C,w,S,T,k,D,I,P,M,A=function(){return this.constructor.apply(this,arguments)||null},L=A,R={enumerableMembers:a&h,onCreated:m,onBeforeCreated:d,aliases:f},F=o.alternateClassName||[],O=Ext.global;for(y=r.length;y-- >0;)A[w=r[y]]=i[w];if(o.$isFunction&&(o=o(A)),R.data=o,k=o.statics,o.$className=t,o.$className&&(A.$className=o.$className),A.extend(e),T=A.prototype,A.xtype=o.xtype=l[0],l&&(T.xtypes=l),T.xtypesChain=c,T.xtypesMap=u,o.alias=f,L.triggerExtended(A,o,R),o.onClassExtended&&(A.onExtended(o.onClassExtended,A),delete o.onClassExtended),k)for(D in k)k.hasOwnProperty(D)&&((M=k[D])&&M.$isFunction&&!M.$isClass&&M!==Ext.emptyFn&&M!==Ext.identityFn&&(A[D]=P=M,P.$owner=A,P.$name=D),A[D]=M);for(delete o.statics,o.inheritableStatics&&A.addInheritableStatics(o.inheritableStatics),T.onClassExtended&&(L.onExtended(T.onClassExtended,L),delete T.onClassExtended),o.config&&s(A,o),R.onBeforeCreated(A,R.data,R),y=0,b=p&&p.length;y<b;++y)A.mixin.apply(A,p[y]);for(y=0,b=f.length;y<b;y++)x=f[y],n.setAlias(A,x);for(o.singleton&&(L=new A),F instanceof Array||(F=[F]),y=0,v=F.length;y<v;y++)E=F[y],n.classes[E]=L,I=n.getName(L),S=n.maps.nameToAlternates,I&&I!==E&&(n.maps.alternateToName[E]=I,(F=S[I]||(S[I]=[])).push(E));for(y=0,b=g.length;y<b;y+=2)(C=g[y])||(C=O),C[g[y+1]]=L;return n.classes[A.$classname]=L,I=n.getName(L),S=n.maps.nameToAlternates,I&&I!==t&&(n.maps.alternateToName[t]=I,(F=S[I]||(S[I]=[])).push(t)),delete T.alternateClassName,R.onCreated&&R.onCreated.call(L,L),t&&n.triggerCreated(t),L};t.derive=function(){var d,u;for(i=Ext.Base,n=Ext.ClassManager,d=o.length;d-- >0;)l[a[u=1<<d]=o[d]]=u;for(d in l)h|=l[d];h=~h,Function.prototype.$isFunction=1,s=Ext.Class.getPreprocessor("config").fn;for(e in i)i.hasOwnProperty(e)&&r.push(e);return t.derive=c,c.apply(this,arguments)}}(Ext.cmd={});var Ext=Ext||{};Ext._startTime=(new Date).getTime(),function(){var t,e,i=Object.prototype,n=i.toString,s=!0,r=function(){},o=function(){var t=o.caller.caller;return t.$owner.prototype[t.$name].apply(this,arguments)},a=/\S/;Function.prototype.$extIsFunction=!0,Ext.global=this;for(t in{toString:1})s=null;s&&(s=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),Ext.enumerables=s,Ext.apply=function(t,e,i){if(i&&Ext.apply(t,i),t&&e&&"object"==typeof e){var n,r,o;for(n in e)t[n]=e[n];if(s)for(r=s.length;r--;)o=s[r],e.hasOwnProperty(o)&&(t[o]=e[o])}return t},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{}),Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:r,identityFn:function(t){return t},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(t,e){var i;if(t)for(i in e)void 0===t[i]&&(t[i]=e[i]);return t},iterate:function(t,e,i){Ext.isEmpty(t)||(void 0===i&&(i=t),Ext.isIterable(t)?Ext.Array.each.call(Ext.Array,t,e,i):Ext.Object.each.call(Ext.Object,t,e,i))}}),Ext.apply(Ext,{extend:function(){var t=i.constructor,e=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};return function(i,n,s){Ext.isObject(n)&&(s=n,n=i,i=s.constructor!==t?s.constructor:function(){n.apply(this,arguments)});var r,o=function(){},a=n.prototype;return o.prototype=a,r=i.prototype=new o,r.constructor=i,i.superclass=a,a.constructor===t&&(a.constructor=n),i.override=function(t){Ext.override(i,t)},r.override=e,r.proto=r,i.override(s),i.extend=function(t){return Ext.extend(i,t)},i}}(),override:function(t,e){if(t.$isClass)t.override(e);else if("function"==typeof t)Ext.apply(t.prototype,e);else{var i,n,s=t.self;if(s&&s.$isClass)for(i in e)e.hasOwnProperty(i)&&("function"==typeof(n=e[i])&&(n.$name=i,n.$owner=s,n.$previous=t.hasOwnProperty(i)?t[i]:o),t[i]=n);else Ext.apply(t,e)}return t}}),Ext.apply(Ext,{valueFrom:function(t,e,i){return Ext.isEmpty(t,i)?e:t},typeOf:function(t){var e;if(null===t)return"null";if("undefined"===(e=typeof t)||"string"===e||"number"===e||"boolean"===e)return e;switch(n.call(t)){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return"function"===e?"function":"object"===e?void 0!==t.nodeType?3===t.nodeType?a.test(t.nodeValue)?"textnode":"whitespace":"element":"object":void 0},coerce:function(t,e){var i=Ext.typeOf(t),n=Ext.typeOf(e),s="string"==typeof t;if(i!==n)switch(n){case"string":return String(t);case"number":return Number(t);case"boolean":return!(s&&(!t||"false"===t))&&Boolean(t);case"null":return!s||t&&"null"!==t?t:null;case"undefined":return!s||t&&"undefined"!==t?t:void 0;case"date":return s&&isNaN(t)?Ext.Date.parse(t,Ext.Date.defaultFormat):Date(Number(t))}return t},isEmpty:function(t,e){return null===t||void 0===t||!e&&""===t||Ext.isArray(t)&&0===t.length},isArray:"isArray"in Array?Array.isArray:function(t){return"[object Array]"===n.call(t)},isDate:function(t){return"[object Date]"===n.call(t)},isObject:"[object Object]"===n.call(null)?function(t){return null!==t&&void 0!==t&&"[object Object]"===n.call(t)&&void 0===t.ownerDocument}:function(t){return"[object Object]"===n.call(t)},isSimpleObject:function(t){return t instanceof Object&&t.constructor===Object},isPrimitive:function(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e},isFunction:function(t){return!(!t||!t.$extIsFunction)},isNumber:function(t){return"number"==typeof t&&isFinite(t)},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},isString:function(t){return"string"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isElement:function(t){return!!t&&1===t.nodeType},isTextNode:function(t){return!!t&&"#text"===t.nodeName},isDefined:function(t){return void 0!==t},isIterable:function(t){var e=typeof t,i=!1;return t&&"string"!=e&&("function"==e?Ext.isSafari&&(i=t instanceof NodeList||t instanceof HTMLCollection):i=!0),!!i&&void 0!==t.length}}),Ext.apply(Ext,{clone:function(t){var e,i,r,o,a,l;if(null===t||void 0===t)return t;if(t.nodeType&&t.cloneNode)return t.cloneNode(!0);if("[object Date]"===(e=n.call(t)))return new Date(t.getTime());if("[object Array]"===e)for(i=t.length,a=[];i--;)a[i]=Ext.clone(t[i]);else if("[object Object]"===e&&t.constructor===Object){a={};for(l in t)a[l]=Ext.clone(t[l]);if(s)for(r=s.length;r--;)a[o=s[r]]=t[o]}return a||t},getUniqueGlobalNamespace:function(){var t,e=this.uniqueGlobalNamespace;if(void 0===e){t=0;do{e="ExtBox"+ ++t}while(void 0!==Ext.global[e]);Ext.global[e]=Ext,this.uniqueGlobalNamespace=e}return e},functionFactoryCache:{},cacheableFunctionFactory:function(){var t,e,i,n=Array.prototype.slice.call(arguments),s=this.functionFactoryCache;return Ext.isSandboxed&&(i=n.length)>0&&(n[--i]="var Ext=window."+Ext.name+";"+n[i]),t=n.join(""),(e=s[t])||(e=Function.prototype.constructor.apply(Function.prototype,n),s[t]=e),e},functionFactory:function(){var t,e=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&(t=e.length)>0&&(e[--t]="var Ext=window."+Ext.name+";"+e[t]),Function.prototype.constructor.apply(Function.prototype,e)},Logger:{verbose:r,log:r,info:r,warn:r,error:function(t){throw new Error(t)},deprecate:r}}),Ext.type=Ext.typeOf,(e=Ext.app)||(e=Ext.app={}),Ext.apply(e,{namespaces:{},collectNamespaces:function(t){var e,i=Ext.app.namespaces;for(e in t)t.hasOwnProperty(e)&&(i[e]=!0)},addNamespaces:function(t){var e,i,n=Ext.app.namespaces;for(Ext.isArray(t)||(t=[t]),e=0,i=t.length;e<i;e++)n[t[e]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(t){var e,i=Ext.app.namespaces,n="";for(e in i)i.hasOwnProperty(e)&&e.length>n.length&&e+"."===t.substring(0,e.length+1)&&(n=e);return""===n?void 0:n}})}(),Ext.globalEval=Ext.global.execScript?function(t){execScript(t)}:function($$code){!function(){var Ext=this.Ext;eval($$code)}()},function(){var t;Ext.Version=t=Ext.extend(Object,{constructor:function(e){var i,n;return e instanceof t?e:(this.version=this.shortVersion=String(e).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,""),-1!==(n=this.version.search(/([^\d\.])/))&&(this.release=this.version.substr(n,e.length),this.shortVersion=this.version.substr(0,n)),this.shortVersion=this.shortVersion.replace(/[^\d]/g,""),i=this.version.split("."),this.major=parseInt(i.shift()||0,10),this.minor=parseInt(i.shift()||0,10),this.patch=parseInt(i.shift()||0,10),this.build=parseInt(i.shift()||0,10),this)},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(e){return 1===t.compare(this.version,e)},isGreaterThanOrEqual:function(e){return t.compare(this.version,e)>=0},isLessThan:function(e){return-1===t.compare(this.version,e)},isLessThanOrEqual:function(e){return t.compare(this.version,e)<=0},equals:function(e){return 0===t.compare(this.version,e)},match:function(t){return t=String(t),this.version.substr(0,t.length)===t},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}}),Ext.apply(t,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(t){return t?isNaN(t)?this.releaseValueMap[t]||t:parseInt(t,10):0},compare:function(e,i){var n,s,r;for(e=new t(e).toArray(),i=new t(i).toArray(),r=0;r<Math.max(e.length,i.length);r++){if(n=this.getComponentValue(e[r]),s=this.getComponentValue(i[r]),n<s)return-1;if(n>s)return 1}return 0}}),Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(e,i){return Ext.versions[e]=new t(i),Ext.lastRegisteredVersion=Ext.versions[e],this},getVersion:function(t){return void 0===t?Ext.lastRegisteredVersion:Ext.versions[t]},deprecate:function(e,i,n,s){t.compare(Ext.getVersion(e),i)<1&&n.call(s)}}),Ext.setVersion("core","4.2.0.663")}(),Ext.String=function(){var t,e,i,n,s=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,r=/('|\\)/g,o=/\{(\d+)\}/g,a=/([-.*+?\^${}()|\[\]\/\\])/g,l=/^\s+|\s+$/g,h=/\s+/,d=/(^[^a-z]*|[^\w])/gi,c=function(e,i){return t[i]},u=function(t,i){return i in e?e[i]:String.fromCharCode(parseInt(i.substr(2),10))},f=function(t,e){return null!==t&&void 0!==t&&null!==e&&void 0!==e&&e.length<=t.length};return{insert:function(t,e,i){if(!t)return e;if(!e)return t;var n=t.length;return i||0===i||(i=n),i<0&&(i=(i*=-1)>=n?0:n-i),0===i?t=e+t:i>=t.length?t+=e:t=t.substr(0,i)+e+t.substr(i),t},startsWith:function(t,e,i){var n=f(t,e);return n&&(i&&(t=t.toLowerCase(),e=e.toLowerCase()),n=0===t.lastIndexOf(e,0)),n},endsWith:function(t,e,i){var n=f(t,e);return n&&(i&&(t=t.toLowerCase(),e=e.toLowerCase()),n=-1!==t.indexOf(e,t.length-e.length)),n},createVarName:function(t){return t.replace(d,"")},htmlEncode:function(t){return t?String(t).replace(i,c):t},htmlDecode:function(t){return t?String(t).replace(n,u):t},addCharacterEntities:function(s){var r,o,a=[],l=[];for(r in s)o=s[r],e[r]=o,t[o]=r,a.push(o),l.push(r);i=new RegExp("("+a.join("|")+")","g"),n=new RegExp("("+l.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){t={},e={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(t,e){return Ext.isEmpty(e)?t:t+(-1===t.indexOf("?")?"?":"&")+e},trim:function(t){return t.replace(s,"")},capitalize:function(t){return t.charAt(0).toUpperCase()+t.substr(1)},uncapitalize:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},ellipsis:function(t,e,i){if(t&&t.length>e){if(i){var n=t.substr(0,e-2),s=Math.max(n.lastIndexOf(" "),n.lastIndexOf("."),n.lastIndexOf("!"),n.lastIndexOf("?"));if(-1!==s&&s>=e-15)return n.substr(0,s)+"..."}return t.substr(0,e-3)+"..."}return t},escapeRegex:function(t){return t.replace(a,"\\$1")},escape:function(t){return t.replace(r,"\\$1")},toggle:function(t,e,i){return t===e?i:e},leftPad:function(t,e,i){var n=String(t);for(i=i||" ";n.length<e;)n=i+n;return n},format:function(t){var e=Ext.Array.toArray(arguments,1);return t.replace(o,function(t,i){return e[i]})},repeat:function(t,e,i){e<1&&(e=0);for(var n=[],s=e;s--;)n.push(t);return n.join(i||"")},splitWords:function(t){return t&&"string"==typeof t?t.replace(l,"").split(h):t||[]}}}(),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Number=new function(){var t=this,e="1"!==.9.toFixed(),i=Math;Ext.apply(this,{constrain:function(t,e,i){var n=parseFloat(t);return n<e?e:n>i?i:n},snap:function(e,i,n,s){var r;return void 0===e||e<n?n||0:(i&&0!==(r=e%i)&&(e-=r,2*r>=i?e+=i:2*r<-i&&(e-=i)),t.constrain(e,n,s))},snapInRange:function(e,i,n,s){var r;return n=n||0,void 0===e||e<n?n:(i&&(r=(e-n)%i)&&(e-=r,(r*=2)>=i&&(e+=i)),void 0!==s&&e>(s=t.snapInRange(s,i,n))&&(e=s),e)},toFixed:e?function(t,e){e=e||0;var n=i.pow(10,e);return(i.round(t*n)/n).toFixed(e)}:function(t,e){return t.toFixed(e)},from:function(t,e){return isFinite(t)&&(t=parseFloat(t)),isNaN(t)?e:t},randomInt:function(t,e){return i.floor(i.random()*(e-t+1)+t)},correctFloat:function(t){return parseFloat(t.toPrecision(14))}}),Ext.num=function(){return t.from.apply(this,arguments)}},function(){function t(t,e){return e<0?Math.max(0,t.length+e):Math.min(t.length,e)}function e(e,i,n,s){var r,o,a,l,h,d,c=s?s.length:0,u=e.length,f=t(e,i);if(f===u)c&&e.push.apply(e,s);else{if(r=Math.min(n,u-f),o=f+r,a=o+c-r,l=u-o,h=u-r,a<o)for(d=0;d<l;++d)e[a+d]=e[o+d];else if(a>o)for(d=l;d--;)e[a+d]=e[o+d];if(c&&f===h)e.length=h,e.push.apply(e,s);else for(e.length=h+c||0,d=0;d<c;++d)e[f+d]=s[d]}return e}var i,n,s,r,o=Array.prototype,a=o.slice,l=function(){var t,e=[],i=20;if(!e.splice)return!1;for(;i--;)e.push("A");return e.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),t=e.length,e.splice(13,0,"XXX"),t+1==e.length}(),h="forEach"in o,d="map"in o,c="indexOf"in o,u="every"in o,f="some"in o,p="filter"in o,g=function(){var t=[1,2,3,4,5].sort(function(){return 0});return 1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]&&5===t[4]}(),m=!0;try{"undefined"!=typeof document&&a.call(document.getElementsByTagName("body"))}catch(t){m=!1}n=l?function(t,e,i){return t.splice(e,i),t}:function(t,i,n){return e(t,i,n)},s=l?function(t,e,i,n){return n&&n.length?0!==e||i?e<t.length?t.splice.apply(t,[e,i].concat(n)):t.push.apply(t,n):t.unshift.apply(t,n):t.splice(e,i),t}:e,r=l?function(t){return t.splice.apply(t,a.call(arguments,1))}:function(i,n,s){var r=t(i,n),o=i.slice(n,t(i,r+s));return arguments.length<4?e(i,r,s):e(i,r,s,a.call(arguments,3)),o},i=Ext.Array={each:function(t,e,n,s){var r,o=(t=i.from(t)).length;if(!0!==s){for(r=0;r<o;r++)if(!1===e.call(n||t[r],t[r],r,t))return r}else for(r=o-1;r>-1;r--)if(!1===e.call(n||t[r],t[r],r,t))return r;return!0},forEach:h?function(t,e,i){t.forEach(e,i)}:function(t,e,i){for(var n=0,s=t.length;n<s;n++)e.call(i,t[n],n,t)},indexOf:c?function(t,e,i){return o.indexOf.call(t,e,i)}:function(t,e,i){var n,s=t.length;for(n=i<0?Math.max(0,s+i):i||0;n<s;n++)if(t[n]===e)return n;return-1},contains:c?function(t,e){return-1!==o.indexOf.call(t,e)}:function(t,e){var i,n;for(i=0,n=t.length;i<n;i++)if(t[i]===e)return!0;return!1},toArray:function(t,e,i){if(!t||!t.length)return[];if("string"==typeof t&&(t=t.split("")),m)return a.call(t,e||0,i||t.length);var n,s=[];for(e=e||0,i=i?i<0?t.length+i:i:t.length,n=e;n<i;n++)s.push(t[n]);return s},pluck:function(t,e){var i,n,s,r=[];for(i=0,n=t.length;i<n;i++)s=t[i],r.push(s[e]);return r},map:d?function(t,e,i){return t.map(e,i)}:function(t,e,i){for(var n=[],s=0,r=t.length;s<r;s++)n[s]=e.call(i,t[s],s,t);return n},every:u?function(t,e,i){return t.every(e,i)}:function(t,e,i){for(var n=0,s=t.length;n<s;++n)if(!e.call(i,t[n],n,t))return!1;return!0},some:f?function(t,e,i){return t.some(e,i)}:function(t,e,i){for(var n=0,s=t.length;n<s;++n)if(e.call(i,t[n],n,t))return!0;return!1},equals:function(t,e){var i,n=t.length,s=e.length;if(t===e)return!0;if(n!==s)return!1;for(i=0;i<n;++i)if(t[i]!==e[i])return!1;return!0},clean:function(t){for(var e,i=[],n=0,s=t.length;n<s;n++)e=t[n],Ext.isEmpty(e)||i.push(e);return i},unique:function(t){for(var e,n=[],s=0,r=t.length;s<r;s++)e=t[s],-1===i.indexOf(n,e)&&n.push(e);return n},filter:p?function(t,e,i){return t.filter(e,i)}:function(t,e,i){for(var n=[],s=0,r=t.length;s<r;s++)e.call(i,t[s],s,t)&&n.push(t[s]);return n},findBy:function(t,e,i){for(var n=0,s=t.length;n<s;n++)if(e.call(i||t,t[n],n))return t[n];return null},from:function(t,e){if(void 0===t||null===t)return[];if(Ext.isArray(t))return e?a.call(t):t;var n=typeof t;return!t||void 0===t.length||"string"===n||"function"===n&&t.apply?[t]:i.toArray(t)},remove:function(t,e){var s=i.indexOf(t,e);return-1!==s&&n(t,s,1),t},include:function(t,e){i.contains(t,e)||t.push(e)},clone:function(t){return a.call(t)},merge:function(){var t,e,n=a.call(arguments),s=[];for(t=0,e=n.length;t<e;t++)s=s.concat(n[t]);return i.unique(s)},intersect:function(){var t,e,s,r,o,l,h,d,c,u,f,p,g,m=[],x=a.call(arguments);if(!x.length)return m;for(t=x.length,f=o=0;f<t;f++)l=x[f],(!r||l.length<r.length)&&(r=l,o=f);for(r=i.unique(r),n(x,o,1),h=r.length,t=x.length,f=0;f<h;f++){for(d=r[f],u=0,p=0;p<t;p++)for(s=(e=x[p]).length,g=0;g<s;g++)if(c=e[g],d===c){u++;break}u===t&&m.push(d)}return m},difference:function(t,e){var i,s,r,o=a.call(t),l=o.length;for(i=0,r=e.length;i<r;i++)for(s=0;s<l;s++)o[s]===e[i]&&(n(o,s,1),s--,l--);return o},slice:[1,2].slice(1,void 0).length?function(t,e,i){return a.call(t,e,i)}:function(t,e,i){return void 0===e?a.call(t):void 0===i?a.call(t,e):a.call(t,e,i)},sort:g?function(t,e){return e?t.sort(e):t.sort()}:function(t,e){for(var i,n,s,r=t.length,o=0;o<r;o++){for(n=o,i=o+1;i<r;i++)e?e(t[i],t[n])<0&&(n=i):t[i]<t[n]&&(n=i);n!==o&&(s=t[o],t[o]=t[n],t[n]=s)}return t},flatten:function(t){function e(t){var n,s,r;for(n=0,s=t.length;n<s;n++)r=t[n],Ext.isArray(r)?e(r):i.push(r);return i}var i=[];return e(t)},min:function(t,e){var i,n,s,r=t[0];for(i=0,n=t.length;i<n;i++)s=t[i],e?1===e(r,s)&&(r=s):s<r&&(r=s);return r},max:function(t,e){var i,n,s,r=t[0];for(i=0,n=t.length;i<n;i++)s=t[i],e?-1===e(r,s)&&(r=s):s>r&&(r=s);return r},mean:function(t){return t.length>0?i.sum(t)/t.length:void 0},sum:function(t){var e,i,n=0;for(e=0,i=t.length;e<i;e++)n+=t[e];return n},toMap:function(t,e,i){var n={},s=t.length;if(e)if("string"==typeof e)for(;s--;)n[t[s][e]]=s+1;else for(;s--;)n[e.call(i,t[s])]=s+1;else for(;s--;)n[t[s]]=s+1;return n},toValueMap:function(t,e,i){var n={},s=t.length;if(e)if("string"==typeof e)for(;s--;)n[t[s][e]]=t[s];else for(;s--;)n[e.call(i,t[s])]=t[s];else for(;s--;)n[t[s]]=t[s];return n},erase:n,insert:function(t,e,i){return s(t,e,0,i)},replace:s,splice:r,push:function(t){var e,i=arguments.length,n=1;for(void 0===t?t=[]:Ext.isArray(t)||(t=[t]);n<i;n++)e=arguments[n],Array.prototype.push[Ext.isIterable(e)?"apply":"call"](t,e);return t}},Ext.each=i.each,i.union=i.merge,Ext.min=i.min,Ext.max=i.max,Ext.sum=i.sum,Ext.mean=i.mean,Ext.flatten=i.flatten,Ext.clean=i.clean,Ext.unique=i.unique,Ext.pluck=i.pluck,Ext.toArray=function(){return i.toArray.apply(i,arguments)}}(),Ext.Function={flexSetter:function(t){return function(e,i){var n,s;if(null===e)return this;if("string"!=typeof e){for(n in e)e.hasOwnProperty(n)&&t.call(this,n,e[n]);if(Ext.enumerables)for(s=Ext.enumerables.length;s--;)n=Ext.enumerables[s],e.hasOwnProperty(n)&&t.call(this,n,e[n])}else t.call(this,e,i);return this}},bind:function(t,e,i,n){if(2===arguments.length)return function(){return t.apply(e,arguments)};var s=t,r=Array.prototype.slice;return function(){var t=i||arguments;return!0===n?t=(t=r.call(arguments,0)).concat(i):"number"==typeof n&&(t=r.call(arguments,0),Ext.Array.insert(t,n,i)),s.apply(e||Ext.global,t)}},pass:function(t,e,i){return Ext.isArray(e)||(e=Ext.isIterable(e)?Ext.Array.clone(e):void 0!==e?[e]:[]),function(){var n=[].concat(e);return n.push.apply(n,arguments),t.apply(i||this,n)}},alias:function(t,e){return function(){return t[e].apply(t,arguments)}},clone:function(t){return function(){return t.apply(this,arguments)}},createInterceptor:function(t,e,i,n){return Ext.isFunction(e)?(n=Ext.isDefined(n)?n:null,function(){var s=arguments;return e.target=this,e.method=t,!1!==e.apply(i||this||Ext.global,s)?t.apply(this||Ext.global,s):n}):t},createDelayed:function(t,e,i,n,s){return(i||n)&&(t=Ext.Function.bind(t,i,n,s)),function(){var i=this,n=Array.prototype.slice.call(arguments);setTimeout(function(){t.apply(i,n)},e)}},defer:function(t,e,i,n,s){return t=Ext.Function.bind(t,i,n,s),e>0?setTimeout(Ext.supports.TimeoutActualLateness?function(){t()}:t,e):(t(),0)},createSequence:function(t,e,i){return e?function(){var n=t.apply(this,arguments);return e.apply(i||this,arguments),n}:t},createBuffered:function(t,e,i,n){var s;return function(){var r=n||Array.prototype.slice.call(arguments,0),o=i||this;s&&clearTimeout(s),s=setTimeout(function(){t.apply(o,r)},e)}},createThrottled:function(t,e,i){var n,s,r,o,a=function(){t.apply(i||this,r),n=(new Date).getTime()};return function(){s=(new Date).getTime()-n,r=arguments,clearTimeout(o),!n||s>=e?a():o=setTimeout(a,e-s)}},interceptBefore:function(t,e,i,n){var s=t[e]||Ext.emptyFn;return t[e]=function(){var t=i.apply(n||this,arguments);return s.apply(this,arguments),t}},interceptAfter:function(t,e,i,n){var s=t[e]||Ext.emptyFn;return t[e]=function(){return s.apply(this,arguments),i.apply(n||this,arguments)}}},Ext.defer=Ext.Function.alias(Ext.Function,"defer"),Ext.pass=Ext.Function.alias(Ext.Function,"pass"),Ext.bind=Ext.Function.alias(Ext.Function,"bind"),function(){var t=function(){},e=Ext.Object={chain:Object.create||function(e){t.prototype=e;var i=new t;return t.prototype=null,i},toQueryObjects:function(t,i,n){var s,r,o=e.toQueryObjects,a=[];if(Ext.isArray(i))for(s=0,r=i.length;s<r;s++)n?a=a.concat(o(t+"["+s+"]",i[s],!0)):a.push({name:t,value:i[s]});else if(Ext.isObject(i))for(s in i)i.hasOwnProperty(s)&&(n?a=a.concat(o(t+"["+s+"]",i[s],!0)):a.push({name:t,value:i[s]}));else a.push({name:t,value:i});return a},toQueryString:function(t,i){var n,s,r,o,a,l=[],h=[];for(n in t)t.hasOwnProperty(n)&&(l=l.concat(e.toQueryObjects(n,t[n],i)));for(s=0,r=l.length;s<r;s++)a=(o=l[s]).value,Ext.isEmpty(a)?a="":Ext.isDate(a)&&(a=Ext.Date.toString(a)),h.push(encodeURIComponent(o.name)+"="+encodeURIComponent(String(a)));return h.join("&")},fromQueryString:function(t,e){var i,n,s,r,o,a,l,h,d,c,u,f,p,g,m=t.replace(/^\?/,"").split("&"),x={};for(o=0,a=m.length;o<a;o++)if((l=m[o]).length>0)if(n=l.split("="),s=decodeURIComponent(n[0]),r=void 0!==n[1]?decodeURIComponent(n[1]):"",e){if(c=s.match(/(\[):?([^\]]*)\]/g),u=s.match(/^([^\[]+)/),s=u[0],f=[],null===c){x[s]=r;continue}for(h=0,d=c.length;h<d;h++)p=2===(p=c[h]).length?"":p.substring(1,p.length-1),f.push(p);for(f.unshift(s),i=x,h=0,d=f.length;h<d;h++)p=f[h],h===d-1?Ext.isArray(i)&&""===p?i.push(r):i[p]=r:(void 0!==i[p]&&"string"!=typeof i[p]||(g=f[h+1],i[p]=Ext.isNumeric(g)||""===g?[]:{}),i=i[p])}else x.hasOwnProperty(s)?(Ext.isArray(x[s])||(x[s]=[x[s]]),x[s].push(r)):x[s]=r;return x},each:function(t,e,i){for(var n in t)if(t.hasOwnProperty(n)&&!1===e.call(i||t,n,t[n],t))return},merge:function(t){for(var i,n,s,r,o=1,a=arguments.length,l=e.merge,h=Ext.clone;o<a;o++){i=arguments[o];for(n in i)(s=i[n])&&s.constructor===Object?(r=t[n])&&r.constructor===Object?l(r,s):t[n]=h(s):t[n]=s}return t},mergeIf:function(t){for(var e,i,n,s=1,r=arguments.length,o=Ext.clone;s<r;s++){e=arguments[s];for(i in e)i in t||((n=e[i])&&n.constructor===Object?t[i]=o(n):t[i]=n)}return t},getKey:function(t,e){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e)return i;return null},getValues:function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(t[e]);return i},getKeys:"function"==typeof Object.keys?function(t){return t?Object.keys(t):[]}:function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e);return i},getSize:function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},equals:function(){var t=function(t,e){var i;for(i in t)if(t.hasOwnProperty(i)&&t[i]!==e[i])return!1;return!0};return function(e,i){return e===i||(e&&i?t(e,i)&&t(i,e):!e&&!i&&e===i)}}(),classify:function(t){var i,n,s=t,r=[],o={},a=function(){for(var t,e=0,i=r.length;e<i;e++)this[t=r[e]]=new o[t]};for(i in t)t.hasOwnProperty(i)&&(n=t[i])&&n.constructor===Object&&(r.push(i),o[i]=e.classify(n));return a.prototype=s,a}};Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf,Ext.urlEncode=function(){var t=Ext.Array.from(arguments),i="";return"string"==typeof t[1]&&(i=t[1]+"&",t[1]=!1),i+e.toQueryString.apply(e,t)},Ext.urlDecode=function(){return e.fromQueryString.apply(e,arguments)}}(),Ext.Date=new function(){function t(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(o,function(t,i){return e[i]})}var e=this,i=/(\\.)/g,n=/([gGhHisucUOPZ]|MS)/,s=/([djzmnYycU]|MS)/,r=/\\/gi,o=/\{(\d+)\}/g,a=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),l=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","d = from(d, from(def.d, dt.getDate()));","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");Ext.apply(e,{now:Date.now||function(){return+new Date},toString:function(t){var e=Ext.String.leftPad;return t.getFullYear()+"-"+e(t.getMonth()+1,2,"0")+"-"+e(t.getDate(),2,"0")+"T"+e(t.getHours(),2,"0")+":"+e(t.getMinutes(),2,"0")+":"+e(t.getSeconds(),2,"0")},getElapsed:function(t,e){return Math.abs(t-(e||new Date))},useStrict:!1,formatCodeToRegex:function(i,n){var s=e.parseCodes[i];return s&&(s="function"==typeof s?s():s,e.parseCodes[i]=s),s?Ext.applyIf({c:s.c?t(s.c,n||"{0}"):s.c},s):{g:0,c:null,s:Ext.String.escapeRegex(i)}},parseFunctions:{MS:function(t,e){var i=(t||"").match(a);return i?new Date(1*((i[1]||"")+i[2])):null},time:function(t,e){var i=parseInt(t,10);return i||0===i?new Date(i):null},timestamp:function(t,e){var i=parseInt(t,10);return i||0===i?new Date(1e3*i):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return e.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(t){return Ext.Date.monthNames[t].substring(0,3)},getShortDayName:function(t){return Ext.Date.dayNames[t].substring(0,3)},getMonthNumber:function(t){return Ext.Date.monthNumbers[t.substring(0,1).toUpperCase()+t.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(t){return n.test(t.replace(i,""))},formatContainsDateInfo:function(t){return s.test(t.replace(i,""))},unescapeFormat:function(t){return t.replace(r,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var t,i,n,s,r;for(i=[],n=0,s=(t="Y-m-dTH:i:sP").length;n<s;++n)r=t.charAt(n),i.push("T"==r?"'T'":e.getFormatCode(r));return i.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(t,i,n,s,r,o,a){s=s||0,r=r||0,o=o||0,a=a||0;var l=e.add(new Date(t<100?100:t,i-1,n,s,r,o,a),e.YEAR,t<100?t-100:0);return t==l.getFullYear()&&i==l.getMonth()+1&&n==l.getDate()&&s==l.getHours()&&r==l.getMinutes()&&o==l.getSeconds()&&a==l.getMilliseconds()},parse:function(t,i,n){var s=e.parseFunctions;return null==s[i]&&e.createParser(i),s[i].call(e,t,Ext.isDefined(n)?n:e.useStrict)},parseDate:function(t,i,n){return e.parse(t,i,n)},getFormatCode:function(t){var i=e.formatCodes[t];return i&&(i="function"==typeof i?i():i,e.formatCodes[t]=i),i||"'"+Ext.String.escape(t)+"'"},createFormat:function(t){var i,n=[],s=!1,r="";for(i=0;i<t.length;++i)r=t.charAt(i),s||"\\"!=r?s?(s=!1,n.push("'"+Ext.String.escape(r)+"'")):n.push(e.getFormatCode(r)):s=!0;e.formatFunctions[t]=Ext.functionFactory("return "+n.join("+"))},createParser:function(i){for(var n,s=e.parseRegexes.length,r=1,o=[],a=[],h=!1,d="",c=0,u=i.length,f=[];c<u;++c)d=i.charAt(c),h||"\\"!=d?h?(h=!1,a.push(Ext.String.escape(d))):(r+=(n=e.formatCodeToRegex(d,r)).g,a.push(n.s),n.g&&n.c&&(n.calcAtEnd?f.push(n.c):o.push(n.c))):h=!0;o=o.concat(f),e.parseRegexes[s]=new RegExp("^"+a.join("")+"$","i"),e.parseFunctions[i]=Ext.functionFactory("input","strict",t(l,s,o.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var t=[],i=0;i<7;t.push(e.getShortDayName(i)),++i);return{g:0,c:null,s:"(?:"+t.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+e.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+e.monthNames.join("|")+")"}},M:function(){for(var t=[],i=0;i<12;t.push(e.getShortMonthName(i)),++i);return Ext.applyIf({s:"("+t.join("|")+")"},e.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var t,i,n=[],s=[e.formatCodeToRegex("Y",1),e.formatCodeToRegex("m",2),e.formatCodeToRegex("d",3),e.formatCodeToRegex("H",4),e.formatCodeToRegex("i",5),e.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",e.formatCodeToRegex("P",8).c,"}else{",e.formatCodeToRegex("O",8).c,"}","}"].join("\n")}];for(t=0,i=s.length;t<i;++t)n.push(s[t].c);return{g:1,c:n.join(""),s:[s[0].s,"(?:","-",s[1].s,"(?:","-",s[2].s,"(?:","(?:T| )?",s[3].s,":",s[4].s,"(?::",s[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(t,i){return e.format(t,i)},isEqual:function(t,e){return t&&e?t.getTime()===e.getTime():!(t||e)},format:function(t,i){var n=e.formatFunctions;return Ext.isDate(t)?(null==n[i]&&e.createFormat(i),n[i].call(t)+""):""},getTimezone:function(t){return t.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(t,e){var i=t.getTimezoneOffset();return(i>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(i)/60),2,"0")+(e?":":"")+Ext.String.leftPad(Math.abs(i%60),2,"0")},getDayOfYear:function(t){var i,n=0,s=Ext.Date.clone(t),r=t.getMonth();for(i=0,s.setDate(1),s.setMonth(0);i<r;s.setMonth(++i))n+=e.getDaysInMonth(s);return n+t.getDate()-1},getWeekOfYear:function(t){var e=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()+3)/864e5,i=Math.floor(e/7),n=new Date(6048e5*i).getUTCFullYear();return i-Math.floor(Date.UTC(n,0,7)/6048e5)+1},isLeapYear:function(t){var e=t.getFullYear();return!(0!=(3&e)||!(e%100||e%400==0&&e))},getFirstDayOfMonth:function(t){var e=(t.getDay()-(t.getDate()-1))%7;return e<0?e+7:e},getLastDayOfMonth:function(t){return e.getLastDateOfMonth(t).getDay()},getFirstDateOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},getLastDateOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth(),e.getDaysInMonth(t))},getDaysInMonth:function(){var t=[31,28,31,30,31,30,31,31,30,31,30,31];return function(i){var n=i.getMonth();return 1==n&&e.isLeapYear(i)?29:t[n]}}(),getSuffix:function(t){switch(t.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(t){return new Date(t.getTime())},isDST:function(t){return new Date(t.getFullYear(),0,1).getTimezoneOffset()!=t.getTimezoneOffset()},clearTime:function(t,i){if(i)return Ext.Date.clearTime(Ext.Date.clone(t));var n,s,r=t.getDate();if(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getDate()!=r){for(n=1,s=e.add(t,Ext.Date.HOUR,n);s.getDate()!=r;n++,s=e.add(t,Ext.Date.HOUR,n));t.setDate(r),t.setHours(s.getHours())}return t},add:function(t,i,n){var s,r,o=Ext.Date.clone(t),a=(Ext.Date,0);if(!i||0===n)return o;if(r=n-parseInt(n,10),n=parseInt(n,10))switch(i.toLowerCase()){case Ext.Date.MILLI:o.setTime(o.getTime()+n);break;case Ext.Date.SECOND:o.setTime(o.getTime()+1e3*n);break;case Ext.Date.MINUTE:o.setTime(o.getTime()+60*n*1e3);break;case Ext.Date.HOUR:o.setTime(o.getTime()+60*n*60*1e3);break;case Ext.Date.DAY:o.setDate(o.getDate()+n);break;case Ext.Date.MONTH:(s=t.getDate())>28&&(s=Math.min(s,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(t),Ext.Date.MONTH,n)).getDate())),o.setDate(s),o.setMonth(t.getMonth()+n);break;case Ext.Date.YEAR:(s=t.getDate())>28&&(s=Math.min(s,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(t),Ext.Date.YEAR,n)).getDate())),o.setDate(s),o.setFullYear(t.getFullYear()+n)}if(r){switch(i.toLowerCase()){case Ext.Date.MILLI:a=1;break;case Ext.Date.SECOND:a=1e3;break;case Ext.Date.MINUTE:a=6e4;break;case Ext.Date.HOUR:a=36e5;break;case Ext.Date.DAY:a=864e5;break;case Ext.Date.MONTH:a=864e5*(s=e.getDaysInMonth(o));break;case Ext.Date.YEAR:a=864e5*(s=e.isLeapYear(o)?366:365)}a&&o.setTime(o.getTime()+a*r)}return o},subtract:function(t,i,n){return e.add(t,i,-n)},between:function(t,e,i){var n=t.getTime();return e.getTime()<=n&&n<=i.getTime()},compat:function(){var t,i,n,s,r=window.Date,o=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],a=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],l=o.length,h=a.length;for(s=0;s<l;s++)r[i=o[s]]=e[i];for(t=0;t<h;t++)n=a[t],r.prototype[n]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),e[n].apply(e,t)}}})},function(t){var e=[],i=function(){},n=function(t,e,i,n){var s=function(){var e=this.callParent(arguments);return t.apply(this,arguments),e};return s.$name=i,s.$owner=n,e&&(s.$previous=e.$previous,e.$previous=s),s};Ext.apply(i,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(t){var e,i,n,s,r,o,a=t.prototype;if(i=this.prototype=Ext.Object.chain(a),i.self=this,this.superclass=i.superclass=a,!t.$isClass){e=Ext.Base.prototype;for(n in e)n in i&&(i[n]=e[n])}if(o=a.$inheritableStatics)for(n=0,s=o.length;n<s;n++)r=o[n],this.hasOwnProperty(r)||(this[r]=t[r]);t.$onExtended&&(this.$onExtended=t.$onExtended.slice()),i.config=new i.configClass,i.initConfigList=i.initConfigList.slice(),i.initConfigMap=Ext.clone(i.initConfigMap),i.configMap=Ext.Object.chain(i.configMap)},$onExtended:[],triggerExtended:function(){var t,e,i=this.$onExtended,n=i.length;if(n>0)for(t=0;t<n;t++)(e=i[t]).fn.apply(e.scope||this,arguments)},onExtended:function(t,e){return this.$onExtended.push({fn:t,scope:e}),this},addConfig:function(t,e){var i,n,s,r=this.prototype,o=Ext.Class.configNameCache,a=r.configMap,l=r.initConfigList,h=r.initConfigMap,d=r.config;for(n in t)t.hasOwnProperty(n)&&(a[n]||(a[n]=!0),s=t[n],i=o[n].initialized,h[n]||null===s||r[i]||(h[n]=!0,l.push(n)));e?Ext.merge(d,t):Ext.mergeIf(d,t),r.configClass=Ext.Object.classify(d)},addStatics:function(t){var e,i;for(i in t)t.hasOwnProperty(i)&&("function"!=typeof(e=t[i])||e.$isClass||e===Ext.emptyFn||e===Ext.identityFn||(e.$owner=this,e.$name=i),this[i]=e);return this},addInheritableStatics:function(t){var e,i,n,s,r=this.prototype;e=r.$inheritableStatics,i=r.$hasInheritableStatics,e||(e=r.$inheritableStatics=[],i=r.$hasInheritableStatics={});for(n in t)t.hasOwnProperty(n)&&(s=t[n],this[n]=s,i[n]||(i[n]=!0,e.push(n)));return this},addMembers:function(t){var e,i,n,s,r=this.prototype,o=Ext.enumerables,a=[];for(n in t)a.push(n);for(o&&a.push.apply(a,o),e=0,i=a.length;e<i;e++)n=a[e],t.hasOwnProperty(n)&&("function"!=typeof(s=t[n])||s.$isClass||s===Ext.emptyFn||s===Ext.identityFn||(s.$owner=this,s.$name=n),r[n]=s);return this},addMember:function(t,e){return"function"!=typeof e||e.$isClass||e===Ext.emptyFn||e===Ext.identityFn||(e.$owner=this,e.$name=t),this.prototype[t]=e,this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(t,e){var i,n,s,r,o,a=this.prototype,l=t.prototype;for(i=0,n=(e=Ext.Array.from(e)).length;i<n;i++)"function"==typeof(o=l[s=e[i]])?((r=Ext.Function.clone(o)).$owner=this,r.$name=s,a[s]=r):a[s]=o;return this},override:function(t){var e,i,n,s,r,o,a=Ext.enumerables,l=this.prototype,h=Ext.Function.clone;2===arguments.length&&(e=t,(t={})[e]=arguments[1],a=null);do{r=[],s=null;for(e in t)"statics"==e?s=t[e]:"inheritableStatics"==e?this.addInheritableStatics(t[e]):"config"==e?this.addConfig(t[e],!0):r.push(e);for(a&&r.push.apply(r,a),i=r.length;i--;)e=r[i],t.hasOwnProperty(e)&&("function"!=typeof(n=t[e])||n.$className||n===Ext.emptyFn||n===Ext.identityFn||(void 0!==n.$owner&&(n=h(n)),n.$owner=this,n.$name=e,(o=l[e])&&(n.$previous=o)),l[e]=n);l=this,t=s}while(t);return this},callParent:function(t){var i;return(i=this.callParent.caller)&&(i.$previous||(i=i.$owner?i:i.caller)&&i.$owner.superclass.self[i.$name]).apply(this,t||e)},callSuper:function(t){var i;return(i=this.callSuper.caller)&&((i=i.$owner?i:i.caller)&&i.$owner.superclass.self[i.$name]).apply(this,t||e)},mixin:function(t,e){var i,s,r,o,a,l,h,d,c=e.prototype,u=this.prototype;void 0!==c.onClassMixedIn&&c.onClassMixedIn.call(e,this),u.hasOwnProperty("mixins")||(u.mixins="mixins"in u?Ext.Object.chain(u.mixins):{});for(i in c)if(l=c[i],"mixins"===i)Ext.merge(u.mixins,l);else if("xhooks"===i)for(h in l)(d=l[h]).$previous=Ext.emptyFn,u.hasOwnProperty(h)?n(d,u[h],h,this):u[h]=n(d,null,h,this);else"mixinId"!==i&&"config"!==i&&void 0===u[i]&&(u[i]=l);if(s=c.$inheritableStatics)for(r=0,o=s.length;r<o;r++)a=s[r],this.hasOwnProperty(a)||(this[a]=e[a]);return"config"in c&&this.addConfig(c.config,!1),u.mixins[t]=c,this},getName:function(){return Ext.getClassName(this)},createAlias:t(function(t,e){this.override(t,function(){return this[e].apply(this,arguments)})}),addXtype:function(t){var e=this.prototype,i=e.xtypesMap,n=e.xtypes,s=e.xtypesChain;return e.hasOwnProperty("xtypesMap")||(i=e.xtypesMap=Ext.merge({},e.xtypesMap||{}),n=e.xtypes=e.xtypes?[].concat(e.xtypes):[],s=e.xtypesChain=e.xtypesChain?[].concat(e.xtypesChain):[],e.xtype=t),i[t]||(i[t]=!0,n.push(t),s.push(t),Ext.ClassManager.setAlias(this,"widget."+t)),this}}),i.implement({isInstance:!0,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var t=this.statics.caller,e=this.self;return t?t.$owner:e},callParent:function(t){var i;return((i=this.callParent.caller)&&(i.$previous||(i=i.$owner?i:i.caller)&&i.$owner.superclass[i.$name])).apply(this,t||e)},callSuper:function(t){var i;return((i=this.callSuper.caller)&&(i=i.$owner?i:i.caller)&&i.$owner.superclass[i.$name]).apply(this,t||e)},self:i,constructor:function(){return this},initConfig:function(t){var e,i,n,s,r,o=t,a=Ext.Class.configNameCache,l=new this.configClass,h=this.initConfigList,d=this.configMap;if(this.initConfig=Ext.emptyFn,this.initialConfig=o||{},this.config=t=o?Ext.merge(l,t):l,o){h=h.slice();for(s in o)d[s]&&null!==o[s]&&(h.push(s),this[a[s].initialized]=!1)}for(i=0,n=h.length;i<n;i++)this[r=(e=a[s=h[i]]).initialized]||(this[r]=!0,this[e.set].call(this,t[s]));return this},hasConfig:function(t){return Boolean(this.configMap[t])},setConfig:function(t,e){if(!t)return this;var i,n,s=Ext.Class.configNameCache,r=this.config,o=this.configMap,a=this.initialConfig;e=Boolean(e);for(i in t)e&&a.hasOwnProperty(i)||(n=t[i],r[i]=n,o[i]&&this[s[i].set](n));return this},getConfig:function(t){return this[Ext.Class.configNameCache[t].get]()},getInitialConfig:function(t){var e=this.config;return t?e[t]:e},onConfigUpdate:function(t,e,i){var n,s,r,o,a,l,h=this.self;for(t=Ext.Array.from(t),i=i||this,n=0,s=t.length;n<s;n++)r=t[n],o="update"+Ext.String.capitalize(r),a=this[o]||Ext.emptyFn,(l=function(){a.apply(this,arguments),i[e].apply(i,arguments)}).$name=o,l.$owner=h,this[o]=l},destroy:function(){this.destroy=Ext.emptyFn}}),i.prototype.callOverridden=i.prototype.callParent,Ext.Base=i}(Ext.Function.flexSetter),function(){var t,e,i,n=Ext.Base,s=[];for(e in n)n.hasOwnProperty(e)&&s.push(e);i=s.length,Ext.Class=t=function(e,i,n){return"function"!=typeof e&&(n=i,i=e,e=null),i||(i={}),e=t.create(e,i),t.process(e,i,n),e},Ext.apply(t,{onBeforeCreated:function(t,e,i){t.addMembers(e),i.onCreated.call(t,t)},create:function(t,e){var r,o;for(t||(t=function(){return this.constructor.apply(this,arguments)||null}),o=0;o<i;o++)t[r=s[o]]=n[r];return t},process:function(e,i,n){var s,r,o,a,l,h,d,c=i.preprocessors||t.defaultPreprocessors,u=this.preprocessors,f={onBeforeCreated:this.onBeforeCreated},p=[];for(delete i.preprocessors,o=0,a=c.length;o<a;o++)if("string"==typeof(s=c[o])){if(s=u[s],!0===(r=s.properties))p.push(s.fn);else if(r)for(l=0,h=r.length;l<h;l++)if(d=r[l],i.hasOwnProperty(d)){p.push(s.fn);break}}else p.push(s);f.onCreated=n||Ext.emptyFn,f.preprocessors=p,this.doProcess(e,i,f)},doProcess:function(t,e,i){for(var n=i.preprocessors,s=n.shift(),r=this.doProcess;s;s=n.shift())if(!1===s.call(this,t,e,i,r))return;i.onBeforeCreated.apply(this,arguments)},preprocessors:{},registerPreprocessor:function(t,e,i,n,s){return n||(n="last"),i||(i=[t]),this.preprocessors[t]={name:t,properties:i||!1,fn:e},this.setDefaultPreprocessorPosition(t,n,s),this},getPreprocessor:function(t){return this.preprocessors[t]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(t){return this.defaultPreprocessors=Ext.Array.from(t),this},setDefaultPreprocessorPosition:function(t,e,i){var n,s=this.defaultPreprocessors;if("string"==typeof e){if("first"===e)return s.unshift(t),this;if("last"===e)return s.push(t),this;e="after"===e?1:-1}return-1!==(n=Ext.Array.indexOf(s,i))&&Ext.Array.splice(s,Math.max(0,n+e),0,t),this},configNameCache:{},getConfigNameMap:function(t){var e,i=this.configNameCache,n=i[t];return n||(e=t.charAt(0).toUpperCase()+t.substr(1),n=i[t]={internal:t,initialized:"_is"+e+"Initialized",apply:"apply"+e,update:"update"+e,set:"set"+e,get:"get"+e,doSet:"doSet"+e,changeEvent:t.toLowerCase()+"change"}),n}}),t.registerPreprocessor("extend",function(t,e,i){var n,s,r,o=Ext.Base,a=o.prototype,l=e.extend;if(delete e.extend,n=l&&l!==Object?l:o,s=n.prototype,!n.$isClass)for(r in a)s[r]||(s[r]=a[r]);t.extend(n),t.triggerExtended.apply(t,arguments),e.onClassExtended&&(t.onExtended(e.onClassExtended,t),delete e.onClassExtended)},!0),t.registerPreprocessor("statics",function(t,e){t.addStatics(e.statics),delete e.statics}),t.registerPreprocessor("inheritableStatics",function(t,e){t.addInheritableStatics(e.inheritableStatics),delete e.inheritableStatics}),t.registerPreprocessor("config",function(e,i){var n=i.config,s=e.prototype;delete i.config,Ext.Object.each(n,function(e,n){var r,o,a=t.getConfigNameMap(e),l=a.internal,h=a.initialized,d=a.apply,c=a.update,u=a.set,f=a.get,p=u in s||i.hasOwnProperty(u),g=d in s||i.hasOwnProperty(d),m=c in s||i.hasOwnProperty(c);null!==n&&(p||g||m)?s[h]=!1:(s[l]=n,s[h]=!0),p||(i[u]=function(t){var e=this[l],i=this[d],n=this[c];return this[h]||(this[h]=!0),i&&(t=i.call(this,t,e)),void 0!==t&&(this[l]=t,n&&t!==e&&n.call(this,t,e)),this}),f in s&&!i.hasOwnProperty(f)||(o=i[f]||!1,r=o?function(){return o.apply(this,arguments)}:function(){return this[l]},i[f]=function(){var t;return this[h]||(this[h]=!0,this[u](this.config[e])),"$previous"in(t=this[f])?t.$previous=r:this[f]=r,r.apply(this,arguments)})}),e.addConfig(n,!0)}),t.registerPreprocessor("mixins",function(t,e,i){var n,s,r,o,a=e.mixins;delete e.mixins,Ext.Function.interceptBefore(i,"onCreated",function(){if(a instanceof Array)for(r=0,o=a.length;r<o;r++)s=a[r],n=s.prototype.mixinId||s.$className,t.mixin(n,s);else for(var e in a)a.hasOwnProperty(e)&&t.mixin(e,a[e])})}),Ext.extend=function(e,i,n){2===arguments.length&&Ext.isObject(i)&&(n=i,i=e,e=null);var s;if(!i)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return n.extend=i,n.preprocessors=["extend","statics","inheritableStatics","mixins","config"],e?(s=new t(e,n)).prototype.constructor=e:s=new t(n),s.prototype.override=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},s}}(),function(t,e,i,n,s){var r=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(t){var e,i,n,r,o,a=this.existCache;if(this.classes[t]||a[t])return!0;for(r=s,e=0,i=(o=this.parseNamespace(t)).length;e<i;e++)if("string"!=typeof(n=o[e]))r=n;else{if(!r||!r[n])return!1;r=r[n]}return a[t]=!0,this.triggerCreated(t),!0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(t){var e,i,n,s,r,o,a=this.createdListeners,l=this.nameCreatedListeners,h=this.maps.nameToAlternates[t],d=[t];for(e=0,i=a.length;e<i;e++)(r=a[e]).fn.call(r.scope,t);for(h&&d.push.apply(d,h),e=0,i=d.length;e<i;e++)if(o=d[e],a=l[o]){for(n=0,s=a.length;n<s;n++)(r=a[n]).fn.call(r.scope,o);delete l[o]}},onCreated:function(t,e,i){var n=this.createdListeners,s=this.nameCreatedListeners,r={fn:t,scope:e};if(i){if(this.isCreated(i))return void t.call(e,i);s[i]||(s[i]=[]),s[i].push(r)}else n.push(r)},parseNamespace:function(t){var e,i,n,r,o,a,l,h,d,c=this.namespaceParseCache;if(this.enableNamespaceParseCache&&c.hasOwnProperty(t))return c[t];for(e=[],i=this.namespaceRewrites,n=s,r=t,h=0,d=i.length;h<d;h++)if(o=i[h],a=o.from,l=o.to,r===a||r.substring(0,a.length)===a){r=r.substring(a.length),"string"!=typeof l?n=l:e=e.concat(l.split("."));break}return e.push(n),e=e.concat(r.split(".")),this.enableNamespaceParseCache&&(c[t]=e),e},setNamespace:function(t,e){var i,n,r=s,o=this.parseNamespace(t),a=o.length-1,l=o[a];for(i=0;i<a;i++)"string"!=typeof(n=o[i])?r=n:(r[n]||(r[n]={}),r=r[n]);return r[l]=e,r[l]},createNamespaces:function(){var t,e,i,n,r,o,a=s;for(i=0,r=arguments.length;i<r;i++)for(n=0,o=(t=this.parseNamespace(arguments[i])).length;n<o;n++)"string"!=typeof(e=t[n])?a=e:(a[e]||(a[e]={}),a=a[e]);return a},set:function(t,e){var i=this.maps,n=i.nameToAlternates,s=this.getName(e);return this.classes[t]=this.setNamespace(t,e),s&&s!==t&&(i.alternateToName[t]=s,(n[s]||(n[s]=[])).push(t)),this},get:function(t){var e,i,n,r,o,a=this.classes;if(a[t])return a[t];for(e=s,r=0,o=(i=this.parseNamespace(t)).length;r<o;r++)if("string"!=typeof(n=i[r]))e=n;else{if(!e||!e[n])return null;e=e[n]}return e},setAlias:function(t,e){var i,n=this.maps.aliasToName,s=this.maps.nameToAliases;return i="string"==typeof t?t:this.getName(t),e&&n[e]!==i&&(n[e]=i),s[i]||(s[i]=[]),e&&Ext.Array.include(s[i],e),this},addNameAliasMappings:function(t){var e,i,n,s,r=this.maps.aliasToName,o=this.maps.nameToAliases;for(e in t)for(i=o[e]||(o[e]=[]),s=0;s<t[e].length;s++)r[n=t[e][s]]||(r[n]=e,i.push(n));return this},addNameAlternateMappings:function(t){var e,i,n,s,r=this.maps.alternateToName,o=this.maps.nameToAlternates;for(e in t)for(i=o[e]||(o[e]=[]),s=0;s<t[e].length;s++)r[n=t[e]]||(r[n]=e,i.push(n));return this},getByAlias:function(t){return this.get(this.getNameByAlias(t))},getNameByAlias:function(t){return this.maps.aliasToName[t]||""},getNameByAlternate:function(t){return this.maps.alternateToName[t]||""},getAliasesByName:function(t){return this.maps.nameToAliases[t]||[]},getName:function(t){return t&&t.$className||""},getClass:function(t){return t&&t.self||null},create:function(e,i,n){var s=function(){return this.constructor.apply(this,arguments)||null};return"function"==typeof i&&(i=i(s)),i.$className=e,new t(s,i,function(){var t,s,o,a,l,h,d,c=i.postprocessors||r.defaultPostprocessors,u=r.postprocessors,f=[];for(delete i.postprocessors,s=0,o=c.length;s<o;s++)if("string"==typeof(t=c[s])){if(t=u[t],!0===(h=t.properties))f.push(t.fn);else if(h)for(a=0,l=h.length;a<l;a++)if(d=h[a],i.hasOwnProperty(d)){f.push(t.fn);break}}else f.push(t);i.postprocessors=f,i.createdFn=n,r.processCreate(e,this,i)})},processCreate:function(t,e,i){var n=i.postprocessors.shift(),s=i.createdFn;if(!n)return t&&this.set(t,e),s&&s.call(e,e),void(t&&this.triggerCreated(t));!1!==n.call(this,t,e,i,this.processCreate)&&this.processCreate(t,e,i)},createOverride:function(t,e,i){var n=this,s=e.override,r=e.requires,o=e.uses,a=function(){var l,h;r?(h=r,r=null,Ext.Loader.require(h,a)):(l=n.get(s),delete e.override,delete e.requires,delete e.uses,Ext.override(l,e),n.triggerCreated(t),o&&Ext.Loader.addUsedClasses(o),i&&i.call(l))};return n.existCache[t]=!0,n.onCreated(a,n,s),n},instantiateByAlias:function(){var t=arguments[0],e=i.call(arguments),n=this.getNameByAlias(t);return n||(n=this.maps.aliasToName[t],Ext.syncRequire(n)),e[0]=n,this.instantiate.apply(this,e)},instantiate:function(){var t,e,n=arguments[0],s=typeof n,r=i.call(arguments,1);return"function"!=s?("string"!=s&&0===r.length&&(r=[n],n=n.xclass),e=this.get(n)):e=n,e||(t=this.getNameByAlias(n))&&(n=t,e=this.get(n)),e||(t=this.getNameByAlternate(n))&&(n=t,e=this.get(n)),e||(Ext.syncRequire(n),e=this.get(n)),this.getInstantiator(r.length)(e,r)},dynInstantiate:function(t,e){return(e=n(e,!0)).unshift(t),this.instantiate.apply(this,e)},getInstantiator:function(t){var e,i,n,s=this.instantiators;if(!(e=s[t])){for(i=t,n=[],i=0;i<t;i++)n.push("a["+i+"]");e=s[t]=new Function("c","a","return new c("+n.join(",")+")")}return e},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(t,e,i,n,s){return n||(n="last"),i||(i=[t]),this.postprocessors[t]={name:t,properties:i||!1,fn:e},this.setDefaultPostprocessorPosition(t,n,s),this},setDefaultPostprocessors:function(t){return this.defaultPostprocessors=n(t),this},setDefaultPostprocessorPosition:function(t,e,i){var n,s=this.defaultPostprocessors;if("string"==typeof e){if("first"===e)return s.unshift(t),this;if("last"===e)return s.push(t),this;e="after"===e?1:-1}return-1!==(n=Ext.Array.indexOf(s,i))&&Ext.Array.splice(s,Math.max(0,n+e),0,t),this},getNamesByExpression:function(t){var e,i,n,s,r,o,a=this.maps.nameToAliases,l=[];if(-1!==t.indexOf("*")){t=t.replace(/\*/g,"(.*?)"),s=new RegExp("^"+t+"$");for(e in a)if(a.hasOwnProperty(e))if(i=a[e],-1!==e.search(s))l.push(e);else for(r=0,o=i.length;r<o;r++)if(-1!==i[r].search(s)){l.push(e);break}}else(n=this.getNameByAlias(t))?l.push(n):(n=this.getNameByAlternate(t))?l.push(n):l.push(t);return l}};r.registerPostprocessor("alias",function(t,i,n){var s,r,o=n.alias;for(s=0,r=o.length;s<r;s++)e=o[s],this.setAlias(i,e)},["xtype","alias"]),r.registerPostprocessor("singleton",function(t,e,i,n){return!i.singleton||(n.call(this,t,new e,i),!1)}),r.registerPostprocessor("alternateClassName",function(t,e,i){var n,s,r,o=i.alternateClassName;for(o instanceof Array||(o=[o]),n=0,s=o.length;n<s;n++)r=o[n],this.set(r,e)}),Ext.apply(Ext,{create:e(r,"instantiate"),widget:function(t,e){var i,n,s,o,a=t;return"string"!=typeof a?a=(e=t).xtype:e=e||{},e.isComponent?e:(i="widget."+a,(n=r.getNameByAlias(i))||(o=!0),s=r.get(n),o||!s?r.instantiateByAlias(i,e):new s(e))},createByAlias:e(r,"instantiateByAlias"),define:function(t,e,i){return e.override?r.createOverride.apply(r,arguments):r.create.apply(r,arguments)},getClassName:e(r,"getName"),getDisplayName:function(t){if(t){if(t.displayName)return t.displayName;if(t.$name&&t.$class)return Ext.getClassName(t.$class)+"#"+t.$name;if(t.$className)return t.$className}return"Anonymous"},getClass:e(r,"getClass"),namespace:e(r,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,t.registerPreprocessor("className",function(t,e){e.$className&&(t.$className=e.$className)},!0,"first"),t.registerPreprocessor("alias",function(t,e){var i,s,r,o,a=t.prototype,l=n(e.xtype),h=n(e.alias),d="widget.".length,c=Array.prototype.slice.call(a.xtypesChain||[]),u=Ext.merge({},a.xtypesMap||{});for(i=0,s=h.length;i<s;i++)"widget."===(r=h[i]).substring(0,d)&&(o=r.substring(d),Ext.Array.include(l,o));for(t.xtype=e.xtype=l[0],e.xtypes=l,i=0,s=l.length;i<s;i++)o=l[i],u[o]||(u[o]=!0,c.push(o));for(e.xtypesChain=c,e.xtypesMap=u,Ext.Function.interceptAfter(e,"onClassCreated",function(){var t,e,n=a.mixins;for(t in n)if(n.hasOwnProperty(t)&&(e=n[t],l=e.xtypes))for(i=0,s=l.length;i<s;i++)o=l[i],u[o]||(u[o]=!0,c.push(o))}),i=0,s=l.length;i<s;i++)o=l[i],Ext.Array.include(h,"widget."+o);e.alias=h},["xtype","alias"])}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),Ext._alternatesMetadata&&(Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata),Ext._alternatesMetadata=null),Ext._aliasMetadata&&(Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata),Ext._aliasMetadata=null),Ext.Loader=new function(){var t=this,e=Ext.ClassManager,i=Ext.Class,n=Ext.Function.flexSetter,s=Ext.Function.alias,r=Ext.Function.pass,o=Ext.Function.defer,a=Ext.Array.erase,l=["extend","mixins","requires"],h={},d=[],c=/\/\.\//g,u=/\./g,f=0;Ext.apply(t,{isInHistory:h,history:d,config:{enabled:!1,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",garbageCollect:!1,paths:{Ext:"."},preserveScripts:!0,scriptCharset:void 0},setConfig:function(e,i){return Ext.isObject(e)&&1===arguments.length?(Ext.merge(t.config,e),"paths"in e&&Ext.app.collectNamespaces(e.paths)):(t.config[e]=Ext.isObject(i)?Ext.merge(t.config[e],i):i,"paths"===e&&Ext.app.collectNamespaces(i)),t},getConfig:function(e){return e?t.config[e]:t.config},setPath:n(function(e,i){return t.config.paths[e]=i,Ext.app.namespaces[e]=!0,f++,t}),addClassPathMappings:function(e){var i;if(0==f)t.config.paths=e;else for(i in e)t.config.paths[i]=e[i];return f++,t},getPath:function(e){var i="",n=t.config.paths,s=t.getPrefix(e);if(s.length>0){if(s===e)return n[s];i=n[s],e=e.substring(s.length+1)}return i.length>0&&(i+="/"),i.replace(c,"/")+e.replace(u,"/")+".js"},getPrefix:function(e){var i,n=t.config.paths,s="";if(n.hasOwnProperty(e))return e;for(i in n)n.hasOwnProperty(i)&&i+"."===e.substring(0,i.length+1)&&i.length>s.length&&(s=i);return s},isAClassNameWithAKnownPrefix:function(e){var i=t.getPrefix(e);return""!==i&&i!==e},require:function(t,e,i,n){e&&e.call(i)},syncRequire:function(){},exclude:function(e){return{require:function(i,n,s){return t.require(i,n,s,e)},syncRequire:function(i,n,s){return t.syncRequire(i,n,s,e)}}},onReady:function(t,e,i,n){var s;!1!==i&&Ext.onDocumentReady&&(s=t,t=function(){Ext.onDocumentReady(s,e,n)}),t.call(e)}});var p=[],g={},m={},x={},E={},y=[],v=[],b=function(t,e){return e.priority-t.priority};Ext.apply(t,{documentHead:"undefined"!=typeof document&&(document.head||document.getElementsByTagName("head")[0]),isLoading:!1,queue:p,isClassFileLoaded:g,isFileLoaded:m,readyListeners:y,optionalRequires:v,requiresMap:{},numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:!1,classNameToFilePathMap:x,scriptsLoading:0,syncModeEnabled:!1,scriptElements:E,refreshQueue:function(){var i,n,s,r,o=p.length;if(!o&&!t.scriptsLoading)return t.triggerReady();for(i=0;i<o;i++)if(n=p[i]){if((r=n.requires).length>t.numLoadedFiles)continue;for(s=0;s<r.length;)e.isCreated(r[s])?a(r,s,1):s++;if(0===n.requires.length){a(p,i,1),n.callback.call(n.scope),t.refreshQueue();break}}return t},injectScriptElement:function(e,i,n,s,r){var a=document.createElement("script"),l=!1,h=t.config,d=function(){l||(l=!0,a.onload=a.onreadystatechange=a.onerror=null,"number"==typeof h.scriptChainDelay?o(i,h.scriptChainDelay,s):i.call(s),t.cleanupScriptElement(a,!1===h.preserveScripts,h.garbageCollect))};return a.type="text/javascript",a.onerror=function(e){o(n,1,s),t.cleanupScriptElement(a,!1===h.preserveScripts,h.garbageCollect)},(r=r||h.scriptCharset)&&(a.charset=r),"addEventListener"in a?a.onload=d:"readyState"in a?a.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||d()}:a.onload=d,a.src=e,(t.documentHead||document.getElementsByTagName("head")[0]).appendChild(a),a},removeScriptElement:function(e){return E[e]&&(t.cleanupScriptElement(E[e],!0,!!t.getConfig("garbageCollect")),delete E[e]),t},cleanupScriptElement:function(e,i,n){var s;if(e.onload=e.onreadystatechange=e.onerror=null,i&&(Ext.removeNode(e),n))for(s in e)try{"src"!=s&&(e[s]=null),delete e[s]}catch(t){}return t},loadScript:function(e){var i,n=t.getConfig(),s="string"==typeof e,r=s?e:e.url,o=!s&&e.onError,a=!s&&e.onLoad,l=!s&&e.scope;t.isLoading=!0,t.numPendingFiles++,t.scriptsLoading++,i=n.disableCaching?r+"?"+n.disableCachingParam+"="+Ext.Date.now():r,E[r]=t.injectScriptElement(i,function(){t.numPendingFiles--,t.scriptsLoading--,a&&a.call(l),t.numPendingFiles+t.scriptsLoading===0&&t.refreshQueue()},function(){t.numPendingFiles--,t.scriptsLoading--,o&&o.call(l,"Failed loading '"+r+"', please verify that the file exists"),t.numPendingFiles+t.scriptsLoading===0&&t.refreshQueue()})},loadScriptFile:function(e,i,n,s,r){if(m[e])return t;var o,a,l,h=t.getConfig(),d=e+(h.disableCaching?"?"+h.disableCachingParam+"="+Ext.Date.now():""),c=!1,u="";if(s=s||t,t.isLoading=!0,r){o="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{o.open("GET",d,!1),o.send(null)}catch(t){c=!0}a=1223===o.status?204:0!==o.status||"file:"!=(self.location||{}).protocol&&"ionp:"!=(self.location||{}).protocol?o.status:200,(c=c||0===a)||(a>=200&&a<300||304===a)&&(Ext.isIE||(u="\n//# sourceURL="+e),Ext.globalEval(o.responseText+u),i.call(s)),o=null}else l=function(){},E[e]=t.injectScriptElement(d,i,l,s)},syncRequire:function(){var e=t.syncModeEnabled;e||(t.syncModeEnabled=!0),t.require.apply(t,arguments),e||(t.syncModeEnabled=!1),t.refreshQueue()},require:function(i,n,s,o){var a,l,h,d,c,u,f,m,E,y,v,b={},C={},w=[],S=[],T=[],k=[];if(o)for(m=0,y=(o="string"==typeof o?[o]:o).length;m<y;m++)if("string"==typeof(c=o[m])&&c.length>0)for(E=0,v=(w=e.getNamesByExpression(c)).length;E<v;E++)b[w[E]]=!0;for(i="string"==typeof i?[i]:i||[],a=n?n.length>0?function(){var t,i,s=[];for(t=0,i=k.length;t<i;t++)s.push(e.get(k[t]));return n.apply(this,s)}:n:Ext.emptyFn,s=s||Ext.global,m=0,y=i.length;m<y;m++)if("string"==typeof(d=i[m])&&d.length>0)for(v=(S=e.getNamesByExpression(d)).length,E=0;E<v;E++)!0!==b[f=S[E]]&&(k.push(f),e.isCreated(f)||C[f]||(C[f]=!0,T.push(f)));if(!(T.length>0))return a.call(s),t;if(!t.config.enabled)throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(T.length>1?"es":"")+": "+T.join(", "));for((l=t.syncModeEnabled)||p.push({requires:T.slice(),callback:a,scope:s}),y=T.length,m=0;m<y;m++)u=T[m],h=t.getPath(u),l&&g.hasOwnProperty(u)&&(g[u]||(t.numPendingFiles--,t.removeScriptElement(h),delete g[u])),g.hasOwnProperty(u)||(g[u]=!1,x[u]=h,t.numPendingFiles++,t.loadScriptFile(h,r(t.onFileLoaded,[u,h],t),r(t.onFileLoadError,[u,h],t),t,l));return l&&(a.call(s),1===y)?e.get(u):t},onFileLoaded:function(e,i){var n=g[e];t.numLoadedFiles++,g[e]=!0,m[i]=!0,n||t.numPendingFiles--,0===t.numPendingFiles&&t.refreshQueue()},onFileLoadError:function(e,i,n,s){t.numPendingFiles--,t.hasFileLoadError=!0},addUsedClasses:function(e){var i,n,s;if(e)for(n=0,s=(e="string"==typeof e?[e]:e).length;n<s;n++)"string"!=typeof(i=e[n])||Ext.Array.contains(v,i)||v.push(i);return t},triggerReady:function(){var e,i=v;if(t.isLoading&&(t.isLoading=!1,0!==i.length))return i=i.slice(),v.length=0,t.require(i,t.triggerReady,t),t;for(Ext.Array.sort(y,b);y.length&&!t.isLoading;)(e=y.shift()).fn.call(e.scope);return t},onReady:function(e,i,n,s){var r;!1!==n&&Ext.onDocumentReady&&(r=e,e=function(){Ext.onDocumentReady(r,i,s)}),t.isLoading?y.push({fn:e,scope:i,priority:s&&s.priority||0}):e.call(i)},historyPush:function(e){return e&&g.hasOwnProperty(e)&&!h[e]&&(h[e]=!0,d.push(e)),t}}),Ext.disableCacheBuster=function(t,e){var i=new Date;i.setTime(i.getTime()+24*(t?3650:-1)*60*60*1e3),i=i.toGMTString(),document.cookie="ext-cache=1; expires="+i+"; path="+(e||"/")},Ext.require=s(t,"require"),Ext.syncRequire=s(t,"syncRequire"),Ext.exclude=s(t,"exclude"),Ext.onReady=function(e,i,n){t.onReady(e,i,!0,n)},i.registerPreprocessor("loader",function(i,n,s,r){var o,a,h,d,c,u,f,p=this,g=[];e.getName(i);for(o=0,h=l.length;o<h;o++)if(u=l[o],n.hasOwnProperty(u))if("string"==typeof(f=n[u]))g.push(f);else if(f instanceof Array)for(a=0,d=f.length;a<d;a++)"string"==typeof(c=f[a])&&g.push(c);else if("function"!=typeof f)for(a in f)f.hasOwnProperty(a)&&"string"==typeof(c=f[a])&&g.push(c);if(0!==g.length)return t.require(g,function(){for(o=0,h=l.length;o<h;o++)if(u=l[o],n.hasOwnProperty(u))if("string"==typeof(f=n[u]))n[u]=e.get(f);else if(f instanceof Array)for(a=0,d=f.length;a<d;a++)"string"==typeof(c=f[a])&&(n[u][a]=e.get(c));else if("function"!=typeof f)for(var t in f)f.hasOwnProperty(t)&&"string"==typeof(c=f[t])&&(n[u][t]=e.get(c));r.call(p,i,n,s)}),!1},!0,"after","className"),e.registerPostprocessor("uses",function(e,i,n){var s=n.uses;s&&t.addUsedClasses(s)}),e.onCreated(t.historyPush)},Ext._classPathMetadata&&(Ext.Loader.addClassPathMappings(Ext._classPathMetadata),Ext._classPathMetadata=null),function(){var t=document.getElementsByTagName("script"),e=t[t.length-1].src,i=e.substring(0,e.lastIndexOf("/")+1);Ext.Loader.setConfig({enabled:!0,disableCaching:!0,paths:{Ext:i+"src"}})}(),Ext._endTime=(new Date).getTime(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(t){t=t||{},Ext.isString(t)&&(t={msg:t});var e,i=this.raise.caller;if(i&&(i.$name&&(t.sourceMethod=i.$name),i.$owner&&(t.sourceClass=i.$owner.$className)),!0!==Ext.Error.handle(t))throw e=Ext.Error.prototype.toString.call(t),Ext.log({msg:e,level:"error",dump:t,stack:!0}),new Ext.Error(t)},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(t){Ext.isString(t)&&(t={msg:t});Ext.apply(this,t),this.message=this.message||this.msg},toString:function(){return(this.sourceClass?this.sourceClass:"")+(this.sourceMethod?"."+this.sourceMethod+"(): ":"")+(this.msg||"(No description provided)")}}),Ext.deprecated=function(t){return Ext.emptyFn},Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){return null===useNative&&(useNative=Ext.USE_NATIVE_JSON&&window.JSON&&"[object JSON]"==JSON.toString()),useNative},pad=function(t){return t<10?"0"+t:t},doDecode=function(json){return eval("("+json+")")},doEncode=function(t,e){return null===t||void 0===t?"null":Ext.isDate(t)?Ext.JSON.encodeDate(t):Ext.isString(t)?Ext.JSON.encodeString(t):"number"==typeof t?isFinite(t)?String(t):"null":Ext.isBoolean(t)?String(t):t.toJSON?t.toJSON():Ext.isArray(t)?encodeArray(t,e):Ext.isObject(t)?encodeObject(t,e):"function"==typeof t?"null":"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(t){return'"'+t.replace(charToReplace,function(t){var e=m[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(t,e){var i,n=["[",""],s=t.length;for(i=0;i<s;i+=1)n.push(Ext.JSON.encodeValue(t[i]),",");return n[n.length-1]="]",n.join("")},encodeObject=function(t,e){var i,n,s=["{",""];for(i in t)if(n=t[i],!useHasOwn||t.hasOwnProperty(i)){if("function"==typeof n||void 0===n)continue;s.push(Ext.JSON.encodeValue(i),":",Ext.JSON.encodeValue(n),",")}return s[s.length-1]="}",s.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(t){return'"'+t.getFullYear()+"-"+pad(t.getMonth()+1)+"-"+pad(t.getDate())+"T"+pad(t.getHours())+":"+pad(t.getMinutes())+":"+pad(t.getSeconds())+'"'},me.encode=function(t){return encodingFunction||(encodingFunction=isNative()?JSON.stringify:me.encodeValue),encodingFunction(t)},me.decode=function(t,e){decodingFunction||(decodingFunction=isNative()?JSON.parse:doDecode);try{return decodingFunction(t)}catch(i){if(!0===e)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+t})}}},Ext.encode=Ext.JSON.encode,Ext.decode=Ext.JSON.decode,Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,rootHierarchyState:{},addCacheEntry:function(t,e,i){i=i||e.dom;var n=Ext.cache,s=t||e&&e.id||i.id,r=n[s]||(n[s]={data:{},events:{},dom:i,skipGarbageCollection:!(!i.getElementById&&!i.navigator)});return e&&(e.$cache=r,r.el=e),r},updateCacheEntry:function(t,e){return t.dom=e,t.el&&(t.el.dom=e),t},id:function(t,e){var i="";return(t=Ext.getDom(t,!0)||{})===document?t.id=this.documentId:t===window&&(t.id=this.windowId),t.id||(this.isSandboxed&&(i=Ext.sandboxName.toLowerCase()+"-"),t.id=i+(e||"ext-gen")+ ++Ext.idSeed),t.id},escapeId:function(){var t=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,e=/([\W]{1})/g,i=/^(\d)/g,n=function(t,e){return"\\"+e},s=function(t,e){return"\\00"+e.charCodeAt(0).toString(16)+" "};return function(r){return t.test(r)?r:r.replace(e,n).replace(i,s)}}(),getBody:function(){var t;return function(){return t||(t=Ext.get(document.body))}}(),getHead:function(){var t;return function(){return t||(t=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var t;return function(){return t||(t=Ext.get(document))}}(),getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var t,e,i=arguments.length;for(t=0;t<i;t++)(e=arguments[t])&&(Ext.isArray(e)?this.destroy.apply(this,e):Ext.isFunction(e.destroy)?e.destroy():e.dom&&e.remove())},callback:function(t,e,i,n){Ext.isFunction(t)&&(i=i||[],e=e||window,n?Ext.defer(t,n,e,i):t.apply(e,i))},htmlEncode:function(t){return Ext.String.htmlEncode(t)},htmlDecode:function(t){return Ext.String.htmlDecode(t)},urlAppend:function(t,e){return Ext.String.urlAppend(t,e)}}),Ext.ns=Ext.namespace,window.undefined=window.undefined,function(){var t,e=function(t){return t.test(Ext.userAgent)},i="CSS1Compat"==document.compatMode,n=function(t,e){var i;return t&&(i=e.exec(Ext.userAgent))?parseFloat(i[1]):0},s=document.documentMode,r=e(/opera/),o=r&&e(/version\/10\.5/),a=e(/\bchrome\b/),l=e(/webkit/),h=!a&&e(/safari/),d=h&&e(/applewebkit\/4/),c=h&&e(/version\/3/),u=h&&e(/version\/4/),f=h&&e(/version\/5\.0/),p=h&&e(/version\/5/),g=!r&&e(/msie/),m=g&&(e(/msie 7/)&&8!=s&&9!=s&&10!=s||7==s),x=g&&(e(/msie 8/)&&7!=s&&9!=s&&10!=s||8==s),E=g&&(e(/msie 9/)&&7!=s&&8!=s&&10!=s||9==s),y=g&&(e(/msie 10/)&&7!=s&&8!=s&&9!=s||10==s),v=g&&e(/msie 6/),b=!l&&e(/gecko/),C=b&&e(/rv:1\.9/),w=b&&e(/rv:2\.0/),S=b&&e(/rv:5\./),T=b&&e(/rv:10\./),k=C&&e(/rv:1\.9\.0/),D=C&&e(/rv:1\.9\.1/),I=C&&e(/rv:1\.9\.2/),P=e(/windows|win32/),M=e(/macintosh|mac os x/),A=e(/linux/),L=null,R=n(!0,/\bchrome\/(\d+\.\d+)/),F=n(!0,/\bfirefox\/(\d+\.\d+)/),O=n(g,/msie (\d+\.\d+)/),N=n(r,/version\/(\d+\.\d+)/),B=n(h,/version\/(\d+\.\d+)/),H=n(l,/webkit\/(\d+\.\d+)/),W=/^https/i.test(window.location.protocol);try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}(t=function(){}).info=t.warn=t.error=Ext.emptyFn,Ext.setVersion("extjs","4.2.0.663"),Ext.apply(Ext,{SSL_SECURE_URL:W&&g?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,getDom:function(t,e){if(!t||!document)return null;if(t.dom)return t.dom;if("string"==typeof t){var i=Ext.getElementById(t);return i&&g&&e?t==i.getAttribute("id")?i:null:i}return t},removeNode:v||m||x?function(){var t;return function(e){if(e&&"BODY"!=e.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(e):Ext.EventManager.removeAll(e);var i=Ext.cache,n=e.id;i[n]&&(delete i[n].dom,delete i[n]),x&&e.parentNode&&e.parentNode.removeChild(e),(t=t||document.createElement("div")).appendChild(e),t.innerHTML=""}}}():function(t){if(t&&t.parentNode&&"BODY"!=t.tagName.toUpperCase()){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(t):Ext.EventManager.removeAll(t);var e=Ext.cache,i=t.id;e[i]&&(delete e[i].dom,delete e[i]),t.parentNode.removeChild(t)}},isStrict:i,isIEQuirks:g&&!i&&(v||m||x||E),isOpera:r,isOpera10_5:o,isWebKit:l,isChrome:a,isSafari:h,isSafari3:c,isSafari4:u,isSafari5:p,isSafari5_0:f,isSafari2:d,isIE:g,isIE6:v,isIE7:m,isIE7m:v||m,isIE7p:g&&!v,isIE8:x,isIE8m:v||m||x,isIE8p:g&&!(v||m),isIE9:E,isIE9m:v||m||x||E,isIE9p:g&&!(v||m||x),isIE10:y,isIE10m:v||m||x||E||y,isIE10p:g&&!(v||m||x||E),isGecko:b,isGecko3:C,isGecko4:w,isGecko5:S,isGecko10:T,isFF3_0:k,isFF3_5:D,isFF3_6:I,isFF4:4<=F&&F<5,isFF5:5<=F&&F<6,isFF10:10<=F&&F<11,isLinux:A,isWindows:P,isMac:M,chromeVersion:R,firefoxVersion:F,ieVersion:O,operaVersion:N,safariVersion:B,webKitVersion:H,isSecure:W,BLANK_IMAGE_URL:v||m?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(t,e,i){return Ext.isEmpty(t,i)?e:t},escapeRe:function(t){return t.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(t){if(Ext.isReady){var e,i,n,s={};for(i in t)(e=i.split("@"))[1]&&(s[n=e[0]]||(s[n]=Ext.select(n)),s[n].on(e[1],t[i]));s=null}else Ext.onReady(function(){Ext.addBehaviors(t)})},getScrollbarSize:function(t){if(!Ext.isReady)return{};if(t||!L){var e=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.overflow="scroll",i.style.position="absolute",e.appendChild(i),L={width:i.offsetWidth-i.clientWidth,height:i.offsetHeight-i.clientHeight},e.removeChild(i)}return L},getScrollBarWidth:function(t){return Ext.getScrollbarSize(t).width+2},copyTo:function(t,e,i,n){"string"==typeof i&&(i=i.split(/[,;\s]/));var s,r,o=i?i.length:0;for(s=0;s<o;s++)r=i[s],(n||e.hasOwnProperty(r))&&(t[r]=e[r]);return t},destroyMembers:function(t){for(var e=1,i=arguments,n=i.length;e<n;e++)Ext.destroy(t[i[e]]),delete t[i[e]]},log:t,partition:function(t,e){var i,n,s=[[],[]],r=t.length;for(i=0;i<r;i++)n=t[i],s[e&&e(n,i,t)||!e&&n?0:1].push(n);return s},invoke:function(t,e){var i,n,s=[],r=Array.prototype.slice.call(arguments,2),o=t.length;for(i=0;i<o;i++)(n=t[i])&&"function"==typeof n[e]?s.push(n[e].apply(n,r)):s.push(void 0);return s},zip:function(){var t,e,i,n=Ext.partition(arguments,function(t){return"function"!=typeof t}),s=n[0],r=n[1][0],o=Ext.max(Ext.pluck(s,"length")),a=[];for(t=0;t<o;t++)if(a[t]=[],r)a[t]=r.apply(r,Ext.pluck(s,t));else for(e=0,i=s.length;e<i;e++)a[t].push(s[e][t]);return a},toSentence:function(t,e){var i,n,s=t.length;return s<=1?t[0]:(i=t.slice(0,s-1),n=t[s-1],Ext.util.Format.format("{0} {1} {2}",i.join(", "),e||"and",n))},setGlyphFontFamily:function(t){Ext._glyphFontFamily=t},useShims:v})}(),Ext.application=function(t){var e,i,n;if("string"==typeof t)Ext.require(t,function(){e=Ext.ClassManager.get(t)});else{if(Ext.Loader.setPath(t.name,t.appFolder||"app"),i=t.paths)for(n in i)i.hasOwnProperty(n)&&Ext.Loader.setPath(n,i[n]);t["paths processed"]=!0,Ext.define(t.name+".$application",Ext.apply({extend:"Ext.app.Application"},t),function(){e=this})}Ext.onReady(function(){Ext.app.Application.instance=new e})},function(){Ext.ns("Ext.util"),Ext.util.Format={};var t,e=Ext.util.Format,i=/<\/?[^>]+>/gi,n=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,s=/\r?\n/g,r=/[^\d\.]/g;Ext.apply(e,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:!1,undef:function(t){return void 0!==t?t:""},defaultValue:function(t,e){return void 0!==t&&""!==t?t:e},substr:"b"!="ab".substr(-1)?function(t,e,i){var n=String(t);return e<0?n.substr(Math.max(n.length+e,0),i):n.substr(e,i)}:function(t,e,i){return String(t).substr(e,i)},lowercase:function(t){return String(t).toLowerCase()},uppercase:function(t){return String(t).toUpperCase()},usMoney:function(t){return e.currency(t,"$",2)},currency:function(t,i,n,s){var r="",o=",0",a=0;for((t-=0)<0&&(t=-t,r="-"),o+=o+((n=Ext.isDefined(n)?n:e.currencyPrecision)>0?".":"");a<n;a++)o+="0";return t=e.number(t,o),!0===(s||e.currencyAtEnd)?Ext.String.format("{0}{1}{2}",r,t,i||e.currencySign):Ext.String.format("{0}{1}{2}",r,i||e.currencySign,t)},date:function(t,e){return t?(Ext.isDate(t)||(t=new Date(Date.parse(t))),Ext.Date.dateFormat(t,e||Ext.Date.defaultFormat)):""},dateRenderer:function(t){return function(i){return e.date(i,t)}},stripTags:function(t){return t?String(t).replace(i,""):t},stripScripts:function(t){return t?String(t).replace(n,""):t},fileSize:function(t){return t<1024?t+" bytes":t<1048576?Math.round(10*t/1024)/10+" KB":Math.round(10*t/1048576)/10+" MB"},math:function(){var t={};return function(e,i){return t[i]||(t[i]=Ext.functionFactory("v","return v "+i+";")),t[i](e)}}(),round:function(t,e){var i=Number(t);return"number"==typeof e&&(e=Math.pow(10,e),i=Math.round(t*e)/e),i},number:function(i,n){if(!n)return i;if(i=Ext.Number.from(i,NaN),isNaN(i))return"";var s,o,a,l,h,d,c,u,f=e.thousandSeparator,p=e.decimalSeparator,g=i<0;if(i=Math.abs(i),"/i"==n.substr(n.length-2)?(t||(t=new RegExp("[^\\d\\"+e.decimalSeparator+"]","g")),s=-1!=(n=n.substr(0,n.length-2)).indexOf(f),o=n.replace(t,"").split(p)):(s=-1!=n.indexOf(","),o=n.replace(r,"").split(".")),o.length>2||(i=o.length>1?Ext.Number.toFixed(i,o[1].length):Ext.Number.toFixed(i,0)),a=i.toString(),o=a.split("."),s){for(h=[],d=(l=o[0]).length,Math.floor(d/3),c=l.length%3||3,u=0;u<d;u+=c)0!==u&&(c=3),h[h.length]=l.substr(u,c),1;a=h.join(f),o[1]&&(a+=p+o[1])}else o[1]&&(a=o[0]+p+o[1]);return g&&(g=""!==a.replace(/[^1-9]/g,"")),(g?"-":"")+n.replace(/[\d,?\.?]+/,a)},numberRenderer:function(t){return function(i){return e.number(i,t)}},attributes:function(t){if("object"==typeof t){var e,i=[];for(e in t)i.push(e,'="',"style"===e?Ext.DomHelper.generateStyles(t[e]):Ext.htmlEncode(t[e]),'"');t=i.join("")}return t||""},plural:function(t,e,i){return t+" "+(1==t?e:i||e+"s")},nl2br:function(t){return Ext.isEmpty(t)?"":t.replace(s,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(t){if("number"==typeof(t=t||0))return{top:t,right:t,bottom:t,left:t};var e=t.split(" "),i=e.length;return 1==i?e[1]=e[2]=e[3]=e[0]:2==i?(e[2]=e[0],e[3]=e[1]):3==i&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0}},escapeRegex:function(t){return t.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}(),Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(t){"number"==typeof t?this.interval=t:t&&Ext.apply(this,t),this.tasks=[],this.timerFn=Ext.Function.bind(this.onTick,this)},newTask:function(t){var e=new Ext.util.TaskRunner.Task(t);return e.manager=this,e},start:function(t){var e=(new Date).getTime();return t.pending||(this.tasks.push(t),t.pending=!0),t.stopped=!1,t.taskStartTime=e,t.taskRunTime=!1!==t.fireOnStart?0:t.taskStartTime,t.taskRunCount=0,this.firing||(!1!==t.fireOnStart?this.startTimer(0,e):this.startTimer(t.interval,e)),t},stop:function(t){return t.stopped||(t.stopped=!0,t.onStop&&t.onStop.call(t.scope||t,t)),t},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var t,e,i,n,s,r,o=this.tasks,a=(new Date).getTime(),l=1e99,h=o.length;for(this.timerId=null,this.firing=!0,i=0;i<h||i<(h=o.length);++i){if(n=o[i],!(r=n.stopped)){if((t=n.taskRunTime+n.interval)<=a){s=1;try{s=n.run.apply(n.scope||n,n.args||[++n.taskRunCount])}catch(t){try{n.onError&&(s=n.onError.call(n.scope||n,n,t))}catch(t){}}n.taskRunTime=a,!1===s||n.taskRunCount===n.repeat?(this.stop(n),r=!0):(r=n.stopped,t=a+n.interval)}!r&&n.duration&&n.duration<=a-n.taskStartTime&&(this.stop(n),r=!0)}r?(n.pending=!1,e||(e=o.slice(0,i))):(e&&e.push(n),l>t&&(l=t))}e&&(this.tasks=e),this.firing=!1,this.tasks.length&&this.startTimer(l-a,(new Date).getTime()),!1!==this.fireIdleEvent&&Ext.EventManager.idleEvent.fire()},startTimer:function(t,e){var i=e+t,n=this.timerId;n&&this.nextExpires-i>this.interval&&(clearTimeout(n),n=null),n||(t<this.interval&&(t=this.interval),this.timerId=setTimeout(this.timerFn,t),this.nextExpires=i)}},function(){var t=this.prototype;t.destroy=t.stopAll,Ext.util.TaskManager=Ext.TaskManager=new this,this.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(t){Ext.apply(this,t)},restart:function(t){void 0!==t&&(this.interval=t),this.manager.start(this)},start:function(t){this.stopped&&this.restart(t)},stop:function(){this.manager.stop(this)}}),(t=this.Task.prototype).destroy=t.stop}),Ext.define("Ext.util.TaskManager",{extend:Ext.util.TaskRunner,alternateClassName:["Ext.TaskManager"],singleton:!0}),Ext.define("Ext.perf.Accumulator",function(){function t(t,e){t.sum+=e,t.min=Math.min(t.min,e),t.max=Math.max(t.max,e)}function e(e){var i=e||l()-this.time,n=this.accum;++n.count,--n.depth||t(n.total,i),t(n.pure,i-this.childTime),(o=this.parent)&&(++o.accum.childCount,o.childTime+=i)}function i(){return{min:Number.MAX_VALUE,max:0,sum:0}}function n(t,e){return function(){var i=t.enter(),n=e.apply(this,arguments);return i.leave(),n}}function s(t,e,i,n){var s={avg:0,min:n.min,max:n.max,sum:0};return t&&(i=i||0,s.sum=n.sum-e*i,s.avg=s.sum/t),s}var r,o=null,a=Ext.global.chrome,l=function(){l=function(){return(new Date).getTime()};var t,e;if(Ext.isChrome&&a&&a.Interval)(t=new a.Interval).start(),l=function(){return t.microseconds()/1e3};else if(window.ActiveXObject)try{e=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=e,l=function(){return e.milliseconds}}catch(t){}else Date.now&&(l=Date.now);return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=l,l()};return{constructor:function(t){this.count=this.childCount=this.depth=this.maxDepth=0,this.pure=i(),this.total=i(),this.name=t},statics:{getTimestamp:l},format:function(t){r||(r=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(t){return Math.round(100*t)/100}}));var e=this.getData(t);return e.name=this.name,e.pure.type="Pure",e.total.type="Total",e.times=[e.pure,e.total],r.apply(e)},getData:function(t){return{count:this.count,childCount:this.childCount,depth:this.maxDepth,pure:s(this.count,this.childCount,t,this.pure),total:s(this.count,this.childCount,t,this.total)}},enter:function(){var t={accum:this,leave:e,childTime:0,parent:o};return++this.depth,this.maxDepth<this.depth&&(this.maxDepth=this.depth),o=t,t.time=l(),t},monitor:function(t,e,i){var n=this.enter();i?t.apply(e,i):t.call(e),n.leave()},report:function(){Ext.log(this.format())},tap:function(t,e){var i,s,r,o,a,l,h,d,c=this,u="string"==typeof e?[e]:e;return d=function(){if("string"==typeof t)for(i=Ext.global,o=t.split("."),r=0,a=o.length;r<a;++r)i=i[o[r]];else i=t;for(r=0,a=u.length;r<a;++r)l=u[r],(s="!"==l.charAt(0))?l=l.substring(1):s=!(l in i.prototype),(h=s?i:i.prototype)[l]=n(c,h[l])},Ext.ClassManager.onCreated(d,c,t),c}}}(),function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var t,e=new Ext.perf.Accumulator("$"),i=e.total,n=Ext.perf.Accumulator.getTimestamp,s=0;t=n();do{e.enter().leave(),++s}while(i.sum<100);return(n()-t)/s},get:function(t){var e=this.accumulatorsByName[t];return e||(this.accumulatorsByName[t]=e=new Ext.perf.Accumulator(t),this.accumulators.push(e)),e},enter:function(t){return this.get(t).enter()},monitor:function(t,e,i){this.get(t).monitor(e,i)},report:function(){var t=this.accumulators,e=this.calibrate();t.sort(function(t,e){return t.name<e.name?-1:e.name<t.name?1:0}),this.updateGC(),Ext.log("Calibration: "+Math.round(100*e)/100+" msec/sample"),Ext.each(t,function(t){Ext.log(t.format(e))})},getData:function(t){var e={},i=this.accumulators;return Ext.each(i,function(i){(t||i.count)&&(e[i.name]=i.getData())}),e},reset:function(){Ext.each(this.accumulators,function(t){var e=t;e.count=e.childCount=e.depth=e.maxDepth=0,e.pure={min:Number.MAX_VALUE,max:0,sum:0},e.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var t,e=this.accumulatorsByName.GC,i=Ext.senchaToolbox;e&&(e.count=i.garbageCollectionCounter||0,e.count&&(t=e.pure,e.total.sum=t.sum=i.garbageCollectionMilliseconds,t.min=t.max=t.sum/e.count,(t=e.total).min=t.max=t.sum/e.count))},watchGC:function(){Ext.perf.getTimestamp();var t=Ext.senchaToolbox;t&&(this.get("GC"),t.watchGarbageCollector(!1))},setup:function(t){t||(t={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}}),this.currentConfig=t;var e,i,n,s,r;for(e in t)if(t.hasOwnProperty(e)){i=t[e],n=Ext.Perf.get(e);for(s in i)i.hasOwnProperty(s)&&(r=i[s],n.tap(s,r))}this.watchGC()}}),Ext.is={init:function(t){var e,i,n=this.platforms,s=n.length;for(t=t||window.navigator,e=0;e<s;e++)this[(i=n[e]).identity]=i.regex.test(t[i.property]);this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android,this.Tablet=this.iPad,this.Phone=!this.Desktop&&!this.Tablet,this.iOS=this.iPhone||this.iPad||this.iPod,this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]},Ext.is.init(),function(){var t=function(t,e){var i=t.ownerDocument.defaultView;return((i?i.getComputedStyle(t,null):t.currentStyle)||t.style)[e]},e={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,0,0,0],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,0,0,0]};Ext.supports={init:function(){var t,i,n,s=document,r=this.toRun||this.tests,o=r.length,a=o&&Ext.isReady&&s.createElement("div"),l=[],h=function(){var t=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"";return t?t+(Ext.isStrict?"-strict":"-quirks"):""}();for(a&&(a.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join(""),s.body.appendChild(a)),i=e[h];o--;)t=r[o],void 0!==(n=i&&i[o])?this[t.identity]=n:a||t.early?this[t.identity]=t.fn.call(this,s,a):l.push(t);a&&s.body.removeChild(a),this.toRun=l},PointerEvents:"pointerEvents"in document.documentElement.style,LocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:void 0!==window.orientation&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:void setTimeout(function(){Ext.supports.TimeoutActualLateness=0!==arguments.length},0),tests:[{identity:"Transitions",fn:function(e,i){for(var n=["webkit","Moz","o","ms","khtml"],s="TransitionEnd",r=[n[0]+s,"transitionend",n[2]+s,n[3]+s,n[4]+s],o=n.length,a=0,l=!1;a<o;a++)if(t(i,n[a]+"TransitionProperty")){Ext.supports.CSS3Prefix=n[a],Ext.supports.CSS3TransitionEnd=r[a],l=!0;break}return l}},{identity:"RightMargin",fn:function(t,e){var i=t.defaultView;return!(i&&"0px"!=i.getComputedStyle(e.firstChild.firstChild,null).marginRight)}},{identity:"DisplayChangeInputSelectionBug",early:!0,fn:function(){var t=Ext.webKitVersion;return 0<t&&t<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:!0,fn:function(){var t=Ext.webKitVersion;return 0<t&&t<534.24}},{identity:"TransparentColor",fn:function(t,e,i){return!((i=t.defaultView)&&"transparent"!=i.getComputedStyle(e.lastChild,null).backgroundColor)}},{identity:"ComputedStyle",fn:function(t,e,i){return(i=t.defaultView)&&i.getComputedStyle}},{identity:"Svg",fn:function(t){return!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(t){return!!t.createElement("canvas").getContext}},{identity:"Vml",fn:function(t){var e=t.createElement("div");return e.innerHTML="\x3c!--[if vml]><br/><br/><![endif]--\x3e",2==e.childNodes.length}},{identity:"Float",fn:function(t,e){return!!e.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(t){return!!t.createElement("audio").canPlayType}},{identity:"History",fn:function(){var t=window.history;return!(!t||!t.pushState)}},{identity:"CSS3DTransform",fn:function(){return"undefined"!=typeof WebKitCSSMatrix&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(t,e){var i="background-image:",n="linear-gradient(left top, black, white)",s=[i+"-webkit-gradient(linear, left top, right bottom, from(black), to(white))",i+n,i+"-moz-linear-gradient(left top, black, white)",i+"-ms-linear-gradient(left top, black, white)",i+"-o-linear-gradient(left top, black, white)"];return e.style.cssText=s.join(";"),-1!==(""+e.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(t,e){var i,n=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"];for(i=0;i<n.length;i++)if(void 0!==document.body.style[n[i]])return!0;return!1}},{identity:"GeoLocation",fn:function(){return"undefined"!=typeof navigator&&"geolocation"in navigator||"undefined"!=typeof google&&void 0!==google.gears}},{identity:"MouseEnterLeave",fn:function(t,e){return"onmouseenter"in e&&"onmouseleave"in e}},{identity:"MouseWheel",fn:function(t,e){return"onmousewheel"in e}},{identity:"Opacity",fn:function(t,e){return!(Ext.isIE6||Ext.isIE7||Ext.isIE8)&&(e.firstChild.style.cssText="opacity:0.73","0.73"==e.firstChild.style.opacity)}},{identity:"Placeholder",fn:function(t){return"placeholder"in t.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:"BoundingClientRect",fn:function(t,e){return Ext.isFunction(e.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var t=document.body,e=!1,i=document.createElement("div"),n=i.style;return i.getBoundingClientRect&&(n.WebkitTransform=n.MozTransform=n.OTransform=n.transform="rotate(90deg)",n.width="100px",n.height="30px",t.appendChild(i),e=100!==i.getBoundingClientRect().height,t.removeChild(i)),e}},{identity:"IncludePaddingInWidthCalculation",fn:function(t,e){return 210==e.childNodes[1].firstChild.offsetWidth}},{identity:"IncludePaddingInHeightCalculation",fn:function(t,e){return 210==e.childNodes[1].firstChild.offsetHeight}},{identity:"ArraySort",fn:function(){var t=[1,2,3,4,5].sort(function(){return 0});return 1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]&&5===t[4]}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var t=!!Ext.supports.Range&&document.createRange();return t&&!!t.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){return"maxlength"in document.createElement("textarea")}},{identity:"GetPositionPercentage",fn:function(e,i){return"10%"==t(i.childNodes[2],"left")}},{identity:"PercentageHeightOverflowBug",fn:function(t){var e,i,n=!1;return Ext.getScrollbarSize().height&&((e=(i=t.createElement("div")).style).height="50px",e.width="50px",e.overflow="auto",e.position="absolute",i.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),t.body.appendChild(i),50===i.firstChild.offsetHeight&&(n=!0),t.body.removeChild(i)),n}},{identity:"xOriginBug",fn:function(t,e){e.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var i=document.getElementById("b1").getBoundingClientRect(),n=document.getElementById("b2").getBoundingClientRect(),s=document.getElementById("b3").getBoundingClientRect();return n.left!==i.left&&s.right!==i.right}}]}}(),Ext.supports.init(),Ext.util.DelayedTask=function(t,e,i,n){var s,r,o=this,a=function(){clearInterval(s),s=null,t.apply(e,i||[]),Ext.EventManager.idleEvent.fire()};n="boolean"!=typeof n||n,o.delay=function(l,h,d,c){n&&o.cancel(),r=l||r,t=h||t,e=d||e,i=c||i,s||(s=setInterval(a,r))},o.cancel=function(){s&&(clearInterval(s),s=null)}},Ext.define("Ext.util.Event",function(){var t=Array.prototype.slice,e=Ext.Array.insert,i=Ext.Array.toArray,n=Ext.util.DelayedTask;return{isEvent:!0,suspended:0,noOptions:{},constructor:function(t,e){this.name=e,this.observable=t,this.listeners=[]},addListener:function(t,i,n){var s,r,o,a,l,h,d,c,u;if(i=i||this.observable,!this.isListening(t,i)){if(r=this.createListener(t,i,n),this.firing&&(this.listeners=this.listeners.slice(0)),s=this.listeners,c=d=s.length,o=n&&n.priority,l=this._highestNegativePriorityIndex,h=void 0!==l,o)if(!(a=o<0)||h){for(u=a?l:0;u<d;u++)if((s[u].o?s[u].o.priority||0:0)<o){c=u;break}}else this._highestNegativePriorityIndex=c;else h&&(c=l);!a&&c<=l&&this._highestNegativePriorityIndex++,c===d?this.listeners[d]=r:e(this.listeners,c,[r])}},createListener:function(t,e,i){var n={fn:t,scope:e=e||this.observable,ev:this},s=t;return i&&(n.o=i,i.single&&(s=this.createSingle(s,n,i,e)),i.target&&(s=this.createTargeted(s,n,i,e)),i.delay&&(s=this.createDelayed(s,n,i,e)),i.buffer&&(s=this.createBuffered(s,n,i,e))),n.fireFn=s,n},findListener:function(t,e){for(var i,n,s=this.listeners,r=s.length;r--;)if((i=s[r])&&(n=i.scope,i.fn==t&&n==(e||this.observable)))return r;return-1},isListening:function(t,e){return-1!==this.findListener(t,e)},removeListener:function(t,e){var i,n,s,r;if(-1!=(i=this.findListener(t,e))){if(n=this.listeners[i],s=this._highestNegativePriorityIndex,this.firing&&(this.listeners=this.listeners.slice(0)),n.task&&(n.task.cancel(),delete n.task),r=n.tasks&&n.tasks.length){for(;r--;)n.tasks[r].cancel();delete n.tasks}return this.listeners.splice(i,1),s&&(i<s?this._highestNegativePriorityIndex--:i===s&&i===this.listeners.length&&delete this._highestNegativePriorityIndex),!0}return!1},clearListeners:function(){for(var t=this.listeners,e=t.length;e--;)this.removeListener(t[e].fn,t[e].scope)},suspend:function(){this.suspended+=1},resume:function(){this.suspended&&this.suspended--},fire:function(){var e,i,n,s,r=this.listeners,o=r.length;if(!this.suspended&&o>0)for(this.firing=!0,s=(i=arguments.length?t.call(arguments,0):[]).length,e=0;e<o;e++)if((n=r[e]).o&&(i[s]=n.o),n&&!1===n.fireFn.apply(n.scope||this.observable,i))return this.firing=!1;return this.firing=!1,!0},createTargeted:function(t,e,i,n){return function(){i.target===arguments[0]&&t.apply(n,arguments)}},createBuffered:function(t,e,s,r){return e.task=new n,function(){e.task.delay(s.buffer,t,r,i(arguments))}},createDelayed:function(t,e,s,r){return function(){var o=new n;e.tasks||(e.tasks=[]),e.tasks.push(o),o.delay(s.delay||10,t,r,i(arguments))}},createSingle:function(t,e,i,n){return function(){var i=e.ev;return i.removeListener(e.fn,n)&&i.observable&&i.observable.hasListeners[i.name]--,t.apply(n,arguments)}}}}),Ext.EventManager=new function(){var t,e=this,i=document,n=window,s=/\\/g,r=Ext.baseCSSPrefix;Ext.apply(e,{hasBoundOnReady:!1,hasFiredReady:!1,deferReadyEvent:1,onReadyChain:[],readyEvent:(t=new Ext.util.Event,t.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime(),t.self.prototype.fire.apply(t,arguments),Ext._afterReadytime=(new Date).getTime()},t),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){e.hasBoundOnReady||("complete"==i.readyState?e.onReadyEvent({type:i.readyState||"body"}):(i.addEventListener("DOMContentLoaded",e.onReadyEvent,!1),n.addEventListener("load",e.onReadyEvent,!1),e.hasBoundOnReady=!0))},onReadyEvent:function(t){t&&t.type&&e.onReadyChain.push(t.type),e.hasBoundOnReady&&(i.removeEventListener("DOMContentLoaded",e.onReadyEvent,!1),n.removeEventListener("load",e.onReadyEvent,!1)),Ext.isReady||e.fireDocReady()},fireDocReady:function(){Ext.isReady||(Ext._readyTime=(new Date).getTime(),Ext.isReady=!0,Ext.supports.init(),e.onWindowUnload(),t.onReadyChain=e.onReadyChain,Ext.isNumber(e.deferReadyEvent)?(Ext.Function.defer(e.fireReadyEvent,e.deferReadyEvent),e.hasDocReadyTimer=!0):e.fireReadyEvent())},fireReadyEvent:function(){for(e.hasDocReadyTimer=!1,e.isFiring=!0;t.listeners.length&&!e.isReadyPaused();)t.fire();e.isFiring=!1,e.hasFiredReady=!0,Ext.EventManager.idleEvent.fire()},onDocumentReady:function(i,n,s){(s=s||{}).single=!0,t.addListener(i,n,s),e.isFiring||e.hasDocReadyTimer||(Ext.isReady?e.fireReadyEvent():e.bindReadyEvent())},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(t){var e;return t=Ext.getDom(t),e=t===i||t===n?t===i?Ext.documentId:Ext.windowId:Ext.id(t),Ext.cache[e]||Ext.addCacheEntry(e,null,t),e},prepareListenerConfig:function(t,i,n){var s,r,o,a=e.propRe;for(s in i)i.hasOwnProperty(s)&&(a.test(s)||(o="function"==typeof(r=i[s])?[t,s,r,i.scope,i]:[t,s,r.fn,r.scope,r],n?e.removeListener.apply(e,o):e.addListener.apply(e,o)))},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(t,i){return e.mouseEnterLeaveRe.test(t)&&!Ext.supports.MouseEnterLeave?(i&&(i=Ext.Function.createInterceptor(i,e.contains)),t="mouseenter"==t?"mouseover":"mouseout"):"mousewheel"!=t||Ext.supports.MouseWheel||Ext.isOpera||(t="DOMMouseScroll"),{eventName:t,fn:i}},contains:function(t){var i=(t=t.browserEvent||t).currentTarget,n=e.getRelatedTarget(t);if(i&&i.firstChild)for(;n;){if(n===i)return!1;(n=n.parentNode)&&1!=n.nodeType&&(n=null)}return!0},addListener:function(t,n,s,r,o){if("string"==typeof n){var a,l,h,d,c,u=t.dom||Ext.getDom(t);o=o||{},a=e.normalizeEvent(n,s),l=e.createListenerWrap(u,n,a.fn,r,o),h=e.getEventListenerCache(t.dom?t:u,n),n=a.eventName,u.attachEvent&&(d=e.normalizeId(u))&&(c=Ext.cache[d][n])&&c.firing&&(h=e.cloneEventListenerCache(u,n)),h.push({fn:s,wrap:l,scope:r}),u.attachEvent?1===h.length&&(d=e.normalizeId(u,!0),s=Ext.Function.bind(e.handleSingleEvent,e,[d,n],!0),Ext.cache[d][n]={firing:!1,fn:s},u.attachEvent("on"+n,s)):u.addEventListener(n,l,o.capture||!1),u==i&&"mousedown"==n&&e.stoppedMouseDownEvent.addListener(l)}else e.prepareListenerConfig(t,n)},normalizeId:function(t,i){var n;return!(n=t===document?Ext.documentId:t===window?Ext.windowId:t.id)&&i&&(n=e.getId(t)),n},handleSingleEvent:function(t,i,n){var s,r,o=e.getEventListenerCache(i,n),a=Ext.cache[i][n];if(!a.firing){for(a.firing=!0,r=0,s=o.length;r<s;++r)o[r].wrap(t);a.firing=!1}},removeListener:function(t,n,s,r){if("string"==typeof n){for(var o,a,l,h,d,c=Ext.getDom(t),u=t.dom?t:Ext.get(c),f=e.getEventListenerCache(u,n),p=e.normalizeEvent(n).eventName,g=f.length;g--;)if((h=f[g])&&(!s||h.fn==s)&&(!r||h.scope===r)){if((d=h.wrap).task&&(clearTimeout(d.task),delete d.task),a=d.tasks&&d.tasks.length){for(;a--;)clearTimeout(d.tasks[a]);delete d.tasks}c.detachEvent?(o=e.normalizeId(c,!0),(l=Ext.cache[o][p])&&l.firing&&(f=e.cloneEventListenerCache(c,p)),1===f.length&&(s=l.fn,delete Ext.cache[o][p],c.detachEvent("on"+p,s))):c.removeEventListener(p,d,!1),d&&c==i&&"mousedown"==n&&e.stoppedMouseDownEvent.removeListener(d),Ext.Array.erase(f,g,1)}}else e.prepareListenerConfig(t,n,!0)},removeAll:function(t){var i,n,s,r="string"==typeof t?t:t.id;if(r&&(i=Ext.cache[r])){n=i.events;for(s in n)n.hasOwnProperty(s)&&e.removeListener(t,s);i.events={}}},purgeElement:function(t,i){var n,s,r=Ext.getDom(t),o=0;if(i?e.removeListener(t,i):e.removeAll(t),r&&r.childNodes)for(n=(s=r.childNodes).length;o<n;o++)e.purgeElement(s[o],i)},createListenerWrap:function(t,i,n,r,o){o=o||{};var a,l,h=function(d,c){return l||(a=["if(!"+Ext.name+") {return;}"],o.buffer||o.delay||o.freezeEvent?(o.freezeEvent&&a.push("e = X.EventObject.setEvent(e);"),a.push("e = new X.EventObjectImpl(e, "+(o.freezeEvent?"true":"false")+");")):a.push("e = X.EventObject.setEvent(e);"),o.delegate?(a.push('var result, t = e.getTarget("'+(o.delegate+"").replace(s,"\\\\")+'", this);'),a.push("if(!t) {return;}")):a.push("var t = e.target, result;"),o.target&&a.push("if(e.target !== options.target) {return;}"),o.stopEvent?a.push("e.stopEvent();"):(o.preventDefault&&a.push("e.preventDefault();"),o.stopPropagation&&a.push("e.stopPropagation();")),!1===o.normalized&&a.push("e = e.browserEvent;"),o.buffer&&(a.push("(wrap.task && clearTimeout(wrap.task));"),a.push("wrap.task = setTimeout(function() {")),o.delay&&(a.push("wrap.tasks = wrap.tasks || [];"),a.push("wrap.tasks.push(setTimeout(function() {")),a.push("result = fn.call(scope || dom, e, t, options);"),o.single&&a.push("evtMgr.removeListener(dom, ename, fn, scope);"),"mousemove"!==i&&"unload"!==i&&(a.push("if (evtMgr.idleEvent.listeners.length) {"),a.push("evtMgr.idleEvent.fire();"),a.push("}")),o.delay&&a.push("}, "+o.delay+"));"),o.buffer&&a.push("}, "+o.buffer+");"),a.push("return result;"),l=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",a.join("\n"))),l.call(t,d,o,n,r,i,t,h,c,Ext,e)};return h},getEventCache:function(t){var i,n;return t?(t.$cache?i=t.$cache:(n="string"==typeof t?t:e.getId(t),i=Ext.cache[n]),i.events||(i.events={})):[]},getEventListenerCache:function(t,i){var n=e.getEventCache(t);return n[i]||(n[i]=[])},cloneEventListenerCache:function(t,i){var n,s=e.getEventCache(t);return n=s[i]?s[i].slice(0):[],s[i]=n,n},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(t){e.stopPropagation(t),e.preventDefault(t)},stopPropagation:function(t){(t=t.browserEvent||t).stopPropagation?t.stopPropagation():t.cancelBubble=!0},preventDefault:function(t){if((t=t.browserEvent||t).preventDefault)t.preventDefault();else{t.returnValue=!1;try{(t.ctrlKey||t.keyCode>111&&t.keyCode<124)&&(t.keyCode=-1)}catch(t){}}},getRelatedTarget:function(t){var i=(t=t.browserEvent||t).relatedTarget;return i||(e.mouseLeaveRe.test(t.type)?i=t.toElement:e.mouseEnterRe.test(t.type)&&(i=t.fromElement)),e.resolveTextNode(i)},getPageX:function(t){return e.getPageXY(t)[0]},getPageY:function(t){return e.getPageXY(t)[1]},getPageXY:function(t){var e=(t=t.browserEvent||t).pageX,n=t.pageY,s=i.documentElement,r=i.body;return e||0===e||(e=t.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),n=t.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),[e,n]},getTarget:function(t){return t=t.browserEvent||t,e.resolveTextNode(t.target||t.srcElement)},resolveTextNode:Ext.isGecko?function(t){if(t){var e=HTMLElement.prototype.toString.call(t);if("[xpconnect wrapped native prototype]"!==e&&"[object XULElement]"!==e)return 3==t.nodeType?t.parentNode:t}}:function(t){return t&&3==t.nodeType?t.parentNode:t},curWidth:0,curHeight:0,onWindowResize:function(t,i,s){var r=e.resizeEvent;r||(e.resizeEvent=r=new Ext.util.Event,e.on(n,"resize",e.fireResize,null,{buffer:100})),r.addListener(t,i,s)},fireResize:function(){var t=Ext.Element.getViewWidth(),i=Ext.Element.getViewHeight();e.curHeight==i&&e.curWidth==t||(e.curHeight=i,e.curWidth=t,e.resizeEvent.fire(t,i))},removeResizeListener:function(t,i){var n=e.resizeEvent;n&&n.removeListener(t,i)},onWindowUnload:function(t,i,s){var r=e.unloadEvent;r||(e.unloadEvent=r=new Ext.util.Event,e.addListener(n,"unload",e.fireUnload)),t&&r.addListener(t,i,s)},fireUnload:function(){try{i=n=void 0;var t,s,r,o,a;if(e.unloadEvent.fire(),Ext.isGecko3)for(s=0,r=(t=Ext.ComponentQuery.query("gridview")).length;s<r;s++)t[s].scrollToTop();a=Ext.cache;for(o in a)a.hasOwnProperty(o)&&e.removeAll(o)}catch(t){}},removeUnloadListener:function(t,i){var n=e.unloadEvent;n&&n.removeListener(t,i)},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return e.useKeyDown?"keydown":"keypress"}}),"addEventListener"in document||!document.attachEvent||Ext.apply(e,{pollScroll:function(){var t=!0;try{document.documentElement.doScroll("left")}catch(e){t=!1}return t&&document.body?e.onReadyEvent({type:"doScroll"}):e.scrollTimeout=setTimeout(e.pollScroll,20),t},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var t=document.readyState;e.readyStatesRe.test(t)&&e.onReadyEvent({type:t})},bindReadyEvent:function(){var t=!0;if(!e.hasBoundOnReady){try{t=void 0===window.frameElement}catch(e){t=!1}t&&i.documentElement.doScroll||(e.pollScroll=Ext.emptyFn),!0!==e.pollScroll()&&("complete"==i.readyState?e.onReadyEvent({type:"already "+(i.readyState||"body")}):(i.attachEvent("onreadystatechange",e.checkReadyState),window.attachEvent("onload",e.onReadyEvent),e.hasBoundOnReady=!0))}},onReadyEvent:function(t){t&&t.type&&e.onReadyChain.push(t.type),e.hasBoundOnReady&&(document.detachEvent("onreadystatechange",e.checkReadyState),window.detachEvent("onload",e.onReadyEvent)),Ext.isNumber(e.scrollTimeout)&&(clearTimeout(e.scrollTimeout),delete e.scrollTimeout),Ext.isReady||e.fireDocReady()},onReadyChain:[]}),Ext.onReady=function(t,e,i){Ext.Loader.onReady(t,e,!0,i)},Ext.onDocumentReady=e.onDocumentReady,e.on=e.addListener,e.un=e.removeListener,Ext.onReady(function(){function t(t){s.push(r+t)}var e,n=i.body||i.getElementsByTagName("body")[0],s=[r+"body"],o=[],a=Ext.supports.CSS3LinearGradient,l=Ext.supports.CSS3BorderRadius;return!!n&&(e=n.parentNode,Ext.isIE&&Ext.isIE9m&&(t("ie"),Ext.isIE6?t("ie6"):(t("ie7p"),Ext.isIE7?t("ie7"):(t("ie8p"),Ext.isIE8?t("ie8"):(t("ie9p"),Ext.isIE9&&t("ie9")))),Ext.isIE7m&&t("ie7m"),Ext.isIE8m&&t("ie8m"),Ext.isIE9m&&t("ie9m"),(Ext.isIE7||Ext.isIE8)&&t("ie78")),Ext.isIE10&&t("ie10"),Ext.isGecko&&(t("gecko"),Ext.isGecko3&&t("gecko3"),Ext.isGecko4&&t("gecko4"),Ext.isGecko5&&t("gecko5")),Ext.isOpera&&t("opera"),Ext.isWebKit&&t("webkit"),Ext.isSafari&&(t("safari"),Ext.isSafari2&&t("safari2"),Ext.isSafari3&&t("safari3"),Ext.isSafari4&&t("safari4"),Ext.isSafari5&&t("safari5"),Ext.isSafari5_0&&t("safari5_0")),Ext.isChrome&&t("chrome"),Ext.isMac&&t("mac"),Ext.isLinux&&t("linux"),l||t("nbr"),a||t("nlg"),e&&(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)?Ext.isBorderBox=!1:Ext.isBorderBox=!0,Ext.isBorderBox&&o.push(r+"border-box"),Ext.isStrict?o.push(r+"strict"):o.push(r+"quirks"),Ext.fly(e,"_internal").addCls(o)),Ext.fly(n,"_internal").addCls(s),!0)})},Ext.define("Ext.util.Observable",function(t){var e=[],i=Array.prototype.slice,n=Ext.util.Event,s=function(t){if(t instanceof s)return t;this.observable=t,arguments[1].isObservable&&(this.managedListeners=!0),this.args=i.call(arguments,1)};return s.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)},{statics:{releaseCapture:function(t){t.fireEvent=this.prototype.fireEvent},capture:function(t,e,i){t.fireEvent=Ext.Function.createInterceptor(t.fireEvent,e,i)},observe:function(t,e){return t&&(t.isObservable||(Ext.applyIf(t,new this),this.capture(t.prototype,t.fireEvent,t)),Ext.isObject(e)&&t.on(e)),t},prepareClass:function(e,i){if(!e.HasListeners){var n=function(){},s=e.superclass.HasListeners||i&&i.HasListeners||t.HasListeners;e.prototype.HasListeners=e.HasListeners=n,n.prototype=e.hasListeners=new s}}},isObservable:!0,eventsSuspended:0,constructor:function(t){Ext.apply(this,t),this.hasListeners||(this.hasListeners=new this.HasListeners),this.events=this.events||{},this.listeners&&(this.on(this.listeners),this.listeners=null),this.bubbleEvents&&this.enableBubble(this.bubbleEvents)},onClassExtended:function(e){e.HasListeners||t.prepareClass(e)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(t,e,i,n,r,o){var a,l,h=this.managedListeners=this.managedListeners||[];if("string"!=typeof e){l=arguments.length>4?r:e,r=e;for(e in r)r.hasOwnProperty(e)&&(a=r[e],this.eventOptionsRe.test(e)||this.addManagedListener(t,e,a.fn||a,a.scope||r.scope||n,a.fn?a:l,!0));if(r&&r.destroyable)return new s(this,t,r)}else if("string"==typeof i&&(i=(n=n||this)[i]),h.push({item:t,ename:e,fn:i,scope:n,options:r}),t.on(e,i,n,r),!o&&r&&r.destroyable)return new s(this,t,e,i,n)},removeManagedListener:function(t,e,i,n){var s,r,o,a,l;if("string"!=typeof e){s=e;for(e in s)s.hasOwnProperty(e)&&(r=s[e],this.eventOptionsRe.test(e)||this.removeManagedListener(t,e,r.fn||r,r.scope||s.scope||n))}else for(l=0,a=(o=this.managedListeners?this.managedListeners.slice():[]).length;l<a;l++)this.removeManagedListenerItem(!1,o[l],t,e,i,n)},fireEvent:function(t){return this.fireEventArgs(t,Array.prototype.slice.call(arguments,1))},fireEventArgs:function(t,i){t=t.toLowerCase();var n=this.events,s=n&&n[t],r=!0;return s&&this.hasListeners[t]&&(r=this.continueFireEvent(t,i||e,s.bubble)),r},continueFireEvent:function(t,e,i){var n,s,r=this,o=!0;do{if(r.eventsSuspended)return(n=r.eventQueue)&&n.push([t,e,i]),o;if((s=r.events[t])&&1!=s&&!1===(o=s.fire.apply(s,e)))break}while(i&&(r=r.getBubbleParent()));return o},getBubbleParent:function(){var t=this.getBubbleTarget&&this.getBubbleTarget();return t&&t.isObservable?t:null},addListener:function(t,e,i,r){var o,a,l=0;if("string"!=typeof t){r=t;for(t in r)r.hasOwnProperty(t)&&(o=r[t],this.eventOptionsRe.test(t)||this.addListener(t,o.fn||o,o.scope||r.scope,o.fn?o:r));if(r&&r.destroyable)return new s(this,r)}else if(t=t.toLowerCase(),(a=this.events[t])&&a.isEvent?l=a.listeners.length:this.events[t]=a=new n(this,t),"string"==typeof e&&(e=(i=i||this)[e]),a.addListener(e,i,r),a.listeners.length!==l&&this.hasListeners._incr_(t),r&&r.destroyable)return new s(this,t,e,i,r)},removeListener:function(t,e,i){var n,s,r;if("string"!=typeof t){r=t;for(t in r)r.hasOwnProperty(t)&&(n=r[t],this.eventOptionsRe.test(t)||this.removeListener(t,n.fn||n,n.scope||r.scope))}else t=t.toLowerCase(),(s=this.events[t])&&s.isEvent&&s.removeListener(e,i)&&this.hasListeners._decr_(t)},clearListeners:function(){var t,e,i=this.events,n=this.hasListeners;for(e in i)i.hasOwnProperty(e)&&(t=i[e]).isEvent&&(delete n[e],t.clearListeners());this.clearManagedListeners()},clearManagedListeners:function(){for(var t=this.managedListeners||[],e=0,i=t.length;e<i;e++)this.removeManagedListenerItem(!0,t[e]);this.managedListeners=[]},removeManagedListenerItem:function(t,e,i,n,s,r){!t&&(e.item!==i||e.ename!==n||s&&e.fn!==s||r&&e.scope!==r)||(e.item.un(e.ename,e.fn,e.scope),t||Ext.Array.remove(this.managedListeners,e))},addEvents:function(t){var e,i,n,s=this.events||(this.events={});if("string"==typeof t)for(n=(i=arguments).length;n--;)s[e=i[n]]||(s[e]=!0);else Ext.applyIf(this.events,t)},hasListener:function(t){return!!this.hasListeners[t.toLowerCase()]},suspendEvents:function(t){this.eventsSuspended+=1,t&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(t){var e,i,n=arguments.length;for(e=0;e<n;e++)(i=this.events[arguments[e]])&&i.suspend&&i.suspend()},resumeEvent:function(){var t,e,i=arguments.length;for(t=0;t<i;t++)(e=this.events[arguments[t]])&&e.resume&&e.resume()},resumeEvents:function(){var t,e,i=this.eventQueue;if(this.eventsSuspended&&!--this.eventsSuspended&&(delete this.eventQueue,i))for(t=i.length,e=0;e<t;e++)this.continueFireEvent.apply(this,i[e])},relayEvents:function(t,e,i){for(var n,r=e.length,o=0,a={};o<r;o++)a[n=e[o]]=this.createRelayer(i?i+n:n);return this.mon(t,a,null,null,void 0),new s(this,t,a)},createRelayer:function(t,e){var i=this;return function(){return i.fireEventArgs.call(i,t,e?Array.prototype.slice.apply(arguments,e):arguments)}},enableBubble:function(t){if(t){var e,i,s,r="string"==typeof t?arguments:t,o=r.length,a=this.events;for(s=0;s<o;++s)(i=a[e=r[s].toLowerCase()])&&"boolean"!=typeof i||(a[e]=i=new n(this,e)),this.hasListeners._incr_(e),i.bubble=!0}}}},function(){function t(t){var e,i,n,s,r=(this.methodEvents=this.methodEvents||{})[t],o=this;return r||(this.methodEvents[t]=r={},r.originalFn=this[t],r.methodName=t,r.before=[],r.after=[],s=function(t,s,r){void 0!==(i=t.apply(s||o,r))&&("object"==typeof i?(e=void 0!==i.returnValue?i.returnValue:i,n=!!i.cancel):!1===i?n=!0:e=i)},this[t]=function(){var t,a,l,h=Array.prototype.slice.call(arguments,0);for(e=i=void 0,n=!1,a=0,l=r.before.length;a<l;a++)if(t=r.before[a],s(t.fn,t.scope,h),n)return e;for(void 0!==(i=r.originalFn.apply(o,h))&&(e=i),a=0,l=r.after.length;a<l;a++)if(t=r.after[a],s(t.fn,t.scope,h),n)return e;return e}),r}var e,i=this,n=i.prototype,s=function(){},r=function(t){if(!t.HasListeners){var e=t.prototype;i.prepareClass(t,this),t.onExtended(function(t){i.prepareClass(t)}),e.onClassMixedIn?Ext.override(t,{onClassMixedIn:function(t){r.call(this,t),this.callParent(arguments)}}):e.onClassMixedIn=function(t){r.call(this,t)}}};s.prototype={_decr_:function(t){--this[t]||delete this[t]},_incr_:function(t){this.hasOwnProperty(t)?++this[t]:this[t]=1}},n.HasListeners=i.HasListeners=s,i.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"}),i.observeClass=i.observe,Ext.globalEvents=e=new i({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}}),Ext.on=function(){return e.addListener.apply(e,arguments)},Ext.un=function(){return e.removeListener.apply(e,arguments)},Ext.apply(n,{onClassMixedIn:r,beforeMethod:function(e,i,n){t.call(this,e).before.push({fn:i,scope:n})},afterMethod:function(e,i,n){t.call(this,e).after.push({fn:i,scope:n})},removeMethodListener:function(t,e,i){var n,s,r=this.getMethodEvent(t);for(n=0,s=r.before.length;n<s;n++)if(r.before[n].fn==e&&r.before[n].scope==i)return void Ext.Array.erase(r.before,n,1);for(n=0,s=r.after.length;n<s;n++)if(r.after[n].fn==e&&r.after[n].scope==i)return void Ext.Array.erase(r.after,n,1)},toggleEventLogging:function(t){Ext.util.Observable[t?"capture":"releaseCapture"](this,function(t){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(t,arguments)})}})}),Ext.define("Ext.EventObjectImpl",{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var t;return Ext.isGecko?t=3:Ext.isMac?(t=Ext.isSafari&&Ext.webKitVersion>=532?120:12,t*=3):t=120,t}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(t,e){t&&this.setEvent(t.browserEvent||t,e)},setEvent:function(t,e){var i,n;return t===this||t&&t.browserEvent?t:(this.browserEvent=t,t?(i=t.button?this.btnMap[t.button]:t.which?t.which-1:-1,this.clickRe.test(t.type)&&-1==i&&(i=0),n={type:t.type,button:i,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey||t.metaKey||!1,altKey:t.altKey,keyCode:t.keyCode,charCode:t.charCode,target:Ext.EventManager.getTarget(t),relatedTarget:Ext.EventManager.getRelatedTarget(t),currentTarget:t.currentTarget,xy:e?this.getXY():null}):n={button:-1,shiftKey:!1,ctrlKey:!1,altKey:!1,keyCode:0,charCode:0,target:null,xy:[0,0]},Ext.apply(this,n),this)},stopEvent:function(){this.stopPropagation(),this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var t=this.browserEvent;t&&("mousedown"==t.type&&Ext.EventManager.stoppedMouseDownEvent.fire(this),Ext.EventManager.stopPropagation(t))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(t){return Ext.isWebKit?this.safariKeys[t]||t:t},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){return this.xy||(this.xy=Ext.EventManager.getPageXY(this.browserEvent)),this.xy},getTarget:function(t,e,i){return t?Ext.fly(this.target).findParent(t,e,i):i?Ext.get(this.target):this.target},getRelatedTarget:function(t,e,i){return t&&this.relatedTarget?Ext.fly(this.relatedTarget).findParent(t,e,i):i?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(t){var e=this.WHEEL_SCALE,i=Math.round(t/e);return!i&&t&&(i=t<0?-1:1),i},getWheelDeltas:function(){var t=this.browserEvent,e=0,i=0;return Ext.isDefined(t.wheelDeltaX)?(e=t.wheelDeltaX,i=t.wheelDeltaY):t.wheelDelta?i=t.wheelDelta:t.detail&&((i=-t.detail)>100?i=3:i<-100&&(i=-3),Ext.isDefined(t.axis)&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0)),{x:this.correctWheelDelta(e),y:this.correctWheelDelta(i)}},getWheelDelta:function(){return this.getWheelDeltas().y},within:function(t,e,i){if(t){var n,s=e?this.getRelatedTarget():this.getTarget();if(s)return!(n=Ext.fly(t).contains(s))&&i&&(n=s==Ext.getDom(t)),n}return!1},isNavKeyPress:function(){var t=this.normalizeKey(this.keyCode);return t>=33&&t<=40||t==this.RETURN||t==this.TAB||t==this.ESC},isSpecialKey:function(){var t=this.normalizeKey(this.keyCode);return"keypress"==this.type&&this.ctrlKey||this.isNavKeyPress()||t==this.BACKSPACE||t>=16&&t<=20||t>=44&&t<=46},getPoint:function(){var t=this.getXY();return new Ext.util.Point(t[0],t[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){var t,e,i={};return!Ext.isIE&&document.createEvent?t={createHtmlEvent:function(t,e,i,n){var s=t.createEvent("HTMLEvents");return s.initEvent(e,i,n),s},createMouseEvent:function(t,e,i,n,s,r,o,a,l,h,d,c,u){var f=t.createEvent("MouseEvents"),p=t.defaultView||window;return f.initMouseEvent?f.initMouseEvent(e,i,n,p,s,r,o,r,o,a,l,h,d,c,u):((f=t.createEvent("UIEvents")).initEvent(e,i,n),f.view=p,f.detail=s,f.screenX=r,f.screenY=o,f.clientX=r,f.clientY=o,f.ctrlKey=a,f.altKey=l,f.metaKey=d,f.shiftKey=h,f.button=c,f.relatedTarget=u),f},createUIEvent:function(t,e,i,n,s){var r=t.createEvent("UIEvents"),o=t.defaultView||window;return r.initUIEvent(e,i,n,o,s),r},fireEvent:function(t,e,i){t.dispatchEvent(i)},fixTarget:function(t){return t!=window||t.dispatchEvent?t:document}}:document.createEventObject&&(e={0:1,1:4,2:2},t={createHtmlEvent:function(t,e,i,n){var s=t.createEventObject();return s.bubbles=i,s.cancelable=n,s},createMouseEvent:function(t,i,n,s,r,o,a,l,h,d,c,u,f){var p=t.createEventObject();return p.bubbles=n,p.cancelable=s,p.detail=r,p.screenX=o,p.screenY=a,p.clientX=o,p.clientY=a,p.ctrlKey=l,p.altKey=h,p.shiftKey=d,p.metaKey=c,p.button=e[u]||u,p.relatedTarget=f,p},createUIEvent:function(t,e,i,n,s){var r=t.createEventObject();return r.bubbles=i,r.cancelable=n,r},fireEvent:function(t,e,i){t.fireEvent("on"+e,i)},fixTarget:function(t){return t==document?document.documentElement:t}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(e,n){var s=n[0],r=n[1];i[e]=function(i,n){var o=t.createHtmlEvent(e,s,r);t.fireEvent(i,e,o)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(e){i[e]=function(e,i){var n="mousemove"!=e;return function(s,r){var o=r.getXY(),a=t.createMouseEvent(s.ownerDocument,e,!0,n,i,o[0],o[1],r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget);t.fireEvent(s,e,a)}}(e,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(e,n){var s=n[0],r=n[1];i[e]=function(i,n){var o=t.createUIEvent(i.ownerDocument,e,s,r,1);t.fireEvent(i,e,o)}}),t||(i={},t={fixTarget:Ext.identityFn}),function(e){var n=i[this.type]||function(t,e){},s=e?e.dom||e:this.getTarget();n(s=t.fixTarget(s),this)}}()},function(){Ext.EventObject=new Ext.EventObjectImpl}),Ext.define("Ext.dom.AbstractQuery",{select:function(t,e){var i,n,s,r,o,a=[];for("string"==typeof(e=e||document)&&(e=document.getElementById(e)),n=0,r=(t=t.split(",")).length;n<r;n++)if("string"==typeof t[n])if("@"==typeof t[n][0])i=e.getAttributeNode(t[n].substring(1)),a.push(i);else for(s=0,o=(i=e.querySelectorAll(t[n])).length;s<o;s++)a.push(i[s]);return a},selectNode:function(t,e){return this.select(t,e)[0]},is:function(t,e){return"string"==typeof t&&(t=document.getElementById(t)),-1!==this.select(e).indexOf(t)}}),Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){function t(t,e,i){return e+"-"+i.toLowerCase()}var e=/([a-z])([A-Z])/g,i={};return function(n){return i[n]||(i[n]=n.replace(e,t))}}(),generateMarkup:function(t,e){var i,n,s,r,o,a=typeof t;if("string"==a||"number"==a)e.push(t);else if(Ext.isArray(t))for(r=0;r<t.length;r++)t[r]&&this.generateMarkup(t[r],e);else{s=t.tag||"div",e.push("<",s);for(i in t)t.hasOwnProperty(i)&&(n=t[i],this.confRe.test(i)||("object"==typeof n?(e.push(" ",i,'="'),this.generateStyles(n,e).push('"')):e.push(" ",this.attributeTransform[i]||i,'="',n,'"')));this.emptyTags.test(s)?e.push("/>"):(e.push(">"),(n=t.tpl)&&n.applyOut(t.tplData,e),(n=t.html)&&e.push(n),(n=t.cn||t.children)&&this.generateMarkup(n,e),o=this.closeTags,e.push(o[s]||(o[s]="</"+s+">")))}return e},generateStyles:function(t,e){var i,n=e||[];for(i in t)t.hasOwnProperty(i)&&n.push(this.decamelizeName(i),":",t[i],";");return e||n.join("")},markup:function(t){if("string"==typeof t)return t;return this.generateMarkup(t,[]).join("")},applyStyles:function(t,e){if(e){var i,n=0;if(t=Ext.fly(t,"_applyStyles"),"function"==typeof e&&(e=e.call()),"string"==typeof e)for(i=(e=Ext.util.Format.trim(e).split(this.styleSepRe)).length;n<i;)t.setStyle(e[n++],e[n++]);else Ext.isObject(e)&&t.setStyle(e)}},insertHtml:function(t,e,i){var n,s,r,o,a={};return t=t.toLowerCase(),a.beforebegin=["BeforeBegin","previousSibling"],a.afterend=["AfterEnd","nextSibling"],s=e.ownerDocument.createRange(),n="setStart"+(this.endRe.test(t)?"After":"Before"),a[t]?(s[n](e),r=s.createContextualFragment(i),e.parentNode.insertBefore(r,"beforebegin"==t?e:e.nextSibling),e[("beforebegin"==t?"previous":"next")+"Sibling"]):(o=("afterbegin"==t?"first":"last")+"Child",e.firstChild?(s[n](e[o]),r=s.createContextualFragment(i),"afterbegin"==t?e.insertBefore(r,e.firstChild):e.appendChild(r)):e.innerHTML=i,e[o])},insertBefore:function(t,e,i){return this.doInsert(t,e,i,"beforebegin")},insertAfter:function(t,e,i){return this.doInsert(t,e,i,"afterend","nextSibling")},insertFirst:function(t,e,i){return this.doInsert(t,e,i,"afterbegin","firstChild")},append:function(t,e,i){return this.doInsert(t,e,i,"beforeend","",!0)},overwrite:function(t,e,i){return t=Ext.getDom(t),t.innerHTML=this.markup(e),i?Ext.get(t.firstChild):t.firstChild},doInsert:function(t,e,i,n,s,r){var o=this.insertHtml(n,Ext.getDom(t),this.markup(e));return i?Ext.get(o,!0):o}}),Ext.define("Ext.dom.AbstractElement_static",{override:"Ext.dom.AbstractElement",inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(t,e){return"number"==typeof t?t+(e||this.defaultUnit||"px"):""===t||"auto"==t||void 0===t||null===t?t||"":this.unitRe.test(t)?t:t||""},isAncestor:function(t,e){var i=!1;if(t=Ext.getDom(t),e=Ext.getDom(e),t&&e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return!!(16&t.compareDocumentPosition(e));for(;e=e.parentNode;)i=e==t||i}return i},parseBox:function(t){var e,i,n=typeof(t=t||0);return"number"===n?{top:t,right:t,bottom:t,left:t}:"string"!==n?t:(e=t.split(" "),1==(i=e.length)?e[1]=e[2]=e[3]=e[0]:2==i?(e[2]=e[0],e[3]=e[1]):3==i&&(e[3]=e[1]),{top:parseFloat(e[0])||0,right:parseFloat(e[1])||0,bottom:parseFloat(e[2])||0,left:parseFloat(e[3])||0})},unitizeBox:function(t,e){var i=this.addUnits,n=this.parseBox(t);return i(n.top,e)+" "+i(n.right,e)+" "+i(n.bottom,e)+" "+i(n.left,e)},camelReplaceFn:function(t,e){return e.charAt(1).toUpperCase()},normalize:function(t){return"float"==t&&(t=Ext.supports.Float?"cssFloat":"styleFloat"),this.propertyCache[t]||(this.propertyCache[t]=t.replace(this.msRe,"ms-").replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(Ext.isStrict?document.documentElement.scrollHeight:document.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?document.documentElement.scrollWidth:document.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?0==window.orientation?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(t,e){return Ext.get(document.elementFromPoint(t,e))},parseStyles:function(t){var e,i={},n=this.cssRe;if(t)for(n.lastIndex=0;e=n.exec(t);)i[e[1]]=e[2]||"";return i}}},function(){var t=document,e=null,i="CSS1Compat"==t.compatMode;"activeElement"in t||!t.addEventListener||t.addEventListener("focus",function(i){i&&i.target&&(e=i.target==t?null:i.target)},!0),this.addInheritableStatics({getActiveElement:function(){var i;try{i=t.activeElement}catch(t){}return(i=i||e)||(i=e=document.body),i},getRightMarginFixCleaner:function(i){var n,s,r,o,a=Ext.supports,l=a.DisplayChangeInputSelectionBug,h=a.DisplayChangeTextAreaSelectionBug;return(l||h)&&(n=t.activeElement||e,s=n&&n.tagName,(h&&"TEXTAREA"==s||l&&"INPUT"==s&&"text"==n.type)&&Ext.dom.Element.isAncestor(i,n)&&(r=n.selectionStart,o=n.selectionEnd,Ext.isNumber(r)&&Ext.isNumber(o)))?function(t,e,i){return function(){t.selectionStart=e,t.selectionEnd=i}}(n,r,o):Ext.emptyFn},getViewWidth:function(t){return t?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(t){return t?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(i?t.documentElement.scrollHeight:t.body.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(i?t.documentElement.scrollWidth:t.body.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE9m?Ext.isStrict?t.documentElement.clientHeight:t.body.clientHeight:self.innerHeight},getViewportWidth:function(){return Ext.isStrict||Ext.isOpera?Ext.isIE9m?t.documentElement.clientWidth:self.innerWidth:t.body.clientWidth},serializeForm:function(t){var e,i,n,s,r,o,a,l,h,d=t.elements||(document.forms[t]||Ext.getDom(t)).elements,c=!1,u=encodeURIComponent,f="",p=d.length;for(o=0;o<p;o++)if(e=d[o],i=e.name,n=e.type,s=e.options,!e.disabled&&i)if(/select-(one|multiple)/i.test(n))for(l=s.length,a=0;a<l;a++)(h=s[a]).selected&&(r=h.hasAttribute?h.hasAttribute("value"):h.getAttributeNode("value").specified,f+=Ext.String.format("{0}={1}&",u(i),u(r?h.value:h.text)));else/file|undefined|reset|button/i.test(n)||/radio|checkbox/i.test(n)&&!e.checked||"submit"==n&&c||(f+=u(i)+"="+u(e.value)+"&",c=/submit/i.test(n));return f.substr(0,f.length-1)}})}),Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(t,e){var i,n,s;if(t.nodeType||t.dom||"string"==typeof t)return t=Ext.getDom(t),this.dom.appendChild(t),e?t:Ext.get(t);if(t.length){for(i=Ext.fly(document.createDocumentFragment(),"_internal"),n=t.length,Ext.DomHelper.useDom=!0,s=0;s<n;s++)i.appendChild(t[s],e);return Ext.DomHelper.useDom=void 0,this.dom.appendChild(i.dom),e?i.dom:i}return this.createChild(t,null,e)},appendTo:function(t){return Ext.getDom(t).appendChild(this.dom),this},insertBefore:function(t){return(t=Ext.getDom(t)).parentNode.insertBefore(this.dom,t),this},insertAfter:function(t){return(t=Ext.getDom(t)).parentNode.insertBefore(this.dom,t.nextSibling),this},insertFirst:function(t,e){return(t=t||{}).nodeType||t.dom||"string"==typeof t?(t=Ext.getDom(t),this.dom.insertBefore(t,this.dom.firstChild),e?t:Ext.get(t)):this.createChild(t,this.dom.firstChild,e)},insertSibling:function(t,e,i){var n,s,r,o,a=Ext.core.DomHelper,l=a.useDom,h="after"==(e||"before").toLowerCase();if(Ext.isArray(t)){for(s=Ext.fly(document.createDocumentFragment(),"_internal"),r=t.length,a.useDom=!0,o=0;o<r;o++)n=s.appendChild(t[o],i);return a.useDom=l,this.dom.parentNode.insertBefore(s.dom,h?this.dom.nextSibling:this.dom),n}return(t=t||{}).nodeType||t.dom?(n=this.dom.parentNode.insertBefore(Ext.getDom(t),h?this.dom.nextSibling:this.dom),i||(n=Ext.get(n))):n=h&&!this.dom.nextSibling?a.append(this.dom.parentNode,t,!i):a[h?"insertAfter":"insertBefore"](this.dom,t,!i),n},replace:function(t){return t=Ext.get(t),this.insertBefore(t),t.remove(),this},replaceWith:function(t){return t.nodeType||t.dom||"string"==typeof t?(t=Ext.get(t),this.dom.parentNode.insertBefore(t.dom,this.dom)):t=Ext.core.DomHelper.insertBefore(this.dom,t),delete Ext.cache[this.id],Ext.removeNode(this.dom),this.id=Ext.id(this.dom=t),Ext.dom.AbstractElement.addToCache(this.isFlyweight?new Ext.dom.AbstractElement(this.dom):this),this},createChild:function(t,e,i){return t=t||{tag:"div"},e?Ext.core.DomHelper.insertBefore(e,t,!0!==i):Ext.core.DomHelper.append(this.dom,t,!0!==i)},wrap:function(t,e,i){var n=Ext.core.DomHelper.insertBefore(this.dom,t||{tag:"div"},!0),s=n;return i&&(s=Ext.DomQuery.selectNode(i,n.dom)),s.appendChild(this.dom),e?n.dom:n},insertHtml:function(t,e,i){var n=Ext.core.DomHelper.insertHtml(t,this.dom,e);return i?Ext.get(n):n}}),Ext.define("Ext.dom.AbstractElement_style",{override:"Ext.dom.AbstractElement"},function(){var t=this,e=/\w/g,i=/\s+/,n=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,s=Ext.supports.ClassList,r={l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},o={l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},a={l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},l=new t.Fly;Ext.override(t,{styleHooks:{},addStyles:function(t,i){var n,s,r=0,o=(t||"").match(e),a=o.length,l=[];if(1==a)r=Math.abs(parseFloat(this.getStyle(i[o[0]]))||0);else if(a){for(n=0;n<a;n++)s=o[n],l.push(i[s]);for(l=this.getStyle(l),n=0;n<a;n++)s=o[n],r+=Math.abs(parseFloat(l[i[s]])||0)}return r},addCls:function(){var t=function(t){var e,i=this.dom;return i&&t&&t.length&&(e=Ext.Element.mergeClsList(i.className,t)).changed&&(i.className=e.join(" ")),this};return s?function(e){var n,s,r,o,a,l=this.dom,h=this.trimRe,d=e;if("string"==typeof e&&(e=e.replace(h,"").split(i)),l&&e&&(o=e.length))if(l.className)if(n=l.classList){for(r=0;r<o;++r)(a=e[r])&&(n.contains(a)||(s?s.push(a):s=(s=l.className.replace(h,""))?[s,a]:[a]));s&&(l.className=s.join(" "))}else t(d);else l.className=e.join(" ");return this}:t}(),removeCls:function(t){var e,n,s,r=this.dom;return"string"==typeof t&&(t=t.replace(this.trimRe,"").split(i)),r&&r.className&&t&&(n=t.length)&&(e=r.classList,1===n&&e?t[0]&&e.remove(t[0]):(s=Ext.Element.removeCls(r.className,t)).changed&&(r.className=s.join(" "))),this},radioCls:function(t){var e,i,n,s=this.dom.parentNode.childNodes;for(t=Ext.isArray(t)?t:[t],i=0,n=s.length;i<n;i++)(e=s[i])&&1==e.nodeType&&l.attach(e).removeCls(t);return this.addCls(t)},toggleCls:function(){var t=function(t){return this.hasCls(t)?this.removeCls(t):this.addCls(t)};return s?function(e){var i,n=this.dom;return n&&(e=e.replace(this.trimRe,""))&&((i=n.classList)?i.toggle(e):t(e)),this}:t}(),hasCls:function(){var t=function(t){var e=this.dom;return!!e&&(t&&-1!==(" "+e.className+" ").indexOf(" "+t+" "))};return s?function(e){var i,n=this.dom,s=!1;return n&&e&&(s=(i=n.classList)?i.contains(e):t(e)),s}:t}(),replaceCls:function(t,e){return this.removeCls(t).addCls(e)},isStyle:function(t,e){return this.getStyle(t)==e},getStyle:function(e,i){var n,s,r,o,a,l,h=this.dom,d="string"!=typeof e,c=this.styleHooks,u=e,f=u,p=1;if(d&&(s={},u=f[0],l=0,!(p=f.length)))return s;if(!h||h.documentElement)return s||"";n=h.style,i?a=n:(a=h.ownerDocument.defaultView.getComputedStyle(h,null))||(i=!0,a=n);do{if((r=c[u])||(c[u]=r={name:t.normalize(u)}),o=r.get?r.get(h,this,i,a):a[r.name],!d)return o;s[u]=o,u=f[++l]}while(l<p);return s},getStyles:function(){var t,e=Ext.Array.slice(arguments),i=e.length;return i&&"boolean"==typeof e[i-1]&&(t=e.pop()),this.getStyle(e,t)},isTransparent:function(t){var e=this.getStyle(t);return!!e&&n.test(e)},setStyle:function(e,i){var n,s=this.dom,r=this.styleHooks,o=s.style,a=e;if("string"==typeof a)(n=r[a])||(r[a]=n={name:t.normalize(a)}),i=null==i?"":i,n.set?n.set(s,i,this):o[n.name]=i,n.afterSet&&n.afterSet(s,i,this);else for(a in e)e.hasOwnProperty(a)&&((n=r[a])||(r[a]=n={name:t.normalize(a)}),i=null==(i=e[a])?"":i,n.set?n.set(s,i,this):o[n.name]=i,n.afterSet&&n.afterSet(s,i,this));return this},getHeight:function(t){var e=this.dom,i=t?e.clientHeight-this.getPadding("tb"):e.offsetHeight;return i>0?i:0},getWidth:function(t){var e=this.dom,i=t?e.clientWidth-this.getPadding("lr"):e.offsetWidth;return i>0?i:0},setWidth:function(e){return this.dom.style.width=t.addUnits(e),this},setHeight:function(e){return this.dom.style.height=t.addUnits(e),this},getBorderWidth:function(t){return this.addStyles(t,r)},getPadding:function(t){return this.addStyles(t,o)},margins:a,applyStyles:function(e){if(e){var i,n,s=this.dom;if("function"==typeof e&&(e=e.call()),"string"==typeof e)for(i=0,n=(e=Ext.util.Format.trim(e).split(/\s*(?::|;)\s*/)).length;i<n;)s.style[t.normalize(e[i++])]=e[i++];else"object"==typeof e&&this.setStyle(e)}},setSize:function(e,i){var n=this.dom.style;return Ext.isObject(e)&&(i=e.height,e=e.width),n.width=t.addUnits(e),n.height=t.addUnits(i),this},getViewSize:function(){var e=document,i=this.dom;return i==e||i==e.body?{width:t.getViewportWidth(),height:t.getViewportHeight()}:{width:i.clientWidth,height:i.clientHeight}},getSize:function(t){var e=this.dom;return{width:Math.max(0,t?e.clientWidth-this.getPadding("lr"):e.offsetWidth),height:Math.max(0,t?e.clientHeight-this.getPadding("tb"):e.offsetHeight)}},repaint:function(){var t=this.dom;return this.addCls(Ext.baseCSSPrefix+"repaint"),setTimeout(function(){l.attach(t).removeCls(Ext.baseCSSPrefix+"repaint")},1),this},getMargin:function(t){var e,i,n,s={t:"top",l:"left",r:"right",b:"bottom"};if(t)return this.addStyles(t,this.margins);n=[];for(e in this.margins)this.margins.hasOwnProperty(e)&&n.push(this.margins[e]);if((i=this.getStyle(n))&&"object"==typeof i)for(e in this.margins)this.margins.hasOwnProperty(e)&&(i[s[e]]=parseFloat(i[this.margins[e]])||0);return i},mask:function(t,e,i){var n,s,r=this,o=r.dom,a=(r.$cache||r.getCache()).data,l=a.mask,h=Ext.baseCSSPrefix;r.addCls(h+"masked"),"static"==r.getStyle("position")&&r.addCls(h+"masked-relative"),l&&l.remove(),n=r.createChild({cls:h+"mask"+(!1!==i?"":" "+h+"mask-gray"),html:t?'<div class="'+(e||h+"mask-message")+'">'+t+"</div>":""}),s=r.getSize(),a.mask=n,o===document.body&&(s.height=window.innerHeight,r.orientationHandler&&Ext.EventManager.unOrientationChange(r.orientationHandler,r),r.orientationHandler=function(){(s=r.getSize()).height=window.innerHeight,n.setSize(s)},Ext.EventManager.onOrientationChange(r.orientationHandler,r)),n.setSize(s),Ext.is.iPad&&Ext.repaint()},unmask:function(){var t=(this.$cache||this.getCache()).data,e=t.mask,i=Ext.baseCSSPrefix;e&&(e.remove(),delete t.mask),this.removeCls([i+"masked",i+"masked-relative"]),this.dom===document.body&&(Ext.EventManager.unOrientationChange(this.orientationHandler,this),delete this.orientationHandler)}}),Ext.onReady(function(){function e(t,e,i,s){var r=s[this.name]||"";return n.test(r)?"transparent":r}var i,s,r,o,a,l=Ext.supports;if(i=t.prototype.styleHooks,l.init&&l.init(),l.RightMargin||(i.marginRight=i["margin-right"]={name:"marginRight",get:l.DisplayChangeInputSelectionBug||l.DisplayChangeTextAreaSelectionBug?function(e,i,n,s){var r,o,a,l=s.marginRight;return"0px"!=l&&(r=e.style,o=t.getRightMarginFixCleaner(e),a=r.display,r.display="inline-block",l=(n?s:e.ownerDocument.defaultView.getComputedStyle(e,"")).marginRight,r.display=a,o()),l}:function(t,e,i,n){var s,r,o=n.marginRight;return"0px"!=o&&(r=(s=t.style).display,s.display="inline-block",o=(i?n:t.ownerDocument.defaultView.getComputedStyle(t,null)).marginRight,s.display=r),o}}),!l.TransparentColor)for(r=(s=["background-color","border-color","color","outline-color"]).length;r--;)o=s[r],a=t.normalize(o),i[o]=i[a]={name:a,get:e}})}),Ext.define("Ext.dom.AbstractElement_traversal",{override:"Ext.dom.AbstractElement",findParent:function(t,e,i){var n,s=this.dom,r=document.documentElement,o=0;for(e=e||50,isNaN(e)&&(n=Ext.getDom(e),e=Number.MAX_VALUE);s&&1==s.nodeType&&o<e&&s!=r&&s!=n;){if(Ext.DomQuery.is(s,t))return i?Ext.get(s):s;o++,s=s.parentNode}return null},findParentNode:function(t,e,i){var n=Ext.fly(this.dom.parentNode,"_internal");return n?n.findParent(t,e,i):null},up:function(t,e,i){return this.findParentNode(t,e,!i)},select:function(t,e){return Ext.dom.Element.select(t,this.dom,e)},query:function(t){return Ext.DomQuery.select(t,this.dom)},down:function(t,e){var i=Ext.DomQuery.selectNode(t,this.dom);return e?i:Ext.get(i)},child:function(t,e){var i,n;return n=Ext.id(this.dom),n=Ext.escapeId(n),i=Ext.DomQuery.selectNode("#"+n+" > "+t,this.dom),e?i:Ext.get(i)},parent:function(t,e){return this.matchNode("parentNode","parentNode",t,e)},next:function(t,e){return this.matchNode("nextSibling","nextSibling",t,e)},prev:function(t,e){return this.matchNode("previousSibling","previousSibling",t,e)},first:function(t,e){return this.matchNode("nextSibling","firstChild",t,e)},last:function(t,e){return this.matchNode("previousSibling","lastChild",t,e)},matchNode:function(t,e,i,n){if(!this.dom)return null;for(var s=this.dom[e];s;){if(1==s.nodeType&&(!i||Ext.DomQuery.is(s,i)))return n?s:Ext.get(s);s=s[t]}return null},isAncestor:function(t){return this.self.isAncestor.call(this.self,this.dom,t)}}),Ext.define("Ext.dom.AbstractElement",{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(t){var e,i,n,s,r=window.document,o=Ext.dom.Element;return t?(t.isFly&&(t=t.dom),"string"==typeof t?t==Ext.windowId?o.get(window):t==Ext.documentId?o.get(r):(e=Ext.cache[t])&&e.skipGarbageCollection?e.el:(n=r.getElementById(t))?e&&e.el?Ext.updateCacheEntry(e,n).el:new o(n,!!e):null:t.tagName?((s=t.id)||(s=Ext.id(t)),e=Ext.cache[s],e&&e.el?Ext.updateCacheEntry(e,t).el:new o(t,!!e)):t instanceof this?(t!=this.docEl&&t!=this.winEl&&(s=t.id,(e=Ext.cache[s])&&Ext.updateCacheEntry(e,r.getElementById(s)||t.dom)),t):t.isComposite?t:Ext.isArray(t)?this.select(t):t===r?(this.docEl||((i=this.docEl=Ext.Object.chain(o.prototype)).dom=r,i.el=i,i.id=Ext.id(r),this.addToCache(i)),this.docEl):t===window?(this.winEl||(this.winEl=Ext.Object.chain(o.prototype),this.winEl.dom=window,this.winEl.id=Ext.id(window),this.addToCache(this.winEl)),this.winEl):null):null},addToCache:function(t,e){return t&&Ext.addCacheEntry(e,t),t},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var t,e,i,n,s,r,o={},a=[],l=!1,h=this.trimRe,d=this.whitespaceRe;for(e=0,i=arguments.length;e<i;e++)if(t=arguments[e],Ext.isString(t)&&(t=t.replace(h,"").split(d)),t)for(n=0,s=t.length;n<s;n++)o[r=t[n]]||(e&&(l=!0),o[r]=!0);for(r in o)a.push(r);return a.changed=l,a},removeCls:function(t,e){var i,n,s,r={},o=[],a=!1,l=this.whitespaceRe;if(t)for(Ext.isString(t)&&(t=t.replace(this.trimRe,"").split(l)),i=0,n=t.length;i<n;i++)r[t[i]]=!0;if(e)for(Ext.isString(e)&&(e=e.split(l)),i=0,n=e.length;i<n;i++)r[s=e[i]]&&(a=!0,delete r[s]);for(s in r)o.push(s);return o.changed=a,o},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(t,e){var i,n="string"==typeof t?document.getElementById(t):t;return this.el=this,n?(i=n.id,!e&&i&&Ext.cache[i]?Ext.cache[i].el:(this.dom=n,this.id=i||Ext.id(n),void this.self.addToCache(this))):null},set:function(t,e){var i,n,s=this.dom;for(i in t)t.hasOwnProperty(i)&&(n=t[i],"style"==i?this.applyStyles(n):"cls"==i?s.className=n:!1!==e?void 0===n?s.removeAttribute(i):s.setAttribute(i,n):s[i]=n);return this},defaultUnit:"px",is:function(t){return Ext.DomQuery.is(this.dom,t)},getValue:function(t){var e=this.dom.value;return t?parseInt(e,10):e},remove:function(){var t=this.dom;this.isAnimate&&this.stopAnimation(),t&&(Ext.removeNode(t),delete this.dom)},contains:function(t){if(!t)return!1;var e=t.dom||t;return e===this.dom||Ext.dom.AbstractElement.isAncestor(this.dom,e)},getAttribute:function(t,e){var i=this.dom;return i.getAttributeNS(e,t)||i.getAttribute(e+":"+t)||i.getAttribute(t)||i[t]},update:function(t){return this.dom&&(this.dom.innerHTML=t),this},setHTML:function(t){return this.dom&&(this.dom.innerHTML=t),this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){return this.setVisible(!1),this},show:function(){return this.setVisible(!0),this},setVisible:function(t,e){var i=this.self,n=this.getVisibilityMode(),s=Ext.baseCSSPrefix;switch(n){case i.VISIBILITY:this.removeCls([s+"hidden-display",s+"hidden-offsets"]),this[t?"removeCls":"addCls"](s+"hidden-visibility");break;case i.DISPLAY:this.removeCls([s+"hidden-visibility",s+"hidden-offsets"]),this[t?"removeCls":"addCls"](s+"hidden-display");break;case i.OFFSETS:this.removeCls([s+"hidden-visibility",s+"hidden-display"]),this[t?"removeCls":"addCls"](s+"hidden-offsets")}return this},getVisibilityMode:function(){var t=(this.$cache||this.getCache()).data,e=t.visibilityMode;return void 0===e&&(t.visibilityMode=e=this.self.DISPLAY),e},setVisibilityMode:function(t){return(this.$cache||this.getCache()).data.visibilityMode=t,this},getCache:function(){var t=this.dom.id||Ext.id(this.dom);return this.$cache=Ext.cache[t]||Ext.addCacheEntry(t,null,this.dom),this.$cache}},function(){var t=this;Ext.getDetachedBody=function(){var e=t.detachedBodyEl;return e||(e=document.createElement("div"),t.detachedBodyEl=e=new t.Fly(e),e.isDetachedBody=!0),e},Ext.getElementById=function(e){var i,n=document.getElementById(e);return!n&&(i=t.detachedBodyEl)&&(n=i.dom.querySelector("#"+Ext.escapeId(e))),n},Ext.get=function(t){return Ext.dom.Element.get(t)},this.addStatics({Fly:new Ext.Class({extend:t,isFly:!0,constructor:function(t){this.dom=t,this.el=this},attach:function(t){return this.dom=t,this.$cache=t.id?Ext.cache[t.id]:null,this}}),_flyweights:{},fly:function(e,i){var n=null,s=t._flyweights;return i=i||"_global",(e=Ext.getDom(e))&&((n=s[i]||(s[i]=new t.Fly)).dom=e,n.$cache=e.id?Ext.cache[e.id]:null),n}}),Ext.fly=function(){return t.fly.apply(t,arguments)},function(t){t.destroy=t.remove,document.querySelector?t.getById=function(t,e){var i=document.getElementById(t)||this.dom.querySelector("#"+Ext.escapeId(t));return e?i:i?Ext.get(i):null}:t.getById=function(t,e){var i=document.getElementById(t);return e?i:i?Ext.get(i):null}}(this.prototype)}),Ext.define("Ext.dom.Helper",function(){var t="afterbegin",e="beforebegin",i="</tbody></table>",n=document.createElement("div"),s=["BeforeBegin","previousSibling"],r=["AfterEnd","nextSibling"],o={beforebegin:s,afterend:r},a={beforebegin:s,afterend:r,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{extend:Ext.dom.AbstractHelper,tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:!1,createDom:function(t,e){var i,n,s,r,o,a,l,h=document;if(Ext.isArray(t))for(i=h.createDocumentFragment(),a=0,l=t.length;a<l;a++)this.createDom(t[a],i);else if("string"==typeof t)i=h.createTextNode(t);else{n=!!(i=h.createElement(t.tag||"div")).setAttribute;for(s in t)this.confRe.test(s)||(r=t[s],"cls"==s?i.className=r:n?i.setAttribute(s,r):i[s]=r);Ext.DomHelper.applyStyles(i,t.style),(o=t.children||t.cn)?this.createDom(o,i):t.html&&(i.innerHTML=t.html)}return e&&e.appendChild(i),i},ieTable:function(t,e,i,s){n.innerHTML=[e,i,s].join("");for(var r,o=-1,a=n;++o<t;)a=a.firstChild;if(r=a.nextSibling)for(r=a,a=document.createDocumentFragment();r;)nx=r.nextSibling,a.appendChild(r),r=nx;return a},insertIntoTable:function(n,s,r,o){var a,l,h=s==e,d=s==t,c="beforeend"==s,u="afterend"==s;return"td"==n&&(d||c)||!this.tableElRe.test(n)&&(h||u)?null:(l=h?r:u?r.nextSibling:d?r.firstChild:null,(h||u)&&(r=r.parentNode),a="td"==n||"tr"==n&&(c||d)?this.ieTable(4,"<table><tbody><tr>",o,"</tr></tbody></table>"):("tbody"==n||"thead"==n)&&(c||d)||"tr"==n&&(h||u)?this.ieTable(3,"<table><tbody>",o,i):this.ieTable(2,"<table>",o,"</table>"),r.insertBefore(a,l),a)},createContextualFragment:function(t){var e,i,s=document.createDocumentFragment();for(n.innerHTML=t,e=(i=n.childNodes).length;e--;)s.appendChild(i[0]);return s},applyStyles:function(t,e){e&&("function"==typeof e&&(e=e.call()),"string"==typeof e&&(e=Ext.dom.Element.parseStyles(e)),"object"==typeof e&&Ext.fly(t,"_applyStyles").setStyle(e))},createHtml:function(t){return this.markup(t)},doInsert:function(t,e,i,n,s,r){t=t.dom||Ext.getDom(t);var o;return this.useDom?(o=this.createDom(e,null),r?t.appendChild(o):("firstChild"==s?t:t.parentNode).insertBefore(o,t[s]||t)):o=this.insertHtml(n,t,this.markup(e)),i?Ext.get(o,!0):o},overwrite:function(t,e,i){var n;if(t=Ext.getDom(t),e=this.markup(e),Ext.isIE&&this.tableRe.test(t.tagName)){for(;t.firstChild;)t.removeChild(t.firstChild);return e?(n=this.insertHtml("afterbegin",t,e),i?Ext.get(n):n):null}return t.innerHTML=e,i?Ext.get(t.firstChild):t.firstChild},insertHtml:function(i,n,s){var r,l,h,d,c;return i=i.toLowerCase(),n.insertAdjacentHTML?Ext.isIE&&this.tableRe.test(n.tagName)&&(c=this.insertIntoTable(n.tagName.toLowerCase(),i,n,s))?c:(r=a[i])?(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction?MSApp.execUnsafeLocalFunction(function(){n.insertAdjacentHTML(r[0],s)}):n.insertAdjacentHTML(r[0],s),n[r[1]]):void 0:(3===n.nodeType&&(i="beforeend"===(i="afterbegin"===i?"beforebegin":i)?"afterend":i),l=Ext.supports.CreateContextualFragment?n.ownerDocument.createRange():void 0,d="setStart"+(this.endRe.test(i)?"After":"Before"),o[i]?(l?(l[d](n),c=l.createContextualFragment(s)):c=this.createContextualFragment(s),n.parentNode.insertBefore(c,i==e?n:n.nextSibling),n[(i==e?"previous":"next")+"Sibling"]):(h=(i==t?"first":"last")+"Child",n.firstChild?(l?(l[d](n[h]),c=l.createContextualFragment(s)):c=this.createContextualFragment(s),i==t?n.insertBefore(c,n.firstChild):n.appendChild(c)):n.innerHTML=s,n[h]))},createTemplate:function(t){var e=this.markup(t);return new Ext.Template(e)}}}(),function(){Ext.ns("Ext.core"),Ext.DomHelper=Ext.core.DomHelper=new this}),Ext.define("Ext.Template",{inheritableStatics:{from:function(t,e){return t=Ext.getDom(t),new this(t.value||t.innerHTML,e||"")}},constructor:function(t){var e,i=arguments,n=[],s=0,r=i.length;if(this.initialConfig={},1===r&&Ext.isArray(t)&&(r=(i=t).length),r>1)for(;s<r;s++)"object"==typeof(e=i[s])?(Ext.apply(this.initialConfig,e),Ext.apply(this,e)):n.push(e);else n.push(t);this.html=n.join(""),this.compiled&&this.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(t){var e=!0!==this.disableFormats,i=Ext.util.Format,n=this;return this.compiled?this.compiled(t).join(""):this.html.replace(this.re,function(s,r,o,a){return o&&e?(a=a?[t[r]].concat(Ext.functionFactory("return ["+a+"];")()):[t[r]],"this."==o.substr(0,5)?n[o.substr(5)].apply(n,a):i[o].apply(i,a)):void 0!==t[r]?t[r]:""})},applyOut:function(t,e){return this.compiled?e.push.apply(e,this.compiled(t)):e.push(this.apply(t)),e},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(t,e){return this.html=t,this.compiled=null,e?this.compile():this},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){function fn(t,e,i,n){return i&&useFormat?(n=n?","+n:"",i="this."!=i.substr(0,5)?"fm."+i+"(":"this."+i.substr(5)+"("):(n="",i="(values['"+e+"'] == undefined ? '' : "),"',"+i+"values['"+e+"']"+n+") ,'"}var me=this,fm=Ext.util.Format,useFormat=!0!==me.disableFormats,body,bodyReturn;return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'];};",eval(body),me},insertFirst:function(t,e,i){return this.doInsert("afterBegin",t,e,i)},insertBefore:function(t,e,i){return this.doInsert("beforeBegin",t,e,i)},insertAfter:function(t,e,i){return this.doInsert("afterEnd",t,e,i)},append:function(t,e,i){return this.doInsert("beforeEnd",t,e,i)},doInsert:function(t,e,i,n){var s=Ext.DomHelper.insertHtml(t,Ext.getDom(e),this.apply(i));return n?Ext.get(s):s},overwrite:function(t,e,i){var n=Ext.DomHelper.overwrite(Ext.getDom(t),this.apply(e));return i?Ext.get(n):n}}),Ext.define("Ext.XTemplateParser",{constructor:function(t){Ext.apply(this,t)},doTpl:Ext.emptyFn,parse:function(t){var e,i,n,s,r,o,a,l,h,d,c,u,f=t.length,p={elseif:"elif"},g=this.topRe,m=this.actionsRe;for(this.level=0,this.stack=i=[],e=0;e<f;e=d){if(g.lastIndex=e,!(s=g.exec(t))){this.doText(t.substring(e,f));break}if(h=s.index,d=g.lastIndex,e<h&&this.doText(t.substring(e,h)),s[1])d=t.indexOf("%}",h+2),this.doEval(t.substring(h+2,d)),d+=2;else if(s[2])d=t.indexOf("]}",h+2),this.doExpr(t.substring(h+2,d)),d+=2;else if(s[3])this.doTag(s[3]);else if(s[4]){for(c=null;null!==(l=m.exec(s[4]));)(n=l[2]||l[3])&&(n=Ext.String.htmlDecode(n),r=p[r=l[1]]||r,"string"==typeof(o=(c=c||{})[r])?c[r]=[o,n]:o?c[r].push(n):c[r]=n);c?c.if?(this.doIf(c.if,c),i.push({type:"if"})):c.switch?(this.doSwitch(c.switch,c),i.push({type:"switch"})):c.case?this.doCase(c.case,c):c.elif?this.doElseIf(c.elif,c):c.for?(++this.level,(u=this.propRe.exec(s[4]))&&(c.propName=u[1]||u[2]),this.doFor(c.for,c),i.push({type:"for",actions:c})):c.foreach?(++this.level,(u=this.propRe.exec(s[4]))&&(c.propName=u[1]||u[2]),this.doForEach(c.foreach,c),i.push({type:"foreach",actions:c})):c.exec&&(this.doExec(c.exec,c),i.push({type:"exec",actions:c})):this.elseRe.test(s[4])?this.doElse():this.defaultRe.test(s[4])?this.doDefault():(this.doTpl(),i.push({type:"tpl"}))}else 5===s[0].length?i.push({type:"tpl"}):(a=i.pop(),this.doEnd(a.type,a.actions),"for"!=a.type&&"foreach"!=a.type||--this.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.XTemplateCompiler",{extend:Ext.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(t){var e=this.generate(t);return this.useEval?this.evalTpl(e):new Function("Ext",e)(Ext)},generate:function(t){var e,i="var fm=Ext.util.Format,ts=Object.prototype.toString;";return this.maxLevel=0,this.body=["var c0=values, a0="+this.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],this.definitions?"string"==typeof this.definitions?this.definitions=[this.definitions,i]:this.definitions.push(i):this.definitions=[i],this.switches=[],this.parse(t),this.definitions.push((this.useEval?"$=":"return")+" function ("+this.fnArgs+") {",this.body.join(""),"}"),e=this.definitions.join("\n"),this.definitions.length=this.body.length=this.switches.length=0,delete this.definitions,delete this.body,delete this.switches,e},doText:function(t){var e=this.body;t=t.replace(this.aposRe,"\\'").replace(this.newLineRe,"\\n"),this.useIndex?e.push("out[out.length]='",t,"'\n"):e.push("out.push('",t,"')\n")},doExpr:function(t){var e=this.body;e.push("if ((v="+t+") != null) out"),this.useIndex?e.push("[out.length]=v+''\n"):e.push(".push(v+'')\n")},doTag:function(t){var e=this.parseTag(t);e?this.doExpr(e):this.doText("{"+t+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(t){this.body.push(t,"\n")},doIf:function(t,e){"."===t?this.body.push("if (values) {\n"):this.propNameRe.test(t)?this.body.push("if (",this.parseTag(t),") {\n"):this.body.push("if (",this.addFn(t),this.callFn,") {\n"),e.exec&&this.doExec(e.exec)},doElseIf:function(t,e){"."===t?this.body.push("else if (values) {\n"):this.propNameRe.test(t)?this.body.push("} else if (",this.parseTag(t),") {\n"):this.body.push("} else if (",this.addFn(t),this.callFn,") {\n"),e.exec&&this.doExec(e.exec)},doSwitch:function(t){"."===t?this.body.push("switch (values) {\n"):this.propNameRe.test(t)?this.body.push("switch (",this.parseTag(t),") {\n"):this.body.push("switch (",this.addFn(t),this.callFn,") {\n"),this.switches.push(0)},doCase:function(t){var e,i,n=Ext.isArray(t)?t:[t],s=this.switches.length-1;for(this.switches[s]?this.body.push("break;\n"):this.switches[s]++,i=0,s=n.length;i<s;++i)e=this.intRe.exec(n[i]),n[i]=e?e[1]:"'"+n[i].replace(this.aposRe,"\\'")+"'";this.body.push("case ",n.join(": case "),":\n")},doDefault:function(){var t=this.switches.length-1;this.switches[t]?this.body.push("break;\n"):this.switches[t]++,this.body.push("default:\n")},doEnd:function(t,e){var i=this.level-1;"for"==t||"foreach"==t?(e.exec&&this.doExec(e.exec),this.body.push("}\n"),this.body.push("parent=p",i,";values=r",i+1,";xcount=n"+i+";xindex=i",i,"+1;xkey=k",i,";\n")):"if"!=t&&"switch"!=t||this.body.push("}\n")},doFor:function(t,e){var i,n,s=this.level,r=s-1;i="."===t?"values":this.propNameRe.test(t)?this.parseTag(t):this.addFn(t)+this.callFn,this.maxLevel<s&&(this.maxLevel=s,this.body.push("var ")),n="."==t?"c"+s:"a"+r+"?c"+r+"[i"+r+"]:c"+r,this.body.push("i",s,"=0,n",s,"=0,c",s,"=",i,",a",s,"=",this.createArrayTest(s),",r",s,"=values,p",s,",k",s,";\n","p",s,"=parent=",n,"\n","if (c",s,"){if(a",s,"){n",s,"=c",s,".length;}else if (c",s,".isMixedCollection){c",s,"=c",s,".items;n",s,"=c",s,".length;}else if(c",s,".isStore){c",s,"=c",s,".data.items;n",s,"=c",s,".length;}else{c",s,"=[c",s,"];n",s,"=1;}}\n","for (xcount=n",s,";i",s,"<n"+s+";++i",s,"){\n","values=c",s,"[i",s,"]"),e.propName&&this.body.push(".",e.propName),this.body.push("\n","xindex=i",s,"+1\n"),e.between&&this.body.push('if(xindex>1){ out.push("',e.between,'"); } \n')},doForEach:function(t,e){var i,n,s=this.level,r=s-1;i="."===t?"values":this.propNameRe.test(t)?this.parseTag(t):this.addFn(t)+this.callFn,this.maxLevel<s&&(this.maxLevel=s,this.body.push("var ")),n="."==t?"c"+s:"a"+r+"?c"+r+"[i"+r+"]:c"+r,this.body.push("i",s,"=-1,n",s,"=0,c",s,"=",i,",a",s,"=",this.createArrayTest(s),",r",s,"=values,p",s,",k",s,";\n","p",s,"=parent=",n,"\n","for(k",s," in c",s,"){\n","xindex=++i",s,"+1;\n","xkey=k",s,";\n","values=c",s,"[k",s,"];"),e.propName&&this.body.push(".",e.propName),e.between&&this.body.push('if(xindex>1){ out.push("',e.between,'"); } \n')},createArrayTest:"isArray"in Array?function(t){return"Array.isArray(c"+t+")"}:function(t){return"ts.call(c"+t+')==="[object Array]"'},doExec:function(t,e){var i="f"+this.definitions.length;this.definitions.push("function "+i+"("+this.fnArgs+") {"," try { with(values) {","  "+t," }} catch(e) {","}","}"),this.body.push(i+this.callFn+"\n")},addFn:function(t){var e="f"+this.definitions.length;return"."===t?this.definitions.push("function "+e+"("+this.fnArgs+") {"," return values","}"):".."===t?this.definitions.push("function "+e+"("+this.fnArgs+") {"," return parent","}"):this.definitions.push("function "+e+"("+this.fnArgs+") {"," try { with(values) {","  return("+t+")"," }} catch(e) {","}","}"),e},parseTag:function(t){var e,i,n,s,r,o=this.tagRe.exec(t);return o?(e=o[1],i=o[2],n=o[3],s=o[4],"."==e?(this.validTypes||(this.definitions.push("var validTypes={string:1,number:1,boolean:1};"),this.validTypes=!0),r='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):r="#"==e?"xindex":"$"==e?"xkey":"parent."==e.substr(0,7)?e:isNaN(e)&&-1==e.indexOf("-")&&-1!=e.indexOf(".")?"values."+e:"values['"+e+"']",s&&(r="("+r+s+")"),i&&this.useFormat?(n=n?","+n:"","this."!=i.substr(0,5)?i="fm."+i+"(":i+="(",i+r+n+")"):r):null},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var t=this.prototype;t.fnArgs="out,values,parent,xindex,xcount,xkey",t.callFn=".call(this,"+t.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:Ext.Template,emptyObj:{},apply:function(t,e){return this.applyOut(t,[],e).join("")},applyOut:function(t,e,i){var n;this.fn||(n=new Ext.XTemplateCompiler({useFormat:!0!==this.disableFormats,definitions:this.definitions}),this.fn=n.compile(this.html));try{this.fn(e,t,i||this.emptyObj,1,1)}catch(t){}return e},compile:function(){return this},statics:{getTpl:function(t,e){var i,n=t[e];if(n&&!n.isTemplate){if(n=Ext.ClassManager.dynInstantiate("Ext.XTemplate",n),t.hasOwnProperty(e))i=t;else for(i=t.self.prototype;i&&!i.hasOwnProperty(e);i=i.superclass);i[e]=n,n.owner=i}return n||null}}}),Ext.ns("Ext.core"),Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){function children(t){for(var e,i=t.firstChild,n=-1;i;)e=i.nextSibling,3!=i.nodeType||nonSpace.test(i.nodeValue)?i.nodeIndex=++n:t.removeChild(i),i=e;return this}function attrValue(t,e){return t.tagName||void 0===t.length||(t=t[0]),t?"for"==e?t.htmlFor:"class"==e||"className"==e?t.className:t.getAttribute(e)||t[e]:null}function getNodes(t,e,i){var n,s,r,o,a,l,h,d,c,u=[],f=-1;if(!t)return u;if(i=i.replace("|",":")||"*",void 0!==t.getElementsByTagName&&(t=[t]),e){if("/"==e||">"==e)for(h=i.toUpperCase(),s=0;r=t[s];s++)for(l=r.childNodes,o=0;c=l[o];o++)c.nodeName!=h&&c.nodeName!=i&&"*"!=i||(u[++f]=c);else if("+"==e)for(h=i.toUpperCase(),s=0;d=t[s];s++){for(;(d=d.nextSibling)&&1!=d.nodeType;);!d||d.nodeName!=h&&d.nodeName!=i&&"*"!=i||(u[++f]=d)}else if("~"==e)for(h=i.toUpperCase(),s=0;d=t[s];s++)for(;d=d.nextSibling;)d.nodeName!=h&&d.nodeName!=i&&"*"!=i||(u[++f]=d)}else if(i=unescapeCssSelector(i),!supportsColonNsSeparator&&DQ.isXml(t[0])&&-1!==i.indexOf(":"))for(s=0;r=t[s];s++)for(n=r.getElementsByTagName(i.split(":").pop()),o=0;a=n[o];o++)a.tagName===i&&(u[++f]=a);else for(s=0;r=t[s];s++)for(n=r.getElementsByTagName(i),o=0;a=n[o];o++)u[++f]=a;return u}function concat(t,e){return t.push.apply(t,e),t}function byTag(t,e){if((t.tagName||t===doc)&&(t=[t]),!e)return t;var i,n,s=[],r=-1;for(e=e.toLowerCase(),i=0;n=t[i];i++)1==n.nodeType&&n.tagName.toLowerCase()==e&&(s[++r]=n);return s}function byId(t,e){if(e=unescapeCssSelector(e),(t.tagName||t===doc)&&(t=[t]),!e)return t;var i,n,s=[],r=-1;for(i=0;n=t[i];i++)if(n&&n.id==e)return s[++r]=n,s;return s}function byAttribute(t,e,i,n,s){var r,o,a,l,h,d=[],c=-1,u="{"==s,f=DQ.operators[n];for(i=unescapeCssSelector(i),l=0;h=t[l];l++)1===h.nodeType&&(a||(o=DQ.isXml(h),a=!0),r=o?h.getAttribute(e):u?DQ.getStyle(h,e):"class"==e||"className"==e?h.className:"for"==e?h.htmlFor:"href"==e?h.getAttribute("href",2):h.getAttribute(e),(f&&f(r,i)||!f&&r)&&(d[++c]=h));return d}function byPseudo(t,e,i){return i=unescapeCssSelector(i),DQ.pseudos[e](t,i)}function nodupIEXml(t){var e,i,n,s,r=++key;for(t[0].setAttribute("_nodup",r),e=[t[0]],i=1,n=t.length;i<n;i++)!(s=t[i]).getAttribute("_nodup")!=r&&(s.setAttribute("_nodup",r),e[e.length]=s);for(i=0,n=t.length;i<n;i++)t[i].removeAttribute("_nodup");return e}function nodup(t){if(!t)return[];var e,i,n,s,r,o=t.length,a=t,l=-1;if(!o||void 0!==t.nodeType||1==o)return t;if(isIE&&void 0!==t[0].selectSingleNode)return nodupIEXml(t);for(s=++key,t[0]._nodup=s,i=1;e=t[i];i++){if(e._nodup==s){for(a=[],r=0;r<i;r++)a[++l]=t[r];for(r=i+1;n=t[r];r++)n._nodup!=s&&(n._nodup=s,a[++l]=n);return a}e._nodup=s}return a}function quickDiffIEXml(t,e){var i,n,s=++key,r=[];for(i=0,n=t.length;i<n;i++)t[i].setAttribute("_qdiff",s);for(i=0,n=e.length;i<n;i++)e[i].getAttribute("_qdiff")!=s&&(r[r.length]=e[i]);for(i=0,n=t.length;i<n;i++)t[i].removeAttribute("_qdiff");return r}function quickDiff(t,e){var i,n,s=t.length,r=++key,o=[];if(!s)return e;if(isIE&&void 0!==t[0].selectSingleNode)return quickDiffIEXml(t,e);for(i=0;i<s;i++)t[i]._qdiff=r;for(i=0,n=e.length;i<n;i++)e[i]._qdiff!=r&&(o[o.length]=e[i]);return o}function quickId(t,e,i,n){if(t==i){n=unescapeCssSelector(n);return(i.ownerDocument||i).getElementById(n)}return t=getNodes(t,e,"*"),byId(t,n)}var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=function(){var t=doc.createElement("div");return t.innerHTML="\x3c!-- --\x3etext\x3c!-- --\x3e",t.children&&0===t.children.length}(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=!!window.ActiveXObject,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=function(){var t,e='<r><a:b xmlns:a="n"></a:b></r>';return window.DOMParser?t=(new DOMParser).parseFromString(e,"application/xml"):(t=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e),!!t.getElementsByTagName("a:b").length}(),longHexToChar=function(t,e){return String.fromCharCode(parseInt(e,16))},shortToLongHex=function(t,e){for(;e.length<6;)e="0"+e;return"\\"+e},charToLongHex=function(t,e){return 1===(num=e.charCodeAt(0).toString(16)).length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(t){return hasEscapes?t.replace(longHex,longHexToChar):t},setupEscapes=function(t){return(hasEscapes=t.indexOf("\\")>-1)&&(t=t.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),t};return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(t,e){return t.children[e]}:function(t,e){for(var i=0,n=t.firstChild;n;){if(1==n.nodeType&&++i==e)return n;n=n.nextSibling}return null},next=useElementPointer?function(t){return t.nextElementSibling}:function(t){for(;(t=t.nextSibling)&&1!=t.nodeType;);return t},prev=useElementPointer?function(t){return t.previousElementSibling}:function(t){for(;(t=t.previousSibling)&&1!=t.nodeType;);return t},byClassName=useClassList?function(t,e){if(!(e=unescapeCssSelector(e)))return t;var i,n,s,r=[],o=-1;for(i=0;n=t[i];i++)(s=n.classList)?s.contains(e)&&(r[++o]=n):-1!==(" "+n.className+" ").indexOf(e)&&(r[++o]=n);return r}:function(t,e){if(!(e=unescapeCssSelector(e)))return t;var i,n,s=[],r=-1;for(i=0;n=t[i];i++)-1!==(" "+n.className+" ").indexOf(e)&&(s[++r]=n);return s},DQ={getStyle:function(t,e){return Ext.fly(t,"_DomQuery").getStyle(e)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?("#"==tokenMatch[1]?fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&("#"==tokenMatch[1]?fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");':fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;j<matchersLn;j++)if(t=matchers[j],m=path.match(t.re)){fn[fn.length]=t.select.replace(tplRe,function(t,e){return m[e]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(t,e,i){"string"==typeof(e=e||doc)&&(e=doc.getElementById(e));var n,s,r,o,a=t.split(","),l=[];for(n=0,s=a.length;n<s;n++)r=a[n].replace(trimRe,""),cache[r]?setupEscapes(r):(cache[r]=DQ.compile(r,i),cache[r]||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:r+" is not a valid selector"})),(o=cache[r](e))&&o!==doc&&(l=l.concat(o));return a.length>1?nodup(l):l},isXml:function(t){var e=(t?t.ownerDocument||t:0).documentElement;return!!e&&"HTML"!==e.nodeName},select:doc.querySelectorAll?function(t,e,i,n){if(e=e||doc,!DQ.isXml(e))try{return e.parentNode&&9!==e.nodeType&&-1===t.indexOf(",")&&!startIdRe.test(t)&&(t="#"+Ext.escapeId(Ext.id(e))+" "+t,e=e.parentNode),n?[e.querySelector(t)]:Ext.Array.toArray(e.querySelectorAll(t))}catch(t){}return DQ.jsSelect.call(this,t,e,i)}:function(t,e,i){return DQ.jsSelect.call(this,t,e,i)},selectNode:function(t,e){return Ext.DomQuery.select(t,e,null,!0)[0]},selectValue:function(t,e,i){t=t.replace(trimRe,""),valueCache[t]?setupEscapes(t):valueCache[t]=DQ.compile(t,"select");var n,s=valueCache[t](e);return"function"==typeof(s=s[0]?s[0]:s).normalize&&s.normalize(),null===(n=s&&s.firstChild?s.firstChild.nodeValue:null)||void 0===n||""===n?i:n},selectNumber:function(t,e,i){var n=DQ.selectValue(t,e,i||0);return parseFloat(n)},is:function(t,e){"string"==typeof t&&(t=doc.getElementById(t));var i=Ext.isArray(t),n=DQ.filter(i?t:[t],e);return i?n.length==t.length:n.length>0},filter:function(t,e,i){e=e.replace(trimRe,""),simpleCache[e]?setupEscapes(e):simpleCache[e]=DQ.compile(e,"simple");var n=simpleCache[e](t);return i?quickDiff(n,t):n},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(t,e){return t==e},"!=":function(t,e){return t!=e},"^=":function(t,e){return t&&t.substr(0,e.length)==e},"$=":function(t,e){return t&&t.substr(t.length-e.length)==e},"*=":function(t,e){return t&&-1!==t.indexOf(e)},"%=":function(t,e){return t%e==0},"|=":function(t,e){return t&&(t==e||t.substr(0,e.length+1)==e+"-")},"~=":function(t,e){return t&&-1!=(" "+t+" ").indexOf(" "+e+" ")}},pseudos:{"first-child":function(t){var e,i,n,s=[],r=-1;for(i=0;n=e=t[i];i++){for(;(e=e.previousSibling)&&1!=e.nodeType;);e||(s[++r]=n)}return s},"last-child":function(t){var e,i,n,s=[],r=-1;for(i=0;n=e=t[i];i++){for(;(e=e.nextSibling)&&1!=e.nodeType;);e||(s[++r]=n)}return s},"nth-child":function(t,e){var i,n,s,r,o,a=[],l=-1,h=nthRe.exec(("even"==e?"2n":"odd"==e&&"2n+1")||!nthRe2.test(e)&&"n+"+e||e),d=(h[1]||1)-0,c=h[2]-0;for(i=0;n=t[i];i++){if(o=n.parentNode,batch!=o._batch){for(s=0,r=o.firstChild;r;r=r.nextSibling)1==r.nodeType&&(r.nodeIndex=++s);o._batch=batch}1==d?0!=c&&n.nodeIndex!=c||(a[++l]=n):(n.nodeIndex+c)%d==0&&(a[++l]=n)}return a},"only-child":function(t){var e,i,n=[],s=-1;for(e=0;i=t[e];e++)prev(i)||next(i)||(n[++s]=i);return n},empty:function(t){var e,i,n,s,r,o,a=[],l=-1;for(e=0;i=t[e];e++){for(n=i.childNodes,s=0,o=!0;r=n[s];)if(++s,1==r.nodeType||3==r.nodeType){o=!1;break}o&&(a[++l]=i)}return a},contains:function(t,e){var i,n,s=[],r=-1;for(i=0;n=t[i];i++)-1!=(n.textContent||n.innerText||n.text||"").indexOf(e)&&(s[++r]=n);return s},nodeValue:function(t,e){var i,n,s=[],r=-1;for(i=0;n=t[i];i++)n.firstChild&&n.firstChild.nodeValue==e&&(s[++r]=n);return s},checked:function(t){var e,i,n=[],s=-1;for(e=0;i=t[e];e++)1==i.checked&&(n[++s]=i);return n},not:function(t,e){return DQ.filter(t,e,!0)},any:function(t,e){var i,n,s,r,o=e.split("|"),a=[],l=-1;for(n=0;s=t[n];n++)for(r=0;i=o[r];r++)if(DQ.is(s,i)){a[++l]=s;break}return a},odd:function(t){return this["nth-child"](t,"odd")},even:function(t){return this["nth-child"](t,"even")},nth:function(t,e){return t[e-1]||[]},first:function(t){return t[0]||[]},last:function(t){return t[t.length-1]||[]},has:function(t,e){var i,n,s=DQ.select,r=[],o=-1;for(i=0;n=t[i];i++)s(e,n).length>0&&(r[++o]=n);return r},next:function(t,e){var i,n,s,r=DQ.is,o=[],a=-1;for(i=0;n=t[i];i++)(s=next(n))&&r(s,e)&&(o[++a]=n);return o},prev:function(t,e){var i,n,s,r=DQ.is,o=[],a=-1;for(i=0;n=t[i];i++)(s=prev(n))&&r(s,e)&&(o[++a]=n);return o},focusable:function(t){for(var e,i=t.length,n=[],s=0;s<i;s++)e=t[s],Ext.fly(e,"_DomQuery").isFocusable()&&n.push(e);return n},visible:function(t,e){for(var i,n=t.length,s=[],r=0;r<n;r++)i=t[r],Ext.fly(i,"_DomQuery").isVisible(e)&&s.push(i);return s}}}}(),Ext.query=Ext.DomQuery.select,Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(t){var e,i,n=this.dom.id||Ext.id(this.dom);return Ext.fx.Manager.hasFxBlock(n)||(t.listeners&&(e=t.listeners,delete t.listeners),t.internalListeners&&(t.listeners=t.internalListeners,delete t.internalListeners),i=new Ext.fx.Anim(this.anim(t)),e&&i.on(e),Ext.fx.Manager.queueFx(i)),this},anim:function(t){if(!Ext.isObject(t))return!!t&&{};var e,i=t.duration||Ext.fx.Anim.prototype.duration,n=t.easing||"ease";return t.stopAnimation&&this.stopAnimation(),Ext.applyIf(t,Ext.fx.Manager.getFxDefaults(this.id)),Ext.fx.Manager.setFxDefaults(this.id,{delay:0}),e={target:this.dom,remove:t.remove,alternate:t.alternate||!1,duration:i,easing:n,callback:t.callback,listeners:t.listeners,iterations:t.iterations||1,scope:t.scope,block:t.block,concurrent:t.concurrent,delay:t.delay||0,paused:!0,keyframes:t.keyframes,from:t.from||{},to:Ext.apply({},t)},Ext.apply(e.to,t.to),delete e.to.to,delete e.to.from,delete e.to.remove,delete e.to.alternate,delete e.to.keyframes,delete e.to.iterations,delete e.to.listeners,delete e.to.target,delete e.to.paused,delete e.to.callback,delete e.to.scope,delete e.to.duration,delete e.to.easing,delete e.to.concurrent,delete e.to.block,delete e.to.stopAnimation,delete e.to.delay,e},slideIn:function(t,e,i){var n,s,r,o,a=this,l=a.dom,h=l.style;return t=t||"t",e=e||{},n=function(){var n,d,c,u,f=this,p=e.listeners,g=Ext.fly(l,"_anim");switch(i||g.fixDisplay(),n=g.getBox(),"t"!=t&&"b"!=t||0!==n.height?"l"!=t&&"r"!=t||0!==n.width||(n.width=l.scrollWidth):n.height=l.scrollHeight,d=g.getStyles("width","height","left","right","top","bottom","position","z-index",!0),g.setSize(n.width,n.height),e.preserveScroll&&(r=g.cacheScrollValues()),u=g.wrap({id:Ext.id()+"-anim-wrap-for-"+g.dom.id,style:{visibility:i?"visible":"hidden"}}),o=u.dom.parentNode,u.setPositioning(g.getPositioning(!0)),u.isStyle("position","static")&&u.position("relative"),g.clearPositioning("auto"),u.clip(),r&&r(),g.setStyle({visibility:"",position:"absolute"}),i&&u.setSize(n.width,n.height),t){case"t":c={from:{width:n.width+"px",height:"0px"},to:{width:n.width+"px",height:n.height+"px"}},h.bottom="0px";break;case"l":c={from:{width:"0px",height:n.height+"px"},to:{width:n.width+"px",height:n.height+"px"}},a.anchorAnimX(t);break;case"r":c={from:{x:n.x+n.width,width:"0px",height:n.height+"px"},to:{x:n.x,width:n.width+"px",height:n.height+"px"}},a.anchorAnimX(t);break;case"b":c={from:{y:n.y+n.height,width:n.width+"px",height:"0px"},to:{y:n.y,width:n.width+"px",height:n.height+"px"}};break;case"tl":c={from:{x:n.x,y:n.y,width:"0px",height:"0px"},to:{width:n.width+"px",height:n.height+"px"}},h.bottom="0px",a.anchorAnimX("l");break;case"bl":c={from:{y:n.y+n.height,width:"0px",height:"0px"},to:{y:n.y,width:n.width+"px",height:n.height+"px"}},a.anchorAnimX("l");break;case"br":c={from:{x:n.x+n.width,y:n.y+n.height,width:"0px",height:"0px"},to:{x:n.x,y:n.y,width:n.width+"px",height:n.height+"px"}},a.anchorAnimX("r");break;case"tr":c={from:{x:n.x+n.width,width:"0px",height:"0px"},to:{x:n.x,width:n.width+"px",height:n.height+"px"}},h.bottom="0px",a.anchorAnimX("r")}u.show(),delete(s=Ext.apply({},e)).listeners,(s=new Ext.fx.Anim(Ext.applyIf(s,{target:u,duration:500,easing:"ease-out",from:i?c.to:c.from,to:i?c.from:c.to}))).on("afteranimate",function(){var t=Ext.fly(l,"_anim");t.setStyle(d),i&&(e.useDisplay?t.setDisplayed(!1):t.hide()),u.dom&&(u.dom.parentNode?u.dom.parentNode.insertBefore(t.dom,u.dom):o.appendChild(t.dom),u.remove()),r&&r(),f.end()}),p&&s.on(p)},a.animate({duration:e.duration?2*Math.max(e.duration,500):1e3,listeners:{beforeanimate:n}}),a},slideOut:function(t,e){return this.slideIn(t,e,!0)},puff:function(t){var e,i=this.dom,n=this.getBox(),s=this.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",!0);return t=Ext.applyIf(t||{},{easing:"ease-out",duration:500,useDisplay:!1}),e=function(){var e=Ext.fly(i,"_anim");e.clearOpacity(),e.show(),this.to={width:2*n.width,height:2*n.height,x:n.x-n.width/2,y:n.y-n.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){var e=Ext.fly(i,"_anim");e&&(t.useDisplay?e.setDisplayed(!1):e.hide(),e.setStyle(s),Ext.callback(t.callback,t.scope))})},this.animate({duration:t.duration,easing:t.easing,listeners:{beforeanimate:{fn:e}}}),this},switchOff:function(t){var e,i=this.dom;return t=Ext.applyIf(t||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),e=function(){var e,n=Ext.fly(i,"_anim"),s=this,r=n.getSize(),o=n.getXY();n.clearOpacity(),n.clip(),e=n.getPositioning(),new Ext.fx.Animator({target:i,duration:t.duration,easing:t.easing,keyframes:{33:{opacity:.3},66:{height:1,y:o[1]+r.height/2},100:{width:1,x:o[0]+r.width/2}}}).on("afteranimate",function(){var n=Ext.fly(i,"_anim");t.useDisplay?n.setDisplayed(!1):n.hide(),n.clearOpacity(),n.setPositioning(e),n.setSize(r),s.end()})},this.animate({duration:2*Math.max(t.duration,500),listeners:{beforeanimate:{fn:e}}}),this},frame:function(t,e,i){var n,s=this.dom;return t=t||"#C3DAF9",e=e||1,i=i||{},n=function(){var n,r,o=Ext.fly(s,"_anim"),a=this;o.show(),n=o.getBox(),r=Ext.getBody().createChild({id:o.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+t}}),new Ext.fx.Anim({target:r,duration:i.duration||1e3,iterations:e,from:{top:n.y,left:n.x,borderWidth:0,opacity:1,height:n.height,width:n.width},to:{top:n.y-20,left:n.x-20,borderWidth:10,opacity:0,height:n.height+40,width:n.width+40}}).on("afteranimate",function(){r.remove(),a.end()})},this.animate({duration:2*Math.max(i.duration,500)||2e3,listeners:{beforeanimate:{fn:n}}}),this},ghost:function(t,e){var i,n=this.dom;return t=t||"b",i=function(){var e=Ext.fly(n,"_anim"),i=e.getWidth(),s=e.getHeight(),r=e.getXY(),o=e.getPositioning(),a={opacity:0};switch(t){case"t":a.y=r[1]-s;break;case"l":a.x=r[0]-i;break;case"r":a.x=r[0]+i;break;case"b":a.y=r[1]+s;break;case"tl":a.x=r[0]-i,a.y=r[1]-s;break;case"bl":a.x=r[0]-i,a.y=r[1]+s;break;case"br":a.x=r[0]+i,a.y=r[1]+s;break;case"tr":a.x=r[0]+i,a.y=r[1]-s}this.to=a,this.on("afteranimate",function(){var t=Ext.fly(n,"_anim");t&&(t.hide(),t.clearOpacity(),t.setPositioning(o))})},this.animate(Ext.applyIf(e||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:i}})),this},highlight:function(t,e){var i,n,s,r,o,a=this.dom,l={};return a.tagName.match(this.tableTagRe)?this.select("div").highlight(t,e):(e=e||{},r=e.listeners||{},s=e.attr||"backgroundColor",l[s]=t||"ffff9c",e.to?n=e.to:(n={})[s]=e.endColor||this.getColor(s,"ffffff",""),e.listeners=Ext.apply(Ext.apply({},r),{beforeanimate:function(){i=a.style[s];var t=Ext.fly(a,"_anim");if(t.clearOpacity(),t.show(),o=r.beforeanimate)return(o.fn||o).apply(o.scope||r.scope||window,arguments)},afteranimate:function(){a&&(a.style[s]=i),(o=r.afteranimate)&&(o.fn||o).apply(o.scope||r.scope||window,arguments)}}),this.animate(Ext.apply({},e,{duration:1e3,easing:"ease-in",from:l,to:n})),this)},pause:function(t){return Ext.fx.Manager.setFxDefaults(this.id,{delay:t}),this},fadeIn:function(t){var e=this.dom;return this.animate(Ext.apply({},t,{opacity:1,internalListeners:{beforeanimate:function(t){var i=Ext.fly(e,"_anim");i.isStyle("display","none")?i.setDisplayed(""):i.show()}}})),this},fadeOut:function(t){var e=this.dom;return t=Ext.apply({opacity:0,internalListeners:{afteranimate:function(i){if(e&&0===i.to.opacity){var n=Ext.fly(e,"_anim");t.useDisplay?n.setDisplayed(!1):n.hide()}}}},t),this.animate(t),this},scale:function(t,e,i){return this.animate(Ext.apply({},i,{width:t,height:e})),this},shift:function(t){return this.animate(t),this},anchorAnimX:function(t){var e="l"===t?"right":"left";this.dom.style[e]="0px"}}),Ext.define("Ext.dom.Element_dd",{override:"Ext.dom.Element",initDD:function(t,e,i){var n=new Ext.dd.DD(Ext.id(this.dom),t,e);return Ext.apply(n,i)},initDDProxy:function(t,e,i){var n=new Ext.dd.DDProxy(Ext.id(this.dom),t,e);return Ext.apply(n,i)},initDDTarget:function(t,e,i){var n=new Ext.dd.DDTarget(Ext.id(this.dom),t,e);return Ext.apply(n,i)}}),Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){var t=Ext.dom.Element,e="display",i=Ext.baseCSSPrefix+"hide-offsets",n=function(t){var e=(t.$cache||t.getCache()).data,i=e.originalDisplay;return void 0===i&&(e.originalDisplay=i=""),i},s=function(e){var i=(e.$cache||e.getCache()).data,n=i.visibilityMode;return void 0===n&&(i.visibilityMode=n=t.VISIBILITY),n};t.override({originalDisplay:"",visibilityMode:1,setVisible:function(n,r){var o=this.dom,a=s(this);if("string"==typeof r){switch(r){case e:a=t.DISPLAY;break;case"visibility":a=t.VISIBILITY;break;case"offsets":a=t.OFFSETS;break;case"nosize":case"asclass":a=t.ASCLASS}this.setVisibilityMode(a),r=!1}if(r&&this.anim)n&&(this.setOpacity(.01),this.setVisible(!0)),Ext.isObject(r)||(r={duration:350,easing:"ease-in"}),this.animate(Ext.applyIf({callback:function(){n||Ext.fly(o,"_internal").setVisible(!1).setOpacity(1)},to:{opacity:n?1:0}},r));else{if(a==t.DISPLAY)return this.setDisplayed(n);a==t.OFFSETS?this[n?"removeCls":"addCls"](i):a==t.VISIBILITY?(this.fixDisplay(),o.style.visibility=n?"":"hidden"):a==t.ASCLASS&&this[n?"removeCls":"addCls"](this.visibilityCls||t.visibilityCls)}return(this.$cache||this.getCache()).data.isVisible=n,this},hasMetrics:function(){var e=s(this);return this.isVisible()||e==t.OFFSETS||e==t.VISIBILITY},toggle:function(t){return this.setVisible(!this.isVisible(),this.anim(t)),this},setDisplayed:function(t){return"boolean"==typeof t&&(t=t?n(this):"none"),this.setStyle(e,t),this},fixDisplay:function(){this.isStyle(e,"none")&&(this.setStyle("visibility","hidden"),this.setStyle(e,n(this)),this.isStyle(e,"none")&&this.setStyle(e,"block"))},hide:function(t){return"string"==typeof t?(this.setVisible(!1,t),this):(this.setVisible(!1,this.anim(t)),this)},show:function(t){return"string"==typeof t?(this.setVisible(!0,t),this):(this.setVisible(!0,this.anim(t)),this)}})}),Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var t,e=this,i={l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},n={l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},s=[n.l,n.r,n.t,n.b],r=[i.l,i.r,i.t,i.b],o=Math.round,a=document;e.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(t){return e.getXY(t)[0]},getXY:function(e){var i,n,s=a.body,r=a.documentElement,l=0,h=0,d=[0,0];if((e=Ext.getDom(e))!=a&&e!=s){if(Ext.isIE)try{i=e.getBoundingClientRect(),h=r.clientTop||s.clientTop,l=r.clientLeft||s.clientLeft}catch(t){i={left:0,top:0}}else i=e.getBoundingClientRect();n=function(e){return t||(t=new Ext.Element.Fly),t.attach(e),t}(a).getScroll(),d=[o(i.left+n.left-l),o(i.top+n.top-h)]}return d},getY:function(t){return e.getXY(t)[1]},setX:function(t,i){e.setXY(t,[i,!1])},setXY:function(t,e){(t=Ext.fly(t,"_setXY")).position();var i,n=t.translatePoints(e),s=t.dom.style;s.right="auto";for(i in n)isNaN(n[i])||(s[i]=n[i]+"px")},setY:function(t,i){e.setXY(t,[!1,i])}},center:function(t){return this.alignTo(t||a,"c-c")},clearPositioning:function(t){return t=t||"",this.setStyle({left:t,right:t,top:t,bottom:t,"z-index":"",position:"static"})},getAnchorToXY:function(t,e,i,n){return t.getAnchorXY(e,i,n)},getBottom:function(t){return(t?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var t=this.getStyle(s),e=this.getStyle(r);return{beforeX:(parseFloat(e[i.l])||0)+(parseFloat(t[n.l])||0),afterX:(parseFloat(e[i.r])||0)+(parseFloat(t[n.r])||0),beforeY:(parseFloat(e[i.t])||0)+(parseFloat(t[n.t])||0),afterY:(parseFloat(e[i.b])||0)+(parseFloat(t[n.b])||0)}},getCenterXY:function(){return this.getAlignToXY(a,"c-c")},getLeft:function(t){return t?this.getLocalX():this.getX()},getLocalX:function(){var t=this.dom.offsetParent,i=this.getStyle("left");return i&&"auto"!==i?this.pxRe.test(i)?i=parseFloat(i):(i=this.getX(),t&&(i-=e.getX(t))):i=0,i},getLocalXY:function(){var t=this.dom.offsetParent,i=this.getStyle(["left","top"]),n=i.left,s=i.top;return n&&"auto"!==n?this.pxRe.test(n)?n=parseFloat(n):(n=this.getX(),t&&(n-=e.getX(t))):n=0,s&&"auto"!==s?this.pxRe.test(s)?s=parseFloat(s):(s=this.getY(),t&&(s-=e.getY(t))):s=0,[n,s]},getLocalY:function(){var t=this.dom.offsetParent,i=this.getStyle("top");return i&&"auto"!==i?this.pxRe.test(i)?i=parseFloat(i):(i=this.getY(),t&&(i-=e.getY(t))):i=0,i},getPageBox:function(t){var e=this.dom,i="BODY"==e.nodeName,n=i?Ext.Element.getViewWidth():e.offsetWidth,s=i?Ext.Element.getViewHeight():e.offsetHeight,r=this.getXY(),o=r[1],a=r[0]+n,l=r[1]+s,h=r[0];return t?new Ext.util.Region(o,a,l,h):{left:h,top:o,width:n,height:s,right:a,bottom:l}},getPositioning:function(t){var e=this.getStyle(["left","top","position","z-index"]),i=this.dom;return t&&("auto"===e.left&&(e.left=i.offsetLeft+"px"),"auto"===e.top&&(e.top=i.offsetTop+"px")),e},getRight:function(t){return(t?this.getLocalX():this.getX())+this.getWidth()},getTop:function(t){return t?this.getLocalY():this.getY()},getX:function(){return e.getX(this.dom)},getXY:function(){return e.getXY(this.dom)},getY:function(){return e.getY(this.dom)},moveTo:function(t,e,i){return this.setXY([t,e],i)},position:function(t,e,i,n){!t&&this.isStyle("position","static")?this.setStyle("position","relative"):t&&this.setStyle("position",t),e&&this.setStyle("z-index",e),(i||n)&&this.setXY([i||!1,n||!1])},setBottom:function(t){return this.dom.style.bottom=this.addUnits(t),this},setBounds:function(t,e,i,n,s){return this.setBox({x:t,y:e,width:i,height:n},s)},setLeft:function(t){return this.dom.style.left=this.addUnits(t),this},setLeftTop:function(t,e){var i=this.dom.style;return i.left=this.addUnits(t),i.top=this.addUnits(e),this},setLocalX:function(t){var e=this.dom.style;e.right="auto",e.left=null===t?"auto":t+"px"},setLocalXY:function(t,e){var i=this.dom.style;i.right="auto",t&&t.length&&(e=t[1],t=t[0]),null===t?i.left="auto":void 0!==t&&(i.left=t+"px"),null===e?i.top="auto":void 0!==e&&(i.top=e+"px")},setLocalY:function(t){this.dom.style.top=null===t?"auto":t+"px"},setLocation:function(t,e,i){return this.setXY([t,e],i)},setPositioning:function(t){return this.setStyle(t)},setRight:function(t){return this.dom.style.right=this.addUnits(t),this},setTop:function(t){return this.dom.style.top=this.addUnits(t),this},setX:function(t,e){return this.setXY([t,this.getY()],e)},setXY:function(t,i){return i&&this.anim?(Ext.isObject(i)||(i={}),this.animate(Ext.applyIf({to:{x:t[0],y:t[1]}},i))):e.setXY(this.dom,t),this},setY:function(t,e){return this.setXY([this.getX(),t],e)}}),e.getTrueXY=e.getXY}),Ext.define("Ext.dom.Element_scroll",{override:"Ext.dom.Element",isScrollable:function(){var t=this.dom;return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth},getScroll:function(){var t,e,i=this.dom,n=document,s=n.body,r=n.documentElement;return i===n||i===s?(t=r.scrollLeft||(s?s.scrollLeft:0),e=r.scrollTop||(s?s.scrollTop:0)):(t=i.scrollLeft,e=i.scrollTop),{left:t,top:e}},getScrollLeft:function(){var t=this.dom,e=document;return t===e||t===e.body?this.getScroll().left:t.scrollLeft},getScrollTop:function(){var t=this.dom,e=document;return t===e||t===e.body?this.getScroll().top:t.scrollTop},setScrollLeft:function(t){return this.dom.scrollLeft=this.normalizeScrollLeft(t),this},normalizeScrollLeft:Ext.identityFn,setScrollTop:function(t){return this.dom.scrollTop=t,this},scrollBy:function(t,e,i){var n=this.dom;return t.length?(i=e,e=t[1],t=t[0]):"number"!=typeof t&&(i=e,e=t.y,t=t.x),t&&this.scrollTo("left",Math.max(Math.min(this.getScrollLeft()+t,n.scrollWidth-n.clientWidth),0),i),e&&this.scrollTo("top",Math.max(Math.min(n.scrollTop+e,n.scrollHeight-n.clientHeight),0),i),this},scrollTo:function(t,e,i){var n,s=/top/i.test(t),r="scroll"+(s?"Top":"Left"),o=this.dom;return s||(e=this.normalizeScrollLeft(e)),i&&this.anim?((n={to:{}}).to[r]=e,Ext.isObject(i)&&Ext.applyIf(n,i),this.animate(n)):(o[r]=e,o[r]=e),this},scrollIntoView:function(t,e,i){var n,s=this,r=s.dom,o=s.getOffsetsTo(t=Ext.getDom(t)||Ext.getBody().dom),a=o[0]+t.scrollLeft,l=o[1]+t.scrollTop,h=l+r.offsetHeight,d=a+r.offsetWidth,c=t.clientHeight,u=parseInt(t.scrollTop,10),f=parseInt(t.scrollLeft,10),p=u+c,g=f+t.clientWidth;return i&&(i=Ext.apply({listeners:{afteranimate:function(){s.scrollChildFly.attach(r).highlight()}}},i)),r.offsetHeight>c||l<u?n=l:h>p&&(n=h-c),null!=n&&s.scrollChildFly.attach(t).scrollTo("top",n,i),!1!==e&&(n=null,r.offsetWidth>t.clientWidth||a<f?n=a:d>g&&(n=d-t.clientWidth),null!=n&&s.scrollChildFly.attach(t).scrollTo("left",n,i)),s},scrollChildIntoView:function(t,e){this.scrollChildFly.attach(Ext.getDom(t)).scrollIntoView(this,e)},scroll:function(t,e,i){if(!this.isScrollable())return!1;var n,s=this.dom,r=s.scrollLeft,o=s.scrollTop,a=s.scrollWidth,l=s.scrollHeight,h=s.clientWidth,d=s.clientHeight,c=!1,u={l:Math.min(r+e,a-h),r:n=Math.max(r-e,0),t:Math.max(o-e,0),b:Math.min(o+e,l-d)};return u.d=u.b,u.u=u.t,t=t.substr(0,1),(n=u[t])>-1&&(c=!0,this.scrollTo("l"==t||"r"==t?"left":"top",n,this.anim(i))),c}},function(){this.prototype.scrollChildFly=new this.Fly,this.prototype.scrolltoFly=new this.Fly}),Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){function t(t,e,i,n){return"none"==n[this.styleName]?"0px":n[this.name]}var e,i,n,s,r,o,a,l=this,h=document.defaultView,d=/table-row|table-.*-group/,c="_internal",u="isClipped",f="overflow",p="overflow-x",g="overflow-y",m=/#document|body/i;if(h&&h.getComputedStyle||(l.prototype.getStyle=function(t,e){var i,n,s,r,o,a,h,d=this.dom,c="string"!=typeof t,u=this.styleHooks,f=t,p=f,g=1,m=e;if(c&&(s={},f=p[0],h=0,!(g=p.length)))return s;if(!d||d.documentElement)return s||"";n=d.style,e?a=n:(a=d.currentStyle)||(m=!0,a=n);do{if((r=u[f])||(u[f]=r={name:l.normalize(f)}),r.get)o=r.get(d,this,m,a);else if(i=r.name,r.canThrow)try{o=a[i]}catch(t){o=""}else o=a?a[i]:"";if(!c)return o;s[f]=o,f=p[++h]}while(h<g);return s}),l.override({getHeight:function(t,e){var i,n;return this.isStyle("display","none")?0:(i=this.dom.offsetHeight,Ext.supports.Direct2DBug&&(n=this.adjustDirect2DDimension("height"),e?i+=n:n>0&&n<.5&&i++),t&&(i-=this.getBorderWidth("tb")+this.getPadding("tb")),i<0?0:i)},getWidth:function(t,e){var i,n,s,r=this.dom;return this.isStyle("display","none")?0:(e&&Ext.supports.BoundingClientRect?(i=r.getBoundingClientRect(),n=!this.vertical||Ext.isIE9||Ext.supports.RotatedBoundingClientRect?i.right-i.left:i.bottom-i.top):n=r.offsetWidth,Ext.supports.Direct2DBug&&!this.vertical&&(s=this.adjustDirect2DDimension("width"),e?n+=s:s>0&&s<.5&&n++),t&&(n-=this.getBorderWidth("lr")+this.getPadding("lr")),n<0?0:n)},setWidth:function(t,e){return t=this.adjustWidth(t),e&&this.anim?(Ext.isObject(e)||(e={}),this.animate(Ext.applyIf({to:{width:t}},e))):this.dom.style.width=this.addUnits(t),this},setHeight:function(t,e){return t=this.adjustHeight(t),e&&this.anim?(Ext.isObject(e)||(e={}),this.animate(Ext.applyIf({to:{height:t}},e))):this.dom.style.height=this.addUnits(t),this},applyStyles:function(t){return Ext.DomHelper.applyStyles(this.dom,t),this},setSize:function(t,e,i){return Ext.isObject(t)&&(i=e,e=t.height,t=t.width),t=this.adjustWidth(t),e=this.adjustHeight(e),i&&this.anim?(!0===i&&(i={}),this.animate(Ext.applyIf({to:{width:t,height:e}},i))):(this.dom.style.width=this.addUnits(t),this.dom.style.height=this.addUnits(e)),this},getViewSize:function(){var t=this.dom;return m.test(t.nodeName)?{width:l.getViewWidth(),height:l.getViewHeight()}:{width:t.clientWidth,height:t.clientHeight}},getSize:function(t){return{width:this.getWidth(t),height:this.getHeight(t)}},adjustWidth:function(t){var e="number"==typeof t;return e&&this.autoBoxAdjust&&!this.isBorderBox()&&(t-=this.getBorderWidth("lr")+this.getPadding("lr")),e&&t<0?0:t},adjustHeight:function(t){var e="number"==typeof t;return e&&this.autoBoxAdjust&&!this.isBorderBox()&&(t-=this.getBorderWidth("tb")+this.getPadding("tb")),e&&t<0?0:t},getColor:function(t,e,i){var n,s,r=this.getStyle(t),o=i||""===i?i:"#",a=0;if(!r||/transparent|inherit/.test(r))return e;if(/^r/.test(r))for(s=(r=r.slice(4,r.length-1).split(",")).length;a<s;a++)o+=((n=parseInt(r[a],10))<16?"0":"")+n.toString(16);else o+=3==(r=r.replace("#","")).length?r.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):r;return o.length>5?o.toLowerCase():e},setOpacity:function(t,e){return this.dom?(e&&this.anim?("object"!=typeof e&&(e={duration:350,easing:"ease-in"}),this.animate(Ext.applyIf({to:{opacity:t}},e))):this.setStyle("opacity",t),this):this},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(t){var e,i=this.dom,n=this.getStyle("display"),s=i.style.display,r=i.style.position,o="width"===t?0:1,a=i.currentStyle;return"inline"===n&&(i.style.display="inline-block"),i.style.position=n.match(d)?"absolute":"static",e=(parseFloat(a[t])||2*parseFloat(a.msTransformOrigin.split(" ")[o]))%1,i.style.position=r,"inline"===n&&(i.style.display=s),e},clip:function(){var t,e=(this.$cache||this.getCache()).data;return e[u]||(e[u]=!0,t=this.getStyle([f,p,g]),e.originalClip={o:t[f],x:t[p],y:t[g]},this.setStyle(f,"hidden"),this.setStyle(p,"hidden"),this.setStyle(g,"hidden")),this},unclip:function(){var t,e=(this.$cache||this.getCache()).data;return e[u]&&(e[u]=!1,(t=e.originalClip).o&&this.setStyle(f,t.o),t.x&&this.setStyle(p,t.x),t.y&&this.setStyle(g,t.y)),this},boxWrap:function(t){t=t||Ext.baseCSSPrefix+"box";var e=Ext.get(this.insertHtml("beforeBegin","<div class='"+t+"'>"+Ext.String.format(l.boxMarkup,t)+"</div>"));return Ext.DomQuery.selectNode("."+t+"-mc",e.dom).appendChild(this.dom),e},getComputedHeight:function(){var t=Math.max(this.dom.offsetHeight,this.dom.clientHeight);return t||(t=parseFloat(this.getStyle("height"))||0,this.isBorderBox()||(t+=this.getFrameWidth("tb"))),t},getComputedWidth:function(){var t=Math.max(this.dom.offsetWidth,this.dom.clientWidth);return t||(t=parseFloat(this.getStyle("width"))||0,this.isBorderBox()||(t+=this.getFrameWidth("lr"))),t},getFrameWidth:function(t,e){return e&&this.isBorderBox()?0:this.getPadding(t)+this.getBorderWidth(t)},addClsOnOver:function(t,e,i){var n=this,s=n.dom,r=Ext.isFunction(e);return n.hover(function(){r&&!1===e.call(i||n,n)||Ext.fly(s,c).addCls(t)},function(){Ext.fly(s,c).removeCls(t)}),n},addClsOnFocus:function(t,e,i){var n=this,s=n.dom,r=Ext.isFunction(e);return n.on("focus",function(){if(r&&!1===e.call(i||n,n))return!1;Ext.fly(s,c).addCls(t)}),n.on("blur",function(){Ext.fly(s,c).removeCls(t)}),n},addClsOnClick:function(t,e,i){var n=this,s=n.dom,r=Ext.isFunction(e);return n.on("mousedown",function(){if(r&&!1===e.call(i||n,n))return!1;Ext.fly(s,c).addCls(t);var o=Ext.getDoc(),a=function(){Ext.fly(s,c).removeCls(t),o.removeListener("mouseup",a)};o.on("mouseup",a)}),n},getStyleSize:function(){var t,e,i,n=this.dom;return m.test(n.nodeName)?{width:l.getViewWidth(),height:l.getViewHeight()}:((t=this.getStyle(["height","width"],!0)).width&&"auto"!=t.width&&(e=parseFloat(t.width),this.isBorderBox()&&(e-=this.getFrameWidth("lr"))),t.height&&"auto"!=t.height&&(i=parseFloat(t.height),this.isBorderBox()&&(i-=this.getFrameWidth("tb"))),{width:e||this.getWidth(!0),height:i||this.getHeight(!0)})},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){return this.dom.unselectable="",this.removeCls(l.unselectableCls),this.addCls(l.selectableCls),this},unselectable:function(){return Ext.isOpera&&(this.dom.unselectable="on"),this.removeCls(l.selectableCls),this.addCls(l.unselectableCls),this},setVertical:function(t,e){var i=l.prototype;this.vertical=!0,e&&this.addCls(this.verticalCls=e),this.setWidth=i.setHeight,this.setHeight=i.setWidth,Ext.isIE9m||(this.getWidth=i.getHeight,this.getHeight=i.getWidth),this.styleHooks=270===t?l.prototype.verticalStyleHooks270:l.prototype.verticalStyleHooks90},setHorizontal:function(){var t=this.verticalCls;delete this.vertical,t&&(delete this.verticalCls,this.removeCls(t)),delete this.setWidth,delete this.setHeight,Ext.isIE9m||(delete this.getWidth,delete this.getHeight),delete this.styleHooks}}),l.prototype.styleHooks=e=Ext.dom.AbstractElement.prototype.styleHooks,l.prototype.verticalStyleHooks90=i=Ext.Object.chain(l.prototype.styleHooks),l.prototype.verticalStyleHooks270=n=Ext.Object.chain(l.prototype.styleHooks),i.width={name:"height"},i.height={name:"width"},i["margin-top"]={name:"marginLeft"},i["margin-right"]={name:"marginTop"},i["margin-bottom"]={name:"marginRight"},i["margin-left"]={name:"marginBottom"},i["padding-top"]={name:"paddingLeft"},i["padding-right"]={name:"paddingTop"},i["padding-bottom"]={name:"paddingRight"},i["padding-left"]={name:"paddingBottom"},i["border-top"]={name:"borderLeft"},i["border-right"]={name:"borderTop"},i["border-bottom"]={name:"borderRight"},i["border-left"]={name:"borderBottom"},n.width={name:"height"},n.height={name:"width"},n["margin-top"]={name:"marginRight"},n["margin-right"]={name:"marginBottom"},n["margin-bottom"]={name:"marginLeft"},n["margin-left"]={name:"marginTop"},n["padding-top"]={name:"paddingRight"},n["padding-right"]={name:"paddingBottom"},n["padding-bottom"]={name:"paddingLeft"},n["padding-left"]={name:"paddingTop"},n["border-top"]={name:"borderRight"},n["border-right"]={name:"borderBottom"},n["border-bottom"]={name:"borderLeft"},n["border-left"]={name:"borderTop"},Ext.isIE7m&&(e.fontSize=e["font-size"]={name:"fontSize",canThrow:!0},e.fontStyle=e["font-style"]={name:"fontStyle",canThrow:!0},e.fontFamily=e["font-family"]={name:"fontFamily",canThrow:!0}),Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8)for(r=(s=["Top","Right","Bottom","Left"]).length;r--;)a="border"+(o=s[r])+"Width",e["border-"+o.toLowerCase()+"-width"]=e[a]={name:a,styleName:"border"+o+"Style",get:t};Ext.getDoc().on("selectstart",function(t,e){var i=document.documentElement,n=l.selectableCls,s=l.unselectableCls,r=e&&e.tagName;if("input"!==(r=r&&r.toLowerCase())&&"textarea"!==r)for(;e&&1===e.nodeType&&e!==i;){var o=Ext.fly(e);if(o.hasCls(n))return;if(o.hasCls(s))return void t.stopEvent();e=e.parentNode}})}),Ext.onReady(function(){var t=/alpha\(opacity=(.*)\)/i,e=/^\s+|\s+$/g,i=Ext.dom.Element.prototype.styleHooks;i.opacity={name:"opacity",afterSet:function(t,e,i){i.isLayer&&i.onOpacitySet(e)}},!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(i.opacity,{get:function(e){var i,n,s=e.style.filter;return s.match&&(i=s.match(t))&&(n=parseFloat(i[1]),!isNaN(n))?n?n/100:0:1},set:function(i,n){var s=i.style,r=s.filter.replace(t,"").replace(e,"");s.zoom=1,"number"==typeof n&&n>=0&&n<1?(n*=100,s.filter=r+(r.length?" ":"")+"alpha(opacity="+n+")"):s.filter=r}})}),Ext.define("Ext.util.Positionable",{_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(t,e){var i=this.getConstrainVector(e,t);return i&&(t[0]+=i[0],t[1]+=i[1]),t},alignTo:function(t,e,i,n){var s=this.el;return this.setXY(this.getAlignToXY(t,e,i),!(!s.anim||!n)&&s.anim(n))},anchorTo:function(t,e,i,n,s,r){var o=this,a=!Ext.isEmpty(s),l=function(){o.alignTo(t,e,i,n),Ext.callback(r,o)},h=o.getAnchor();return o.removeAnchor(),Ext.apply(h,{fn:l,scroll:a}),Ext.EventManager.onWindowResize(l,null),a&&Ext.EventManager.on(window,"scroll",l,null,{buffer:isNaN(s)?50:s}),l(),o},calculateAnchorXY:function(t,e,i,n){var s,r,o,a=this.el,l=document,h=a.dom==l.body||a.dom==l,d=Math.round;switch(t=(t||"tl").toLowerCase(),n=n||{},r=n.width||h?Ext.Element.getViewWidth():this.getWidth(),o=n.height||h?Ext.Element.getViewHeight():this.getHeight(),t){case"tl":s=[0,0];break;case"bl":s=[0,o];break;case"tr":s=[r,0];break;case"c":s=[d(.5*r),d(.5*o)];break;case"t":s=[d(.5*r),0];break;case"l":s=[0,d(.5*o)];break;case"r":s=[r,d(.5*o)];break;case"b":s=[d(.5*r),o];break;case"tc":s=[d(.5*r),0];break;case"bc":s=[d(.5*r),o];break;case"br":s=[r,o]}return[s[0]+e,s[1]+i]},convertPositionSpec:function(t){return t},getAlignToXY:function(t,e,i){var n,s,r,o,a,l,h,d,c,u,f,p,g,m,x,E,y,v=Ext.Element.getViewWidth()-10,b=Ext.Element.getViewHeight()-10,C=document,w=C.documentElement,S=C.body,T=w.scrollLeft||S.scrollLeft||0,k=w.scrollTop||S.scrollTop||0;return!(t=Ext.get(t.el||t))||t.dom,i=i||[0,0],e=(e&&"?"!=e?/-/.test(e)||""===e?e||"tl-bl":"tl-"+e:"tl-bl?").toLowerCase(),e=this.convertPositionSpec(e),n=e.match(this._alignRe),u=n[1],f=n[2],c=!!n[3],s=this.getAnchorXY(u,!0),r=this.getAnchorToXY(t,f,!1),E=r[0]-s[0]+i[0],y=r[1]-s[1]+i[1],c&&(o=this.getWidth(),a=this.getHeight(),l=t.getRegion(),p=u.charAt(0),g=u.charAt(u.length-1),m=f.charAt(0),x=f.charAt(f.length-1),h="t"==p&&"b"==m||"b"==p&&"t"==m,d="r"==g&&"l"==x||"l"==g&&"r"==x,E+o>v+T&&(E=d?l.left-o:v+T-o),E<T&&(E=d?l.right:T),y+a>b+k&&(y=h?l.top-a:b+k-a),y<k&&(y=h?l.bottom:k)),[E,y]},getAnchor:function(){var t,e=this.el,i=(e.$cache||e.getCache()).data;if(e.dom)return(t=i._anchor)||(t=i._anchor={}),t},getAnchorXY:function(t,e,i){var n=this.getXY(),s=this.el,r=document,o=s.dom==r.body||s.dom==r,a=s.getScroll(),l=o?a.left:e?0:n[0],h=o?a.top:e?0:n[1];return this.calculateAnchorXY(t,l,h,i)},getBox:function(t,e){var i,n,s,r=e?this.getLocalXY():this.getXY(),o=r[0],a=r[1],l=this.getWidth(),h=this.getHeight();return t&&(o+=n=(i=this.getBorderPadding()).beforeX,a+=s=i.beforeY,l-=n+i.afterX,h-=s+i.afterY),{x:o,left:o,0:o,y:a,top:a,1:a,width:l,height:h,right:o+l,bottom:a+h}},calculateConstrainedPosition:function(t,e,i,n){var s,r,o,a,l=this.floatParent,h=l?l.getTargetEl():null,d=!1;return i&&l?(r=h.getXY(),o=h.getBorderPadding(),r[0]+=o.beforeX,r[1]+=o.beforeY,e&&(a=[e[0]+r[0],e[1]+r[1]])):a=e,t=t||this.constrainTo||h||this.container||this.el.parent(),(s=(this.constrainHeader?this.header.el:this.el).getConstrainVector(t,a,n))&&((d=e||this.getPosition(i))[0]+=s[0],d[1]+=s[1]),d},getConstrainVector:function(t,e,i){var n=this.getRegion(),s=[0,0],r=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,o=!1;return t instanceof Ext.util.Region||(t=Ext.get(t.el||t).getViewRegion()),e&&n.translateBy(e[0]-n.x,e[1]-n.y),i&&(n.right=n.left+i[0],n.bottom=n.top+i[1]),r&&t.adjust(r[0],-r[1],-r[2],r[3]),n.right>t.right&&(o=!0,s[0]=t.right-n.right),n.left+s[0]<t.left&&(o=!0,s[0]=t.left-n.left),n.bottom>t.bottom&&(o=!0,s[1]=t.bottom-n.bottom),n.top+s[1]<t.top&&(o=!0,s[1]=t.top-n.top),!!o&&s},getOffsetsTo:function(t){var e=this.getXY(),i=Ext.fly(t.el||t,"_internal").getXY();return[e[0]-i[0],e[1]-i[1]]},getRegion:function(){var t=this.getBox();return new Ext.util.Region(t.top,t.right,t.bottom,t.left)},getViewRegion:function(){var t,e,i,n,s,r,o,a=this.el;return"BODY"===a.dom.nodeName?(s=(e=a.getScroll()).left,n=e.top,r=Ext.dom.AbstractElement.getViewportWidth(),o=Ext.dom.AbstractElement.getViewportHeight()):(t=this.getBorderPadding(),s=(i=this.getXY())[0]+t.beforeX,n=i[1]+t.beforeY,r=this.getWidth(!0),o=this.getHeight(!0)),new Ext.util.Region(n,s+r,n+o,s)},move:function(t,e,i){var n=this.getXY(),s=n[0],r=n[1],o=[s-e,r],a=[s+e,r],l=[s,r-e],h=[s,r+e],d={l:o,left:o,r:a,right:a,t:l,top:l,up:l,b:h,bottom:h,down:h};t=t.toLowerCase(),this.setXY([d[t][0],d[t][1]],i)},removeAnchor:function(){var t=this.getAnchor();return t&&t.fn&&(Ext.EventManager.removeResizeListener(t.fn),t.scroll&&Ext.EventManager.un(window,"scroll",t.fn),delete t.fn),this},setBox:function(t,e){var i=this.el,n=t.x,s=t.y,r=t.width,o=t.height,a=this.constrain&&this.calculateConstrainedPosition(null,[n,s],!1,[r,o]);return a&&(n=a[0],s=a[1]),e&&i.anim?this.animate(Ext.applyIf({to:{x:n,y:s,width:i.adjustWidth(r),height:i.adjustHeight(o)},listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,this,[n,s])}},e)):(this.setSize(r,o),this.setXY([n,s]),this.afterSetPosition(n,s)),this},setRegion:function(t,e){return this.setBox({x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top},e)},translatePoints:function(t,e){var i=this.translateXY(t,e);return{left:i.x,top:i.y}},translateXY:function(t,e){var i=this.el,n=i.getStyle(this._positionTopLeft),s="relative"==n.position,r=parseFloat(n.left),o=parseFloat(n.top),a=this.getXY();return Ext.isArray(t)&&(e=t[1],t=t[0]),isNaN(r)&&(r=s?0:i.dom.offsetLeft),isNaN(o)&&(o=s?0:i.dom.offsetTop),r="number"==typeof t?t-a[0]+r:void 0,o="number"==typeof e?e-a[1]+o:void 0,{x:r,y:o}}}),Ext.define("Ext.dom.Element",function(t){var e,i=document,n=Ext.baseCSSPrefix+"masked",s=Ext.baseCSSPrefix+"masked-relative",r=Ext.baseCSSPrefix+"mask-msg",o=/^body/i,a=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},l=function(t){var e,i,n=[],s=-1;for(e=0;i=t[e];e++)(i.scrollTop>0||i.scrollLeft>0)&&(n[++s]=i);return n};return{extend:Ext.dom.AbstractElement,alternateClassName:["Ext.Element","Ext.core.Element"],tableTagRe:/^(?:tr|td|table|tbody)$/i,mixins:[Ext.util.Positionable],addUnits:function(){return t.addUnits.apply(t,arguments)},focus:function(t,e){e=e||this.dom;try{Number(t)?Ext.defer(this.focus,t,this,[null,e]):e.focus()}catch(t){}return this},blur:function(){var t=this.dom;if(t!==document.body){try{t.blur()}catch(t){}return this}return this.focus(void 0,t)},isBorderBox:function(){var t=Ext.isBorderBox;return t&&Ext.isIE7m&&(t=!((this.dom.tagName||"").toLowerCase()in a)),t},hover:function(t,e,i,n){return this.on("mouseenter",t,i||this.dom,n),this.on("mouseleave",e,i||this.dom,n),this},getAttributeNS:function(t,e){return this.getAttribute(e,t)},getAttribute:!Ext.isIE||Ext.isIE9p&&i.documentMode>=9?function(t,e){var i=this.dom;return e?i.getAttributeNS(e,t)||i.getAttribute(e+":"+t):i.getAttribute(t)||i[t]||null}:function(t,e){var i,n=this.dom;return e?"undefined"!=(i=typeof n[e+":"+t])&&"unknown"!=i?n[e+":"+t]||null:null:("for"===t&&(t="htmlFor"),n[t]||null)},cacheScrollValues:function(){var t,e,i,n=[];for(Ext.DomQuery.pseudos.isScrolled||(Ext.DomQuery.pseudos.isScrolled=l),t=this.query(":isScrolled"),i=0;i<t.length;i++)e=t[i],n[i]=[e.scrollLeft,e.scrollTop];return function(){for(i=0;i<t.length;i++)(e=t[i]).scrollLeft=n[i][0],e.scrollTop=n[i][1]}},autoBoxAdjust:!0,isVisible:function(i){var n=this.dom,s=n.ownerDocument.documentElement;for(e||(e=new t.Fly);n!==s;){if(!n||11===n.nodeType||e.attach(n).isStyle("visibility","hidden")||e.isStyle("display","none"))return!1;if(!i)break;n=n.parentNode}return!0},isDisplayed:function(){return!this.isStyle("display","none")},enableDisplayMode:function(e){return this.setVisibilityMode(t.DISPLAY),Ext.isEmpty(e)||((this.$cache||this.getCache()).data.originalDisplay=e),this},mask:function(t,e,a){var l,h,d=this.dom,c=d.style.setExpression,u=(this.$cache||this.getCache()).data,f=u.maskShimEl,p=u.maskEl,g=u.maskMsg;if(o.test(d.tagName)&&"static"==this.getStyle("position")||this.addCls(s),p&&p.remove(),g&&g.remove(),f&&f.remove(),Ext.isIE6&&(f=Ext.DomHelper.append(d,{tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"},!0),u.maskShimEl=f,f.setDisplayed(!0)),Ext.DomHelper.append(d,[{cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{cls:e?r+" "+e:r,cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-text",html:t||""}}}]),g=Ext.get(d.lastChild),p=Ext.get(g.dom.previousSibling),u.maskMsg=g,u.maskEl=p,this.addCls(n),p.setDisplayed(!0),"string"==typeof t?(g.setDisplayed(!0),g.center(this)):g.setDisplayed(!1),!Ext.supports.IncludePaddingInWidthCalculation&&c)try{p.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"'),l='this.parentNode.clientWidth + "px"',f&&f.dom.style.setExpression("width",l),p.dom.style.setExpression("width",l)}catch(t){}if(!Ext.supports.IncludePaddingInHeightCalculation&&c)try{h="this.parentNode."+(d==i.body?"scrollHeight":"offsetHeight")+' + "px"',f&&f.dom.style.setExpression("height",h),p.dom.style.setExpression("height",h)}catch(t){}else!Ext.isIE9m||Ext.isIE7&&Ext.isStrict||"auto"!=this.getStyle("height")||(f&&f.setSize(void 0,a||this.getHeight()),p.setSize(void 0,a||this.getHeight()));return p},unmask:function(){var t,e=(this.$cache||this.getCache()).data,i=e.maskEl,r=e.maskShimEl,o=e.maskMsg;i&&((t=i.dom.style).clearExpression&&(t.clearExpression("width"),t.clearExpression("height")),i&&(i.remove(),delete e.maskEl),o&&(o.remove(),delete e.maskMsg),this.removeCls([n,s]),r&&((t=r.dom.style).clearExpression&&(t.clearExpression("width"),t.clearExpression("height")),r.remove(),delete e.maskShimEl))},isMasked:function(){var t=(this.$cache||this.getCache()).data,e=t.maskEl,i=t.maskMsg,n=!1;return e&&e.isVisible()&&(i&&i.center(this),n=!0),n},createShim:function(){var t,e=i.createElement("iframe");return e.frameBorder="0",e.className=Ext.baseCSSPrefix+"shim",e.src=Ext.SSL_SECURE_URL,t=Ext.get(this.dom.parentNode.insertBefore(e,this.dom)),t.autoBoxAdjust=!1,t},addKeyListener:function(t,e,i){var n;return n="object"!=typeof t||Ext.isArray(t)?{target:this,key:t,fn:e,scope:i}:{target:this,key:t.key,shift:t.shift,ctrl:t.ctrl,alt:t.alt,fn:e,scope:i},new Ext.util.KeyMap(n)},addKeyMap:function(t){return new Ext.util.KeyMap(Ext.apply({target:this},t))},on:function(t,e,i,n){return Ext.EventManager.on(this,t,e,i||this,n),this},un:function(t,e,i){return Ext.EventManager.un(this,t,e,i||this),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this),this},select:function(e){return t.select(e,!1,this.dom)}}},function(){var t,e=document,i=Ext.cache,n=this,s=Ext.dom.AbstractElement,r=/^a|button|embed|iframe|input|object|select|textarea$/i,o=/\S/,a=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,l=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,h=/\ssrc=([\'\"])(.*?)\1/i,d=/\stype=([\'\"])(.*?)\1/i,c=!Ext.isIE8m;n.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>',n.collectorThreadId=setInterval(function(){if(Ext.enableGarbageCollector){var t,e,s,r;for(t in i)i.hasOwnProperty(t)&&((s=i[t]).skipGarbageCollection||(e=s.dom).parentNode&&(e.offsetParent||Ext.getElementById(t))||(e&&Ext.enableListenerCollection&&Ext.EventManager.removeAll(e),delete i[t]));if(Ext.isIE){r={};for(t in i)i.hasOwnProperty(t)&&(r[t]=i[t]);i=Ext.cache=r}}else clearInterval(n.collectorThreadId)},3e4),n.addMethods({monitorMouseLeave:function(t,e,i){var n,s=this,r={mouseleave:function(r){n=setTimeout(Ext.Function.bind(e,i||s,[r]),t)},mouseenter:function(){clearTimeout(n)},freezeEvent:!0};return s.on(r),r},swallowEvent:function(t,e){var i,n,s=function(t){t.stopPropagation(),e&&t.preventDefault()};if(Ext.isArray(t)){for(n=t.length,i=0;i<n;i++)this.on(t[i],s);return this}return this.on(t,s),this},relayEvent:function(t,e){this.on(t,function(i){e.fireEvent(t,i)})},clean:function(e){var i,n=this.dom,s=(this.$cache||this.getCache()).data,r=n.firstChild,a=-1;if(s.isCleaned&&!0!==e)return this;for(;r;)i=r.nextSibling,3==r.nodeType?o.test(r.nodeValue)?i&&3==i.nodeType&&(r.appendData(Ext.String.trim(i.data)),n.removeChild(i),i=r.nextSibling,r.nodeIndex=++a):n.removeChild(r):(t.attach(r).clean(),r.nodeIndex=++a),r=i;return s.isCleaned=!0,this},load:function(t){return this.getLoader().load(t),this},getLoader:function(){var t=(this.$cache||this.getCache()).data,e=t.loader;return e||(t.loader=e=new Ext.ElementLoader({target:this})),e},syncContent:function(e){var i,n,s,r,o,a,l,h=(e=Ext.getDom(e)).childNodes,d=h.length,c=this.dom,u=c.childNodes,f=u.length;if(c.mergeAttributes)c.mergeAttributes(e,!0),c.src=e.src;else for(a=(o=e.attributes).length,i=0;i<a;i++)"id"!==(l=o[i].name)&&c.setAttribute(l,o[i].value);if(d===f)for(i=0;i<d;i++){if(s=h[i],n=u[i],(r=s.nodeType)!==n.nodeType||1===r&&s.tagName!==n.tagName)return void(c.innerHTML=e.innerHTML);3===r?n.data=s.data:(s.id&&n.id!==s.id&&(n.id=s.id),n.style.cssText=s.style.cssText,n.className=s.className,t.attach(n).syncContent(s))}else c.innerHTML=e.innerHTML},update:function(t,i,n){var s,r,o,c=this;return c.dom?(t=t||"",r=c.dom,!0!==i?(r.innerHTML=t,Ext.callback(n,c),c):(s=Ext.id(),t+='<span id="'+s+'"></span>',o=setInterval(function(){var i,r,l,u,f,p,g;if(!(p=e.getElementById(s)))return!1;for(clearInterval(o),Ext.removeNode(p),i=Ext.getHead().dom;r=a.exec(t);)(u=!!(l=r[1])&&l.match(h))&&u[2]?((g=e.createElement("script")).src=u[2],(f=l.match(d))&&f[2]&&(g.type=f[2]),i.appendChild(g)):r[2]&&r[2].length>0&&(window.execScript?window.execScript(r[2]):window.eval(r[2]));Ext.callback(n,c)},20),r.innerHTML=t.replace(l,""),c)):c},removeAllListeners:function(){return this.removeAnchor(),Ext.EventManager.removeAll(this.dom),this},createProxy:function(t,e,i){t="object"==typeof t?t:{tag:"div",cls:t};var s=e?Ext.DomHelper.append(e,t,!0):Ext.DomHelper.insertBefore(this.dom,t,!0);return s.setVisibilityMode(n.DISPLAY),s.hide(),i&&this.setBox&&this.getBox&&s.setBox(this.getBox()),s},needsTabIndex:function(){if(this.dom)return"a"===this.dom.nodeName&&!this.dom.href||!r.test(this.dom.nodeName)},isFocusable:function(t){var e,i=this.dom,n=i.getAttributeNode("tabIndex"),s=i.nodeName,o=!1;return n&&n.specified&&(e=n.value),i&&!i.disabled&&(-1==e?o=Ext.FocusManager&&Ext.FocusManager.enabled&&t:r.test(s)?("a"!==s||i.href)&&(o=!0):o=null!=e&&e>=0,o=o&&this.isVisible(!0)),o}}),Ext.isIE&&(n.prototype.getById=function(t,s){var r,o,a=this.dom;return a&&(o=c&&e.getElementById(t)||a.all[t])?s?o:(r=i[t])&&r.el?Ext.updateCacheEntry(r,o).el:new n(o):s?Ext.getDom(t):n.get(t)}),n.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"}),n.Fly=s.Fly=new Ext.Class({extend:n,isFly:!0,constructor:function(t){this.dom=t,this.el=this},attach:s.Fly.prototype.attach}),t=new n.Fly,Ext.isIE?Ext.getElementById=function(t){var i,n=e.getElementById(t);return!n&&(i=s.detachedBodyEl)&&(n=i.dom.all[t]),n}:e.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(t){return e.getElementById(t)})}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",statics:{importElementMethods:function(){var t,e=Ext.dom.Element.prototype,i=this.prototype;for(t in e)"function"==typeof e[t]&&function(t){i[t]=i[t]||function(){return this.invoke(t,arguments)}}.call(i,t)}},constructor:function(t,e){this.elements=[],this.add(t,e),this.el=new Ext.dom.AbstractElement.Fly},isComposite:!0,getElement:function(t){return this.el.attach(t)},transformElement:function(t){return Ext.getDom(t)},getCount:function(){return this.elements.length},add:function(t,e){var i,n,s=this.elements;if(!t)return this;for("string"==typeof t?t=Ext.dom.Element.selectorFunction(t,e):t.isComposite?t=t.elements:Ext.isIterable(t)||(t=[t]),i=0,n=t.length;i<n;++i)s.push(this.transformElement(t[i]));return this},invoke:function(t,e){var i,n,s=this.elements,r=s.length;for(t=Ext.dom.Element.prototype[t],n=0;n<r;n++)(i=s[n])&&t.apply(this.getElement(i),e);return this},item:function(t){var e=this.elements[t],i=null;return e&&(i=this.getElement(e)),i},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(t,e,i,n){var s,r,o=this.elements,a=o.length;for(s=0;s<a;s++)(r=o[s])&&Ext.EventManager.on(r,t,e,i||r,n);return this},each:function(t,e){var i,n,s=this.elements,r=s.length;for(i=0;i<r&&(!(n=s[i])||(n=this.getElement(n),!1!==t.call(e||n,n,this,i)));i++);return this},fill:function(t){return this.elements=[],this.add(t),this},insert:function(t,e){Ext.Array.insert(this.elements,t,e)},filter:function(t){for(var e,i=this.elements,n=i.length,s=[],r=0,o="function"==typeof t;r<n;r++)!1,(e=i[r])&&(e=this.getElement(e),(o?!1!==t.call(e,e,this,r):e.is(t))&&s.push(this.transformElement(e)));return this.elements=s,this},indexOf:function(t){return Ext.Array.indexOf(this.elements,this.transformElement(t))},replaceElement:function(t,e,i){var n,s=isNaN(t)?this.indexOf(t):t;return s>-1&&(e=Ext.getDom(e),i&&((n=this.elements[s]).parentNode.insertBefore(e,n),Ext.removeNode(n)),Ext.Array.splice(this.elements,s,1,e)),this},clear:function(t){var e=this.elements,i=e.length-1;if(t)for(;i>=0;i--)Ext.removeNode(e[i]);this.elements=[]},addElements:function(t,e){if(!t)return this;"string"==typeof t&&(t=Ext.dom.Element.selectorFunction(t,e));var i,n=this.elements,s=t.length;for(i=0;i<s;i++)n.push(Ext.get(t[i]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(t){return-1!=this.indexOf(t)},removeElement:function(t,e){t=[].concat(t);var i,n,s,r=this.elements,o=t.length;for(s=0;s<o;s++)(n=r[i=t[s]]||r[i=this.indexOf(i)])&&(e&&(n.dom?n.remove():Ext.removeNode(n)),Ext.Array.erase(r,i,1));return this}},function(){this.importElementMethods(),this.prototype.on=this.prototype.addListener,Ext.DomQuery&&(Ext.dom.Element.selectorFunction=Ext.DomQuery.select),Ext.dom.Element.select=function(t,e){var i;return"string"==typeof t?i=Ext.dom.Element.selectorFunction(t,e):void 0!==t.length&&(i=t),new Ext.CompositeElementLite(i)},Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,getElement:function(t){return t},transformElement:function(t){return Ext.get(t)}},function(){Ext.dom.Element.select=function(t,e,i){var n;return"string"==typeof t?n=Ext.dom.Element.selectorFunction(t,i):void 0!==t.length&&(n=t),!0===e?new Ext.CompositeElement(n):new Ext.CompositeElementLite(n)}}),Ext.select=Ext.Element.select,Ext.define("Ext.util.HashMap",{mixins:{observable:Ext.util.Observable},constructor:function(t){var e=(t=t||{}).keyFn;this.initialConfig=t,this.addEvents("add","clear","remove","replace"),this.mixins.observable.constructor.call(this,t),this.clear(!0),e&&(this.getKey=e)},getCount:function(){return this.length},getData:function(t,e){return void 0===e&&(e=t,t=this.getKey(e)),[t,e]},getKey:function(t){return t.id},add:function(t,e){return 1===arguments.length&&(e=t,t=this.getKey(e)),this.containsKey(t)?this.replace(t,e):(this.map[t]=e,++this.length,this.hasListeners.add&&this.fireEvent("add",this,t,e),e)},replace:function(t,e){var i,n=this.map;return 1===arguments.length&&(e=t,t=this.getKey(e)),this.containsKey(t)||this.add(t,e),i=n[t],n[t]=e,this.hasListeners.replace&&this.fireEvent("replace",this,t,e,i),e},remove:function(t){var e=this.findKey(t);return void 0!==e&&this.removeAtKey(e)},removeAtKey:function(t){var e;return!!this.containsKey(t)&&(e=this.map[t],delete this.map[t],--this.length,this.hasListeners.remove&&this.fireEvent("remove",this,t,e),!0)},get:function(t){return this.map[t]},clear:function(t){return this.map={},this.length=0,!0!==t&&this.hasListeners.clear&&this.fireEvent("clear",this),this},containsKey:function(t){return void 0!==this.map[t]},contains:function(t){return this.containsKey(this.findKey(t))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(t){var e,i=[],n=this.map;for(e in n)n.hasOwnProperty(e)&&i.push(t?e:n[e]);return i},each:function(t,e){var i,n=Ext.apply({},this.map),s=this.length;e=e||this;for(i in n)if(n.hasOwnProperty(i)&&!1===t.call(e,i,n[i],s))break;return this},clone:function(){var t,e=new this.self(this.initialConfig),i=this.map;e.suspendEvents();for(t in i)i.hasOwnProperty(t)&&e.add(t,i[t]);return e.resumeEvents(),e},findKey:function(t){var e,i=this.map;for(e in i)if(i.hasOwnProperty(e)&&i[e]===t)return e}}),Ext.define("Ext.AbstractManager",{typeName:"type",constructor:function(t){Ext.apply(this,t||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(t){return this.all.get(t)},register:function(t){this.all.add(t)},unregister:function(t){this.all.remove(t)},registerType:function(t,e){this.types[t]=e,e[this.typeName]=t},isRegistered:function(t){return void 0!==this.types[t]},create:function(t,e){var i=t[this.typeName]||t.type||e;return new(0,this.types[i])(t)},onAvailable:function(t,e,i){var n,s,r=this.all;r.containsKey(t)?(n=r.get(t),e.call(i||n,n)):(s=function(n,o,a){o==t&&(e.call(i||a,a),r.un("add",s))},r.on("add",s))},each:function(t,e){this.all.each(t,e||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.ComponentManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ComponentMgr",singleton:!0,typeName:"xtype",create:function(t,e){return"string"==typeof t?Ext.widget(t):t.isComponent?t:Ext.widget(t.xtype||e,t)},registerType:function(t,e){this.types[t]=e,e[this.typeName]=t,e.prototype[this.typeName]=t}},function(){Ext.getCmp=function(t){return Ext.ComponentManager.get(t)}}),Ext.define("Ext.ComponentQuery",{singleton:!0},function(){var t=this,e=Ext.dom.Query.operators,i=/(\d*)n\+?(\d*)/,n=/\D/,s=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),r=function(t,e){return e.method.apply(this,[t].concat(e.args))},o=function(t,e){for(var i,n=[],s=0,r=t.length,o=">"!==e;s<r;s++)(i=t[s]).getRefItems&&(n=n.concat(i.getRefItems(o)));return n},a=function(t){for(var e,i=[],n=0,s=t.length;n<s;n++)for(e=t[n];e=e.getRefOwner();)i.push(e);return i},l=function(t,e,i){if("*"===e)return t.slice();for(var n,s=[],r=0,o=t.length;r<o;r++)(n=t[r]).isXType(e,i)&&s.push(n);return s},h=function(t,e){for(var i,n=[],s=0,r=t.length;s<r;s++)(i=t[s]).hasCls(e)&&n.push(i);return n},d=function(t,e){for(var i,n=[],s=0,r=t.length;s<r;s++)(i=t[s]).getItemId()===e&&n.push(i);return n},c=/^(\s?([>\^])\s?|\s|$)/,u=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,f=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:l},{re:/^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,method:function(t,i,n,s){var r,o,a,l,h,d,c=[],u=0,f=t.length;for("@"===i.charAt(0)&&(r=!0,i=i.substr(1)),"?"===i.charAt(0)&&(r=!0,o=!0,i=i.substr(1));u<f;u++)if(a=t[u],!r||a.hasOwnProperty(i))if(l=a[i],o)c.push(a);else if("~="===n){if(l)for(Ext.isArray(l)||(l=l.split(" ")),h=0,d=l.length;h<d;h++)if(e[n](Ext.coerce(l[h],s),s)){c.push(a);break}}else(s?e[n](Ext.coerce(l,s),s):a[i])&&c.push(a);return c}},{re:/^#([\w\-]+)/,method:d},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:function(e,i,n){return t.pseudos[i](e,n)}},{re:/^(?:\{([^\}]+)\})/,method:s}];t.Query=Ext.extend(Object,{constructor:function(t){t=t||{},Ext.apply(this,t)},execute:function(t){var e,i,n=this.operations,s=0,l=n.length;for(t?Ext.isIterable(t)?i=t:t.isMixedCollection&&(i=t.items):i=Ext.ComponentManager.all.getArray();s<l;s++)if(e=n[s],i="^"===e.mode?a(i||[t]):e.mode?o(i||[t],e.mode):r(i||o([t]),e),s===l-1)return i;return[]},is:function(t){var e,i,n=this.operations,s=Ext.isArray(t)?t:[t],o=s.length,a=n[n.length-1];if((s=r(s,a)).length===o){if(n.length>1)for(i=0,e=s.length;i<e;i++)if(-1===Ext.Array.indexOf(this.execute(),s[i]))return!1;return!0}return!1}}),Ext.apply(this,{cache:{},pseudos:{not:function(t,e){for(var i,n=Ext.ComponentQuery,s=0,r=t.length,o=[],a=-1;s<r;++s)i=t[s],n.is(i,e)||(o[++a]=i);return o},first:function(t){var e=[];return t.length>0&&e.push(t[0]),e},last:function(t){var e=t.length,i=[];return e>0&&i.push(t[e-1]),i},focusable:function(t){for(var e,i=t.length,n=[],s=0;s<i;s++)(e=t[s]).isFocusable()&&n.push(e);return n},"nth-child":function(t,e){var s,r,o,a=[],l=i.exec(("even"==e?"2n":"odd"==e&&"2n+1")||!n.test(e)&&"n+"+e||e),h=(l[1]||1)-0,d=l[2]-0;for(s=0;r=t[s];s++)o=s+1,1==h?0!=d&&o!=d||a.push(r):(o+d)%h==0&&a.push(r);return a}},query:function(t,e){for(var i,n,s,r=t.split(","),o=r.length,a=0,l=[],h=[],d={};a<o;a++)t=Ext.String.trim(r[a]),i=this.cache[t]||(this.cache[t]=this.parse(t)),l=l.concat(i.execute(e));if(o>1){for(n=l.length,a=0;a<n;a++)d[(s=l[a]).id]||(h.push(s),d[s.id]=!0);l=h}return l},is:function(t,e){if(!e)return!0;for(var i=e.split(","),n=i.length,s=0;s<n;s++)if(e=Ext.String.trim(i[s]),(this.cache[e]||(this.cache[e]=this.parse(e))).is(t))return!0;return!1},parse:function(e){for(var i,n,s,r,o,a,p,g,m=[],x=f.length;e&&i!==e;){for(i=e,(n=e.match(u))&&("#"===(s=n[1])?m.push({method:d,args:[Ext.String.trim(n[2])]}):"."===s?m.push({method:h,args:[Ext.String.trim(n[2])]}):m.push({method:l,args:[Ext.String.trim(n[2]),Boolean(n[3])]}),e=e.replace(n[0],""));!(r=e.match(c));)for(a=0;e&&a<x;a++){if(p=f[a],o=e.match(p.re),g=p.method,o){m.push({method:Ext.isString(p.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[g].concat(o.slice(1)))):p.method,args:o.slice(1)}),e=e.replace(o[0],"");break}a===x-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}r[1]&&(m.push({mode:r[2]||r[1]}),e=e.replace(r[0],""))}return new t.Query({operations:m})}})}),Ext.define("Ext.util.ProtoElement",function(){var t=Ext.String.splitWords,e=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(i){Ext.apply(this,i),this.classList=t(this.cls),this.classMap=e(this.classList),delete this.cls,Ext.isFunction(this.style)?(this.styleFn=this.style,delete this.style):"string"==typeof this.style?this.style=Ext.Element.parseStyles(this.style):this.style&&(this.style=Ext.apply({},this.style))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style,delete this.unselectableAttr},addCls:function(e){for(var i,n="string"==typeof e?t(e):e,s=n.length,r=this.classList,o=this.classMap,a=this.flushClassList,l=0;l<s;++l)o[i=n[l]]||(o[i]=!0,r.push(i),a&&(a.push(i),delete this.removedClasses[i]));return this},hasCls:function(t){return t in this.classMap},removeCls:function(i){var n,s,r=this.classList,o=this.classList=[],a=e(t(i)),l=r.length,h=this.classMap,d=this.removedClasses;for(n=0;n<l;++n)a[s=r[n]]?(d&&h[s]&&(d[s]=!0,Ext.Array.remove(this.flushClassList,s)),delete h[s]):o.push(s);return this},setStyle:function(t,e){var i=this.style||(this.style={});return"string"==typeof t?1===arguments.length?this.setStyle(Ext.Element.parseStyles(t)):i[t]=e:Ext.apply(i,t),this},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls),Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(t){var e,i=this.flushClassList||this.classList,n=this.removedClasses;return this.styleFn?(e=Ext.apply({},this.styleFn()),Ext.apply(e,this.style)):e=this.style,t[this.clsProp]=i.join(" "),e&&(t[this.styleProp]=this.styleIsText?Ext.DomHelper.generateStyles(e):e),n&&(n=Ext.Object.getKeys(n)).length&&(t[this.removedProp]=n.join(" ")),this.unselectableAttr&&(t.unselectable="on"),t}}}()),Ext.define("Ext.PluginManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.PluginMgr",singleton:!0,typeName:"ptype",create:function(t,e,i){var n;return t.init?n=t:(i?(t=Ext.apply({},t)).cmp=i:i=t.cmp,t.xclass?n=Ext.create(t):"function"==typeof(n=Ext.ClassManager.getByAlias("plugin."+(t.ptype||e)))&&(n=new n(t))),n&&i&&n.setCmp&&!n.setCmpCalled&&(n.setCmp(i),n.setCmpCalled=!0),n},findByType:function(t,e){var i,n,s=[],r=this.types;for(i in r)r.hasOwnProperty(i)&&(n=r[i]).type==t&&(!e||!0===e&&n.isDefault)&&s.push(n);return s}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}}),Ext.define("Ext.util.Filter",{id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,statics:{createFilterFn:function(t){return t&&t.length?function(e){var i,n,s=!0,r=t.length;for(i=0;s&&i<r;i++)(n=t[i]).disabled||(s=s&&n.filterFn.call(n.scope||n,e));return s}:function(){return!0}}},operatorFns:{"<":function(t){return Ext.coerce(this.getRoot(t)[this.property],this.value)<this.value},"<=":function(t){return Ext.coerce(this.getRoot(t)[this.property],this.value)<=this.value},"=":function(t){return Ext.coerce(this.getRoot(t)[this.property],this.value)==this.value},">=":function(t){return Ext.coerce(this.getRoot(t)[this.property],this.value)>=this.value},">":function(t){return Ext.coerce(this.getRoot(t)[this.property],this.value)>this.value},"!=":function(t){return Ext.coerce(this.getRoot(t)[this.property],this.value)!=this.value}},constructor:function(t){this.initialConfig=t,Ext.apply(this,t),this.filter=this.filter||this.filterFn,void 0===this.filter&&this.setValue(t.value)},setValue:function(t){this.value=t,void 0===this.property||void 0===this.value||(this.filter=this.createFilterFn()),this.filterFn=this.filter},setFilterFn:function(t){this.filterFn=this.filter=t},createFilterFn:function(){var t=this,e=t.createValueMatcher(),i=t.property;return t.operator?t.operatorFns[t.operator]:function(n){var s=t.getRoot(n)[i];return null===e?null===s:e.test(s)}},getRoot:function(t){var e=this.root;return void 0===e?t:t[e]},createValueMatcher:function(){var t=this.value,e=this.anyMatch,i=this.exactMatch,n=this.caseSensitive,s=Ext.String.escapeRegex;return null===t?t:(t.exec||(t=String(t),!0===e?t=s(t):(t="^"+s(t),!0===i&&(t+="$")),t=new RegExp(t,n?"":"i")),t)},serialize:function(){var t=Ext.apply({},this.initialConfig);return t.value=this.value,t}},function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]}),Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(t,e){1===arguments.length&&Ext.isObject(t)?(this.initialConfig=t,Ext.apply(this,t)):(this.allowFunctions=!0===t,e&&(this.getKey=e),this.initialConfig={allowFunctions:this.allowFunctions,getKey:this.getKey}),this.items=[],this.map={},this.keys=[],this.indexMap={},this.length=0,this.mixins.observable.constructor.call(this)},allowFunctions:!1,add:function(t,e){return this.insert(this.length,t,e)},getKey:function(t){return t.id},replace:function(t,e){var i,n;return 1==arguments.length&&(e=arguments[0],t=this.getKey(e)),i=this.map[t],void 0===t||null===t||void 0===i?this.add(t,e):(this.generation++,n=this.indexOfKey(t),this.items[n]=e,this.map[t]=e,this.hasListeners.replace&&this.fireEvent("replace",t,i,e),e)},updateKey:function(t,e){var i,n=this.map,s=this.indexMap,r=this.indexOfKey(t);r>-1&&(i=n[t],delete n[t],delete s[t],n[e]=i,s[e]=r,this.keys[r]=e,this.generation++)},addAll:function(t){var e;if(arguments.length>1||Ext.isArray(t))this.insert(this.length,arguments.length>1?arguments:t);else for(e in t)t.hasOwnProperty(e)&&(this.allowFunctions||"function"!=typeof t[e])&&this.add(e,t[e])},each:function(t,e){for(var i,n=Ext.Array.push([],this.items),s=0,r=n.length;s<r&&(i=n[s],!1!==t.call(e||i,i,s,r));s++);},eachKey:function(t,e){for(var i=this.keys,n=this.items,s=0,r=i.length;s<r;s++)t.call(e||window,i[s],n[s],s,r)},findBy:function(t,e){for(var i=this.keys,n=this.items,s=0,r=n.length;s<r;s++)if(t.call(e||window,n[s],i[s]))return n[s];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(t,e,i){return Ext.isIterable(e)?this.doInsert(t,e,i):(i?this.doInsert(t,[e],[i]):this.doInsert(t,[e]))[0]},doInsert:function(t,e,i){var n,s,r,o,a=e.length,l=this.hasListeners.add;if(null!=i)this.useLinearSearch=!0;else for(i=e,e=new Array(a),r=0;r<a;r++)e[r]=this.getKey(i[r]);for(this.suspendEvents(),r=0;r<a;r++)-1!==(s=this.indexOfKey(e[r]))&&(s<t&&t--,this.removeAt(s));for(this.resumeEvents(),o=t===this.length&&this.indexGeneration===this.generation,Ext.Array.insert(this.items,t,i),Ext.Array.insert(this.keys,t,e),this.length+=a,this.generation++,o&&(this.indexGeneration=this.generation),r=0;r<a;r++,t++)null!=(n=e[r])&&(this.map[n]=i[r],o&&(this.indexMap[n]=t)),l&&this.fireEvent("add",t,i[r],n);return i},remove:function(t){var e,i;return-1!==(i=!this.useLinearSearch&&(e=this.getKey(t))?this.indexOfKey(e):Ext.Array.indexOf(this.items,t))&&this.removeAt(i)},removeAll:function(t){var e;if(t||this.hasListeners.remove)if(t)for(e=t.length-1;e>=0;--e)this.remove(t[e]);else for(;this.length;)this.removeAt(0);else this.length=this.items.length=this.keys.length=0,this.map={},this.indexMap={},this.generation++,this.indexGeneration=this.generation},removeAt:function(t){var e,i;return t<this.length&&t>=0&&(this.length--,e=this.items[t],Ext.Array.erase(this.items,t,1),void 0!==(i=this.keys[t])&&delete this.map[i],Ext.Array.erase(this.keys,t,1),this.hasListeners.remove&&this.fireEvent("remove",e,i),this.generation++,e)},removeRange:function(t,e){var i,n,s,r,o,a;if(t<this.length&&t>=0){for(e||(e=1),e=(r=Math.min(t+e,this.length))-t,o=(a=r===this.length)&&this.indexGeneration===this.generation,s=t;s<r;s++)null!=(n=this.keys[s])&&(delete this.map[n],o&&delete this.indexMap[n]);return i=this.items[s-1],this.length-=e,this.generation++,o&&(this.indexGeneration=this.generation),a?this.items.length=this.keys.length=this.length:(this.items.splice(t,e),this.keys.splice(t,e)),i}return!1},removeAtKey:function(t){var e,i=this.keys;if(null!=t)return this.removeAt(this.indexOfKey(t));for(e=i.length-1;e>=0;e--)null==i[e]&&this.removeAt(e)},getCount:function(){return this.length},indexOf:function(t){var e;return null!=t?!this.useLinearSearch&&(e=this.getKey(t))?this.indexOfKey(e):Ext.Array.indexOf(this.items,t):-1},indexOfKey:function(t){return null==this.map[t]?-1:(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[t])},rebuildIndexMap:function(){var t,e=this.indexMap={},i=this.keys,n=i.length;for(t=0;t<n;t++)e[i[t]]=t;this.indexGeneration=this.generation},get:function(t){var e=this.map[t],i=void 0!==e?e:"number"==typeof t?this.items[t]:void 0;return"function"!=typeof i||this.allowFunctions?i:null},getAt:function(t){return this.items[t]},getByKey:function(t){return this.map[t]},contains:function(t){var e;return null!=t&&(!this.useLinearSearch&&(e=this.getKey(t))?null!=this.map[e]:-1!==Ext.Array.indexOf(this.items,t))},containsKey:function(t){return null!=this.map[t]},clear:function(){this.length=0,this.items=[],this.keys=[],this.map={},this.indexMap={},this.generation++,this.indexGeneration=this.generation,this.hasListeners.clear&&this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(t,e,i,n){var s,r=this.extractValues(t,e),o=r.length,a=0;for(i=i||0,n=n||0===n?n:o-1,s=i;s<=n;s++)a+=r[s];return a},collect:function(t,e,i){var n,s,r,o=this.extractValues(t,e),a=o.length,l={},h=[];for(r=0;r<a;r++)n=o[r],s=String(n),!i&&Ext.isEmpty(n)||l[s]||(l[s]=!0,h.push(n));return h},extractValues:function(t,e){var i=this.items;return e&&(i=Ext.Array.pluck(i,e)),Ext.Array.pluck(i,t)},hasRange:function(t,e){return e<this.length},getRange:function(t,e){var i,n=this.items,s=[];if(n.length<1)return s;if(t=t||0,e=Math.min(null==e?this.length-1:e,this.length-1),t<=e)return n.slice(t,e+1);for(i=t;i>=e;i--)s[s.length]=n[i];return s},filter:function(t,e,i,n){var s=[];return Ext.isString(t)?s.push(new Ext.util.Filter({property:t,value:e,anyMatch:i,caseSensitive:n})):(Ext.isArray(t)||t instanceof Ext.util.Filter)&&(s=s.concat(t)),this.filterBy(Ext.util.Filter.createFilterFn(s))},filterBy:function(t,e){var i,n=new this.self(this.initialConfig),s=this.keys,r=this.items,o=r.length;for(n.getKey=this.getKey,i=0;i<o;i++)t.call(e||this,r[i],s[i])&&n.add(s[i],r[i]);return n},findIndex:function(t,e,i,n,s){return Ext.isEmpty(e,!1)?-1:(e=this.createValueMatcher(e,n,s),this.findIndexBy(function(i){return i&&e.test(i[t])},null,i))},findIndexBy:function(t,e,i){for(var n=this.keys,s=this.items,r=i||0,o=s.length;r<o;r++)if(t.call(e||this,s[r],n[r]))return r;return-1},createValueMatcher:function(t,e,i,n){if(!t.exec){var s=Ext.String.escapeRegex;t=String(t),!0===e?t=s(t):(t="^"+s(t),!0===n&&(t+="$")),t=new RegExp(t,i?"":"i")}return t},clone:function(){var t=new this.self(this.initialConfig);return t.add(this.keys,this.items),t}}),Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(t){Ext.apply(this,t),this.updateSortFunction()},createSortFunction:function(t){var e=this,i="DESC"==(e.direction||"ASC").toUpperCase()?-1:1;return function(n,s){return i*t.call(e,n,s)}},defaultSorterFn:function(t,e){var i=this.transform,n=this.getRoot(t)[this.property],s=this.getRoot(e)[this.property];return i&&(n=i(n),s=i(s)),n>s?1:n<s?-1:0},getRoot:function(t){return void 0===this.root?t:t[this.root]},setDirection:function(t){this.direction=t?t.toUpperCase():t,this.updateSortFunction()},toggle:function(){this.direction=Ext.String.toggle(this.direction,"ASC","DESC"),this.updateSortFunction()},updateSortFunction:function(t){t=t||this.sorterFn||this.defaultSorterFn,this.sort=this.createSortFunction(t)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}}),Ext.define("Ext.util.Sortable",{isSortable:!0,defaultSortDirection:"ASC",statics:{createComparator:function(t){return t&&t.length?function(e,i){for(var n=t[0].sort(e,i),s=t.length,r=1;r<s;r++)n=n||t[r].sort.call(this,e,i);return n}:function(){return 0}}},initSortable:function(){var t=this.sorters;this.sorters=new Ext.util.AbstractMixedCollection(!1,function(t){return t.id||t.property}),t&&this.sorters.addAll(this.decodeSorters(t))},sort:function(t,e,i,n){var s,r;return Ext.isArray(t)?(n=i,i=e,r=t):Ext.isObject(t)?(n=i,i=e,r=[t]):Ext.isString(t)&&((s=this.sorters.get(t))?void 0===e?s.toggle():s.setDirection(e):r=[s={property:t,direction:e}]),r&&r.length&&(r=this.decodeSorters(r),Ext.isString(i)?"prepend"===i?this.sorters.insert(0,r):this.sorters.addAll(r):(this.sorters.clear(),this.sorters.addAll(r))),!1!==n&&(this.fireEvent("beforesort",this,r),this.onBeforeSort(r),(t=this.sorters.items).length&&this.doSort(this.generateComparator())),t},generateComparator:function(){var t=this.sorters.getRange();return t.length?this.createComparator(t):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(t){Ext.isArray(t)||(t=void 0===t?[]:[t]);var e,i,n,s=t.length,r=Ext.util.Sorter,o=this.model?this.model.prototype.fields:null;for(n=0;n<s;n++)(i=t[n])instanceof r||(Ext.isString(i)&&(i={property:i}),Ext.applyIf(i,{root:this.sortRoot,direction:"ASC"}),i.fn&&(i.sorterFn=i.fn),"function"==typeof i&&(i={sorterFn:i}),o&&!i.transform&&(e=o.get(i.property),i.transform=e&&e.sortType!==Ext.identityFn?e.sortType:void 0),t[n]=new Ext.util.Sorter(i));return t},getSorters:function(){return this.sorters.items},getFirstSorter:function(){for(var t,e=this.sorters.items,i=e.length,n=0;n<i;++n)if(!(t=e[n]).isGrouper)return t;return null}},function(){this.prototype.createComparator=this.createComparator}),Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){this.callParent(arguments),this.addEvents("sort"),this.mixins.sortable.initSortable.call(this)},doSort:function(t){this.sortBy(t)},_sort:function(t,e,i){var n,s,r,o="DESC"==String(e).toUpperCase()?-1:1,a=[],l=this.keys,h=this.items;for(i=i||function(t,e){return t-e},n=0,s=h.length;n<s;n++)a[a.length]={key:l[n],value:h[n],index:n};for(Ext.Array.sort(h,function(e,n){return i(e[t],n[t])*o||(e.index<n.index?-1:1)}),n=0,s=a.length;n<s;n++)r=a[n],h[n]=r.value,l[n]=r.key,this.indexMap[r.key]=n;this.generation++,this.indexGeneration=this.generation,this.fireEvent("sort",this)},sortBy:function(t){var e,i,n,s=this.items,r=this.keys,o=s.length;for(n=0;n<o;n++)s[n].$extCollectionIndex=n;for(Ext.Array.sort(s,function(e,i){return t(e,i)||(e.$extCollectionIndex<i.$extCollectionIndex?-1:1)}),n=0;n<o;n++)e=s[n],i=this.getKey(e),r[n]=i,this.indexMap[i]=n,delete s.$extCollectionIndex;this.generation++,this.indexGeneration=this.generation,this.fireEvent("sort",this,s,r)},findInsertionIndex:function(t,e){var i,n,s=this.items,r=0,o=s.length-1;for(e||(e=this.generateComparator());r<=o;)(n=e(t,s[i=r+o>>1]))>=0?r=i+1:n<0&&(o=i-1);return r},reorder:function(t){var e,i=this.items,n=0,s=i.length,r=[],o=[];this.suspendEvents();for(e in t)r[t[e]]=i[e];for(n=0;n<s;n++)void 0==t[n]&&o.push(i[n]);for(n=0;n<s;n++)void 0==r[n]&&(r[n]=o.shift());this.clear(),this.addAll(r),this.resumeEvents(),this.fireEvent("sort",this)},sortByKey:function(t,e){this._sort("key",t,e||function(t,e){var i=String(t).toUpperCase(),n=String(e).toUpperCase();return i>n?1:i<n?-1:0})}}),Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(t){this.target=t,this.id=this.getId()},getId:function(){return this.target.id}}),Ext.define("Ext.fx.target.Element",{extend:Ext.fx.target.Target,type:"element",getElVal:function(t,e,i){return void 0==i&&(i="x"===e?t.getX():"y"===e?t.getY():"scrollTop"===e?t.getScroll().top:"scrollLeft"===e?t.getScroll().left:"height"===e?t.getHeight():"width"===e?t.getWidth():t.getStyle(e)),i},getAttr:function(t,e){var i=this.target;return[[i,this.getElVal(i,t,e)]]},setAttr:function(t){this.target;var e,i,n,s,r,o,a=t.length;for(s=0;s<a;s++){e=t[s].attrs;for(i in e)if(e.hasOwnProperty(i))for(o=e[i].length,r=0;r<o;r++)n=e[i][r],this.setElVal(n[0],i,n[1])}},setElVal:function(t,e,i){"x"===e?t.setX(i):"y"===e?t.setY(i):"scrollTop"===e?t.scrollTo("top",i):"scrollLeft"===e?t.scrollTo("left",i):"width"===e?t.setWidth(i):"height"===e?t.setHeight(i):t.setStyle(e,i)}}),Ext.define("Ext.fx.target.ElementCSS",{extend:Ext.fx.target.Element,setAttr:function(t,e){var i,n,s,r,o,a,l,h,d,c={attrs:[],duration:[],easing:[]},u=t.length;for(l=0;l<u;l++){o=(n=t[l]).duration,r=n.easing,n=n.attrs;for(s in n)-1==Ext.Array.indexOf(c.attrs,s)&&(c.attrs.push(s.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})),c.duration.push(o+"ms"),c.easing.push(r))}for(i=c.attrs.join(","),o=c.duration.join(","),r=c.easing.join(", "),l=0;l<u;l++){n=t[l].attrs;for(s in n)for(d=n[s].length,h=0;h<d;h++)(a=n[s][h])[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",e?"":i),a[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",e?"":o),a[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",e?"":r),a[0].setStyle(s,a[1]),e?a=a[0].dom.offsetWidth:a[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},a[0],{single:!0})}}}),Ext.define("Ext.fx.target.CompositeElement",{extend:Ext.fx.target.Element,isComposite:!0,constructor:function(t){t.id=t.id||Ext.id(null,"ext-composite-"),this.callParent([t])},getAttr:function(t,e){var i,n,s=[],r=this.target,o=r.elements,a=o.length;for(i=0;i<a;i++)(n=o[i])&&(n=r.getElement(n),s.push([n,this.getElVal(n,t,e)]));return s},setAttr:function(t){var e,i,n,s,r,o,a,l=this.target,h=t.length,d=l.elements,c=d.length;for(r=0;r<h;r++){n=t[r].attrs;for(s in n)if(n.hasOwnProperty(s))for(a=n[s].length,o=0;o<a;o++)for(e=n[s][o][1],i=0;i<c;++i)el=d[i],el&&(el=l.getElement(el),this.setElVal(el,s,e))}}}),Ext.define("Ext.fx.target.CompositeElementCSS",{extend:Ext.fx.target.CompositeElement,setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}}),Ext.define("Ext.fx.target.Sprite",{extend:Ext.fx.target.Target,type:"draw",getFromPrim:function(t,e){var i;switch(e){case"rotate":case"rotation":return i=t.attr.rotation,{x:i.x||0,y:i.y||0,degrees:i.degrees||0};case"scale":case"scaling":return i=t.attr.scaling,{x:i.x||1,y:i.y||1,cx:i.cx||0,cy:i.cy||0};case"translate":case"translation":return i=t.attr.translation,{x:i.x||0,y:i.y||0};default:return t.attr[e]}},getAttr:function(t,e){return[[this.target,void 0!=e?e:this.getFromPrim(this.target,t)]]},setAttr:function(t){var e,i,n,s,r,o,a,l,h,d,c,u,f=t.length,p=[];for(l=0;l<f;l++){e=t[l].attrs;for(i in e)for(u=(n=e[i]).length,h=0;h<u;h++)r=n[h][0],s=n[h][1],"translate"===i||"translation"===i?a={x:s.x,y:s.y}:"rotate"===i||"rotation"===i?(d=s.x,isNaN(d)&&(d=null),c=s.y,isNaN(c)&&(c=null),a={degrees:s.degrees,x:d,y:c}):"scale"===i||"scaling"===i?(d=s.x,isNaN(d)&&(d=null),c=s.y,isNaN(c)&&(c=null),a={x:d,y:c,cx:s.cx,cy:s.cy}):a="width"===i||"height"===i||"x"===i||"y"===i?parseFloat(s):s,-1==(o=Ext.Array.indexOf(p,r))&&(p.push([r,{}]),o=p.length-1),p[o][1][i]=a}for(f=p.length,l=0;l<f;l++)p[l][0].setAttributes(p[l][1]);this.target.redraw()}}),Ext.define("Ext.fx.target.CompositeSprite",{extend:Ext.fx.target.Sprite,getAttr:function(t,e){var i,n,s=[],r=[].concat(this.target.items),o=r.length;for(i=0;i<o;i++)n=r[i],s.push([n,void 0!=e?e:this.getFromPrim(n,t)]);return s}}),Ext.define("Ext.fx.target.Component",{extend:Ext.fx.target.Target,type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(t,e){return[[this.target,void 0!==e?e:this.getPropMethod[t].call(this.target)]]},setAttr:function(t,e,i){var n,s,r,o,a,l,h,d,c,u,f,p=t.length,g={};for(o=0;o<p;o++){n=t[o].attrs;for(s in n)for(l=n[s].length,a=0;a<l;a++)r=n[s][a],(f=g[this.setMethods[s]]||(g[this.setMethods[s]]={})).target=r[0],f[s]=r[1];g.setPosition&&(h=void 0===(r=g.setPosition).left?void 0:parseFloat(r.left),d=void 0===r.top?void 0:parseFloat(r.top),r.target.setPosition(h,d)),g.setPagePosition&&(r=g.setPagePosition).target.setPagePosition(r.x,r.y),g.setSize&&(c=void 0===(r=g.setSize).width?r.target.getWidth():parseFloat(r.width),u=void 0===r.height?r.target.getHeight():parseFloat(r.height),r.target.el.setSize(c,u),(i||this.dynamic)&&Ext.globalEvents.on({idle:Ext.Function.bind(r.target.setSize,r.target,[c,u]),single:!0})),g.setOpacity&&(r=g.setOpacity).target.el.setStyle("opacity",r.opacity)}}}),Ext.define("Ext.fx.Queue",{constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(t){var e=this.targets.get(t);return e?e.fxDefaults:{}},setFxDefaults:function(t,e){var i=this.targets.get(t);i&&(i.fxDefaults=Ext.apply(i.fxDefaults||{},e))},stopAnimation:function(t){for(var e=this.getFxQueue(t),i=e.length;i;)e[i-1].end(),i--},getActiveAnimation:function(t){var e=this.getFxQueue(t);return!(!e||!e.length)&&e[0]},hasFxBlock:function(t){var e=this.getFxQueue(t);return e&&e[0]&&e[0].block},getFxQueue:function(t){if(!t)return!1;var e=this,i=e.fxQueue[t],n=e.targets.get(t);return!!n&&(i||(e.fxQueue[t]=[],"element"!=n.type&&n.target.on("destroy",function(){e.fxQueue[t]=[]})),e.fxQueue[t])},queueFx:function(t){var e,i,n=t.target;n&&((i=(e=this.getFxQueue(n.getId())).length)?t.concurrent?t.paused=!1:e[i-1].on("afteranimate",function(){t.paused=!1}):t.paused=!1,t.on("afteranimate",function(){if(Ext.Array.remove(e,t),t.remove&&"element"==n.type){var i=Ext.get(n.id);i&&i.remove()}},this),e.push(t))}}),Ext.define("Ext.fx.Manager",{singleton:!0,mixins:{queue:Ext.fx.Queue},constructor:function(){this.items=new Ext.util.MixedCollection,this.mixins.queue.constructor.call(this),this.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(t){var e,i=!this.forceJS&&Ext.supports.Transitions;if(this.useCSS3=i,t){if(t.tagName||Ext.isString(t)||t.isFly)t=Ext.get(t),e=new Ext.fx.target["Element"+(i?"CSS":"")](t);else if(t.dom)e=new Ext.fx.target["Element"+(i?"CSS":"")](t);else if(t.isComposite)e=new Ext.fx.target["CompositeElement"+(i?"CSS":"")](t);else if(t.isSprite)e=new Ext.fx.target.Sprite(t);else if(t.isCompositeSprite)e=new Ext.fx.target.CompositeSprite(t);else{if(!t.isComponent)return t.isAnimTarget?t:null;e=new Ext.fx.target.Component(t)}return this.targets.add(e),e}return null},addAnim:function(t){var e=this.items,i=this.task;e.add(t.id,t),!i&&e.length&&(i=this.task={run:this.runner,interval:this.interval,scope:this},this.taskRunner.start(i))},removeAnim:function(t){var e=this.items,i=this.task;e.removeAtKey(t.id),i&&!e.length&&(this.taskRunner.stop(i),delete this.task)},runner:function(){var t,e=this.items.getRange(),i=0,n=e.length;for(this.targetArr={},this.timestamp=new Date;i<n;i++)(t=e[i]).isReady()&&this.startAnim(t);for(i=0;i<n;i++)(t=e[i]).isRunning()&&this.runAnim(t);this.applyPendingAttrs()},startAnim:function(t){t.start(this.timestamp)},runAnim:function(t){if(t){var e,i,n=this.useCSS3&&"element"==t.target.type,s=this.timestamp-t.startTime,r=s>=t.duration;e=this.collectTargetData(t,s,n,r),n&&(t.target.setAttr(e.anims[t.id].attributes,!0),this.collectTargetData(t,t.duration,n,r),t.paused=!0,e=t.target.target,t.target.isComposite&&(e=t.target.target.last()),(i={})[Ext.supports.CSS3TransitionEnd]=t.lastFrame,i.scope=t,i.single=!0,e.on(i))}},collectTargetData:function(t,e,i,n){var s=t.target.getId(),r=this.targetArr[s];return r||(r=this.targetArr[s]={id:s,el:t.target,anims:{}}),r.anims[t.id]={id:t.id,anim:t,elapsed:e,isLastFrame:n,attributes:[{duration:t.duration,easing:i&&t.reverse?t.easingFn.reverse().toCSS3():t.easing,attrs:t.runAnim(e)}]},r},applyPendingAttrs:function(){var t,e,i,n,s,r=this.targetArr;for(e in r)if(r.hasOwnProperty(e)){t=r[e];for(s in t.anims)t.anims.hasOwnProperty(s)&&(n=(i=t.anims[s]).anim,i.attributes&&n.isRunning()&&(t.el.setAttr(i.attributes,!1,i.isLastFrame),i.isLastFrame&&n.lastFrame()))}}}),Ext.define("Ext.fx.Animator",{mixins:{observable:Ext.util.Observable},isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(t){t=Ext.apply(this,t||{}),this.config=t,this.id=Ext.id(null,"ext-animator-"),this.addEvents("beforeanimate","keyframe","afteranimate"),this.mixins.observable.constructor.call(this,t),this.timeline=[],this.createTimeline(this.keyframes),this.target&&(this.applyAnimator(this.target),Ext.fx.Manager.addAnim(this))},sorter:function(t,e){return t.pct-e.pct},createTimeline:function(t){var e,i,n,s,r,o,a=[],l=this.to||{},h=this.duration;for(r in t)t.hasOwnProperty(r)&&this.animKeyFramesRE.test(r)&&(o={attrs:Ext.apply(t[r],l)},"from"==r?r=0:"to"==r&&(r=100),o.pct=parseInt(r,10),a.push(o));for(Ext.Array.sort(a,this.sorter),s=a.length,n=0;n<s;n++)e=a[n-1]?h*(a[n-1].pct/100):0,i=h*(a[n].pct/100),this.timeline.push({duration:i-e,attrs:a[n].attrs})},applyAnimator:function(t){var e,i,n,s,r,o=[],a=this.timeline,l=a.length;if(!1!==this.fireEvent("beforeanimate",this)){for(r=0;r<l;r++)i=(s=(e=a[r]).attrs).easing||this.easing,n=s.damper||this.damper,delete s.easing,delete s.damper,e=new Ext.fx.Anim({target:t,easing:i,damper:n,duration:e.duration,paused:!0,to:s}),o.push(e);for(this.animations=o,this.target=e.target,r=0;r<l-1;r++)(e=o[r]).nextAnim=o[r+1],e.on("afteranimate",function(){this.nextAnim.paused=!1}),e.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},this);o[l-1].on("afteranimate",function(){this.lastFrame()},this)}},start:function(t){var e=this.delay,i=this.delayStart;if(e){if(!i)return void(this.delayStart=t);if(t-i<e)return;t=new Date(i.getTime()+e)}!1!==this.fireEvent("beforeanimate",this)&&(this.startTime=t,this.running=!0,this.animations[this.keyframeStep].paused=!1)},lastFrame:function(){var t=this.iterations,e=this.currentIteration;++e<t?(this.startTime=new Date,this.currentIteration=e,this.keyframeStep=0,this.applyAnimator(this.target),this.animations[this.keyframeStep].paused=!1):(this.currentIteration=0,this.end())},end:function(){this.fireEvent("afteranimate",this,this.startTime,new Date-this.startTime)},isReady:function(){return!1===this.paused&&!1===this.running&&this.iterations>0},isRunning:function(){return!1}}),Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(t,e,i,n,s,r){function o(t){return((h*t+l)*t+a)*t}var a=3*e,l=3*(n-e)-a,h=1-a-l,d=3*i,c=3*(s-i)-d,u=1-d-c;return function(t,e){var i=function(t,e){var i,n,s,r,d,c;for(s=t,c=0;c<8;c++){if(r=o(s)-t,Math.abs(r)<e)return s;if(d=(3*h*s+2*l)*s+a,Math.abs(d)<1e-6)break;s-=r/d}if(i=0,n=1,(s=t)<i)return i;if(s>n)return n;for(;i<n;){if(r=o(s),Math.abs(r-t)<e)return s;t>r?i=s:n=s,s=(n-i)/2+i}return s}(t,e);return((u*i+c)*i+d)*i}(t,1/(200*r))},cubicBezier:function(t,e,i,n){var s=function(s){return Ext.fx.CubicBezier.cubicBezierAtTime(s,t,e,i,n,1)};return s.toCSS3=function(){return"cubic-bezier("+[t,e,i,n].join(",")+")"},s.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-i,1-n,1-t,1-e)},s}}),Ext.require("Ext.fx.CubicBezier",function(){var t=Math,e=t.PI,i=t.pow,n=t.sin,s=t.sqrt,r=t.abs;Ext.define("Ext.fx.Easing",{singleton:!0,linear:Ext.identityFn,ease:function(t){var e=.07813-t/2,n=s(.0066+e*e),o=n-e,a=-n-e,l=i(r(o),1/3)*(o<0?-1:1)+i(r(a),1/3)*(a<0?-1:1)+.25;return 3*i(1-l,2)*l*.1+3*(1-l)*l*l+l*l*l},easeIn:function(t){return i(t,1.7)},easeOut:function(t){return i(t,.48)},easeInOut:function(t){var e=.48-t/1.04,n=s(.1734+e*e),o=n-e,a=-n-e,l=i(r(o),1/3)*(o<0?-1:1)+i(r(a),1/3)*(a<0?-1:1)+.5;return 3*(1-l)*l*l+l*l*l},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},elasticIn:function(t){if(0===t||1===t)return t;return i(2,-10*t)*n(2*e*(t-.075)/.3)+1},elasticOut:function(t){return 1-Ext.fx.Easing.elasticIn(1-t)},bounceIn:function(t){return 1-Ext.fx.Easing.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},function(){var t=Ext.fx.Easing.self,e=t.prototype;t.implement({"back-in":e.backIn,"back-out":e.backOut,"ease-in":e.easeIn,"ease-out":e.easeOut,"elastic-in":e.elasticIn,"elastic-out":e.elasticOut,"bounce-in":e.bounceIn,"bounce-out":e.bounceOut,"ease-in-out":e.easeInOut})})}),Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(t,e,i){var n=Ext.Number.constrain;this.r=n(t,0,255),this.g=n(e,0,255),this.b=n(i,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){return[this.r,this.g,this.b]},getHSL:function(){var t,e=this.r/255,i=this.g/255,n=this.b/255,s=Math.max(e,i,n),r=Math.min(e,i,n),o=s-r,a=0,l=.5*(s+r);return r!=s&&(a=l<.5?o/(s+r):o/(2-s-r),(t=e==s?60*(i-n)/o:i==s?120+60*(n-e)/o:240+60*(e-i)/o)<0&&(t+=360),t>=360&&(t-=360)),[t,a,l]},getLighter:function(t){var e=this.getHSL();return t=t||this.lightnessFactor,e[2]=Ext.Number.constrain(e[2]+t,0,1),this.fromHSL(e[0],e[1],e[2])},getDarker:function(t){return t=t||this.lightnessFactor,this.getLighter(-t)},toString:function(){var t=Math.round,e=t(this.r).toString(16),i=t(this.g).toString(16),n=t(this.b).toString(16);return e=1==e.length?"0"+e:e,i=1==i.length?"0"+i:i,n=1==n.length?"0"+n:n,["#",e,i,n].join("")},toHex:function(t){if(Ext.isArray(t)&&(t=t[0]),!Ext.isString(t))return"";if("#"===t.substr(0,1))return t;var e,i,n,s,r=this.colorToHexRe.exec(t);return Ext.isArray(r)?(e=parseInt(r[2],10),i=parseInt(r[3],10),n=parseInt(r[4],10),s=n|i<<8|e<<16,r[1]+"#"+("000000"+s.toString(16)).slice(-6)):t},fromString:function(t){var e,i,n,s,r=parseInt;return 4!=t.length&&7!=t.length||"#"!==t.substr(0,1)?(e=t.match(this.rgbRe))&&(i=e[1],n=e[2],s=e[3]):(e=t.match(this.hexRe))&&(i=r(e[1],16)>>0,n=r(e[2],16)>>0,s=r(e[3],16)>>0,4==t.length&&(i+=16*i,n+=16*n,s+=16*s)),void 0===i?void 0:new Ext.draw.Color(i,n,s)},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},fromHSL:function(t,e,i){var n,s,r,o=[],a=Math.abs,l=Math.floor;if(0==e||null==t)o=[i,i,i];else{switch(t/=60,n=e*(1-a(2*i-1)),s=n*(1-a(t-2*l(t/2)-1)),r=i-n/2,l(t)){case 0:o=[n,s,0];break;case 1:o=[s,n,0];break;case 2:o=[0,n,s];break;case 3:o=[0,s,n];break;case 4:o=[s,0,n];break;case 5:o=[n,0,s]}o=[o[0]+r,o[1]+r,o[2]+r]}return new Ext.draw.Color(255*o[0],255*o[1],255*o[2])}},function(){var t=this.prototype;this.addStatics({fromHSL:function(){return t.fromHSL.apply(t,arguments)},fromString:function(){return t.fromString.apply(t,arguments)},toHex:function(){return t.toHex.apply(t,arguments)}})}),Ext.define("Ext.draw.Draw",{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(t,e){return"object"==(e=String(e).toLowerCase())&&t===Object(t)||"undefined"==e&&typeof t==e||"null"==e&&null===t||"array"==e&&Array.isArray&&Array.isArray(t)||Object.prototype.toString.call(t).toLowerCase().slice(8,-1)==e},ellipsePath:function(t){var e=t.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",e.x,e.y-e.ry,e.rx,e.ry,e.y+e.ry)},rectPath:function(t){var e=t.attr;return e.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",e.x+e.radius,e.y,e.width-2*e.radius,e.radius,-e.radius,e.height-2*e.radius,2*e.radius-e.width,2*e.radius-e.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",e.x,e.y,e.width+e.x,e.height+e.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(t){return t.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(t){if(!t)return null;var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[],n=this;return n.is(t,"array")&&n.is(t[0],"array")&&(i=n.pathClone(t)),i.length||String(t).replace(n.pathCommandRE,function(t,s,r){var o=[],a=s.toLowerCase();for(r.replace(n.pathValuesRE,function(t,e){e&&o.push(+e)}),"m"==a&&o.length>2&&(i.push([s].concat(Ext.Array.splice(o,0,2))),a="l",s="m"==s?"l":"L");o.length>=e[a]&&(i.push([s].concat(Ext.Array.splice(o,0,e[a]))),e[a]););}),i.toString=n.path2string,i},mapPath:function(t,e){if(!e)return t;var i,n,s,r,o,a,l;for(s=0,r=(t=this.path2curve(t)).length;s<r;s++)for(o=1,a=(l=t[s]).length;o<a-1;o+=2)i=e.x(l[o],l[o+1]),n=e.y(l[o],l[o+1]),l[o]=i,l[o+1]=n;return t},pathClone:function(t){var e,i,n,s,r=[];for(this.is(t,"array")&&this.is(t&&t[0],"array")||(t=this.parsePathString(t)),n=0,s=t.length;n<s;n++)for(r[n]=[],e=0,i=t[n].length;e<i;e++)r[n][e]=t[n][e];return r.toString=this.path2string,r},pathToAbsolute:function(t){this.is(t,"array")&&this.is(t&&t[0],"array")||(t=this.parsePathString(t));var e,i,n,s,r=[],o=0,a=0,l=0,h=0,d=0,c=t.length;for(c&&"M"==t[0][0]&&(l=o=+t[0][1],h=a=+t[0][2],d++,r[0]=["M",o,a]);d<c;d++){if(e=r[d]=[],(i=t[d])[0]!=i[0].toUpperCase())switch(e[0]=i[0].toUpperCase(),e[0]){case"A":e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=+(i[6]+o),e[7]=+(i[7]+a);break;case"V":e[1]=+i[1]+a;break;case"H":e[1]=+i[1]+o;break;case"M":l=+i[1]+o,h=+i[2]+a;default:for(n=1,s=i.length;n<s;n++)e[n]=+i[n]+(n%2?o:a)}else for(n=0,s=i.length;n<s;n++)r[d][n]=i[n];switch(e[0]){case"Z":o=l,a=h;break;case"H":o=e[1];break;case"V":a=e[1];break;case"M":l=(i=r[d])[(s=i.length)-2],h=i[s-1];default:o=(i=r[d])[(s=i.length)-2],a=i[s-1]}}return r.toString=this.path2string,r},pathToRelative:function(t){this.is(t,"array")&&this.is(t&&t[0],"array")||(t=this.parsePathString(t));var e,i,n,s,r,o,a,l,h,d=[],c=0,u=0,f=0,p=0,g=0;for("M"==t[0][0]&&(f=c=t[0][1],p=u=t[0][2],g++,d.push(["M",c,u])),n=g,a=t.length;n<a;n++){if(e=d[n]=[],(i=t[n])[0]!=i[0].toLowerCase())switch(e[0]=i[0].toLowerCase(),e[0]){case"a":e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=+(i[6]-c).toFixed(3),e[7]=+(i[7]-u).toFixed(3);break;case"v":e[1]=+(i[1]-u).toFixed(3);break;case"m":f=i[1],p=i[2];default:for(s=1,l=i.length;s<l;s++)e[s]=+(i[s]-(s%2?c:u)).toFixed(3)}else for(e=d[n]=[],"m"==i[0]&&(f=i[1]+c,p=i[2]+u),r=0,h=i.length;r<h;r++)d[n][r]=i[r];switch(o=d[n].length,d[n][0]){case"z":c=f,u=p;break;case"h":c+=+d[n][o-1];break;case"v":u+=+d[n][o-1];break;default:c+=+d[n][o-2],u+=+d[n][o-1]}}return d.toString=this.path2string,d},path2curve:function(t){var e,i,n,s,r=this.pathToAbsolute(t),o=r.length,a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(e=0;e<o;e++){if(r[e]=this.command2curve(r[e],a),r[e].length>7){for(r[e].shift(),s=r[e];s.length;)Ext.Array.splice(r,e++,0,["C"].concat(Ext.Array.splice(s,0,6)));Ext.Array.erase(r,e,1),o=r.length,e--}n=(i=r[e]).length,a.x=i[n-2],a.y=i[n-1],a.bx=parseFloat(i[n-4])||a.x,a.by=parseFloat(i[n-3])||a.y}return r},interpolatePaths:function(t,e){var i,n,s,r,o,a,l=this.pathToAbsolute(t),h=this.pathToAbsolute(e),d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)Ext.Array.splice(t,e++,0,["C"].concat(Ext.Array.splice(i,0,6)));Ext.Array.erase(t,e,1),n=Math.max(l.length,h.length||0)}},f=function(t,e,i,s,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(Ext.Array.splice(e,r,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],n=Math.max(l.length,h.length||0))};for(i=0,n=Math.max(l.length,h.length||0);i<n;i++)l[i]=this.command2curve(l[i],d),u(l,i),h[i]=this.command2curve(h[i],c),u(h,i),f(l,h,d,c,i),f(h,l,c,d,i),s=l[i],r=h[i],o=s.length,a=r.length,d.x=s[o-2],d.y=s[o-1],d.bx=parseFloat(s[o-4])||d.x,d.by=parseFloat(s[o-3])||d.y,c.bx=parseFloat(r[a-4])||c.x,c.by=parseFloat(r[a-3])||c.y,c.x=r[a-2],c.y=r[a-1];return[l,h]},command2curve:function(t,e){if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch("T"!=t[0]&&"Q"!=t[0]&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(this.arc2curve.apply(this,[e.x,e.y].concat(t.slice(1))));break;case"S":t=["C",e.x+(e.x-(e.bx||e.x)),e.y+(e.y-(e.by||e.y))].concat(t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"].concat(this.quadratic2curve(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(this.quadratic2curve(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(e.x,e.y,t[1],t[2],t[1],t[2]);break;case"H":t=["C"].concat(e.x,e.y,t[1],e.y,t[1],e.y);break;case"V":t=["C"].concat(e.x,e.y,e.x,t[1],e.x,t[1]);break;case"Z":t=["C"].concat(e.x,e.y,e.X,e.Y,e.X,e.Y)}return t},quadratic2curve:function(t,e,i,n,s,r){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*s+2/3*i,1/3*r+2/3*n,s,r]},rotate:function(t,e,i){var n=Math.cos(i),s=Math.sin(i);return{x:t*n-e*s,y:t*s+e*n}},arc2curve:function(t,e,i,n,s,r,o,a,l,h){var d,c,u,f,p,g,m,x,E,y,v,b,C,w,S,T,k,D,I,P,M,A,L,R,F,O,N,B,H,W=Math.PI,V=120*W/180,z=this.radian*(+s||0),G=[],_=Math,j=_.cos,X=_.sin,Y=_.sqrt,U=_.abs,q=_.asin;if(h?(y=h[0],v=h[1],x=h[2],E=h[3]):(t=(d=this.rotate(t,e,-z)).x,e=d.y,(f=(c=(t-(a=(d=this.rotate(a,l,-z)).x))/2)*c/(i*i)+(u=(e-(l=d.y))/2)*u/(n*n))>1&&(i*=f=Y(f),n*=f),p=i*i,g=n*n,x=(m=(r==o?-1:1)*Y(U((p*g-p*u*u-g*c*c)/(p*u*u+g*c*c))))*i*u/n+(t+a)/2,y=q(((e-(E=m*-n*c/i+(e+l)/2))/n).toFixed(7)),v=q(((l-E)/n).toFixed(7)),y=t<x?W-y:y,v=a<x?W-v:v,y<0&&(y=2*W+y),v<0&&(v=2*W+v),o&&y>v&&(y-=2*W),!o&&v>y&&(v-=2*W)),b=v-y,U(b)>V&&(N=v,B=a,H=l,a=x+i*j(v=y+V*(o&&v>y?1:-1)),l=E+n*X(v),G=this.arc2curve(a,l,i,n,s,0,o,B,H,[v,N,x,E])),b=v-y,C=j(y),w=X(y),S=j(v),T=X(v),k=_.tan(b/4),D=4/3*i*k,I=4/3*n*k,P=[t,e],M=[t+D*w,e-I*C],A=[a+D*T,l-I*S],L=[a,l],M[0]=2*P[0]-M[0],M[1]=2*P[1]-M[1],h)return[M,A,L].concat(G);for(R=[],O=(G=[M,A,L].concat(G).join().split(",")).length,F=0;F<O;F++)R[F]=F%2?this.rotate(G[F-1],G[F],z).y:this.rotate(G[F],G[F+1],z).x;return R},rotateAndTranslatePath:function(t){var e,i,n,s,r,o=t.rotation.degrees,a=t.rotation.x,l=t.rotation.y,h=t.translation.x,d=t.translation.y,c=[];if(!o&&!h&&!d)return this.pathToAbsolute(t.attr.path);for(h=h||0,d=d||0,i=(e=this.pathToAbsolute(t.attr.path)).length;i--;)if("A"==(n=c[i]=e[i].slice())[0])s=this.rotatePoint(n[6],n[7],o,a,l),n[6]=s.x+h,n[7]=s.y+d;else for(r=1;null!=n[r+1];)s=this.rotatePoint(n[r],n[r+1],o,a,l),n[r]=s.x+h,n[r+1]=s.y+d,r+=2;return c},rotatePoint:function(t,e,i,n,s){if(!i)return{x:t,y:e};t-=n=n||0,e-=s=s||0,i*=this.radian;var r=Math.cos(i),o=Math.sin(i);return{x:t*r-e*o+n,y:t*o+e*r+s}},pathDimensions:function(t){if(!(t&&t+""))return{x:0,y:0,width:0,height:0};for(var e,i,n,s,r,o,a=0,l=0,h=[],d=[],c=0,u=(t=this.path2curve(t)).length;c<u;c++)"M"==(e=t[c])[0]?(a=e[1],l=e[2],h.push(a),d.push(l)):(o=this.curveDim(a,l,e[1],e[2],e[3],e[4],e[5],e[6]),h=h.concat(o.min.x,o.max.x),d=d.concat(o.min.y,o.max.y),a=e[5],l=e[6]);return i=Math.min.apply(0,h),n=Math.min.apply(0,d),s=Math.max.apply(0,h),r=Math.max.apply(0,d),{x:Math.round(i),y:Math.round(n),path:t,width:Math.round(s-i),height:Math.round(r-n)}},intersectInside:function(t,e,i){return(i[0]-e[0])*(t[1]-e[1])>(i[1]-e[1])*(t[0]-e[0])},intersectIntersection:function(t,e,i,n){var s=[],r=i[0]-n[0],o=i[1]-n[1],a=t[0]-e[0],l=t[1]-e[1],h=i[0]*n[1]-i[1]*n[0],d=t[0]*e[1]-t[1]*e[0],c=1/(r*l-o*a);return s[0]=(h*a-d*r)*c,s[1]=(h*l-d*o)*c,s},intersect:function(t,e){for(var i,n,s,r,o,a,l=0,h=e.length,d=e[h-1],c=t;l<h;++l){for(i=e[l],o=c,c=[],n=o[o.length-1],a=0,r=o.length;a<r;a++)s=o[a],this.intersectInside(s,d,i)?(this.intersectInside(n,d,i)||c.push(this.intersectIntersection(n,s,d,i)),c.push(s)):this.intersectInside(n,d,i)&&c.push(this.intersectIntersection(n,s,d,i)),n=s;d=i}return c},bezier:function(t,e,i,n,s){if(0===s)return t;if(1===s)return n;var r=1-s,o=s/r;return r*r*r*(t+o*(3*e+o*(3*i+n*o)))},bezierDim:function(t,e,i,n){var s,r,o,a,l,h,d,c,u,f=[];for(t+3*i==n+3*e?(s=t-e,(s/=2*(t-e-e+i))<1&&s>0&&f.push(s)):(l=(r=t-3*e+3*i-n)+r,0===(a=(o=2*(t-e-e+i))*o-4*r*(t-e))?(s=o/l)<1&&s>0&&f.push(s):a>0&&((s=((h=Math.sqrt(a))+o)/l)<1&&s>0&&f.push(s),(s=(o-h)/l)<1&&s>0&&f.push(s))),d=Math.min(t,n),c=Math.max(t,n),u=0;u<f.length;u++)d=Math.min(d,this.bezier(t,e,i,n,f[u])),c=Math.max(c,this.bezier(t,e,i,n,f[u]));return[d,c]},curveDim:function(t,e,i,n,s,r,o,a){var l=this.bezierDim(t,i,s,o),h=this.bezierDim(e,n,r,a);return{min:{x:l[0],y:h[0]},max:{x:l[1],y:h[1]}}},getAnchors:function(t,e,i,n,s,r,o){o=o||4;var a,l,h,d,c,u,f,p,g,m=Math,x=m.PI,E=x/2,y=m.abs,v=m.sin,b=m.cos,C=m.atan;return a=(i-t)/o,l=(s-i)/o,n>=e&&n>=r||n<=e&&n<=r?h=d=E:(h=C((i-t)/y(n-e)),e<n&&(h=x-h),d=C((s-i)/y(n-r)),r<n&&(d=x-d)),(g=E-(h+d)%(2*x)/2)>E&&(g-=x),h+=g,d+=g,c=i-a*v(h),u=n+a*b(h),f=i+l*v(d),p=n+l*b(d),(n>e&&u<e||n<e&&u>e)&&(c+=y(e-u)*(c-i)/(u-n),u=e),(n>r&&p<r||n<r&&p>r)&&(f-=y(r-p)*(f-i)/(p-n),p=r),{x1:c,y1:u,x2:f,y2:p}},smooth:function(t,e){for(var i,n,s,r,o,a,l,h,d,c=this.path2curve(t),u=[c[0]],f=c[0][1],p=c[0][2],g=1,m=c.length,x=1,E=f,y=p;g<m;g++)if(s=c[g],r=s.length,o=c[g-1],a=o.length,l=c[g+1],h=l&&l.length,"M"!=s[0])s[r-2]!=E||s[r-1]!=y||l&&"M"!=l[0]?n=l&&"M"!=l[0]?this.getAnchors(o[a-2],o[a-1],s[r-2],s[r-1],l[h-2],l[h-1],e):{x1:s[r-2],y1:s[r-1]}:(d=u[x].length,n=this.getAnchors(o[a-2],o[a-1],E,y,u[x][d-2],u[x][d-1],e),u[x][1]=n.x2,u[x][2]=n.y2),u.push(["C",f,p,n.x1,n.y1,s[r-2],s[r-1]]),f=n.x2,p=n.y2;else{for(E=s[1],y=s[2],i=g+1;"C"!=c[i][0];)i++;u.push(["M",E,y]),x=u.length,f=E,p=y}return u},findDotAtSegment:function(t,e,i,n,s,r,o,a,l){var h=1-l;return{x:Math.pow(h,3)*t+3*Math.pow(h,2)*l*i+3*h*l*l*s+Math.pow(l,3)*o,y:Math.pow(h,3)*e+3*Math.pow(h,2)*l*n+3*h*l*l*r+Math.pow(l,3)*a}},snapEnds:function(t,e,i,n){if(Ext.isDate(t))return this.snapEndsByDate(t,e,i);var s,r,o,a,l,h,d=(e-t)/i,c=Math.floor(Math.log(d)/Math.LN10)+1,u=Math.pow(10,c),f=Math.round(d%u*Math.pow(10,2-c)),p=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],g=0,m=1e9,x=p.length;if(r=Math.floor(t/u)*u,t==r&&r>0&&(r=Math.floor((t-u/10)/u)*u),n){for(l=0;l<x;l++)(a=(o=p[l][0])-f<0?1e6:(o-f)/p[l][1])<m&&(h=o,m=a);if(d=Math.floor(d*Math.pow(10,-c))*Math.pow(10,c)+h*Math.pow(10,c-2),t<0&&e>=0){for(s=0;s>t;)s-=d,g++;for(t=+s.toFixed(10),s=0;s<e;)s+=d,g++;e=+s.toFixed(10)}else for(s=t=r;s<e;)s+=d,g++;e=+s.toFixed(10)}else t=r,g=i;return{from:t,to:e,power:c,step:d,steps:g}},snapEndsByDate:function(t,e,i,n){var s,r,o,a,l=!1,h=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],d=h.length,c=!1;for(a=0;a<d;a++)if(s=h[a],!c)for(r=0;r<s[1].length;r++)if(e<Ext.Date.add(t,s[0],s[1][r]*i)){l=[s[0],s[1][r]],c=!0;break}return l||(o=this.snapEnds(t.getFullYear(),e.getFullYear()+1,i,n),l=[Date.YEAR,Math.round(o.step)]),this.snapEndsByDateAndStep(t,e,l,n)},snapEndsByDateAndStep:function(t,e,i,n){var s,r,o,a,l,h,d,c,u=[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()],f=i[0],p=i[1];if(n)r=t;else switch(f){case Ext.Date.MILLI:r=new Date(u[0],u[1],u[2],u[3],u[4],u[5],Math.floor(u[6]/p)*p);break;case Ext.Date.SECOND:r=new Date(u[0],u[1],u[2],u[3],u[4],Math.floor(u[5]/p)*p,0);break;case Ext.Date.MINUTE:r=new Date(u[0],u[1],u[2],u[3],Math.floor(u[4]/p)*p,0,0);break;case Ext.Date.HOUR:r=new Date(u[0],u[1],u[2],Math.floor(u[3]/p)*p,0,0,0);break;case Ext.Date.DAY:r=new Date(u[0],u[1],Math.floor((u[2]-1)/p)*p+1,0,0,0,0);break;case Ext.Date.MONTH:r=new Date(u[0],Math.floor(u[1]/p)*p,1,0,0,0,0);break;default:r=new Date(Math.floor(u[0]/p)*p,0,1,0,0,0,0)}for(s=(c=f===Ext.Date.MONTH&&(.5==p||p==1/3||.25==p))?[]:0,o=new Date(r);o<e;)if(c){switch(a=new Date(o),l=a.getFullYear(),h=a.getMonth(),d=a.getDate(),p){case.5:d>=15?(d=1,++h>11&&l++):d=15;break;case 1/3:d>=20?(d=1,++h>11&&l++):d=d>=10?20:10;break;case.25:d>=22?(d=1,++h>11&&l++):d=d>=15?22:d>=8?15:8}o.setYear(l),o.setMonth(h),o.setDate(d),s.push(new Date(o))}else o=Ext.Date.add(o,f,p),s++;return n&&(o=e),c?{from:+r,to:+o,steps:s}:{from:+r,to:+o,step:(o-r)/s,steps:s}},sorter:function(t,e){return t.offset-e.offset},rad:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},withinBox:function(t,e,i){return i=i||{},t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},parseGradient:function(t){var e,i,n,s,r=t.type||"linear",o=t.angle||0,a=this.radian,l=t.stops,h=[];"linear"==r&&(i=[0,0,Math.cos(o*a),Math.sin(o*a)],n=1/(Math.max(Math.abs(i[2]),Math.abs(i[3]))||1),i[2]*=n,i[3]*=n,i[2]<0&&(i[0]=-i[2],i[2]=0),i[3]<0&&(i[1]=-i[3],i[3]=0));for(e in l)l.hasOwnProperty(e)&&this.stopsRE.test(e)&&(s={offset:parseInt(e,10),color:Ext.draw.Color.toHex(l[e].color)||"#ffffff",opacity:l[e].opacity||1},h.push(s));return Ext.Array.sort(h,this.sorter),"linear"==r?{id:t.id,type:r,vector:i,stops:h}:{id:t.id,type:r,centerX:t.centerX,centerY:t.centerY,focalX:t.focalX,focalY:t.focalY,radius:t.radius,vector:i,stops:h}}}),Ext.define("Ext.fx.PropertyHandler",{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(t,e,i,n,s){i="number"==typeof i?i:1;var r,o,a=this.unitRE,l=a.exec(t);return l&&(t=l[1],o=l[2],this.scrollRE.test(s)||o||!this.pixelDefaultsRE.test(s)||(o="px")),t=+t||0,(l=a.exec(e))&&(e=l[1],o=l[2]||o),e=+e||0,r=null!=n?n:t,{from:t,delta:(e-r)*i,units:o}},get:function(t,e,i,n,s){var r,o,a,l,h,d=t.length,c=[];for(r=0;r<d;r++)if(n&&(o=n[r][1].from),Ext.isArray(t[r][1])&&Ext.isArray(e)){for(a=[],l=0,h=t[r][1].length;l<h;l++)a.push(this.computeDelta(t[r][1][l],e[l],i,o,s));c.push([t[r][0],a])}else c.push([t[r][0],this.computeDelta(t[r][1],e,i,o,s)]);return c},set:function(t,e){var i,n,s,r,o,a=t.length,l=[];for(i=0;i<a;i++)if(n=t[i][1],Ext.isArray(n)){for(s=[],o=0,r=n.length;o<r;o++)s.push(n[o].from+n[o].delta*e+(n[o].units||0));l.push([t[i][0],s])}else l.push([t[i][0],n.from+n.delta*e+(n.units||0)]);return l}},stringHandler:{computeDelta:function(t,e,i,n,s){return{from:t,delta:e}},get:function(t,e,i,n,s){var r,o=t.length,a=[];for(r=0;r<o;r++)a.push([t[r][0],this.computeDelta(t[r][1],e,i,void 0,s)]);return a},set:function(t,e){var i,n,s=t.length,r=[];for(i=0;i<s;i++)n=t[i][1],r.push([t[i][0],n.delta]);return r}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(t,e){e="number"==typeof e?e:1;var i,n,s,r,o=!1,a=[this.hexRE,this.rgbRE,this.hex3RE],l=a.length;for(r=0;r<l;r++)if(s=a[r],n=r%2==0?16:10,(i=s.exec(t))&&4===i.length){2===r&&(i[1]+=i[1],i[2]+=i[2],i[3]+=i[3]),o={red:parseInt(i[1],n),green:parseInt(i[2],n),blue:parseInt(i[3],n)};break}return o||t},computeDelta:function(t,e,i,n){t=this.parseColor(t),e=this.parseColor(e,i);var s=n||t,r=typeof s,o=typeof e;return"string"==r||"undefined"==r||"string"==o||"undefined"==o?e||s:{from:t,delta:{red:Math.round((e.red-s.red)*i),green:Math.round((e.green-s.green)*i),blue:Math.round((e.blue-s.blue)*i)}}},get:function(t,e,i,n){var s,r,o=t.length,a=[];for(s=0;s<o;s++)n&&(r=n[s][1].from),a.push([t[s][0],this.computeDelta(t[s][1],e,i,r)]);return a},set:function(t,e){var i,n,s,r,o,a=t.length,l=[];for(i=0;i<a;i++)if(n=t[i][1]){if(r=n.from,o=n.delta,n="object"==typeof n&&"red"in n?"rgb("+n.red+", "+n.green+", "+n.blue+")":n,void 0===(n="object"==typeof n&&n.length?n[0]:n))return[];s="string"==typeof n?n:"rgb("+[(r.red+Math.round(o.red*e))%256,(r.green+Math.round(o.green*e))%256,(r.blue+Math.round(o.blue*e))%256].join(",")+")",l.push([t[i][0],s])}return l}},object:{interpolate:function(t,e){e="number"==typeof e?e:1;var i,n={};for(i in t)n[i]=parseFloat(t[i])*e;return n},computeDelta:function(t,e,i,n){t=this.interpolate(t),e=this.interpolate(e,i);var s,r=n||t,o={};for(s in e)o[s]=e[s]-r[s];return{from:t,delta:o}},get:function(t,e,i,n){var s,r,o=t.length,a=[];for(s=0;s<o;s++)n&&(r=n[s][1].from),a.push([t[s][0],this.computeDelta(t[s][1],e,i,r)]);return a},set:function(t,e){var i,n,s,r,o,a=t.length,l=[],h={};for(i=0;i<a;i++){n=(r=t[i][1]).from,s=r.delta;for(o in n)h[o]=n[o]+s[o]*e;l.push([t[i][0],h])}return l}},path:{computeDelta:function(t,e,i,n){i="number"==typeof i?i:1;var s;return t=+t||0,e=+e||0,s=null!=n?n:t,{from:t,delta:(e-s)*i}},forcePath:function(t){return Ext.isArray(t)||Ext.isArray(t[0])||(t=Ext.draw.Draw.parsePathString(t)),t},get:function(t,e,i,n){var s,r,o,a,l,h,d,c,u,f=this.forcePath(e),p=[],g=t.length;for(o=0;o<g;o++){for(u=this.forcePath(t[o][1]),u=(a=Ext.draw.Draw.interpolatePaths(u,f))[0],f=a[1],s=u.length,c=[],h=0;h<s;h++){for(a=[u[h][0]],r=u[h].length,d=1;d<r;d++)l=n&&n[0][1][h][d].from,a.push(this.computeDelta(u[h][d],f[h][d],i,l));c.push(a)}p.push([t[o][0],c])}return p},set:function(t,e){var i,n,s,r,o,a,l,h,d=t.length,c=[];for(i=0;i<d;i++){for(r=[],l=(a=t[i][1]).length,n=0;n<l;n++){for(o=[a[n][0]],h=a[n].length,s=1;s<h;s++)o.push(a[n][s].from+a[n][s].delta*e);r.push(o.join(","))}c.push([t[i][0],r.join(",")])}return c}}}},function(){for(var t=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],e=t.length,i=0;i<e;i++)this[t[i]]=this.color;for(e=(t=["cursor"]).length,i=0;i<e;i++)this[t[i]]=this.stringHandler}),Ext.define("Ext.fx.Anim",{mixins:{observable:Ext.util.Observable},isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(t){var e;if((t=t||{}).keyframes)return new Ext.fx.Animator(t);Ext.apply(this,t),void 0===this.from&&(this.from={}),this.propHandlers={},this.config=t,this.target=Ext.fx.Manager.createTarget(this.target),this.easingFn=Ext.fx.Easing[this.easing],this.target.dynamic=this.dynamic,this.easingFn||(this.easingFn=String(this.easing).match(this.bezierRE),this.easingFn&&5==this.easingFn.length&&(e=this.easingFn,this.easingFn=Ext.fx.CubicBezier.cubicBezier(+e[1],+e[2],+e[3],+e[4]))),this.id=Ext.id(null,"ext-anim-"),this.addEvents("beforeanimate","afteranimate","lastframe"),this.mixins.observable.constructor.call(this),Ext.fx.Manager.addAnim(this)},setAttr:function(t,e){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,t,e)},initAttrs:function(){var t,e,i,n,s=this.from,r=this.to,o=this.initialFrom||{},a={};for(n in r)r.hasOwnProperty(n)&&(t=this.target.getAttr(n,s[n]),e=r[n],i=Ext.fx.PropertyHandler[n]?this.propHandlers[n]=Ext.fx.PropertyHandler[n]:Ext.isObject(e)?this.propHandlers[n]=Ext.fx.PropertyHandler.object:this.propHandlers[n]=Ext.fx.PropertyHandler.defaultHandler,a[n]=i.get(t,e,this.damper,o[n],n));this.currentAttrs=a},start:function(t){var e=this.delay,i=this.delayStart;if(e){if(!i)return void(this.delayStart=t);if(t-i<e)return;t=new Date(i.getTime()+e)}!1!==this.fireEvent("beforeanimate",this)&&(this.startTime=t,this.paused||this.currentAttrs||this.initAttrs(),this.running=!0,this.frameCount=0)},runAnim:function(t){var e,i,n,s,r=this.currentAttrs,o=this.duration,a=this.easingFn,l=this.propHandlers,h={};t>=o&&(t=o,s=!0),this.reverse&&(t=o-t);for(n in r)r.hasOwnProperty(n)&&(i=r[n],e=s?1:a(t/o),h[n]=l[n].set(i,e));return this.frameCount++,h},lastFrame:function(){var t=this.iterations,e=this.currentIteration;++e<t?(this.alternate&&(this.reverse=!this.reverse),this.startTime=new Date,this.currentIteration=e,this.paused=!1):(this.currentIteration=0,this.end(),this.fireEvent("lastframe",this,this.startTime))},endWasCalled:0,end:function(){if(!this.endWasCalled++){this.startTime=0,this.paused=!1,this.running=!1,Ext.fx.Manager.removeAnim(this),this.fireEvent("afteranimate",this,this.startTime),Ext.callback(this.callback,this.scope,[this,this.startTime])}},isReady:function(){return!1===this.paused&&!1===this.running&&this.iterations>0},isRunning:function(){return!1===this.paused&&!0===this.running&&!0!==this.isAnimator}}),Ext.enableFx=!0,Ext.define("Ext.util.Animate",{isAnimate:!0,animate:function(t){return Ext.fx.Manager.hasFxBlock(this.id)?this:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(this.anim(t))),this)},anim:function(t){if(!Ext.isObject(t))return!!t&&{};return t.stopAnimation&&this.stopAnimation(),Ext.applyIf(t,Ext.fx.Manager.getFxDefaults(this.id)),Ext.apply({target:this,paused:!0},t)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){return Ext.fx.Manager.stopAnimation(this.id),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype),Ext.CompositeElementLite.importElementMethods()}),Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var t;this.hasOwnProperty("childEls")&&(t=this.childEls,delete this.childEls,this.addChildEls.apply(this,t))},destroy:function(){var t,e,i,n=this.getChildEls();for(i=n.length;i--;)"string"!=typeof(e=n[i])&&(e=e.name),(t=this[e])&&(this[e]=null,t.remove())},addChildEls:function(){var t=arguments;this.hasOwnProperty("childEls")?this.childEls.push.apply(this.childEls,t):this.childEls=this.getChildEls().concat(Array.prototype.slice.call(t)),this.prune(this.childEls,!1)},applyChildEls:function(t,e){var i,n,s,r,o,a=this.getChildEls();for(i=(e||this.id)+"-",s=a.length;s--;)"string"==typeof(n=a[s])?o=t.getById(i+n):(o=(r=n.select)?Ext.select(r,!0,t.dom):(r=n.selectNode)?Ext.get(Ext.DomQuery.selectNode(r,t.dom)):t.getById(n.id||i+n.itemId),n=n.name),this[n]=o},getChildEls:function(){var t;return this.hasOwnProperty("childEls")?this.childEls:(t=this.self).$childEls||this.getClassChildEls(t)},getClassChildEls:function(t){var e,i,n,s,r,o,a,l,h,d,c,u=t.$childEls;if(!u){(d=t.superclass)?(l=[(d=d.self).$childEls||this.getClassChildEls(d)],c=d.prototype.mixins||{}):(l=[],c={}),o=(h=t.prototype).mixins;for(a in o)o.hasOwnProperty(a)&&!c.hasOwnProperty(a)&&(r=o[a].self,l.push(r.$childEls||this.getClassChildEls(r)));for(l.push(h.hasOwnProperty("childEls")&&h.childEls),i=0,n=l.length;i<n;++i)(e=l[i])&&e.length&&(u?(s||(s=!0,u=u.slice(0)),u.push.apply(u,e)):u=e);t.$childEls=u=u?this.prune(u,!s):[]}return u},prune:function(t,e){for(var i,n=t.length,s={};n--;)"string"!=typeof(i=t[n])&&(i=i.name),s[i]?(e&&(e=!1,t=t.slice(0)),Ext.Array.erase(t,n,1)):s[i]=1;return t},removeChildEls:function(t){var e,i,n,s=this.getChildEls(),r=this.childEls=[];for(i=0,e=s.length;i<e;++i)t(n=s[i])||r.push(n)}}),Ext.define("Ext.util.Renderable",{frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table class="',Ext.baseCSSPrefix,"table-plain",'" cellpadding="0"><tbody>','<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var t,e,i,n,s={},r=this.protoEl,o=this.el;this.finishRenderChildren(),this.contentEl&&(i=(e=Ext.baseCSSPrefix)+"hide-",(n=Ext.get(this.contentEl)).removeCls([e+"hidden",i+"display",i+"offsets",i+"nosize"]),this.getContentTarget().appendChild(n.dom)),r.writeTo(s),(t=s.removed)&&o.removeCls(t),(t=s.cls).length&&o.addCls(t),t=s.style,s.style&&o.setStyle(t),this.protoEl=null,this.ownerCt||this.updateLayout()},afterFirstLayout:function(t,e){var i,n,s,r,o=this.x,a=this.y;this.ownerLayout||(i=Ext.isDefined(o),n=Ext.isDefined(a)),!this.floating||i&&n||(this.floatParent?(s=this.floatParent.getTargetEl().getViewRegion(),r=this.el.getAlignToXY(this.floatParent.getTargetEl(),"c-c"),s.x=r[0]-s.x,s.y=r[1]-s.y):(r=this.el.getAlignToXY(this.container,"c-c"),s=this.container.translateXY(r[0],r[1])),o=i?o:s.x,a=n?a:s.y,i=n=!0),(i||n)&&this.setPosition(o,a),this.onBoxReady(t,e)},applyRenderSelectors:function(){var t,e=this.renderSelectors,i=this.el,n=i.dom;if(this.applyChildEls(i),e)for(t in e)e.hasOwnProperty(t)&&e[t]&&(this[t]=Ext.get(Ext.DomQuery.selectNode(e[t],n)))},beforeRender:function(){this.getTargetEl();var t=this.getOverflowEl(),e=this.getComponentLayout(),i=this.getOverflowStyle();this.frame=this.frame||this.alwaysFramed,e.initialized||e.initLayout(),t&&(t.setStyle(i),this.overflowStyleSet=!0),this.setUI(this.ui),this.disabled&&this.disable(!0)},doApplyRenderTpl:function(t,e){var i=e.$comp;i.rendered||i.initRenderTpl().applyOut(e.renderData,t)},doAutoRender:function(){this.rendered||(this.floating?this.render(document.body):this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender))},doRenderContent:function(t,e){var i=e.$comp;i.html&&(Ext.DomHelper.generateMarkup(i.html,t),delete i.html),i.tpl&&(i.tpl.isTemplate||(i.tpl=new Ext.XTemplate(i.tpl)),i.data&&(i.tpl.applyOut(i.data,t),delete i.data))},doRenderFramingDockedItems:function(t,e,i){var n=e.$comp;!n.rendered&&n.doRenderDockedItems&&(e.renderData.$skipDockedItems=!0,n.doRenderDockedItems.call(this,t,e,i))},finishRender:function(t){var e,i,n;!this.el||this.$pid?(n=this.container?this.container.getById(this.id,!0):Ext.getDom(this.id),this.el?(delete this.$pid,this.el.dom||this.wrapPrimaryEl(this.el),n.parentNode.insertBefore(this.el.dom,n),Ext.removeNode(n)):this.wrapPrimaryEl(n)):this.rendering||(e=this.initRenderTpl())&&(i=this.initRenderData(),e.insertFirst(this.getTargetEl(),i)),this.container||(this.container=Ext.get(this.el.dom.parentNode)),this.ctCls&&this.container.addCls(this.ctCls),this.onRender(this.container,t),this.overflowStyleSet||this.getOverflowEl().setStyle(this.getOverflowStyle()),this.el.setVisibilityMode(Ext.Element[this.hideMode.toUpperCase()]),this.overCls&&this.el.hover(this.addOverCls,this.removeOverCls,this),this.hasListeners.render&&this.fireEvent("render",this),this.afterRender(),this.hasListeners.afterrender&&this.fireEvent("afterrender",this),this.initEvents(),this.hidden&&this.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getElConfig:function(){var t,e,i,n,s,r,o=this.autoEl,a=this.getFrameInfo(),l={tag:"div",tpl:a?this.initFramingTpl(a.table):this.initRenderTpl()},h=this.protoEl;if(this.initStyles(h),a&&h.setStyle("background-image","none"),h.writeTo(l),h.flush(),Ext.isString(o)?l.tag=o:Ext.apply(l,o),l.id=this.id,l.tpl)if(a){for(i=(e=this.frameElNames).length,l.tplData=r=this.getFrameRenderData(),r.renderData=this.initRenderData(),s=r.fgid,t=0;t<i;t++)n=e[t],this.addChildEls({name:"frame"+n,id:s+n});this.addChildEls({name:"frameBody",id:s+"MC"})}else l.tplData=this.initRenderData();return l},initFramingTpl:function(t){var e=this.getFrameTpl(t);return e&&!e.applyRenderTpl&&this.setupFramingTpl(e),e},setupFramingTpl:function(t){t.applyRenderTpl=this.doApplyRenderTpl,t.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(t){return void 0!==t&&(t=Ext.isNumber(t)?this.container.dom.childNodes[t]:Ext.getDom(t)),t},getRenderTree:function(){return this.hasListeners.beforerender&&!1===this.fireEvent("beforerender",this)?null:(this.beforeRender(),this.rendering=!0,this.el?{tag:"div",id:this.$pid=Ext.id()}:this.getElConfig())},initContainer:function(t){return!t&&this.el&&(t=this.el.dom.parentNode,this.allowDomMove=!1),this.container=t.dom?t:Ext.get(t),this.container},initRenderData:function(){return Ext.apply({$comp:this,id:this.id,ui:this.ui,uiCls:this.uiCls,baseCls:this.baseCls,componentCls:this.componentCls,frame:this.frame,childElCls:""},this.renderData)},initRenderTpl:function(){var t=this.getTpl("renderTpl");return t&&!t.renderContent&&this.setupRenderTpl(t),t},onRender:function(t,e){var i,n,s=this.x,r=this.y,o=null,a=this.el;this.applyRenderSelectors(),this.rendering=null,this.rendered=!0,null!=s&&(o={x:s}),null!=r&&((o=o||{}).y=r),!this.getFrameInfo()&&Ext.isBorderBox&&(i=this.width,n=this.height,"number"==typeof i&&((o=o||{}).width=i),"number"==typeof n&&((o=o||{}).height=n)),this.lastBox=a.lastBox=o},render:function(t,e){var i,n,s,r=this.el&&(this.el=Ext.get(this.el));Ext.suspendLayouts(),t=this.initContainer(t),s=this.getInsertPosition(e),r?this.hasListeners.beforerender&&!1===this.fireEvent("beforerender",this)?i=!0:(this.beforeRender(),this.initStyles(r),!1!==this.allowDomMove&&(s?t.dom.insertBefore(r.dom,s):t.dom.appendChild(r.dom))):(n=this.getRenderTree(),this.ownerLayout&&this.ownerLayout.transformItemRenderTree&&(n=this.ownerLayout.transformItemRenderTree(n)),n&&(r=s?Ext.DomHelper.insertBefore(s,n):Ext.DomHelper.append(t,n),this.wrapPrimaryEl(r))),r&&!i&&this.finishRender(e),Ext.resumeLayouts(!t.isDetachedBody)},ensureAttachedToBody:function(t){for(var e,i=this;i.ownerCt;)i=i.ownerCt;i.container.isDetachedBody&&(i.container=e=Ext.getBody(),e.appendChild(i.el.dom),t&&i.updateLayout(),"number"!=typeof i.x&&"number"!=typeof i.y||i.setPosition(i.x,i.y))},setupRenderTpl:function(t){t.renderBody=t.renderContent=this.doRenderContent},wrapPrimaryEl:function(t){this.el=Ext.get(t,!0)},initFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var t,e,i,n,s,r=this,o=r.getFrameInfo(),a=r.frameElNames,l=a.length;if(o)for(t=r.getFrameTpl(o.table),e=(n=r.getFrameRenderData()).fgid,t.insertFirst(r.el,n),r.frameBody=r.el.down("."+r.frameCls+"-mc"),r.removeChildEls(function(t){return t.id&&r.frameIdRegex.test(t.id)}),i=0;i<l;i++)s=a[i],r["frame"+s]=r.el.getById(e+s)}},getFrameRenderData:function(){var t=this.frameSize,e=(this.frameGenId||0)+1;return this.frameGenId=e,{$comp:this,fgid:this.id+"-frame"+e,ui:this.ui,uiCls:this.uiCls,frameCls:this.frameCls,baseCls:this.baseCls,top:!!t.top,left:!!t.left,right:!!t.right,bottom:!!t.bottom,frameElCls:""}},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var t,e=this.frameSize&&this.frameSize.table,i=this.frameTL,n=this.frameBL,s=this.frameML,r=this.frameMC;this.initFrame(),r?this.frame&&(t=this.frameMC.dom.className,r.insertAfter(this.frameMC),this.frameMC.remove(),this.frameBody=this.frameMC=r,r.dom.className=t,e?this.el.query("> table")[1].remove():(i&&i.remove(),n&&n.remove(),s&&s.remove())):this.frame&&this.applyRenderSelectors()}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p,g,m,x,E=this.frameInfoCache,y=this.el||this.protoEl,v=y.dom?y.dom.className:y.classList.join(" "),b=E[v],C=Math.max;return null==b&&((t=(e=Ext.fly(this.getStyleProxy(v),"frame-style-el").getStyle("background-image")).indexOf("about:blank#"))<0?b=!1:(e=e.substring(t+12).split("-"),p=parseInt(e[1],10),g=parseInt(e[2],10),m=parseInt(e[3],10),x=parseInt(e[4],10),o=parseInt(e[5],10),a=parseInt(e[6],10),l=parseInt(e[7],10),h=parseInt(e[8],10),d=parseInt(e[9],10),c=parseInt(e[10],10),u=parseInt(e[11],10),f=parseInt(e[12],10),i=C(o,C(p,g)),n=C(a,C(g,m)),s=C(l,C(x,m)),r=C(h,C(p,x)),b={table:"t"===e[0].charAt(0),vertical:"v"===e[0].charAt(1),top:i,right:n,bottom:s,left:r,width:r+n,height:i+s,maxWidth:C(i,n,s,r),border:{top:o,right:a,bottom:l,left:h,width:h+a,height:o+l},padding:{top:d,right:c,bottom:u,left:f,width:f+c,height:d+u},radius:{tl:p,tr:g,br:m,bl:x}}),E[v]=b),this.frame=!!b,this.frameSize=b,b},getStyleProxy:function(t){var e=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:"absolute",top:"-10000px"}},null,!0));return e.className=t,e},getFrameTpl:function(t){return this.getTpl(t?"frameTableTpl":"frameTpl")},frameInfoCache:{}}),Ext.define("Ext.state.Provider",{mixins:{observable:Ext.util.Observable},prefix:"ext-",constructor:function(t){t=t||{};Ext.apply(this,t),this.addEvents("statechange"),this.state={},this.mixins.observable.constructor.call(this)},get:function(t,e){return void 0===this.state[t]?e:this.state[t]},clear:function(t){delete this.state[t],this.fireEvent("statechange",this,t,null)},set:function(t,e){this.state[t]=e,this.fireEvent("statechange",this,t,e)},decodeValue:function(t){var e,i,n,s,r,o,a=/^(a|n|d|b|s|o|e)\:(.*)$/.exec(unescape(t));if(a&&a[1])switch(i=a[1],t=a[2],i){case"e":return null;case"n":return parseFloat(t);case"d":return new Date(Date.parse(t));case"b":return"1"==t;case"a":if(e=[],""!=t)for(r=(s=t.split("^")).length,o=0;o<r;o++)t=s[o],e.push(this.decodeValue(t));return e;case"o":if(e={},""!=t)for(r=(s=t.split("^")).length,o=0;o<r;o++)e[(n=(t=s[o]).split("="))[0]]=this.decodeValue(n[1]);return e;default:return t}},encodeValue:function(t){var e,i,n,s="",r=0;if(null==t)return"e:1";if("number"==typeof t)e="n:"+t;else if("boolean"==typeof t)e="b:"+(t?"1":"0");else if(Ext.isDate(t))e="d:"+t.toGMTString();else if(Ext.isArray(t)){for(i=t.length;r<i;r++)s+=this.encodeValue(t[r]),r!=i-1&&(s+="^");e="a:"+s}else if("object"==typeof t){for(n in t)"function"!=typeof t[n]&&void 0!==t[n]&&(s+=n+"="+this.encodeValue(t[n])+"^");e="o:"+s.substring(0,s.length-1)}else e="s:"+t;return escape(e)}}),Ext.define("Ext.state.Manager",{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(t){this.provider=t},get:function(t,e){return this.provider.get(t,e)},set:function(t,e){this.provider.set(t,e)},clear:function(t){this.provider.clear(t)},getProvider:function(){return this.provider}}),Ext.define("Ext.state.Stateful",{mixins:{observable:Ext.util.Observable},stateful:!1,saveDelay:100,constructor:function(t){void 0!==(t=t||{}).stateful&&(this.stateful=t.stateful),void 0!==t.saveDelay&&(this.saveDelay=t.saveDelay),this.stateId=this.stateId||t.stateId,this.stateEvents||(this.stateEvents=[]),t.stateEvents&&this.stateEvents.concat(t.stateEvents),this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave"),this.mixins.observable.constructor.call(this),!1!==this.stateful&&(this.addStateEvents(this.stateEvents),this.initState())},addStateEvents:function(t){var e,i,n;if(this.stateful&&this.getStateId())for("string"==typeof t&&(t=Array.prototype.slice.call(arguments,0)),n=this.stateEventsByName||(this.stateEventsByName={}),e=t.length;e--;)n[i=t[e]]||(n[i]=1,this.on(i,this.onStateChange,this))},onStateChange:function(){var t,e,i=this.saveDelay;this.stateful&&(i?(this.stateTask||(e=(t=Ext.state.Stateful).runner||(t.runner=new Ext.util.TaskRunner),this.stateTask=e.newTask({run:this.saveState,scope:this,interval:i,repeat:1})),this.stateTask.start()):this.saveState())},saveState:function(){var t,e=this.stateful&&this.getStateId(),i=this.hasListeners;e&&(t=this.getState()||{},i.beforestatesave&&!1===this.fireEvent("beforestatesave",this,t)||(Ext.state.Manager.set(e,t),i.statesave&&this.fireEvent("statesave",this,t)))},getState:function(){return null},applyState:function(t){t&&Ext.apply(this,t)},getStateId:function(){return this.stateId||(this.autoGenId?null:this.id)},initState:function(){var t,e=this.stateful&&this.getStateId(),i=this.hasListeners;e&&(t=Ext.state.Manager.get(e))&&(t=Ext.apply({},t),i.beforestaterestore&&!1===this.fireEvent("beforestaterestore",this,t)||(this.applyState(t),i.staterestore&&this.fireEvent("staterestore",this,t)))},savePropToState:function(t,e,i){var n=this[t],s=this.initialConfig;return!(!this.hasOwnProperty(t)||s&&s[t]===n)&&(e&&(e[i||t]=n),!0)},savePropsToState:function(t,e){var i,n;if("string"==typeof t)this.savePropToState(t,e);else for(i=0,n=t.length;i<n;++i)this.savePropToState(t[i],e);return e},destroy:function(){var t=this.stateTask;t&&(t.destroy(),this.stateTask=null),this.clearListeners()}}),Ext.define("Ext.AbstractComponent",{mixins:{positionable:Ext.util.Positionable,observable:Ext.util.Observable,animate:Ext.util.Animate,elementCt:Ext.util.ElementContainer,renderable:Ext.util.Renderable,state:Ext.state.Stateful},statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(t,e){var i=this.runningLayoutContext||this.pendingLayouts;i&&i.cancelComponent(t,!1,e)},flushLayouts:function(){var t=this,e=t.pendingLayouts;e&&e.invalidQueue.length&&(t.pendingLayouts=null,t.runningLayoutContext=e,Ext.override(e,{runComplete:function(){t.runningLayoutContext=null;var e=this.callParent();return Ext.globalEvents.hasListeners.afterlayout&&Ext.globalEvents.fireEvent("afterlayout"),e}}),e.run())},resumeLayouts:function(t){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(t&&this.flushLayouts(),Ext.globalEvents.hasListeners.resumelayouts&&Ext.globalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(t,e){var i=this.runningLayoutContext;i?i.queueInvalidate(t):((this.pendingLayouts||(this.pendingLayouts=new Ext.layout.Context)).queueInvalidate(t),e||this.layoutSuspendCount||t.isLayoutSuspended()||this.flushLayouts())}},isComponent:!0,getAutoId:function(){return this.autoGenId=!0,++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,contentPaddingProperty:"padding",horizontalPosProp:"left",constructor:function(t){var e,i,n;if(t?(Ext.apply(this,t),(n=this.xhooks)&&(delete this.xhooks,Ext.override(this,n))):t={},this.initialConfig=t,this.mixins.elementCt.constructor.call(this),this.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur"),this.getId(),this.setupProtoEl(),this.cls&&(this.initialCls=this.cls,this.protoEl.addCls(this.cls)),this.style&&(this.initialStyle=this.style,this.protoEl.setStyle(this.style)),this.renderData=this.renderData||{},this.renderSelectors=this.renderSelectors||{},this.plugins&&(this.plugins=this.constructPlugins()),this.hasListeners||(this.hasListeners=new this.HasListeners),this.initComponent(),Ext.ComponentManager.register(this),this.mixins.observable.constructor.call(this),this.mixins.state.constructor.call(this,t),this.addStateEvents("resize"),this.plugins)for(e=0,i=this.plugins.length;e<i;e++)this.plugins[e]=this.initPlugin(this.plugins[e]);this.loader=this.getLoader(),this.renderTo&&this.render(this.renderTo),this.autoShow&&!this.isContained&&this.show()},initComponent:function(){this.plugins=this.constructPlugins(),this.setSize(this.width,this.height)},getState:function(){var t=null,e=this.getSizeModel();return e.width.configured&&(t=this.addPropertyToState(t,"width")),e.height.configured&&(t=this.addPropertyToState(t,"height")),t},addPropertyToState:function(t,e,i){var n=arguments.length;return(3==n||this.hasOwnProperty(e))&&(n<3&&(i=this[e]),i!==this.initialConfig[e]&&((t||(t={}))[e]=i)),t},show:Ext.emptyFn,animate:function(t){var e,i,n,s,r,o,a,l,h,d,c,u,f,p,g,m,x=this;return t=t||{},r=t.to||{},Ext.fx.Manager.hasFxBlock(x.id)?x:((e=Ext.isDefined(r.width))&&(s=Ext.Number.constrain(r.width,x.minWidth,x.maxWidth)),(i=Ext.isDefined(r.height))&&(n=Ext.Number.constrain(r.height,x.minHeight,x.maxHeight)),t.dynamic||!e&&!i||(h=l=(t.from?t.from.width:void 0)||x.getWidth(),c=d=(t.from?t.from.height:void 0)||x.getHeight(),u=!1,i&&n>d&&(c=n,u=!0),e&&s>l&&(h=s,u=!0),(i||e)&&"hidden"!==(m=x.el.getStyle("overtflow"))&&x.el.setStyle("overflow","hidden"),u&&(o=!Ext.isNumber(x.width),a=!Ext.isNumber(x.height),x.setSize(h,c),x.el.setSize(l,d),o&&delete x.width,a&&delete x.height),e&&(r.width=s),i&&(r.height=n)),f=x.constrain,p=x.constrainHeader,(f||p)&&(x.constrain=x.constrainHeader=!1,g=t.callback,t.callback=function(){x.constrain=f,x.constrainHeader=p,g&&g.call(t.scope||x,arguments),"hidden"!==m&&x.el.setStyle("overflow",m)}),x.mixins.animate.animate.apply(x,arguments))},onHide:function(){this.ownerLayout&&this.updateLayout({isRoot:!1})},onShow:function(){this.updateLayout({isRoot:!1})},constructPlugin:function(t){return t="string"==typeof t?Ext.PluginManager.create({},t,this):Ext.PluginManager.create(t,null,this)},constructPlugins:function(){var t,e,i,n=this.plugins;if(n)for(t=[],Ext.isArray(n)||(n=[n]),e=0,i=n.length;e<i;e++)t[e]=this.constructPlugin(n[e]);return this.pluginsInitialized=!0,t},initPlugin:function(t){return t.init(this),t},addPlugin:function(t){return t=this.constructPlugin(t),this.plugins?this.plugins.push(t):this.plugins=[t],this.pluginsInitialized&&this.initPlugin(t),t},removePlugin:function(t){Ext.Array.remove(this.plugins,t),t.destroy()},findPlugin:function(t){if(this.plugins)return Ext.Array.findBy(this.plugins,function(e){if(e.ptype===t)return!0})},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(t){this.floatingDescendants||(this.floatingDescendants=new Ext.ZIndexManager(this)),this.floatingDescendants.register(t)},unregisterFloatingItem:function(t){this.floatingDescendants&&this.floatingDescendants.unregister(t)},layoutSuspendCount:0,suspendLayouts:function(){this.rendered&&1==++this.layoutSuspendCount&&(this.suspendLayout=!0)},resumeLayouts:function(t){this.rendered&&(--this.layoutSuspendCount||(this.suspendLayout=!1,t&&!this.isLayoutSuspended()&&this.updateLayout(t)))},setupProtoEl:function(){var t=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:t.join(" ")})},initCls:function(){var t=[this.baseCls,this.getComponentLayout().targetCls];return Ext.isDefined(this.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),this.componentCls=this.cmpCls,delete this.cmpCls),this.componentCls?t.push(this.componentCls):this.componentCls=this.baseCls,t},setUI:function(t){var e,i=this.uiCls,n=this.activeUI;t!==n&&(n?((e=this.removeClsWithUI(i,!0)).length&&this.removeCls(e),this.removeUIFromElement()):this.uiCls=[],this.ui=t,this.activeUI=t,this.addUIToElement(),(e=this.addClsWithUI(i,!0)).length&&this.addCls(e),this.rendered&&this.updateLayout())},addClsWithUI:function(t,e){var i,n,s=[],r=0,o=this.uiCls=Ext.Array.clone(this.uiCls),a=this.activeUI;for("string"==typeof t&&(t=t.indexOf(" ")<0?[t]:Ext.String.splitWords(t)),i=t.length;r<i;r++)(n=t[r])&&!this.hasUICls(n)&&(o.push(n),a&&(s=s.concat(this.addUIClsToElement(n))));return!0!==e&&a&&this.addCls(s),s},removeClsWithUI:function(t,e){var i,n,s=[],r=0,o=Ext.Array,a=o.remove,l=this.uiCls=o.clone(this.uiCls),h=this.activeUI;for("string"==typeof t&&(t=t.indexOf(" ")<0?[t]:Ext.String.splitWords(t)),i=t.length,r=0;r<i;r++)(n=t[r])&&this.hasUICls(n)&&(a(l,n),h&&(s=s.concat(this.removeUIClsFromElement(n))));return!0!==e&&h&&this.removeCls(s),s},hasUICls:function(t){var e=this.uiCls||[];return Ext.Array.contains(e,t)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(t){var e,i,n,s,r,o=this.baseCls+"-"+this.ui+"-"+t,a=[Ext.baseCSSPrefix+t,this.baseCls+"-"+t,o];if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(i=(e=this.frameElementsArray).length,n=0;n<i;n++)(s=this["frame"+(r=e[n]).toUpperCase()])&&s.addCls(o+"-"+r);return a},removeUIClsFromElement:function(t){var e,i,n,s,r,o=this.baseCls+"-"+this.ui+"-"+t,a=[Ext.baseCSSPrefix+t,this.baseCls+"-"+t,o];if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(i=(e=this.frameElementsArray).length,n=0;n<i;n++)(s=this["frame"+(r=e[n]).toUpperCase()])&&s.addCls(o+"-"+r);return a},addUIToElement:function(){var t,e,i,n,s,r=this.baseCls+"-"+this.ui;if(this.addCls(r),this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(e=(t=this.frameElementsArray).length,i=0;i<e;i++)(n=this["frame"+(s=t[i]).toUpperCase()])&&n.addCls(r+"-"+s)},removeUIFromElement:function(){var t,e,i,n,s,r=this.baseCls+"-"+this.ui;if(this.removeCls(r),this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(e=(t=this.frameElementsArray).length,i=0;i<e;i++)(n=this["frame"+(s=t[i]).toUpperCase()])&&n.removeCls(r+"-"+s)},getTpl:function(t){return Ext.XTemplate.getTpl(this,t)},initStyles:function(t){Ext.Element;var e,i,n=this.margin,s=this.border,r=this.cls,o=this.style,a=this.x,l=this.y;this.initPadding(t),null!=n&&t.setStyle("margin",this.unitizeBox(!0===n?5:n)),null!=s&&this.setBorder(s,t),r&&r!=this.initialCls&&(t.addCls(r),this.cls=this.initialCls=null),o&&o!=this.initialStyle&&(t.setStyle(o),this.style=this.initialStyle=null),null!=a&&t.setStyle(this.horizontalPosProp,"number"==typeof a?a+"px":a),null!=l&&t.setStyle("top","number"==typeof l?l+"px":l),this.getFrameInfo()||(e=this.width,i=this.height,null!=e&&("number"==typeof e?Ext.isBorderBox&&t.setStyle("width",e+"px"):t.setStyle("width",e)),null!=i&&("number"==typeof i?Ext.isBorderBox&&t.setStyle("height",i+"px"):t.setStyle("height",i)))},initPadding:function(t){var e=this.padding;null!=e&&(this.layout&&this.layout.managePadding&&"padding"===this.contentPaddingProperty?t.setStyle("padding",0):t.setStyle("padding",this.unitizeBox(!0===e?5:e)))},parseBox:function(t){return Ext.dom.Element.parseBox(t)},unitizeBox:function(t){return Ext.dom.Element.unitizeBox(t)},setMargin:function(t,e){this.rendered?(t||0===t?(!0===t&&(t=5),t=this.unitizeBox(t)):t="",this.getTargetEl().setStyle("margin",t),e||this.updateLayout()):this.margin=t},initEvents:function(){var t,e,i,n,s,r=this.afterRenderEvents;if(r)for(i in r)if((e=this[i])&&e.on)for(n=0,s=(t=r[i]).length;n<s;++n)this.mon(e,t[n]);this.addFocusListener()},addFocusListener:function(){var t,e=this.getFocusEl();if(e){if(e.isComponent)return e.addFocusListener();t=e.needsTabIndex(),this.focusListenerAdded||t&&!Ext.FocusManager.enabled||(t&&(e.dom.tabIndex=-1),e.on({focus:this.onFocus,blur:this.onBlur,scope:this}),this.focusListenerAdded=!0)}},getFocusEl:Ext.emptyFn,isFocusable:function(){var t;if(!1!==this.focusable&&(t=this.getFocusEl())&&this.rendered&&!this.destroying&&!this.isDestroyed&&!this.disabled&&this.isVisible(!0))return t.isFocusable(!0)},beforeFocus:Ext.emptyFn,onFocus:function(t){var e=this.focusCls,i=this.getFocusEl();this.disabled||(this.beforeFocus(t),e&&i&&i.addCls(this.addClsWithUI(e,!0)),this.hasFocus||(this.hasFocus=!0,this.fireEvent("focus",this,t)))},beforeBlur:Ext.emptyFn,onBlur:function(t){var e=this.focusCls,i=this.getFocusEl();this.destroying||(this.beforeBlur(t),e&&i&&i.removeCls(this.removeClsWithUI(e,!0)),this.validateOnBlur&&this.validate(),this.hasFocus=!1,this.fireEvent("blur",this,t),this.postBlur(t))},postBlur:Ext.emptyFn,is:function(t){return Ext.ComponentQuery.is(this,t)},up:function(t){var e=this.getRefOwner();if(t)for(;e;e=e.getRefOwner())if(t.isComponent){if(e===t)return e}else if(Ext.ComponentQuery.is(e,t))return e;return e},nextSibling:function(t){var e,i,n,s,r=this.ownerCt;if(r&&(e=r.items,n=e.indexOf(this)+1))if(t){for(i=e.getCount();n<i;n++)if((s=e.getAt(n)).is(t))return s}else if(n<e.getCount())return e.getAt(n);return null},previousSibling:function(t){var e,i,n,s=this.ownerCt;if(s&&(e=s.items,-1!=(i=e.indexOf(this))))if(t){for(--i;i>=0;i--)if((n=e.getAt(i)).is(t))return n}else if(i)return e.getAt(--i);return null},previousNode:function(t,e){var i,n,s,r,o=this.ownerCt;if(e&&this.is(t))return this;if(o){for(n=o.items.items,s=Ext.Array.indexOf(n,this)-1;s>-1;s--){if((r=n[s]).query&&(i=r.query(t),i=i[i.length-1]))return i;if(r.is(t))return r}return o.previousNode(t,!0)}return null},nextNode:function(t,e){var i,n,s,r,o,a=this.ownerCt;if(e&&this.is(t))return this;if(a){for(n=a.items.items,r=Ext.Array.indexOf(n,this)+1,s=n.length;r<s;r++){if((o=n[r]).is(t))return o;if(o.down&&(i=o.down(t)))return i}return a.nextNode(t)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var t,e,i,n=null;return"boolean"==typeof this.autoScroll?(n={overflow:i=this.autoScroll?"auto":""},this.scrollFlags={overflowX:i,overflowY:i,x:!0,y:!0,both:!0}):(t=this.overflowX,e=this.overflowY,void 0!==t||void 0!==e?(n={overflowX:t=t||"",overflowY:e=e||""},this.scrollFlags={overflowX:t,overflowY:e,x:t="auto"===t||"scroll"===t,y:e="auto"===e||"scroll"===e,both:t&&e}):this.scrollFlags={overflowX:"",overflowY:"",x:!1,y:!1,both:!1}),n&&Ext.isIE7m&&(n.position="relative"),n},isXType:function(t,e){return e?this.xtype===t:this.xtypesMap[t]},getXTypes:function(){var t,e,i,n=this.self;if(!n.xtypes){for(t=[],e=this;e;)void 0!==(i=e.xtypes)&&t.unshift.apply(t,i),e=e.superclass;n.xtypeChain=t,n.xtypes=t.join("/")}return n.xtypes},update:function(t,e,i){var n,s=this.tpl&&!Ext.isString(t);s?this.data=t:this.html=Ext.isObject(t)?Ext.DomHelper.markup(t):t,this.rendered&&(n=this.isContainer?this.layout.getRenderTarget():this.getTargetEl(),s?this.tpl[this.tplWriteMode](n,t||{}):n.update(this.html,e,i),this.updateLayout())},setVisible:function(t){return this[t?"show":"hide"]()},isVisible:function(t){var e;return this.hidden||!this.rendered||this.isDestroyed?e=!0:t&&(e=this.isHierarchicallyHidden()),!e},isHierarchicallyHidden:function(){for(var t,e,i=this,n=!1;t=i.ownerCt||i.floatParent;i=t){if((e=t.getHierarchyState()).hidden){n=!0;break}if(!i.getHierarchyState().collapseImmune){n=!!e.collapsed;break}if(t.collapsed&&!i.collapseImmune){n=!0;break}}return n},onBoxReady:function(t,e){this.disableOnBoxReady?this.onDisable():this.enableOnBoxReady&&this.onEnable(),this.resizable&&this.initResizable(this.resizable),this.draggable&&this.initDraggable(),this.hasListeners.boxready&&this.fireEvent("boxready",this,t,e)},enable:function(t){return delete this.disableOnBoxReady,this.removeCls(this.disabledCls),this.rendered?this.onEnable():this.enableOnBoxReady=!0,this.disabled=!1,delete this.resetDisable,!0!==t&&this.fireEvent("enable",this),this},disable:function(t){return delete this.enableOnBoxReady,this.addCls(this.disabledCls),this.rendered?this.onDisable():this.disableOnBoxReady=!0,this.disabled=!0,!0!==t&&(delete this.resetDisable,this.fireEvent("disable",this)),this},onEnable:function(){this.maskOnDisable&&(this.el.dom.disabled=!1,this.unmask())},onDisable:function(){var t=this.focusCls,e=this.getFocusEl();t&&e&&e.removeCls(this.removeClsWithUI(t,!0)),this.maskOnDisable&&(this.el.dom.disabled=!0,this.mask())},mask:function(){var t=this.lastBox,e=this.getMaskTarget(),i=[];t&&(i[2]=t.height),e.mask.apply(e,i)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(t){return this[t?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(t){var e=this.rendered?this.el:this.protoEl;return e.addCls.apply(e,arguments),this},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(t){var e=this.rendered?this.el:this.protoEl;return e.hasCls.apply(e,arguments)},removeCls:function(t){var e=this.rendered?this.el:this.protoEl;return e.removeCls.apply(e,arguments),this},addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(t,e,i,n){var s,r;{if(!Ext.isString(t)||!(Ext.isObject(e)||n&&n.element))return this.mixins.observable.addListener.apply(this,arguments);if(n.element){s=e,(e={})[t]=s,t=n.element,i&&(e.scope=i);for(r in n)n.hasOwnProperty(r)&&this.eventOptionsRe.test(r)&&(e[r]=n[r])}this[t]&&this[t].on?this.mon(this[t],e):(this.afterRenderEvents=this.afterRenderEvents||{},this.afterRenderEvents[t]||(this.afterRenderEvents[t]=[]),this.afterRenderEvents[t].push(e))}},removeManagedListenerItem:function(t,e,i,n,s,r){var o=e.options?e.options.element:null;if(!o)return this.mixins.observable.removeManagedListenerItem.apply(this,arguments);(o=this[o])&&o.un&&(!t&&(e.item!==i||e.ename!==n||s&&e.fn!==s||r&&e.scope!==r)||(o.un(e.ename,e.fn,e.scope),t||Ext.Array.remove(this.managedListeners,e)))},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(t,e){this.ownerCt=t,this.hierarchyState&&(this.hierarchyState.invalid=!0,delete this.hierarchyState),this.hasListeners.added&&this.fireEvent("added",this,t,e)},onRemoved:function(t){this.hasListeners.removed&&this.fireEvent("removed",this,this.ownerCt),delete this.ownerCt,delete this.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(t,e,i,n){this.floating&&this.constrain&&this.doConstrain(),this.hasListeners.resize&&this.fireEvent("resize",this,t,e,i,n)},setSize:function(t,e){return t&&"object"==typeof t&&(e=t.height,t=t.width),"number"==typeof t?this.width=Ext.Number.constrain(t,this.minWidth,this.maxWidth):null===t&&delete this.width,"number"==typeof e?this.height=Ext.Number.constrain(e,this.minHeight,this.maxHeight):null===e&&delete this.height,this.rendered&&this.isVisible()&&this.updateLayout({isRoot:!1}),this},isLayoutRoot:function(){var t=this.ownerLayout;return!(t&&!this._isLayoutRoot&&!this.floating)||t.isItemLayoutRoot(this)},isLayoutSuspended:function(){for(var t,e=this;e;){if(e.layoutSuspendCount||e.suspendLayout)return!0;if(!(t=e.ownerLayout))break;e=t.owner}return!1},updateLayout:function(t){var e,i=this.lastBox,n=t&&t.isRoot;i&&(i.invalid=!0),!this.rendered||this.layoutSuspendCount||this.suspendLayout||(this.hidden?Ext.AbstractComponent.cancelLayout(this):"boolean"!=typeof n&&(n=this.isLayoutRoot()),!n&&this.ownerLayout&&this.ownerLayout.onContentChange(this)||this.isLayoutSuspended()||(e=t&&t.hasOwnProperty("defer")?t.defer:this.deferLayouts,Ext.AbstractComponent.updateLayout(this,e)))},getSizeModel:function(t){var e,i,n,s,r,o,a,l,h,d,c=Ext.layout.SizeModel,u=this.componentLayout.ownerContext,f=this.width,p=this.height;return u&&(d=u.widthModel,r=u.heightModel),d&&r||(n="number"==(e=typeof f),s="number"==(i=typeof p),(h=this.floating||!(o=this.ownerLayout))?(a=Ext.layout.Layout.prototype.autoSizePolicy,l=this.floating?3:this.shrinkWrap,n&&(d=c.configured),s&&(r=c.configured)):(a=o.getItemSizePolicy(this,t),l=o.isItemShrinkWrap(this)),u&&(u.ownerSizePolicy=a),l=!0===l?3:l||0,h&&l&&(f&&"string"==e&&(l&=2),p&&"string"==i&&(l&=1)),3!==l&&(t||(t=this.ownerCt&&this.ownerCt.getSizeModel()),t&&(l|=(t.width.shrinkWrap?1:0)|(t.height.shrinkWrap?2:0))),d||(d=a.setsWidth?a.readsWidth?n?c.calculatedFromConfigured:1&l?c.calculatedFromShrinkWrap:c.calculatedFromNatural:c.calculated:n?c.configured:1&l?c.shrinkWrap:c.natural),r||(r=a.setsHeight?a.readsHeight?s?c.calculatedFromConfigured:2&l?c.calculatedFromShrinkWrap:c.calculatedFromNatural:c.calculated:s?c.configured:2&l?c.shrinkWrap:c.natural)),d.pairsByHeightOrdinal[r.ordinal]},isDescendant:function(t){if(t.isContainer)for(var e=this.ownerCt;e;e=e.ownerCt)if(e===t)return!0;return!1},doComponentLayout:function(){return this.updateLayout(),this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(t){var e=this.componentLayout;e&&e.isLayout&&e!=t&&e.setOwner(null),this.componentLayout=t,t.setOwner(this)},getComponentLayout:function(){return this.componentLayout&&this.componentLayout.isLayout||this.setComponentLayout(Ext.layout.Layout.create(this.componentLayout,"autocomponent")),this.componentLayout},afterComponentLayout:function(t,e,i,n){1==++this.componentLayoutCounter&&this.afterFirstLayout(t,e),t===i&&e===n||this.onResize(t,e,i,n)},beforeComponentLayout:function(t,e){return!0},setPosition:function(t,e,i){var n=this.beforeSetPosition.apply(this,arguments);return n&&this.rendered&&(t=n.x,e=n.y,i?t===this.getLocalX()&&e===this.getLocalY()||(this.stopAnimation(),this.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,this,[t,e])},to:{x:t,y:e}},i))):(this.setLocalXY(t,e),this.afterSetPosition(t,e))),this},beforeSetPosition:function(t,e,i){var n,s;return t&&(Ext.isNumber(s=t[0])?(i=e,e=t[1],t=s):void 0!==(s=t.x)&&(i=e,e=t.y,t=s)),(this.constrain||this.constrainHeader)&&(n=this.calculateConstrainedPosition(null,[t,e],!0))&&(t=n[0],e=n[1]),(n={x:this.x=t,y:this.y=e,anim:i,hasX:void 0!==t,hasY:void 0!==e}).hasX||n.hasY?n:null},afterSetPosition:function(t,e){this.onPosition(t,e),this.hasListeners.move&&this.fireEvent("move",this,t,e)},onPosition:Ext.emptyFn,setWidth:function(t){return this.setSize(t)},setHeight:function(t){return this.setSize(void 0,t)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var t=this.autoLoad?Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad}:null,e=this.loader||t;return e?(e.isLoader?e.setTarget(this):this.loader=new Ext.ComponentLoader(Ext.apply({target:this,autoLoad:t},e)),this.loader):null},setDocked:function(t,e){return this.dock=t,e&&this.ownerCt&&this.rendered&&this.ownerCt.updateLayout(),this},setBorder:function(t,e){var i=!!e;(this.rendered||i)&&(i||(e=this.el),t=t?!0===t?"1px":this.unitizeBox(t):0,e.setStyle("border-width",t),i||this.updateLayout()),this.border=t},onDestroy:function(){this.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(this.setSize,this),Ext.destroy(this.componentLayout,this.loadMask,this.floatingDescendants)},destroy:function(){var t,e,i=this.renderSelectors;if(!(this.isDestroyed||this.hasListeners.beforedestroy&&!1===this.fireEvent("beforedestroy",this))){if(this.destroying=!0,this.beforeDestroy(),this.floating?(delete this.floatParent,this.zIndexManager&&this.zIndexManager.unregister(this)):this.ownerCt&&this.ownerCt.remove&&this.ownerCt.remove(this,!1),this.stopAnimation(),this.onDestroy(),Ext.destroy(this.plugins),this.hasListeners.destroy&&this.fireEvent("destroy",this),Ext.ComponentManager.unregister(this),this.mixins.state.destroy.call(this),this.clearListeners(),this.rendered){if(this.preserveElOnDestroy||this.el.remove(),this.mixins.elementCt.destroy.call(this),i)for(t in i)i.hasOwnProperty(t)&&(e=this[t])&&(delete this[t],e.remove());delete this.el,delete this.frameBody,delete this.rendered}this.destroying=!1,this.isDestroyed=!0}},getPlugin:function(t){for(var e=0,i=this.plugins,n=i.length;e<n;e++)if(i[e].pluginId===t)return i[e]},isDescendantOf:function(t){return!!this.findParentBy(function(e){return e===t})},getHierarchyState:function(t){var e,i,n,s,r=t&&this.hierarchyStateInner||this.hierarchyState,o=this.ownerCt;return r&&!r.invalid||(e=this.getRefOwner(),o&&(s=this.ownerLayout===o.layout),this.hierarchyState=r=Ext.Object.chain(e?e.getHierarchyState(s):Ext.rootHierarchyState),this.initHierarchyState(r),(i=this.componentLayout).initHierarchyState&&i.initHierarchyState(r),this.isContainer&&(this.hierarchyStateInner=n=Ext.Object.chain(r),(i=this.layout)&&i.initHierarchyState&&i.initHierarchyState(n,r),t&&(r=n))),r},initHierarchyState:function(t){this.collapsed&&(t.collapsed=!0),this.hidden&&(t.hidden=!0),this.collapseImmune&&(t.collapseImmune=!0)},getAnchorToXY:function(t,e,i,n){return t.getAnchorXY(e,i,n)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(t){this.el.setLocalX(t)},setLocalXY:function(t,e){this.el.setLocalXY(t,e)},setLocalY:function(t){this.el.setLocalY(t)},setX:function(t,e){this.el.setX(t,e)},setXY:function(t,e){this.el.setXY(t,e)},setY:function(t,e){this.el.setY(t,e)}},function(){var t=this;t.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(e){t.resumeLayouts(e)},Ext.suspendLayouts=function(){t.suspendLayouts()},Ext.batchLayouts=function(e,i){t.suspendLayouts(),e.call(i),t.resumeLayouts(!0)}}),Ext.define("Ext.AbstractPlugin",{disabled:!1,isPlugin:!0,constructor:function(t){this.pluginConfig=t,Ext.apply(this,t)},clonePlugin:function(t){return new this.self(Ext.apply({},t,this.pluginConfig))},setCmp:function(t){this.cmp=t},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.Action",{constructor:function(t){this.initialConfig=t,this.itemId=t.itemId=t.itemId||t.id||Ext.id(),this.items=[]},isAction:!0,setText:function(t){this.initialConfig.text=t,this.callEach("setText",[t])},getText:function(){return this.initialConfig.text},setIconCls:function(t){this.initialConfig.iconCls=t,this.callEach("setIconCls",[t])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(t){this.initialConfig.disabled=t,this.callEach("setDisabled",[t])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(t){this.initialConfig.hidden=t,this.callEach("setVisible",[!t])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(t,e){this.initialConfig.handler=t,this.initialConfig.scope=e,this.callEach("setHandler",[t,e])},each:function(t,e){Ext.each(this.items,t,e)},callEach:function(t,e){var i,n=this.items,s=0,r=n.length;for(Ext.suspendLayouts();s<r;s++)(i=n[s])[t].apply(i,e);Ext.resumeLayouts(!0)},addComponent:function(t){this.items.push(t),t.on("destroy",this.removeComponent,this)},removeComponent:function(t){Ext.Array.remove(this.items,t)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}}),Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0,Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill"),Ext.globalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(t,e,i){var n;(n=this.liveConnections[Number(t)])&&n.onFlashStateChange(e,i)},registerConnection:function(t){var e=this.connectionIndex;return this.conectionIndex=this.connectionIndex+1,this.liveConnections[e]=t,e},injectFlashPlugin:function(){var t,e,i,n,s,r;(n=document.createElement("img")).setAttribute("src",window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif"),n.setAttribute("alt","Get Adobe Flash player"),(i=document.createElement("a")).setAttribute("href","http://www.adobe.com/go/getflashplayer"),i.appendChild(n),(e=document.createElement("p")).innerHTML="To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.",(t=document.createElement("div")).setAttribute("id","ext-flash-polyfill"),t.appendChild(e),t.appendChild(n),Ext.getBody().dom.appendChild(t),s=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/"),r="/plugins/flash/FlashPlugin.swf",Ext.flashPluginPath&&(r=Ext.flashPluginPath),Ext.Loader.loadScript({url:s,onLoad:function(){var t={};t.quality="high",t.bgcolor="#ffffff",t.allowscriptaccess="sameDomain",t.allowfullscreen="true";var e={};e.id="ext-flash-polyfill",e.name="polyfill",e.align="middle",swfobject.embedSWF(r,"ext-flash-polyfill","0","0","11.4.0","playerProductInstall.swf",{},t,e)},onError:function(){},scope:this}),Ext.globalEvents.addEvents("flashready"),Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(t){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();Ext.apply(this,t),this.requestHeaders={}},abort:function(){4!=this.readyState&&(this.aborted=!0,Ext.data.flash.BinaryXhr.flashPluginActive?(Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(this.javascriptId),delete Ext.data.flash.BinaryXhr.liveConnections[this.javascriptId]):Ext.globalEvents.removeListener("flashready",this.onFlashReady,this))},getAllResponseHeaders:function(){var t=[];return Ext.Object.each(this.responseHeaders,function(e,i){t.push(e+": "+i)}),t.join("\r\n")},getResponseHeader:function(t){var e=this.responseHeaders;return e&&e[t]||null},open:function(t,e,i,n,s){this.method=t,this.url=e,this.async=!1!==i,this.user=n,this.password=s},overrideMimeType:function(t){this.mimeType=t},send:function(t){this.body=t,Ext.data.flash.BinaryXhr.flashPluginActive?this.onFlashReady():Ext.globalEvents.addListener("flashready",this.onFlashReady,this)},onFlashReady:function(){var t;this.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(this),t={method:this.method,url:this.url,user:this.user,password:this.password,mimeType:this.mimeType,requestHeaders:this.requestHeaders,body:this.body,javascriptId:this.javascriptId},Ext.data.flash.BinaryXhr.flashPlugin.postBinary(t)},setReadyState:function(t){this.readyState!=t&&(this.readyState=t,this.onreadystatechange())},setRequestHeader:function(t,e){this.requestHeaders[t]=e},onreadystatechange:Ext.emptyFn,parseData:function(t){this.status=t.status||0,this.responseHeaders={},this.mimeType&&(this.responseHeaders["content-type"]=this.mimeType),"complete"==t.reason?(this.responseBytes=t.data,this.responseHeaders["content-length"]=t.data.length):"error"!=t.reason&&"securityError"!=t.reason||(this.statusText=t.text,this.responseHeaders["content-length"]=0)},onFlashStateChange:function(t,e){4==t&&(this.parseData(e),delete Ext.data.flash.BinaryXhr.liveConnections[this.javascriptId]),this.setReadyState(t)}}),Ext.define("Ext.data.Connection",{mixins:{observable:Ext.util.Observable},statics:{requestId:0},url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(t){t=t||{},Ext.apply(this,t),this.requests={},this.mixins.observable.constructor.call(this)},request:function(t){var e,i,n,s,r,o=this,a=(t=t||{}).scope||window,l=t.username||o.username,h=t.password||o.password||"";return!1!==o.fireEvent("beforerequest",o,t)?(i=o.setOptions(t,a),o.isFormUpload(t)?(o.upload(t.form,i.url,i.data,t),null):((t.autoAbort||o.autoAbort)&&o.abort(),e=!1!==t.async&&(t.async||o.async),r=o.openRequest(t,i,e,l,h),o.isXdr||(s=o.setupHeaders(r,t,i.data,i.params)),n={id:++Ext.data.Connection.requestId,xhr:r,headers:s,options:t,async:e,binary:t.binary||o.binary,timeout:setTimeout(function(){n.timedout=!0,o.abort(n)},t.timeout||o.timeout)},o.requests[n.id]=n,o.latestId=n.id,e&&(o.isXdr||(r.onreadystatechange=Ext.Function.bind(o.onStateChange,o,[n]))),o.isXdr&&o.processXdrRequest(n,r),r.send(i.data),e?n:o.onComplete(n))):(Ext.callback(t.callback,t.scope,[t,void 0,void 0]),null)},processXdrRequest:function(t,e){delete t.headers,t.contentType=t.options.contentType||this.defaultXdrContentType,e.onload=Ext.Function.bind(this.onStateChange,this,[t,!0]),e.onerror=e.ontimeout=Ext.Function.bind(this.onStateChange,this,[t,!1])},processXdrResponse:function(t,e){t.getAllResponseHeaders=function(){return[]},t.getResponseHeader=function(){return""},t.contentType=e.contentType||this.defaultXdrContentType},upload:function(t,e,i,n){t=Ext.getDom(t),n=n||{};var s,r,o,a,l,h,d,c,u=Ext.id(),f=document.createElement("iframe"),p=[],g="multipart/form-data",m={target:t.target,method:t.method,encoding:t.encoding,enctype:t.enctype,action:t.action},x=function(e,i){s=document.createElement("input"),Ext.fly(s).set({type:"hidden",value:i,name:e}),t.appendChild(s),p.push(s)};if(Ext.fly(f).set({id:u,name:u,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(f),document.frames&&(document.frames[u].name=u),Ext.fly(t).set({target:u,method:"POST",enctype:g,encoding:g,action:e||m.action}),i){r=Ext.Object.fromQueryString(i)||{};for(a in r)if(r.hasOwnProperty(a))if(o=r[a],Ext.isArray(o))for(l=o.length,h=0;h<l;h++)x(a,o[h]);else x(a,o)}for(Ext.fly(f).on("load",Ext.Function.bind(this.onUploadComplete,this,[f,n]),null,{single:!Ext.isOpera}),t.submit(),Ext.fly(t).set(m),d=p.length,c=0;c<d;c++)Ext.removeNode(p[c])},onUploadComplete:function(t,e){var i,n,s,r,o={responseText:"",responseXML:null};try{if(s=t.contentWindow.document||t.contentDocument||window.frames[t.id].document){if(Ext.isOpera&&"about:blank"==s.location)return;s.body&&((r=s.body.firstChild)&&/pre/i.test(r.tagName)?o.responseText=r.textContent:(r=s.getElementsByTagName("textarea")[0])?o.responseText=r.value:o.responseText=s.body.textContent||s.body.innerText),o.responseXML=s.XMLDocument||s,i=e.success,n=!0}}catch(t){o.responseText='{success:false,message:"'+Ext.String.trim(t.message||t.description)+'"}',i=e.failure,n=!1}this.fireEvent("requestcomplete",this,o,e),Ext.callback(i,e.scope,[o,e]),Ext.callback(e.callback,e.scope,[e,n,o]),setTimeout(function(){Ext.removeNode(t)},100)},isFormUpload:function(t){var e=this.getForm(t);return!!e&&(t.isUpload||/multipart\/form-data/i.test(e.getAttribute("enctype")))},getForm:function(t){return Ext.getDom(t.form)||null},setOptions:function(t,e){var i,n,s,r=t.params||{},o=this.extraParams,a=t.urlParams,l=t.url||this.url,h=t.jsonData;return Ext.isFunction(r)&&(r=r.call(e,t)),Ext.isFunction(l)&&(l=l.call(e,t)),l=this.setupUrl(t,l),s=t.rawData||t.binaryData||t.xmlData||h||null,h&&!Ext.isPrimitive(h)&&(s=Ext.encode(s)),t.binaryData&&this.nativeBinaryPostSupport()&&(s=new Uint8Array(t.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(s=s.buffer)),Ext.isObject(r)&&(r=Ext.Object.toQueryString(r)),Ext.isObject(o)&&(o=Ext.Object.toQueryString(o)),r+=o?(r?"&":"")+o:"",a=Ext.isObject(a)?Ext.Object.toQueryString(a):a,r=this.setupParams(t,r),i=(t.method||this.method||(r||s?"POST":"GET")).toUpperCase(),this.setupMethod(t,i),n=!1!==t.disableCaching&&(t.disableCaching||this.disableCaching),"GET"===i&&n&&(l=Ext.urlAppend(l,(t.disableCachingParam||this.disableCachingParam)+"="+(new Date).getTime())),("GET"==i||s)&&r&&(l=Ext.urlAppend(l,r),r=null),a&&(l=Ext.urlAppend(l,a)),{url:l,method:i,data:s||r||null}},setupUrl:function(t,e){var i=this.getForm(t);return i&&(e=e||i.action),e},setupParams:function(t,e){var i,n=this.getForm(t);return n&&!this.isFormUpload(t)&&(i=Ext.Element.serializeForm(n),e=e?e+"&"+i:i),e},setupMethod:function(t,e){return this.isFormUpload(t)?"POST":e},setupHeaders:function(t,e,i,n){var s,r,o=this,a=Ext.apply({},e.headers||{},o.defaultHeaders||{}),l=o.defaultPostHeader,h=e.jsonData,d=e.xmlData;a["Content-Type"]||!i&&!n||(i&&(e.rawData?l="text/plain":d&&Ext.isDefined(d)?l="text/xml":h&&Ext.isDefined(h)&&(l="application/json")),a["Content-Type"]=l),o.useDefaultXhrHeader&&!a["X-Requested-With"]&&(a["X-Requested-With"]=o.defaultXhrHeader);try{for(s in a)a.hasOwnProperty(s)&&(r=a[s],t.setRequestHeader(s,r))}catch(t){o.fireEvent("exception",s,r)}return a},newRequest:function(t){var e;return t.binaryData?e=this.nativeBinaryPostSupport()?this.getXhrInstance():new Ext.data.flash.BinaryXhr:(t.cors||this.cors)&&Ext.isIE&&Ext.ieVersion<=9?(e=this.getXdrInstance(),this.isXdr=!0):e=this.getXhrInstance(),e},openRequest:function(t,e,i,n,s){var r=this.newRequest(t);return n?r.open(e.method,e.url,i,n,s):this.isXdr?r.open(e.method,e.url):r.open(e.method,e.url,i),(t.binary||this.binary)&&(window.Uint8Array?r.responseType="arraybuffer":r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined")),(t.withCredentials||this.withCredentials)&&(r.withCredentials=!0),r},getXdrInstance:function(){var t;return Ext.ieVersion>=8?t=new XDomainRequest:Ext.Error.raise({msg:"Your browser does not support CORS"}),t},getXhrInstance:function(){for(var t,e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],i=0,n=e.length;i<n;++i)try{(t=e[i])();break}catch(t){}return t}(),isLoading:function(t){if(t||(t=this.getLatest()),!t||!t.xhr)return!1;var e=t.xhr.readyState;return t.xhr instanceof Ext.data.flash.BinaryXhr&&4!=e||!(0===e||4==e)},abort:function(t){var e;if(t||(t=this.getLatest()),t&&this.isLoading(t)){e=t.xhr;try{e.onreadystatechange=null}catch(t){e.onreadystatechange=Ext.emptyFn}e.abort(),this.clearTimeout(t),t.timedout||(t.aborted=!0),this.onComplete(t),this.cleanup(t)}},abortAll:function(){var t,e=this.requests;for(t in e)e.hasOwnProperty(t)&&this.abort(e[t])},getLatest:function(){var t,e=this.latestId;return e&&(t=this.requests[e]),t||null},onStateChange:function(t,e){(t.xhr&&4==t.xhr.readyState||this.isXdr)&&(this.clearTimeout(t),this.onComplete(t,e),this.cleanup(t),Ext.EventManager.idleEvent.fire())},clearTimeout:function(t){clearTimeout(t.timeout),delete t.timeout},cleanup:function(t){t.xhr=null,delete t.xhr},onComplete:function(t,e){var i,n,s,r=t.options;try{i=this.parseStatus(t.xhr.status)}catch(t){i={success:!1,isException:!1}}return(n=this.isXdr?e:i.success)?(s=this.createResponse(t),this.fireEvent("requestcomplete",this,s,r),Ext.callback(r.success,r.scope,[s,r])):(s=i.isException||t.aborted||t.timedout?this.createException(t):this.createResponse(t),this.fireEvent("requestexception",this,s,r),Ext.callback(r.failure,r.scope,[s,r])),Ext.callback(r.callback,r.scope,[r,n,s]),delete this.requests[t.id],s},parseStatus:function(t){var e=(t=1223==t?204:t)>=200&&t<300||304==t,i=!1;if(!e)switch(t){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:i=!0}return{success:e,isException:i}},createResponse:function(t){for(var e,i,n,s,r=t.xhr,o=this.isXdr,a={},l=o?[]:r.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),h=l.length;h--;)(i=(e=l[h]).indexOf(":"))>=0&&(n=e.substr(0,i).toLowerCase()," "==e.charAt(i+1)&&++i,a[n]=e.substr(i+1));return t.xhr=null,delete t.xhr,s={request:t,requestId:t.id,status:r.status,statusText:r.statusText,getResponseHeader:function(t){return a[t.toLowerCase()]},getAllResponseHeaders:function(){return a}},o&&this.processXdrResponse(s,r),t.binary?s.responseBytes=this.getByteArray(r):(s.responseText=r.responseText,s.responseXML=r.responseXML),r=null,s},createException:function(t){return{request:t,requestId:t.id,status:t.aborted?-1:0,statusText:t.aborted?"transaction aborted":"communication failure",aborted:t.aborted,timedout:t.timedout}},getByteArray:function(t){var e,i,n,s,r=t.response,o=t.responseBody;if(t instanceof Ext.data.flash.BinaryXhr)e=t.responseBytes;else if(window.Uint8Array)e=r?new Uint8Array(r):[];else if(Ext.isIE9p)try{e=new VBArray(o).toArray()}catch(t){e=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(t.responseBody,e=[]);else for(e=[],n=(i=t.responseText).length,s=0;s<n;s++)e.push(255&i.charCodeAt(s));return e},injectVBScript:function(){var t=document.createElement("script");t.type="text/vbscript",t.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n"),Ext.getHead().dom.appendChild(t),this.self.vbScriptInjected=!0},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}}),Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:!0,autoAbort:!1}),Ext.define("Ext.util.Floating",{focusOnToFront:!0,shadow:"sides",constrain:!1,constructor:function(t){this.fixed=this.fixed&&!(Ext.isIE6||Ext.isIEQuirks),this.el=new Ext.dom.Layer(Ext.apply({hideMode:this.hideMode,hidden:this.hidden,shadow:void 0!==this.shadow?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:!1,fixed:this.fixed,shim:!1!==this.shim&&void 0},this.floating),t),!this.modal||Ext.FocusManager&&Ext.FocusManager.enabled||this.mon(this.el,{keydown:this.onKeyDown,scope:this}),this.mon(this.el,{mousedown:this.onMouseDown,scope:this}),this.floating=!0,this.registerWithOwnerCt(),this.initHierarchyEvents()},initHierarchyEvents:function(){var t=this.syncHidden;this.hasHierarchyEventListeners||(this.mon(this.hierarchyEventSource,{hide:t,collapse:t,show:t,expand:t,added:t,scope:this}),this.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var t=this.ownerCt,e=this.zIndexParent;e&&e.unregisterFloatingItem(this),e=this.zIndexParent=this.up("[floating]"),this.setFloatParent(t||e),delete this.ownerCt,e?e.registerFloatingItem(this):Ext.WindowManager.register(this)},onKeyDown:function(t){var e,i,n,s;t.getKey()==Ext.EventObject.TAB&&(e=t.shiftKey,n=(i=this.el.query(":focusable"))[0],s=i[i.length-1],n&&s&&t.target===(e?n:s)&&(t.stopEvent(),(e?s:n).focus(!1,!0)))},onMouseDown:function(t){this.floating&&this.toFront(!!t.getTarget(":focusable"))},setFloatParent:function(t){this.floatParent=t,!this.constrain&&!this.constrainHeader||this.constrainTo||(this.constrainTo=t?t.getTargetEl():this.container)},onAfterFloatLayout:function(){this.syncShadow()},syncHidden:function(){var t=this.hidden||!this.rendered,e=this.hierarchicallyHidden=this.isHierarchicallyHidden(),i=this.pendingShow;t!==e&&(e?(this.hide(),this.pendingShow=!0):i&&(delete this.pendingShow,i.length?this.show.apply(this,i):this.show()))},setZIndex:function(t){return this.el.setZIndex(t),t+=10,this.floatingDescendants&&(t=100*Math.floor(this.floatingDescendants.setBase(t)/100)+1e4),t},doConstrain:function(t){var e=this.calculateConstrainedPosition(t,null,!0);e&&this.setPosition(e)},toFront:function(t){var e=this.zIndexParent,i=this.preventFocusOnActivate;return e&&!1!==this.bringParentToFront&&e.toFront(!0),Ext.isDefined(t)||(t=!this.focusOnToFront),t&&(this.preventFocusOnActivate=!0),this.zIndexManager.bringToFront(this,t)&&(t||this.focus(!1,!0)),this.preventFocusOnActivate=i,this},setActive:function(t,e){t?(this.el.shadow&&!this.maximized&&this.el.enableShadow(!0),this.preventFocusOnActivate||this.focus(!1,!0),this.fireEvent("activate",this)):(this.isWindow&&e&&e.isWindow&&this.hideShadowOnDeactivate&&this.el.disableShadow(),this.fireEvent("deactivate",this))},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var t;return this.isVisible()?(t=this.getAlignToXY(this.container,"c-c"),this.setPagePosition(t)):this.needsCenter=!0,this},onFloatShow:function(){this.needsCenter&&this.center(),delete this.needsCenter},syncShadow:function(){this.floating&&this.el.sync(!0)},fitContainer:function(t){var e=this.floatParent,i=e?e.getTargetEl():this.container,n=i.getViewSize(!1),s=e||i.dom!==document.body?[0,0]:i.getXY();n.x=s[0],n.y=s[1],this.setBox(n,t)}}),Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:Ext.AbstractComponent,mixins:{floating:Ext.util.Floating},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:!1,defaultAlign:"tl-bl?",toFrontOnShow:!0,hideMode:"display",offsetsCls:Ext.baseCSSPrefix+"hide-offsets",bubbleEvents:[],defaultComponentLayoutType:"autocomponent",constructor:function(t){(t=t||{}).initialConfig?(t.isAction&&(this.baseAction=t),t=t.initialConfig):(t.tagName||t.dom||Ext.isString(t))&&(t={applyTo:t,id:t.id||t}),this.callParent([t]),this.baseAction&&this.baseAction.addComponent(this)},initComponent:function(){this.callParent(),this.listeners&&(this.on(this.listeners),this.listeners=null),this.enableBubble(this.bubbleEvents)},afterRender:function(){this.callParent(),this.x&&this.y||!this.pageX&&!this.pageY||this.setPagePosition(this.pageX,this.pageY)},setAutoScroll:function(t){return this.autoScroll=!!t,this.rendered&&this.getOverflowEl().setStyle(this.getOverflowStyle()),this.updateLayout(),this},setOverflowXY:function(t,e){var i=arguments.length;return i&&(this.overflowX=t||"",i>1&&(this.overflowY=e||"")),this.rendered&&this.getOverflowEl().setStyle(this.getOverflowStyle()),this.updateLayout(),this},beforeRender:function(){var t,e=this.floating;return e&&(this.addCls(Ext.baseCSSPrefix+"layer"),(t=e.cls)&&this.addCls(t)),this.callParent()},afterComponentLayout:function(){this.callParent(arguments),this.floating&&this.onAfterFloatLayout()},makeFloating:function(t){this.mixins.floating.constructor.call(this,t)},wrapPrimaryEl:function(t){this.floating?this.makeFloating(t):this.callParent(arguments)},initResizable:function(t){(t=Ext.apply({target:this,dynamic:!1,constrainTo:this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():null),handles:this.resizeHandles},t)).target=this,this.resizer=new Ext.resizer.Resizer(t)},getDragEl:function(){return this.el},initDraggable:function(){var t=this.resizer&&this.resizer.el!==this.el?this.resizerComponent=new Ext.Component({el:this.resizer.el,rendered:!0,container:this.container}):this,e=Ext.applyIf({el:t.getDragEl(),constrainTo:this.constrain||this.draggable.constrain?this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():this.container):void 0},this.draggable);(this.constrain||this.constrainDelegate)&&(e.constrain=this.constrain,e.constrainDelegate=this.constrainDelegate),this.dd=new Ext.util.ComponentDragger(t,e)},scrollBy:function(t,e,i){var n;(n=this.getTargetEl())&&n.dom&&n.scrollBy.apply(n,arguments)},setLoading:function(t,e){var i={target:this};return this.rendered&&(Ext.destroy(this.loadMask),this.loadMask=null,!1===t||this.collapsed||(Ext.isObject(t)?Ext.apply(i,t):Ext.isString(t)&&(i.msg=t),e&&Ext.applyIf(i,{useTargetEl:!0}),this.loadMask=new Ext.LoadMask(i),this.loadMask.show())),this.loadMask},beforeSetPosition:function(){var t,e=this.callParent(arguments);return e&&(t=this.adjustPosition(e.x,e.y),e.x=t.x,e.y=t.y),e||null},afterSetPosition:function(t,e){this.onPosition(t,e),this.fireEvent("move",this,t,e)},showAt:function(t,e,i){if(!this.rendered&&(this.autoRender||this.floating))return this.x=t,this.y=e,this.show();this.floating?this.setPosition(t,e,i):this.setPagePosition(t,e,i),this.show()},showBy:function(t,e,i){return this.floating&&t&&(this.show(),this.rendered&&!this.hidden&&this.alignTo(t,e||this.defaultAlign,i)),this},setPagePosition:function(t,e,i){var n,s;return Ext.isArray(t)&&(e=t[1],t=t[0]),this.pageX=t,this.pageY=e,this.floating?(this.isContainedFloater()?(s=this.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(t)&&Ext.isNumber(s.left)&&(t-=s.left),Ext.isNumber(e)&&Ext.isNumber(s.top)&&(e-=s.top)):(t=(n=this.el.translateXY(t,e)).x,e=n.y),this.setPosition(t,e,i)):(n=this.el.translateXY(t,e),this.setPosition(n.x,n.y,i)),this},isContainedFloater:function(){return this.floating&&this.floatParent},updateBox:function(t){return this.setSize(t.width,t.height),this.setPagePosition(t.x,t.y),this},getOuterSize:function(){var t=this.el;return{width:t.getWidth()+t.getMargin("lr"),height:t.getHeight()+t.getMargin("tb")}},adjustPosition:function(t,e){var i;return this.isContainedFloater()&&(t+=(i=this.floatParent.getTargetEl().getViewRegion()).left,e+=i.top),{x:t,y:e}},getPosition:function(t){var e,i,n=this.isContainedFloater();return!0!==t||n?(e=this.getXY(),!0===t&&n&&(i=this.floatParent.getTargetEl().getViewRegion(),e[0]-=i.left,e[1]-=i.top),e):[this.getLocalX(),this.getLocalY()]},getId:function(){var t;return this.id||(t=(t=this.getXType())?t.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",this.id=t+"-"+this.getAutoId()),this.id},show:function(t,e,i){var n=this.rendered;return this.hierarchicallyHidden||this.floating&&!n&&this.isHierarchicallyHidden()?(n||this.initHierarchyEvents(),arguments.length>1?(arguments[0]=null,this.pendingShow=arguments):this.pendingShow=!0):n&&this.isVisible()?this.toFrontOnShow&&this.floating&&this.toFront():!1!==this.fireEvent("beforeshow",this)?(this.hidden=!1,delete this.getHierarchyState().hidden,n||!this.autoRender&&!this.floating||(this.doAutoRender(),n=this.rendered),n&&(this.beforeShow(),this.onShow.apply(this,arguments),this.afterShow.apply(this,arguments))):this.onShowVeto(),this},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){this.el.show(),this.callParent(arguments),this.floating&&(this.maximized?this.fitContainer():this.constrain&&this.doConstrain())},getAnimateTarget:function(t){return(t=t||this.animateTarget)&&(t=t.isComponent?t.getEl():Ext.get(t)),t||null},afterShow:function(t,e,i){var n,s,r,o=this,a=o.el;t=o.getAnimateTarget(t),o.ghost||(t=null),t?(s={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight},n={x:t.getX(),y:t.getY(),width:t.dom.offsetWidth,height:t.dom.offsetHeight},a.addCls(o.offsetsCls),(r=o.ghost()).el.stopAnimation(),r.setX(-1e4),o.ghostBox=s,r.el.animate({from:n,to:s,listeners:{afteranimate:function(){delete r.componentLayout.lastComponentSize,o.unghost(),delete o.ghostBox,a.removeCls(o.offsetsCls),o.onShowComplete(e,i)}}})):o.onShowComplete(e,i),o.fireHierarchyEvent("show")},onShowComplete:function(t,e){this.floating&&(this.toFront(),this.onFloatShow()),Ext.callback(t,e||this),this.fireEvent("show",this),delete this.hiddenByLayout},hide:function(t,e,i){var n;return this.pendingShow&&delete this.pendingShow,this.rendered&&!this.isVisible()||(n=!1!==this.fireEvent("beforehide",this),(this.hierarchicallyHidden||n)&&(this.hidden=!0,this.getHierarchyState().hidden=!0,this.rendered&&this.onHide.apply(this,arguments))),this},onHide:function(t,e,i){var n,s,r,o=this,a=Ext.Element.getActiveElement();(a===o.el||o.el.contains(a))&&Ext.fly(a).blur(),t=o.getAnimateTarget(t),o.ghost||(t=null),t&&(r={x:t.getX(),y:t.getY(),width:t.dom.offsetWidth,height:t.dom.offsetHeight},(n=o.ghost()).el.stopAnimation(),s=o.getSize(),n.el.animate({to:r,listeners:{afteranimate:function(){delete n.componentLayout.lastComponentSize,n.el.hide(),n.el.setSize(s),o.afterHide(e,i)}}})),o.el.hide(),t||o.afterHide(e,i)},afterHide:function(t,e){delete this.hiddenByLayout,Ext.AbstractComponent.prototype.onHide.call(this),Ext.callback(t,e||this),this.fireEvent("hide",this),this.fireHierarchyEvent("hide")},onDestroy:function(){this.rendered&&Ext.destroy(this.dd,this.resizer,this.proxy,this.proxyWrap,this.resizerComponent),delete this.focusTask,this.callParent()},deleteMembers:function(){for(var t=arguments,e=t.length,i=0;i<e;++i)delete this[t[i]]},focus:function(t,e){var i,n,s;if(e)return this.focusTask||(this.self.prototype.focusTask=new Ext.util.DelayedTask(this.focus)),this.focusTask.delay(Ext.isNumber(e)?e:10,null,this,[t,!1]),this;if(this.focusTask&&this.focusTask.cancel(),this.rendered&&!this.isDestroyed&&this.isVisible(!0)&&(i=this.getFocusEl())){if(i.isComponent)return i.focus(t,e);(n=i.dom)&&(i.needsTabIndex()&&(n.tabIndex=-1),this.floating&&(s=this.container.dom.scrollTop),i.focus(),!0===t&&n.select()),this.floating&&(this.toFront(!0),void 0!==s&&(this.container.dom.scrollTop=s))}return this},cancelFocus:function(){var t=this.focusTask;t&&t.cancel()},blur:function(){var t;return this.rendered&&(t=this.getFocusEl())&&t.blur(),this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(t){var e=(t=t||{}).id||Ext.id(),i=Ext.applyIf(t,this.initialConfig);return i.id=e,new(Ext.getClass(this))(i)},getXType:function(){return this.self.xtype},findParentBy:function(t){var e;for(e=this.getBubbleTarget();e&&!t(e,this);e=e.getBubbleTarget());return e||null},findParentByType:function(t){return Ext.isFunction(t)?this.findParentBy(function(e){return e.constructor===t}):this.up(t)},bubble:function(t,e,i){for(var n=this;n&&!1!==t.apply(e||n,i||[n]);)n=n.getBubbleTarget();return this},getProxy:function(){var t;return this.proxy||(t=Ext.getBody(),this.proxy=this.el.createProxy(Ext.baseCSSPrefix+"proxy-el",t,!0)),this.proxy},fireHierarchyEvent:function(t){this.hierarchyEventSource.fireEvent(t,this)},onAdded:function(){this.callParent(arguments),this.hierarchyEventSource.hasListeners.added&&this.fireHierarchyEvent("added")}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:!0,show:!0,collapse:!0,expand:!0,added:!0}})}),Ext.define("Ext.ElementLoader",{mixins:{observable:Ext.util.Observable},statics:{Renderer:{Html:function(t,e,i){return t.getTarget().update(e.responseText,!0===i.scripts),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(t){var e;t=t||{},Ext.apply(this,t),this.setTarget(this.target),this.addEvents("beforeload","exception","load"),this.mixins.observable.constructor.call(this),this.autoLoad&&(!0===(e=this.autoLoad)&&(e={}),this.load(e))},setTarget:function(t){t=Ext.get(t),this.target&&this.target!=t&&this.abort(),this.target=t},getTarget:function(){return this.target||null},abort:function(){var t=this.active;void 0!==t&&(Ext.Ajax.abort(t.request),t.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(t){this.target.mask(!0===t?null:t)},load:function(t){t=Ext.apply({},t);var e=Ext.isDefined(t.loadMask)?t.loadMask:this.loadMask,i=Ext.apply({},t.params),n=Ext.apply({},t.ajaxOptions),s=t.callback||this.callback,r=t.scope||this.scope||this;Ext.applyIf(n,this.ajaxOptions),Ext.applyIf(t,n),Ext.applyIf(i,this.params),Ext.apply(i,this.baseParams),Ext.applyIf(t,{url:this.url}),Ext.apply(t,{scope:this,params:i,callback:this.onComplete}),!1!==this.fireEvent("beforeload",this,t)&&(e&&this.addMask(e),this.active={options:t,mask:e,scope:r,callback:s,success:t.success||this.success,failure:t.failure||this.failure,renderer:t.renderer||this.renderer,scripts:Ext.isDefined(t.scripts)?t.scripts:this.scripts},this.active.request=Ext.Ajax.request(t),this.setOptions(this.active,t))},setOptions:Ext.emptyFn,onComplete:function(t,e,i){var n,s=this.active;s&&(n=s.scope,e&&(e=!1!==this.getRenderer(s.renderer).call(this,this,i,s)),e?(Ext.callback(s.success,n,[this,i,t]),this.fireEvent("load",this,i,t)):(Ext.callback(s.failure,n,[this,i,t]),this.fireEvent("exception",this,i,t)),Ext.callback(s.callback,n,[this,e,i,t]),s.mask&&this.removeMask()),delete this.active},getRenderer:function(t){return Ext.isFunction(t)?t:this.statics().Renderer.Html},startAutoRefresh:function(t,e){var i=this;i.stopAutoRefresh(),i.autoRefresh=setInterval(function(){i.load(e)},t)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){this.stopAutoRefresh(),delete this.target,this.abort(),this.clearListeners()}}),Ext.define("Ext.ComponentLoader",{extend:Ext.ElementLoader,statics:{Renderer:{Data:function(t,e,i){var n=!0;try{t.getTarget().update(Ext.decode(e.responseText))}catch(t){n=!1}return n},Component:function(t,e,i){var n=!0,s=t.getTarget(),r=[];try{r=Ext.decode(e.responseText)}catch(t){n=!1}return n&&(s.suspendLayouts(),i.removeAll&&s.removeAll(),s.add(r),s.resumeLayouts(!0)),n}}},target:null,loadMask:!1,renderer:"html",setTarget:function(t){Ext.isString(t)&&(t=Ext.getCmp(t)),this.target&&this.target!=t&&this.abort(),this.target=t},removeMask:function(){this.target.setLoading(!1)},addMask:function(t){this.target.setLoading(t)},setOptions:function(t,e){t.removeAll=Ext.isDefined(e.removeAll)?e.removeAll:this.removeAll},getRenderer:function(t){if(Ext.isFunction(t))return t;var e=this.statics().Renderer;switch(t){case"component":return e.Component;case"data":return e.Data;default:return Ext.ElementLoader.Renderer.Html}}}),Ext.define("Ext.layout.SizeModel",{constructor:function(t){var e,i=this.self,n=i.sizeModelsArray;Ext.apply(this,t),this[e=this.name]=!0,this.fixed=!(this.auto=this.natural||this.shrinkWrap),n[this.ordinal=n.length]=i[e]=i.sizeModels[e]=this},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},function(){var t,e,i,n,s,r=this.sizeModelsArray;for(new this({name:"calculated"}),new this({name:"configured",names:{width:"width",height:"height"}}),new this({name:"natural"}),new this({name:"shrinkWrap"}),new this({name:"calculatedFromConfigured",configured:!0,names:{width:"width",height:"height"}}),new this({name:"calculatedFromNatural",natural:!0}),new this({name:"calculatedFromShrinkWrap",shrinkWrap:!0}),new this({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new this({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new this({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),t=0,i=r.length;t<i;++t)for((s=r[t]).pairsByHeightOrdinal=n=[],e=0;e<i;++e)n.push({width:s,height:r[e]})}),Ext.define("Ext.layout.Layout",{isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(t,e){var i,n,s,r,o,a,l=Ext.ClassManager,h=this.layoutsByType;if(t&&"string"!=typeof t){if(t.isLayout)return t;s=t,o=t.type||e}else o=t||e,s={};if(!(r=h[o])){if(i="layout."+o,(n=l.getNameByAlias(i))||(a=!0),r=l.get(n),a||!r)return l.instantiateByAlias(i,s||{});h[o]=r}return new r(s)}},constructor:function(t){this.id=Ext.id(null,this.type+"-"),Ext.apply(this,t),this.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(t){var e,i=this.context;this.lastWidthModel!=t.widthModel&&(this.lastWidthModel&&(e=!0),this.lastWidthModel=t.widthModel),this.lastHeightModel!=t.heightModel&&(this.lastWidthModel&&(e=!0),this.lastHeightModel=t.heightModel),e&&((i=t.context).clearTriggers(this,!1),i.clearTriggers(this,!0),this.triggerCount=0)},finishedLayout:function(t){this.lastWidthModel=t.widthModel,this.lastHeightModel=t.heightModel,this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(t){return this.autoSizePolicy},isItemBoxParent:function(t){return!1},isItemLayoutRoot:function(t){var e=t.getSizeModel(),i=e.width,n=e.height;return!(!t.componentLayout.lastComponentSize&&(i.calculated||n.calculated))&&(!i.shrinkWrap&&!n.shrinkWrap)},isItemShrinkWrap:function(t){return t.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(t,e){var i,n,s,r,o=t.length;if(o)for(r=[],i=0;i<o;++i)(n=t[i]).rendered||(e&&void 0!==e[n.id]?s=e[n.id]:(this.configureItem(n),s=n.getRenderTree(),e&&(e[n.id]=s)),s&&r.push(s));return r},finishRender:Ext.emptyFn,finishRenderItems:function(t,e){var i,n,s=e.length;for(i=0;i<s;i++)(n=e[i]).rendering&&(n.finishRender(i),this.afterRenderItem(n))},renderChildren:function(){var t=this.getLayoutItems(),e=this.getRenderTarget();this.renderItems(t,e)},renderItems:function(t,e){var i,n=t.length,s=0;if(n){for(Ext.suspendLayouts();s<n;s++)(i=t[s])&&!i.rendered?this.renderItem(i,e,s):this.isValidParent(i,e,s)?this.configureItem(i):this.moveItem(i,e,s);Ext.resumeLayouts(!0)}},isValidParent:function(t,e,i){var n,s=t.el?t.el.dom:Ext.getDom(t),r=e&&e.dom||e,o=s.parentNode;return o&&(n=o.className)&&-1!==n.indexOf(Ext.baseCSSPrefix+"resizable-wrap")&&(s=s.parentNode),!(!s||!r)&&("number"==typeof i?(i=this.getPositionOffset(i),s===r.childNodes[i]):s.parentNode===r)},getPositionOffset:function(t){return t},configureItem:function(t){t.ownerLayout=this},renderItem:function(t,e,i){t.rendered||(this.configureItem(t),t.render(e,i),this.afterRenderItem(t))},moveItem:function(t,e,i){e=e.dom||e,"number"==typeof i&&(i=e.childNodes[i]),e.insertBefore(t.el.dom,i||null),t.container=Ext.get(e),this.configureItem(t)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(t){this.owner=t},getLayoutItems:function(){return[]},afterRenderItem:Ext.emptyFn,onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(t){var e,i=t.el,n=this.owner;t.rendered&&(e=[].concat(this.itemCls||[]),n.itemCls&&(e=Ext.Array.push(e,n.itemCls)),e.length&&i.removeCls(e)),delete t.ownerLayout},destroy:function(){var t;this.targetCls&&(t=this.getTarget())&&t.removeCls(this.targetCls),this.onDestroy()},sortWeightedItems:function(t,e){for(var i=0,n=t.length;i<n;++i)t[i].$i=i;for(Ext.Array.sort(t,function(t,i){var n=i.weight-t.weight;return n||(n=t.$i-i.$i,t[e]&&(n=-n)),n}),i=0;i<n;++i)delete t[i].$i}},function(){this.prototype.sizeModels=this.sizeModels=Ext.layout.SizeModel.sizeModels}),Ext.define("Ext.layout.container.Container",{alias:["layout.container"],extend:Ext.layout.Layout,alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:Ext.util.ElementContainer},type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent(),this.mixins.elementCt.destroy.call(this)},beginLayout:function(t){this.callParent(arguments),t.targetContext=t.paddingContext=t.getEl("getTarget",this),this.cacheChildItems(t)},beginLayoutCycle:function(t,e){this.callParent(arguments),e&&(this.usesContainerHeight&&++t.consumersContainerHeight,this.usesContainerWidth&&++t.consumersContainerWidth)},cacheChildItems:function(t){var e,i=t.context,n=[],s=this.getVisibleItems(),r=s.length;for(t.childItems=n,t.visibleItems=s,e=0;e<r;++e)n.push(i.getCmp(s[e]))},cacheElements:function(){var t=this.owner;this.applyChildEls(t.el,t.id)},configureItem:function(t){var e,i=this.itemCls,n=this.owner.itemCls;t.ownerLayout=this,i&&(e="string"==typeof i?[i]:i),n&&(e=Ext.Array.push(e||[],n)),e&&t.addCls(e)},doRenderBody:function(t,e){this.renderItems(t,e),this.renderContent(t,e)},doRenderContainer:function(t,e){var i=e.$comp.layout,n=i.getRenderTpl(),s=i.getRenderData();n.applyOut(s,t)},doRenderItems:function(t,e){var i=e.$layout.getRenderTree();i&&Ext.DomHelper.generateMarkup(i,t)},finishRender:function(){var t,e;this.callParent(),this.cacheElements(),t=this.getRenderTarget(),e=this.getLayoutItems(),this.finishRenderItems(t,e)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(t,e){var i,n,s,r,o=t.targetContext,a=o.getFrameInfo(),l=t.paddingContext.getPaddingInfo(),h=0,d=0;return t.widthModel.shrinkWrap||(++d,(i="number"==typeof(s=e?o.getDomProp("width"):o.getProp("width")))&&(++h,(s-=a.width+l.width)<0&&(s=0))),t.heightModel.shrinkWrap||(++d,(n="number"==typeof(r=e?o.getDomProp("height"):o.getProp("height")))&&(++h,(r-=a.height+l.height)<0&&(r=0))),{width:s,height:r,needed:d,got:h,gotAll:h==d,gotWidth:i,gotHeight:n}},getPositionOffset:function(t){if(!this.createsInnerCt){var e=this.owner.itemNodeOffset;e&&(t+=e)}return t},getLayoutItems:function(){var t=this.owner,e=t&&t.items;return e&&e.items||[]},getRenderData:function(){var t=this.owner;return{$comp:t,$layout:this,ownerId:t.id}},getRenderedItems:function(){var t,e,i=this.getRenderTarget(),n=this.getLayoutItems(),s=n.length,r=[];for(t=0;t<s;t++)(e=n[t]).rendered&&this.isValidParent(e,i,t)&&r.push(e);return r},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var t=Ext.XTemplate.getTpl(this,"renderTpl");return t.renderContent||this.owner.setupRenderTpl(t),t},getRenderTree:function(){var t,e,i=this.owner.items,n={};do{e=i.generation,t=this.getItemsRenderTree(this.getLayoutItems(),n)}while(i.generation!==e);return t},getScrollbarsNeeded:function(t,e,i,n){var s=Ext.getScrollbarSize(),r="number"==typeof t,o="number"==typeof e,a=0,l=0;return s.width?(o&&e<n&&(l=2,t-=s.width),r&&t<i&&(a=1,!l&&o&&(e-=s.height)<n&&(l=2)),l+a):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var t,e,i=this.getRenderTarget(),n=this.getLayoutItems(),s=n.length,r=[];for(t=0;t<s;t++)(e=n[t]).rendered&&this.isValidParent(e,i,t)&&!0!==e.hidden&&r.push(e);return r},setupRenderTpl:function(t){t.renderBody=this.doRenderBody,t.renderContainer=this.doRenderContainer,t.renderItems=this.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}}),Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:Ext.layout.container.Container,type:"autocontainer",childEls:["outerCt","innerCt","clearEl"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,lastOverflowAdjust:{width:0,height:0},renderTpl:["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}",'<span id="{ownerId}-outerCt" style="display:table;">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</span>","{% } else if (values.shrinkWrapWidth) { %}",'<table id="{ownerId}-outerCt" class="'+Ext.baseCSSPrefix+'table-plain">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</td>","</tr>","</table>","{% } else { %}",'<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">','<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</div>","</div>","{% values.$layout.isShrinkWrapTpl = false %}","{% } %}"],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.baseCSSPrefix+'table-plain">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"</td>","</tr>","</table>"],isShrinkWrapTpl:!0,beginLayout:function(t){var e,i,n,s;this.callParent(arguments),this.initContextItems(t),this.isShrinkWrapTpl||(t.widthModel.shrinkWrap&&(s=!0),Ext.isStrict&&Ext.isIE7&&("auto"!==(n=this.getOverflowXStyle(t))&&"scroll"!==n||!t.paddingContext.getPaddingInfo().right||(s=!0)),s&&this.insertTableCt(t)),!this.isShrinkWrapTpl&&Ext.isIE7&&Ext.isStrict&&!this.clearElHasPadding&&(e=t.paddingContext.getPaddingInfo().bottom,i=this.getOverflowYStyle(t),!e||"auto"!==i&&"scroll"!==i||(this.clearEl.setStyle("height",e),this.clearElHasPadding=!0))},beforeLayoutCycle:function(t){var e=this.owner,i=e.hierarchyState,n=e.hierarchyStateInner;i&&!i.invalid||(i=e.getHierarchyState(),n=e.hierarchyStateInner),t.widthModel.shrinkWrap&&this.isShrinkWrapTpl?n.inShrinkWrapTable=!0:delete n.inShrinkWrapTable},beginLayoutCycle:function(t){var e,i,n,s,r,o,a,l=this.outerCt,h=this.lastOuterCtWidth||"",d=this.lastOuterCtHeight||"",c=this.lastOuterCtTableLayout||"";this.callParent(arguments),n=s=r="",!t.widthModel.shrinkWrap&&this.isShrinkWrapTpl&&(Ext.isIE7m&&Ext.isStrict&&("auto"!==(i=this.getOverflowYStyle(t))&&"scroll"!==i||(o=!0)),o||(n="100%"),a=this.owner.hierarchyStateInner,e=this.getOverflowXStyle(t),r=a.inShrinkWrapTable||"auto"===e||"scroll"===e?"":"fixed"),t.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(s="100%"),(n!==h||this.hasOuterCtPxWidth)&&(l.setStyle("width",n),this.lastOuterCtWidth=n,this.hasOuterCtPxWidth=!1),r!==c&&(l.setStyle("table-layout",r),this.lastOuterCtTableLayout=r),(s!==d||this.hasOuterCtPxHeight)&&(l.setStyle("height",s),this.lastOuterCtHeight=s,this.hasOuterCtPxHeight=!1),this.hasInnerCtPxHeight&&(this.innerCt.setStyle("height",""),this.hasInnerCtPxHeight=!1),t.state.overflowAdjust=this.lastOverflowAdjust},calculate:function(t){var e=t.state,i=this.getContainerSize(t,!0),n=e.calculatedItems||(e.calculatedItems=!this.calculateItems||this.calculateItems(t,i));this.setCtSizeIfNeeded(t,i),n&&t.hasDomProp("containerChildrenSizeDone")&&(this.calculateContentSize(t),i.gotAll)?!this.manageOverflow||t.state.secondPass||this.reserveScrollbar||this.calculateOverflow(t,i):this.done=!1},calculateContentSize:function(t){var e=(t.widthModel.shrinkWrap?1:0)|(t.heightModel.shrinkWrap?2:0),i=1&e||void 0,n=2&e||void 0,s=0,r=t.props;i&&(isNaN(r.contentWidth)?++s:i=void 0),n&&(isNaN(r.contentHeight)?++s:n=void 0),s&&(i&&!t.setContentWidth(this.measureContentWidth(t))&&(this.done=!1),n&&!t.setContentHeight(this.measureContentHeight(t))&&(this.done=!1))},calculateOverflow:function(t){var e,i,n,s,r,o,a;r="auto"===this.getOverflowXStyle(t),o="auto"===this.getOverflowYStyle(t),(r||o)&&(n=Ext.getScrollbarSize(),s=0,(a=t.overflowContext.el.dom).scrollWidth>a.clientWidth&&(s|=1),a.scrollHeight>a.clientHeight&&(s|=2),e=o&&2&s?n.width:0,i=r&&1&s?n.height:0,e===this.lastOverflowAdjust.width&&i===this.lastOverflowAdjust.height||(this.done=!1,t.invalidate({state:{overflowAdjust:{width:e,height:i},overflowState:s,secondPass:!0}})))},completeLayout:function(t){this.lastOverflowAdjust=t.state.overflowAdjust},doRenderPadding:function(t,e){var i=e.$layout,n=e.$layout.owner,s=n[n.contentPaddingProperty];i.managePadding&&s&&t.push("padding:",Ext.Element.unitizeBox(s))},finishedLayout:function(t){var e=this.innerCt;this.callParent(arguments),(Ext.isIEQuirks||Ext.isIE8m)&&e.repaint(),Ext.isOpera&&(e.setStyle("position","relative"),e.dom.scrollWidth,e.setStyle("position",""))},getContainerSize:function(t,e){var i=this.callParent(arguments),n=t.state.overflowAdjust;return n&&(i.width-=n.width,i.height-=n.height),i},getRenderData:function(){var t=this.owner,e=this.callParent();return(Ext.isIEQuirks||Ext.isIE7m)&&(1&t.shrinkWrap||t.floating&&!t.width)&&(e.shrinkWrapWidth=!0),e},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(t){return t.overflowXStyle||(t.overflowXStyle=this.owner.scrollFlags.overflowX||t.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(t){return t.overflowYStyle||(t.overflowYStyle=this.owner.scrollFlags.overflowY||t.overflowContext.getStyle("overflow-y"))},initContextItems:function(t){var e=t.target,i=this.owner.customOverflowEl;t.outerCtContext=t.getEl("outerCt",this),t.innerCtContext=t.getEl("innerCt",this),t.overflowContext=i?t.getEl(i):t.targetContext,void 0!==e[e.contentPaddingProperty]&&(t.paddingContext=this.isShrinkWrapTpl?t.innerCtContext:t.outerCtContext)},initLayout:function(){var t=Ext.getScrollbarSize().width,e=this.owner;this.callParent(),t&&this.manageOverflow&&!this.hasOwnProperty("lastOverflowAdjust")&&(e.autoScroll||this.reserveScrollbar)&&(this.lastOverflowAdjust={width:t,height:0})},insertTableCt:function(t){var e,i,n,s,r,o=this.owner,a=0;for((e=Ext.XTemplate.getTpl(this,"tableTpl")).renderPadding=this.doRenderPadding,this.outerCt.dom.removeChild(this.innerCt.dom),i=document.createDocumentFragment(),s=(n=this.innerCt.dom.childNodes).length;a<s;a++)i.appendChild(n[0]);(r=this.getTarget()).dom.innerHTML=e.apply({$layout:this,ownerId:this.owner.id}),r.down("td").dom.appendChild(i),this.applyChildEls(o.el,o.id),this.isShrinkWrapTpl=!0,t.removeEl(this.outerCt),t.removeEl(this.innerCt),this.initContextItems(t)},measureContentHeight:function(t){var e=this.outerCt.getHeight(),i=t.target;return this.managePadding&&void 0===i[i.contentPaddingProperty]&&(e+=t.targetContext.getPaddingInfo().height),e},measureContentWidth:function(t){var e=this.outerCt.getWidth(),i=t.target;return this.managePadding&&void 0===i[i.contentPaddingProperty]&&(e+=t.targetContext.getPaddingInfo().width),e},setCtSizeIfNeeded:function(t,e){var i,n,s,r,o=e.width,a=e.height,l=t.paddingContext.getPaddingInfo(),h=this.getTarget(),d=this.getOverflowXStyle(t),c=this.getOverflowYStyle(t),u="auto"===d||"scroll"===d,f="auto"===c||"scroll"===c,p=Ext.getScrollbarSize(),g=this.isShrinkWrapTpl,m=this.manageOverflow;o&&!t.widthModel.shrinkWrap&&(Ext.isIE7m&&Ext.isStrict&&g&&f||Ext.isIEQuirks&&!g&&!u)&&(m||f&&h.dom.scrollHeight>h.dom.clientHeight&&(o-=p.width),t.outerCtContext.setProp("width",o+l.width),this.hasOuterCtPxWidth=!0),a&&!t.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(n=!0),(Ext.isIE8&&Ext.isStrict||Ext.isIE7m&&Ext.isStrict&&g)&&(s=!0,r=!Ext.isIE8),(n||s)&&u&&h.dom.scrollWidth>h.dom.clientWidth&&(a-=p.height),n&&(t.outerCtContext.setProp("height",a+l.height),this.hasOuterCtPxHeight=!0),s&&(r&&(a+=l.height),t.innerCtContext.setProp("height",a),this.hasInnerCtPxHeight=!0)),Ext.isIE7&&Ext.isStrict&&!g&&"auto"===c&&(i="auto"===d?"overflow-x":"overflow-y",h.setStyle(i,"hidden"),h.setStyle(i,"auto"))},setupRenderTpl:function(t){this.callParent(arguments),t.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}}),Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(t){var e=this;e.list={},e.zIndexStack=[],e.front=null,t?t.isContainer?(t.on("resize",e._onContainerResize,e),e.zseed=Ext.Number.from(e.rendered?t.getEl().getStyle("zIndex"):void 0,e.getNextZSeed()),e.targetEl=t.getTargetEl(),e.container=t):(Ext.EventManager.onWindowResize(e._onContainerResize,e),e.zseed=e.getNextZSeed(),e.targetEl=Ext.get(t)):(Ext.EventManager.onWindowResize(e._onContainerResize,e),e.zseed=e.getNextZSeed(),Ext.onDocumentReady(function(){e.targetEl=Ext.getBody()}))},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(t){this.zseed=t;var e=this.assignZIndices();return this._activateLast(),e},assignZIndices:function(){for(var t,e,i=this.zIndexStack,n=i.length,s=0,r=this.zseed;s<n;s++)(t=i[s])&&!t.hidden&&(r=t.setZIndex(r),t.modal&&(e=t));return e&&this._showModalMask(e),r},_setActiveChild:function(t,e){var i=this.front,n=t.preventFocusOnActivate;t!==i&&(i&&!i.destroying&&i.setActive(!1,t),this.front=t,t&&t!=e&&(t.preventFocusOnActivate=t.preventFocusOnActivate||e&&(e.preventFocusOnActivate||!e.focusOnToFront),t.setActive(!0),t.modal&&this._showModalMask(t),t.preventFocusOnActivate=n))},onComponentHide:function(t){this._activateLast()},_activateLast:function(){for(var t,e=this.zIndexStack,i=e.length-1;i>=0&&e[i].hidden;--i);if(t=e[i]){if(this._setActiveChild(t,this.front),t.modal)return}else this.front&&!this.front.destroying&&this.front.setActive(!1),this.front=null;for(;i>=0;--i)if((t=e[i]).isVisible()&&t.modal)return void this._showModalMask(t);this._hideModalMask()},_showModalMask:function(t){var e,i=t.el.getStyle("zIndex")-4,n=t.floatParent?t.floatParent.getTargetEl():t.container,s=this.mask,r=this.maskShim;s||(Ext.isIE6&&(r=this.maskShim=Ext.getBody().createChild({tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"})).setVisibilityMode(Ext.Element.DISPLAY),(s=this.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"})).setVisibilityMode(Ext.Element.DISPLAY),s.on("click",this._onMaskClick,this)),s.maskTarget=n,e=this.getMaskBox(),r&&(r.setStyle("zIndex",i),r.show(),r.setBox(e)),s.setStyle("zIndex",i),s.show(),s.setBox(e)},_hideModalMask:function(){var t=this.mask,e=this.maskShim;t&&t.isVisible()&&(t.maskTarget=void 0,t.hide(),e&&e.hide())},_onMaskClick:function(){this.front&&this.front.focus()},getMaskBox:function(){var t=this.mask.maskTarget;return t.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:t.getBox()},_onContainerResize:function(){var t,e=this.mask,i=this.maskShim;e&&e.isVisible()&&(e.hide(),i&&i.hide(),t=this.getMaskBox(),i&&(i.setSize(t),i.show()),e.setSize(t),e.show())},register:function(t){var e=this,i=t.afterHide;t.zIndexManager&&t.zIndexManager.unregister(t),t.zIndexManager=e,e.list[t.id]=t,e.zIndexStack.push(t),t.afterHide=function(){i.apply(t,arguments),e.onComponentHide(t)}},unregister:function(t){var e=this.list;delete t.zIndexManager,e&&e[t.id]&&(delete e[t.id],delete t.afterHide,Ext.Array.remove(this.zIndexStack,t),this._activateLast())},get:function(t){return t.isComponent?t:this.list[t]},bringToFront:function(t,e){var i=!1,n=this.zIndexStack;return(t=this.get(t))!==this.front&&(Ext.Array.remove(n,t),t.preventBringToFront?n.unshift(t):n.push(t),this.assignZIndices(),e||this._activateLast(),i=!0,this.front=t,t.modal&&this._showModalMask(t)),i},sendToBack:function(t){return t=this.get(t),Ext.Array.remove(this.zIndexStack,t),this.zIndexStack.unshift(t),this.assignZIndices(),this._activateLast(),t},hideAll:function(){var t,e,i=this.list;for(e in i)i.hasOwnProperty(e)&&(t=i[e]).isComponent&&t.isVisible()&&t.hide()},hide:function(){var t,e=0,i=this.zIndexStack,n=i.length;for(this.tempHidden=[];e<n;e++)(t=i[e]).isVisible()&&(this.tempHidden.push(t),t.el.hide(),t.hidden=!0)},show:function(){for(var t,e=0,i=this.tempHidden,n=i?i.length:0;e<n;e++)(t=i[e]).el.show(),t.hidden=!1,t.setPosition(t.x,t.y);delete this.tempHidden},getActive:function(){return this.front},getBy:function(t,e){for(var i,n=[],s=0,r=this.zIndexStack,o=r.length;s<o;s++)i=r[s],!1!==t.call(e||i,i)&&n.push(i);return n},each:function(t,e){var i,n,s=this.list;for(i in s)if(s.hasOwnProperty(i)&&(n=s[i]).isComponent&&!1===t.call(e||n,n))return},eachBottomUp:function(t,e){for(var i,n=this.zIndexStack,s=0,r=n.length;s<r;s++)if((i=n[s]).isComponent&&!1===t.call(e||i,i))return},eachTopDown:function(t,e){for(var i,n=this.zIndexStack,s=n.length;s-- >0;)if((i=n[s]).isComponent&&!1===t.call(e||i,i))return},destroy:function(){var t,e,i=this.list;for(e in i)i.hasOwnProperty(e)&&(t=i[e]).isComponent&&t.destroy();delete this.zIndexStack,delete this.list,delete this.container,delete this.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.define("Ext.layout.component.Component",{extend:Ext.layout.Layout,type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(t,e){var i,n,s,r,o=this.owner,a=t.ownerCtContext,l=t.heightModel,h=t.widthModel,d=o.el.dom===document.body,c=o.lastBox||this.nullBox,u=o.el.lastBox||this.nullBox,f=!d;this.callParent(arguments),e&&(this.usesContentWidth&&++t.consumersContentWidth,this.usesContentHeight&&++t.consumersContentHeight,this.usesWidth&&++t.consumersWidth,this.usesHeight&&++t.consumersHeight,a&&!a.hasRawContent&&((i=o.ownerLayout).usesWidth&&++t.consumersWidth,i.usesHeight&&++t.consumersHeight)),h.configured?(s=h.names.width,d||(f=e?o[s]!==u.width:h.constrained),t.setWidth(o[s],f)):t.isTopLevel&&(h.calculated&&(n=c.width,t.setWidth(n,n!=u.width)),n=c.x,t.setProp("x",n,n!=u.x)),l.configured?(r=l.names.height,d||(f=e?o[r]!==u.height:l.constrained),t.setHeight(o[r],f)):t.isTopLevel&&(l.calculated&&(n=c.height,t.setHeight(n,n!=u.height)),n=c.y,t.setProp("y",n,n!=u.y))},finishedLayout:function(t){var e,i,n,s,r,o=t.children,a=this.owner;if(o)for(e=o.length,i=0;i<e;i++)(n=o[i]).el.lastBox=n.props;t.previousSize=this.lastComponentSize,this.lastComponentSize=a.el.lastBox=r=t.props,(s=a.lastBox||(a.lastBox={})).x=r.x,s.y=r.y,s.width=r.width,s.height=r.height,s.invalid=!1,this.callParent(arguments)},notifyOwner:function(t){var e=this.lastComponentSize,i=t.previousSize,n=[e.width,e.height];i&&n.push(i.width,i.height),this.owner.afterComponentLayout.apply(this.owner,n)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(t){var e,i=this.targetInfo;return i||(e=t.getEl("getTarget",this),this.targetInfo=i={padding:e.getPaddingInfo(),border:e.getBorderInfo()}),i},measureAutoDimensions:function(t,e){var i,n,s,r,o,a=this.owner,l=a.layout,h=t.heightModel,d=t.widthModel,c=t.boxParent,u=t.isBoxParent,f=t.props,p={gotWidth:!1,gotHeight:!1,isContainer:i=!t.hasRawContent},g=e||3,m=0,x=0;return d.shrinkWrap&&t.consumersContentWidth?(++m,n=!(1&g),i?n?(p.contentWidth=0,p.gotWidth=!0,++x):void 0!==(p.contentWidth=t.getProp("contentWidth"))&&(p.gotWidth=!0,++x):"number"==typeof(r=f.contentWidth)?(p.contentWidth=r,p.gotWidth=!0,++x):(!!n||!!t.hasDomProp("containerChildrenSizeDone")&&(!(!u&&c&&!c.widthModel.shrinkWrap)||c.hasDomProp("width")))&&(o=n?0:l&&l.measureContentWidth?l.measureContentWidth(t):this.measureContentWidth(t),isNaN(p.contentWidth=o)||(t.setContentWidth(o,!0),p.gotWidth=!0,++x))):d.natural&&t.consumersWidth&&(++m,"number"==typeof(r=f.width)?(p.width=r,p.gotWidth=!0,++x):(!(!u&&c)||c.hasDomProp("width"))&&(isNaN(p.width=this.measureOwnerWidth(t))||(t.setWidth(p.width,!1),p.gotWidth=!0,++x))),h.shrinkWrap&&t.consumersContentHeight?(++m,s=!(2&g),i?s?(p.contentHeight=0,p.gotHeight=!0,++x):void 0!==(p.contentHeight=t.getProp("contentHeight"))&&(p.gotHeight=!0,++x):"number"==typeof(r=f.contentHeight)?(p.contentHeight=r,p.gotHeight=!0,++x):(!!s||!!t.hasDomProp("containerChildrenSizeDone")&&(!!a.noWrap||(d.shrinkWrap?!(!u&&c&&!c.widthModel.shrinkWrap)||c.hasDomProp("width"):(t.bodyContext||t).hasDomProp("width"))))&&(o=s?0:l&&l.measureContentHeight?l.measureContentHeight(t):this.measureContentHeight(t),isNaN(p.contentHeight=o)||(t.setContentHeight(o,!0),p.gotHeight=!0,++x))):h.natural&&t.consumersHeight&&(++m,"number"==typeof(r=f.height)?(p.height=r,p.gotHeight=!0,++x):(!(!u&&c)||c.hasDomProp("width"))&&(isNaN(p.height=this.measureOwnerHeight(t))||(t.setHeight(p.height,!1),p.gotHeight=!0,++x))),c&&t.onBoxMeasured(),p.gotAll=x==m,p},measureContentWidth:function(t){return t.el.getWidth()-t.getFrameInfo().width},measureContentHeight:function(t){return t.el.getHeight()-t.getFrameInfo().height},measureOwnerHeight:function(t){return t.el.getHeight()},measureOwnerWidth:function(t){return t.el.getWidth()}}),Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:Ext.layout.component.Component,type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(t,e){var i=this.lastWidthModel,n=this.lastHeightModel,s=this.owner.el;this.callParent(arguments),i&&i.fixed&&t.widthModel.shrinkWrap&&s.setWidth(null),n&&n.fixed&&t.heightModel.shrinkWrap&&s.setHeight(null)},calculate:function(t){var e,i,n=this.measureAutoDimensions(t),s=t.heightModel,r=t.widthModel;n.gotWidth?r.shrinkWrap?this.publishOwnerWidth(t,n.contentWidth):this.publishInnerWidth&&this.publishInnerWidth(t,n.width):!r.auto&&this.publishInnerWidth&&(void 0===(e=this.waitForOuterWidthInDom?t.getDomProp("width"):t.getProp("width"))?this.done=!1:this.publishInnerWidth(t,e)),n.gotHeight?s.shrinkWrap?this.publishOwnerHeight(t,n.contentHeight):this.publishInnerHeight&&this.publishInnerHeight(t,n.height):!s.auto&&this.publishInnerHeight&&(void 0===(i=this.waitForOuterHeightInDom?t.getDomProp("height"):t.getProp("height"))?this.done=!1:this.publishInnerHeight(t,i)),n.gotAll||(this.done=!1)},calculateOwnerHeightFromContentHeight:function(t,e){return e+t.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(t,e){return e+t.getFrameInfo().width},publishOwnerHeight:function(t,e){var i,n,s,r=this.owner,o=this.calculateOwnerHeightFromContentHeight(t,e);isNaN(o)?this.done=!1:((i=Ext.Number.constrain(o,r.minHeight,r.maxHeight))==o?n=this.setHeightInDom:(s=this.sizeModels[i<o?"constrainedMax":"constrainedMin"],o=i,t.heightModel.calculatedFromShrinkWrap?t.heightModel=s:t.invalidate({heightModel:s})),t.setHeight(o,n))},publishOwnerWidth:function(t,e){var i,n,s,r=this.owner,o=this.calculateOwnerWidthFromContentWidth(t,e);isNaN(o)?this.done=!1:((i=Ext.Number.constrain(o,r.minWidth,r.maxWidth))==o?n=this.setWidthInDom:(s=this.sizeModels[i<o?"constrainedMax":"constrainedMin"],o=i,t.widthModel.calculatedFromShrinkWrap?t.widthModel=s:t.invalidate({widthModel:s})),t.setWidth(o,n))}}),Ext.define("Ext.container.AbstractContainer",{extend:Ext.Component,renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:!1,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",defaultLayoutType:"auto",initComponent:function(){this.addEvents("afterlayout","beforeadd","beforeremove","add","remove"),this.callParent(),this.getLayout(),this.initItems()},initItems:function(){var t=this.items;this.items=new Ext.util.AbstractMixedCollection(!1,this.getComponentId),this.floatingItems=new Ext.util.MixedCollection(!1,this.getComponentId),t&&(Ext.isArray(t)||(t=[t]),this.add(t))},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var t=this.getLayout();t&&t.finishRender()},beforeRender:function(){var t,e=this.getLayout();this.callParent(),e.initialized||e.initLayout(),(t=e.targetCls)&&this.applyTargetCls(t)},applyTargetCls:function(t){this.addCls(t)},afterComponentLayout:function(){var t,e,i=this.floatingItems.items,n=i.length;for(this.callParent(arguments),t=0;t<n;t++)!(e=i[t]).rendered&&e.autoShow&&e.show()},onPosition:function(){this.callParent(arguments),this.repositionFloatingItems()},onResize:function(){this.callParent(arguments),this.repositionFloatingItems()},repositionFloatingItems:function(){var t,e,i=this.floatingItems.items,n=i.length;for(t=0;t<n;t++)(e=i[t]).el&&!e.hidden&&e.setPosition(e.x,e.y)},setupRenderTpl:function(t){this.callParent(arguments),this.getLayout().setupRenderTpl(t)},getDefaultContentTarget:function(){return this.el},getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(t){var e=this.layout;e&&e.isLayout&&e!=t&&e.setOwner(null),this.layout=t,t.setOwner(this)},getLayout:function(){return this.layout&&this.layout.isLayout||this.setLayout(Ext.layout.Layout.create(this.layout,this.self.prototype.layout||this.defaultLayoutType)),this.layout},doLayout:function(){return this.updateLayout(),this},afterLayout:function(t){++this.layoutCounter,this.hasListeners.afterlayout&&this.fireEvent("afterlayout",this,t)},prepareItems:function(t,e){for(var i,n=0,s=(t=Ext.isArray(t)?t.slice():[t]).length;n<s;n++)null==(i=t[n])?(Ext.Array.erase(t,n,1),--n,--s):(e&&(i=this.applyDefaults(i)),i.isContained=this,t[n]=this.lookupComponent(i),delete i.isContained,delete t[n].isContained);return t},applyDefaults:function(t){var e=this.defaults;return e&&(Ext.isFunction(e)&&(e=e.call(this,t)),Ext.isString(t)&&(t=Ext.ComponentManager.get(t)),Ext.applyIf(t,e)),t},lookupComponent:function(t){return"string"==typeof t?Ext.ComponentManager.get(t):Ext.ComponentManager.create(t,this.defaultType)},getComponentId:function(t){if(t.getItemId)return t.getItemId()},add:function(){var t,e,i,n,s,r,o,a=Ext.Array.slice(arguments),l="number"==typeof a[0]?a.shift():-1,h=this.getLayout();for(1==a.length&&Ext.isArray(a[0])?(e=a[0],t=!0):e=a,o=e=this.prepareItems(e,!0),n=e.length,this.rendered&&Ext.suspendLayouts(),t||1!=n||(o=e[0]),i=0;i<n;i++)s=e[i],r=l<0?this.items.length:l+i,s.floating?(this.floatingItems.add(s),s.onAdded(this,r),this.hasListeners.add&&this.fireEvent("add",this,s,r)):this.hasListeners.beforeadd&&!1===this.fireEvent("beforeadd",this,s,r)||!1===this.onBeforeAdd(s)||(this.items.insert(r,s),s.onAdded(this,r),this.onAdd(s,r),h.onAdd(s,r),this.hasListeners.add&&this.fireEvent("add",this,s,r));return this.updateLayout(),this.rendered&&Ext.resumeLayouts(!0),o},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(t,e){return this.add(t,e)},move:function(t,e){var i,n=this.items;return!1!==(i=n.removeAt(t))&&(n.insert(e,i),this.onMove(i,t,e),this.updateLayout(),i)},onMove:Ext.emptyFn,onBeforeAdd:function(t){t.ownerCt&&t.ownerCt!==this&&t.ownerCt.remove(t,!1)},remove:function(t,e){var i=this.getComponent(t);return!i||this.hasListeners.beforeremove&&!1===this.fireEvent("beforeremove",this,i)||(this.doRemove(i,e),this.hasListeners.remove&&this.fireEvent("remove",this,i),this.destroying||i.floating||this.updateLayout()),i},doRemove:function(t,e){e=!0===e||!1!==e&&this.autoDestroy;var i=this.layout,n=i&&this.rendered,s=t.destroying||e,r=t.floating;r?this.floatingItems.remove(t):this.items.remove(t),n&&!r&&(i.running&&Ext.AbstractComponent.cancelLayout(t,s),i.onRemove(t,s)),t.onRemoved(s),this.onRemove(t,s),e?t.destroy():(n&&!r&&i.afterRemove(t),this.detachOnRemove&&t.rendered&&this.detachComponent(t))},detachComponent:function(t){Ext.getDetachedBody().appendChild(t.getEl())},removeAll:function(t){var e,i=this.items.items.slice().concat(this.floatingItems.items),n=[],s=0,r=i.length;for(this.suspendLayouts();s<r;s++)e=i[s],this.remove(e,t),e.ownerCt!==this&&n.push(e);return this.resumeLayouts(!!r),n},getRefItems:function(t){for(var e,i=this.items.items,n=i.length,s=0,r=[];s<n;s++)e=i[s],r.push(e),t&&e.getRefItems&&r.push.apply(r,e.getRefItems(!0));return r.push.apply(r,this.floatingItems.items),r},cascade:function(t,e,i){var n,s=this.items?this.items.items:[],r=s.length,o=0,a=i?i.concat(this):[this],l=a.length-1;if(!1!==t.apply(e||this,a))for(;o<r;o++)(n=s[o]).cascade?n.cascade(t,e,i):(a[l]=n,t.apply(e||s,a));return this},isAncestor:function(t){for(;t;){if(t.ownerCt===this)return!0;t=t.ownerCt}},getComponent:function(t){Ext.isObject(t)&&(t=t.getItemId());var e=this.items.get(t);return e||"number"==typeof t||(e=this.floatingItems.get(t)),e},query:function(t){return t=t||"*",Ext.ComponentQuery.query(t,this)},queryBy:function(t,e){for(var i,n=[],s=this.getRefItems(!0),r=0,o=s.length;r<o;++r)i=s[r],!1!==t.call(e||i,i)&&n.push(i);return n},queryById:function(t){return this.down("#"+t)},child:function(t){return t&&t.isComponent&&(t="#"+Ext.escapeId(t.getItemId())),t=t||"",this.query("> "+t)[0]||null},contains:function(t,e){var i=!1;return e?(this.cascade(function(e){if(e.contains&&e.contains(t))return i=!0,!1}),i):this.items.contains(t)||this.floatingItems.contains(t)},nextChild:function(t,e){var i,n=this.items.indexOf(t);return-1!==n&&!(i=e?Ext.ComponentQuery(e,this.items.items.slice(n+1)):this.items.getAt(n+1))&&this.ownerCt&&(i=this.ownerCt.nextChild(this,e)),i},prevChild:function(t,e){var i,n=this.items.indexOf(t);return-1!==n&&!(i=e?Ext.ComponentQuery(e,this.items.items.slice(n+1)):this.items.getAt(n+1))&&this.ownerCt&&(i=this.ownerCt.nextChild(this,e)),i},down:function(t){return t&&t.isComponent&&(t="#"+Ext.escapeId(t.getItemId())),t=t||"",this.query(t)[0]||null},enable:function(){this.callParent(arguments);var t,e,i=this.getChildItemsToDisable(),n=i.length;for(e=0;e<n;e++)(t=i[e]).resetDisable&&t.enable();return this},disable:function(){this.callParent(arguments);var t,e,i=this.getChildItemsToDisable(),n=i.length;for(e=0;e<n;e++)!1===(t=i[e]).resetDisable||t.disabled||(t.disable(),t.resetDisable=!0);return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeDestroy:function(){var t,e=this.items,i=this.floatingItems;if(e)for(;t=e.first();)this.doRemove(t,!0);if(i)for(;t=i.first();)this.doRemove(t,!0);Ext.destroy(this.layout),this.callParent()}}),Ext.define("Ext.container.Container",{extend:Ext.container.AbstractContainer,alias:"widget.container",alternateClassName:"Ext.Container",getChildByElement:function(t,e){var i,n,s=0,r=this.getRefItems(),o=r.length;for(t=Ext.getDom(t);s<o;s++)if(i=r[s],(n=i.getEl())&&(n.dom===t||n.contains(t)))return e&&i.getChildByElement?i.getChildByElement(t,e):i;return null}}),Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:Ext.layout.container.Container,autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(t){var e=this.owner.autoSize,i=e&&e.width,n=this.sizePolicies;return n=n[i]||n.$,i=e&&e.height,n=n[i]||n.$},calculate:function(t){var e,i,n=this.owner,s=n.autoSize;!0===s&&(s=this.autoSizeDefault),s&&(e=this.getDimension(n,s.width,"getWidth",n.width),i=this.getDimension(n,s.height,"getHeight",n.height)),t.childItems[0].setSize(e,i),t.setWidth(e),t.setHeight(i),t.setContentSize(e||n.field.getWidth(),i||n.field.getHeight())},getDimension:function(t,e,i,n){switch(e){case"boundEl":return t.boundEl[i]();case"field":return;default:return n}}}),Ext.define("Ext.Editor",{extend:Ext.container.Container,alias:"widget.editor",layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,hidden:!0,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var t=this.field=Ext.ComponentManager.create(this.field,"textfield");Ext.apply(t,{inEditor:!0,msgTarget:"title"==t.msgTarget?"title":"qtip"}),this.mon(t,{scope:this,blur:{fn:this.onFieldBlur,delay:1},specialkey:this.onSpecialKey}),t.grow&&this.mon(t,"autosize",this.onFieldAutosize,this,{delay:1}),this.floating={constrain:this.constrain},this.items=t,this.callParent(arguments),this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(t,e){var i=this.field.inputEl;this.callParent(arguments),i&&(i.dom.name="",this.swallowKeys&&i.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(t,e){var i=this,n=e.getKey(),s=i.completeOnEnter&&n==e.ENTER,r=i.cancelOnEsc&&n==e.ESC;(s||r)&&(e.stopEvent(),Ext.defer(function(){s?i.completeEdit():i.cancelEdit(),t.triggerBlur&&t.triggerBlur(e)},10)),i.fireEvent("specialkey",i,t,e)},startEdit:function(t,e){var i=this.field;this.completeEdit(),this.boundEl=Ext.get(t),e=Ext.isDefined(e)?e:Ext.String.trim(this.boundEl.dom.innerText||this.boundEl.dom.innerHTML),this.rendered||(this.ownerCt&&(this.parentEl=this.ownerCt.el,this.parentEl.position()),this.render(this.parentEl||document.body)),!1!==this.fireEvent("beforestartedit",this,this.boundEl,e)&&(this.startValue=e,this.show(),i.suspendEvents(),i.reset(),i.setValue(e),i.resumeEvents(),this.realign(!0),i.focus(!1,10),i.autoSize&&i.autoSize(),this.editing=!0)},realign:function(t){!0===t&&this.updateLayout(),this.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(t){var e,i=this.field;this.editing&&(i.assertValue&&i.assertValue(),e=this.getValue(),i.isValid()?String(e)===String(this.startValue)&&this.ignoreNoChange?this.hideEdit(t):!1!==this.fireEvent("beforecomplete",this,e,this.startValue)&&(e=this.getValue(),this.updateEl&&this.boundEl&&this.boundEl.update(e),this.hideEdit(t),this.fireEvent("complete",this,e,this.startValue)):!1!==this.revertInvalid&&this.cancelEdit(t))},onShow:function(){this.callParent(arguments),!1!==this.hideEl&&this.boundEl.hide(),this.fireEvent("startedit",this,this.boundEl,this.startValue)},cancelEdit:function(t){var e,i=this.startValue,n=this.field;this.editing&&(e=this.getValue(),n.suspendEvents(),this.setValue(i),n.resumeEvents(),this.hideEdit(t),this.fireEvent("canceledit",this,e,i))},hideEdit:function(t){!0!==t&&(this.editing=!1,this.hide())},onFieldBlur:function(t,e){var i=Ext.Element.getActiveElement();!0===this.allowBlur&&this.editing&&!0!==this.selectSameEditor&&this.completeEdit(),(Ext.fly(i).isFocusable()||i.getAttribute("tabIndex"))&&i.focus()},onHide:function(){var t=this.field;this.editing?this.completeEdit():(t.hasFocus&&t.blur(),t.collapse&&t.collapse(),!1!==this.hideEl&&this.boundEl.show(),this.callParent(arguments))},setValue:function(t){this.field.setValue(t)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroy(this.field),delete this.field,delete this.parentEl,delete this.boundEl,this.callParent(arguments)}}),Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(t){1!==arguments.length||"string"==typeof t||t.dom||t.tagName||t===document||t.isComponent?this.legacyConstructor.apply(this,arguments):(Ext.apply(this,t),this.bindings=[],this.target.isComponent||(this.target=Ext.get(this.target)),this.binding?this.addBinding(this.binding):t.key&&this.addBinding(t),this.enable())},legacyConstructor:function(t,e,i){Ext.apply(this,{target:Ext.get(t),eventName:i||this.eventName,bindings:[]}),e&&this.addBinding(e),this.enable()},addBinding:function(t){var e,i,n=t.key;if(this.processing&&(this.bindings=bindings.slice(0)),Ext.isArray(t))for(e=0,i=t.length;e<i;e++)this.addBinding(t[e]);else this.bindings.push(Ext.apply({keyCode:this.processKeys(n)},t))},removeBinding:function(t){var e,i,n,s=this.bindings,r=s.length;for(this.processing&&(this.bindings=s.slice(0)),n=this.processKeys(t.key),e=0;e<r;++e)if((i=s[e]).fn===t.fn&&i.scope===t.scope&&t.alt==i.alt&&t.crtl==i.crtl&&t.shift==i.shift&&Ext.Array.equals(i.keyCode,n))return void Ext.Array.erase(this.bindings,e,1)},processKeys:function(t){var e,i,n,s,r,o=!1;if(Ext.isString(t)){for(i=[],r=0,s=(n=t.toUpperCase()).length;r<s;++r)i.push(n.charCodeAt(r));t=i,o=!0}if(Ext.isArray(t)||(t=[t]),!o)for(r=0,s=t.length;r<s;++r)e=t[r],Ext.isString(e)&&(t[r]=e.toUpperCase().charCodeAt(0));return t},handleTargetEvent:function(){var t=/input|textarea/i;return function(e){var i,n,s,r,o;if(this.enabled){if(i=this.bindings,n=0,s=i.length,e=this.processEvent.apply(this||this.processEventScope,arguments),this.ignoreInputFields&&(r=e.target,o=r.contentEditable,t.test(r.tagName)||""===o||"true"===o))return;if(!e.getKey)return e;for(this.processing=!0;n<s;++n)this.processBinding(i[n],e);this.processing=!1}}}(),processEvent:Ext.identityFn,processBinding:function(t,e){if(this.checkModifiers(t,e)){var i,n,s=e.getKey(),r=t.fn||t.handler,o=t.scope||this,a=t.keyCode,l=t.defaultEventAction,h=new Ext.EventObjectImpl(e);for(i=0,n=a.length;i<n;++i)if(s===a[i]){!0!==r.call(o,s,e)&&l&&h[l]();break}}},checkModifiers:function(t,e){for(var i,n,s=["shift","ctrl","alt"],r=0,o=s.length;r<o;++r)if(n=s[r],void 0!==(i=t[n])&&i!==e[n+"Key"])return!1;return!0},on:function(t,e,i){var n,s,r,o;Ext.isObject(t)&&!Ext.isArray(t)?(n=t.key,s=t.shift,r=t.ctrl,o=t.alt):n=t,this.addBinding({key:n,shift:s,ctrl:r,alt:o,fn:e,scope:i})},un:function(t,e,i){var n,s,r,o;Ext.isObject(t)&&!Ext.isArray(t)?(n=t.key,s=t.shift,r=t.ctrl,o=t.alt):n=t,this.removeBinding({key:n,shift:s,ctrl:r,alt:o,fn:e,scope:i})},isEnabled:function(){return this.enabled},enable:function(){this.enabled||(this.target.on(this.eventName,this.handleTargetEvent,this),this.enabled=!0)},disable:function(){this.enabled&&(this.target.removeListener(this.eventName,this.handleTargetEvent,this),this.enabled=!1)},setDisabled:function(t){t?this.disable():this.enable()},destroy:function(t){var e=this.target;this.bindings=[],this.disable(),!0===t&&(e.isComponent?e.destroy():e.remove()),delete this.target}}),Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(t){2!==arguments.length?this.setConfig(t):this.legacyConstructor.apply(this,arguments)},legacyConstructor:function(t,e){this.setConfig(Ext.apply({target:t},e))},setConfig:function(t){var e,i,n,s,r,o={target:t.target,ignoreInputFields:t.ignoreInputFields,eventName:this.getKeyEvent("forceKeyDown"in t?t.forceKeyDown:this.forceKeyDown,t.eventName)};this.map&&this.map.destroy(),t.processEvent&&(o.processEvent=t.processEvent,o.processEventScope=t.processEventScope||this),t.keyMap?e=this.map=t.keyMap:(e=this.map=new Ext.util.KeyMap(o),this.destroyKeyMap=!0),i=Ext.util.KeyNav.keyOptions,n=t.scope||this;for(s in i)i.hasOwnProperty(s)&&(r=t[s])&&("function"==typeof r&&(r={handler:r,defaultEventAction:void 0!==t.defaultEventAction?t.defaultEventAction:this.defaultEventAction}),e.addBinding({key:i[s],handler:Ext.Function.bind(this.handleEvent,r.scope||n,r.handler||r.fn,!0),defaultEventAction:void 0!==r.defaultEventAction?r.defaultEventAction:this.defaultEventAction}));e.disable(),t.disabled||e.enable()},handleEvent:function(t,e,i){return i.call(this,e)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(t){this.destroyKeyMap&&this.map.destroy(t),delete this.map},enable:function(){this.map.enable(),this.disabled=!1},disable:function(){this.map.disable(),this.disabled=!0},setDisabled:function(t){this.map.setDisabled(t),this.disabled=t},getKeyEvent:function(t,e){return t||Ext.EventManager.useKeyDown&&!e?"keydown":e||this.eventName}}),Ext.define("Ext.FocusManager",{singleton:!0,alternateClassName:["Ext.FocusMgr"],mixins:{observable:Ext.util.Observable},enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(t){var e=this,i=Ext.ComponentQuery;e.mixins.observable.constructor.call(e,t),e.addEvents("beforecomponentfocus","componentfocus","disable","enable"),e.focusTask=new Ext.util.DelayedTask(e.handleComponentFocus,e),Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments),e.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),e.onComponentFocus.apply(e,arguments))},onBlur:function(){this.callParent(arguments),e.enabled&&!this.hasFocus&&(Array.prototype.unshift.call(arguments,this),e.onComponentBlur.apply(e,arguments))},onDestroy:function(){this.callParent(arguments),e.enabled&&(Array.prototype.unshift.call(arguments,this),e.onComponentDestroy.apply(e,arguments))}}),Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments),e.enabled&&(Array.prototype.unshift.call(arguments,this),e.onComponentHide.apply(e,arguments))}}),e.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:e,backspace:e.focusLast,enter:e.navigateIn,esc:e.navigateOut,tab:e.navigateSiblings,space:e.navigateIn,del:e.focusLast,left:e.navigateSiblings,right:e.navigateSiblings,down:e.navigateSiblings,up:e.navigateSiblings}),e.focusData={},e.subscribers=new Ext.util.HashMap,e.focusChain={},Ext.apply(i.pseudos,{nextFocus:function(t,e,i){i=i||1,e=parseInt(e,10);for(var n,s=t.length,r=e;;){if((r+=i)>=s?r=0:r<0&&(r=s-1),r===e)return[];if((n=t[r]).isFocusable())return[n]}return[]},prevFocus:function(t,e){return this.nextFocus(t,e,-1)},root:function(t){for(var e,i=t.length,n=[],s=0;s<i;s++)(e=t[s]).ownerCt||n.push(e);return n}})},addXTypeToWhitelist:function(t){Ext.isArray(t)?Ext.Array.forEach(t,this.addXTypeToWhitelist,this):Ext.Array.contains(this.whitelist,t)||this.whitelist.push(t)},clearComponent:function(t){clearTimeout(this.cmpFocusDelay),t.isDestroyed||t.blur()},disable:function(){this.enabled&&(delete this.options,this.enabled=!1,this.removeDOM(),this.keyNav.disable(),this.fireEvent("disable",this))},enable:function(t){!0===t&&(t={focusFrame:!0}),this.options=t=t||{},this.enabled||(this.enabled=!0,this.initDOM(t),this.keyNav.enable(),this.focusEl.focus(),delete this.focusedCmp,this.fireEvent("enable",this))},focusLast:function(t){if(this.isWhitelisted(this.focusedCmp))return!0;this.previousFocusedCmp&&this.previousFocusedCmp.focus()},getRootComponents:function(){var t=Ext.ComponentQuery,e=t.query(":focusable:root:not([floating])"),i=t.query(":focusable:root[floating]");return i.sort(function(t,e){return t.el.getZIndex()>e.el.getZIndex()}),i.concat(e)},initDOM:function(t){var e=this.focusFrameCls,i=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),n=0,s=i.length;if(!Ext.isReady)return Ext.onReady(this.initDOM,this);for(;n<s;n++)i[n].addFocusListener();this.focusEl||(this.focusEl=Ext.getBody(),this.focusEl.dom.tabIndex=-1),!this.focusFrame&&t.focusFrame&&(this.focusFrame=Ext.getBody().createChild({cls:e,children:[{cls:e+"-top"},{cls:e+"-bottom"},{cls:e+"-left"},{cls:e+"-right"}],style:"top: -100px; left: -100px;"}),this.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),this.focusFrame.hide().setLocalXY(0,0))},isWhitelisted:function(t){return t&&Ext.Array.some(this.whitelist,function(e){return t.isXType(e)})},navigateIn:function(t){var e,i,n=this.focusedCmp;if(this.isWhitelisted(n))return!0;n?(i=n.hasFocus?Ext.ComponentQuery.query(">:focusable",n)[0]:n)?i.focus():Ext.isFunction(n.onClick)&&(t.button=0,n.onClick(t),n.isVisible(!0)?n.focus():this.navigateOut()):(e=this.getRootComponents()[0])&&(e.getFocusEl()===this.focusEl&&this.focusEl.blur(),e.focus())},navigateOut:function(t){var e;return this.focusedCmp&&(e=this.focusedCmp.up(":focusable"))?e.focus():this.focusEl.focus(),!0},navigateSiblings:function(t,e,i){var n,s,r,o,a=e||this,l=t.getKey(),h=Ext.EventObject,d=t.shiftKey||l==h.LEFT||l==h.UP,c=l==h.LEFT||l==h.RIGHT||l==h.UP||l==h.DOWN,u=d?"prev":"next";return!(r=a.focusedCmp&&a.focusedCmp.comp||a.focusedCmp)&&!i||(!(!c||!this.isWhitelisted(r))||(!r||r.is(":root")?o=this.getRootComponents():(i=i||r.up())&&(o=i.getRefItems()),o&&(n=r?Ext.Array.indexOf(o,r):-1,(s=Ext.ComponentQuery.query(":"+u+"Focus("+n+")",o)[0])&&r!==s)?(s.focus(),s):void 0))},onComponentBlur:function(t,e){this.focusedCmp===t&&(this.previousFocusedCmp=t,delete this.focusedCmp),this.focusFrame&&this.focusFrame.hide()},onComponentFocus:function(t,e){var i,n=this.focusChain;if(t.isFocusable())this.focusChain={},this.focusTask.delay(10,null,null,[t,t.getFocusEl()]);else{if(this.clearComponent(t),n[t.id])return;(i=t.up())&&(n[t.id]=!0,i.focus())}},handleComponentFocus:function(t,e){var i,n,s,r,o,a,l,h,d,c,u;!1!==this.fireEvent("beforecomponentfocus",this,t,this.previousFocusedCmp)?(this.focusedCmp=t,this.shouldShowFocusFrame(t)&&(i="."+this.focusFrameCls+"-",n=this.focusFrame,r=(s=(e.dom?e:e.el).getBox()).top,o=s.left,a=s.width,l=s.height,h=n.child(i+"top"),d=n.child(i+"bottom"),c=n.child(i+"left"),u=n.child(i+"right"),h.setWidth(a).setLocalXY(o,r),d.setWidth(a).setLocalXY(o,r+l-2),c.setHeight(l-2).setLocalXY(o,r+2),u.setHeight(l-2).setLocalXY(o+a-2,r+2),n.show()),this.fireEvent("componentfocus",this,t,this.previousFocusedCmp)):this.clearComponent(t)},onComponentHide:function(t){var e,i=!1;this.focusedCmp&&(i=t.hasFocus||t.isContainer&&t.isAncestor(this.focusedCmp)),this.clearComponent(t),i&&(e=t.up(":focusable"))?e.focus():this.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){this.enabled||this.subscribers.length||(Ext.destroy(this.focusFrame),delete this.focusEl,delete this.focusFrame)},removeXTypeFromWhitelist:function(t){Ext.isArray(t)?Ext.Array.forEach(t,this.removeXTypeFromWhitelist,this):Ext.Array.remove(this.whitelist,t)},setupSubscriberKeys:function(t,e){var i=this,n=t.getFocusEl(),s=e.scope,r={backspace:i.focusLast,enter:i.navigateIn,esc:i.navigateOut,scope:i};return Ext.iterate(e,function(e,n){r[e]=function(e){var r=function(e){return i.focusedCmp===t?i.navigateSiblings(e,i,t):i.navigateSiblings(e)}(e);return!(!Ext.isFunction(n)||!0!==n.call(s||t,e,r))||r}},i),new Ext.util.KeyNav(n,r)},shouldShowFocusFrame:function(t){var e=this.options||{};return!(!this.focusFrame||!t)&&(!!e.focusFrame||!!this.focusData[t.id].focusFrame)}}),Ext.define("Ext.Img",{extend:Ext.Component,alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",initComponent:function(){this.glyph&&(this.autoEl="div"),this.callParent()},getElConfig:function(){var t,e,i=this.callParent(),n=Ext._glyphFontFamily,s=this.glyph;return"img"==this.autoEl?t=i:this.glyph?("string"==typeof s&&(s=(e=s.split("@"))[0],n=e[1]),i.html="&#"+s+";",n&&(i.style="font-family:"+n)):i.cn=[t={tag:"img",id:this.id+"-img"}],t&&(this.imgCls&&(t.cls=(t.cls?t.cls+" ":"")+this.imgCls),t.src=this.src||Ext.BLANK_IMAGE_URL),this.alt&&((t||i).alt=this.alt),this.title&&((t||i).title=this.title),i},onRender:function(){var t;this.callParent(arguments),t=this.el,this.imgEl="img"==this.autoEl?t:t.getById(this.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl),this.imgEl=null,this.callParent()},setSrc:function(t){var e=this.imgEl;this.src=t,e&&(e.dom.src=t||Ext.BLANK_IMAGE_URL)},setGlyph:function(t){var e,i,n=Ext._glyphFontFamily;t!=this.glyph&&("string"==typeof t&&(t=(e=t.split("@"))[0],n=e[1]),(i=this.el.dom).innerHTML="&#"+t+";",n&&(i.style="font-family:"+n))}}),Ext.define("Ext.util.Bindable",{bindStore:function(t,e,i){var n=this[i=i||"store"];return!e&&n&&(this.onUnbindStore(n,e,i),t!==n&&n.autoDestroy?n.destroyStore():this.unbindStoreListeners(n)),t&&(t=Ext.data.StoreManager.lookup(t),this.bindStoreListeners(t),this.onBindStore(t,e,i)),this[i]=t||null,this},getStore:function(){return this.store},unbindStoreListeners:function(t){var e=this.storeListeners;e&&t.un(e)},bindStoreListeners:function(t){var e=Ext.apply({},this.getStoreListeners(t));e.scope||(e.scope=this),this.storeListeners=e,t.on(e)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn}),Ext.define("Ext.LoadMask",{extend:Ext.Component,alias:"widget.loadmask",mixins:{floating:Ext.util.Floating,bindable:Ext.util.Bindable},msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:!0,useTargetEl:!1,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"></div>',"</div>"],floating:{shadow:"frame"},focusOnToFront:!1,bringParentToFront:!1,constructor:function(t){var e;2===arguments.length?(e=t,t=arguments[1]):e=t.target,e.isComponent||(e=Ext.get(e),this.isElement=!0),this.ownerCt=e,this.isElement||this.bindComponent(e),this.callParent([t]),this.store&&this.bindStore(this.store,!0)},bindComponent:function(t){var e={scope:this,resize:this.sizeMask,added:this.onComponentAdded,removed:this.onComponentRemoved};t.floating?(e.move=this.sizeMask,this.activeOwner=t):t.ownerCt?this.onComponentAdded(t.ownerCt):this.preventBringToFront=!0,this.mon(t,e),this.mon(this.hierarchyEventSource,{show:this.onContainerShow,hide:this.onContainerHide,expand:this.onContainerExpand,collapse:this.onContainerCollapse,scope:this})},onComponentAdded:function(t){delete this.activeOwner,this.floatParent=t,t.floating||(t=t.up("[floating]")),t?(this.activeOwner=t,this.mon(t,"move",this.sizeMask,this)):this.preventBringToFront=!0,t=this.floatParent.ownerCt,this.rendered&&this.isVisible()&&t&&(this.floatOwner=t,this.mon(t,"afterlayout",this.sizeMask,this,{single:!0}))},onComponentRemoved:function(t){var e=this.activeOwner,i=this.floatOwner;e&&this.mun(e,"move",this.sizeMask,this),i&&this.mun(i,"afterlayout",this.sizeMask,this),delete this.activeOwner,delete this.floatOwner},afterRender:function(){this.callParent(arguments),this.container=this.floatParent.getContentTarget()},onContainerShow:function(t){this.isActiveContainer(t)&&this.onComponentShow()},onContainerHide:function(t){this.isActiveContainer(t)&&this.onComponentHide()},onContainerExpand:function(t){this.isActiveContainer(t)&&this.onComponentShow()},onContainerCollapse:function(t){this.isActiveContainer(t)&&this.onComponentHide()},isActiveContainer:function(t){return this.isDescendantOf(t)},onComponentHide:function(){this.rendered&&this.isVisible()&&(this.hide(),this.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var t;this.rendered&&this.isVisible()&&(this.center(),t=this.getMaskTarget(),this.getMaskEl().show().setSize(t.getSize()).alignTo(t,"tl-tl"))},bindStore:function(t,e){this.mixins.bindable.bindStore.apply(this,arguments),(t=this.store)&&t.isLoading()&&this.onBeforeLoad()},getStoreListeners:function(t){var e=this.onLoad,i=this.onBeforeLoad,n={cachemiss:i,cachefilled:e};return t.proxy.isSynchronous||(n.beforeLoad=i,n.load=e,n.prefetch=e),n},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var t=this.getOwner();return this.useTargetEl?t.getTargetEl():t.getEl()},onBeforeLoad:function(){var t,e=this,i=e.getOwner();e.disabled||(e.loading=!0,i.componentLayoutCounter?e.maybeShow():(t=i.afterComponentLayout,i.afterComponentLayout=function(){i.afterComponentLayout=t,t.apply(i,arguments),e.maybeShow()}))},maybeShow:function(){var t=this.getOwner();t.isVisible(!0)?this.loading&&t.rendered&&this.show():this.showNext=!0},getMaskEl:function(){return this.maskEl||(this.maskEl=this.el.insertSibling({cls:this.maskCls,style:{zIndex:this.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var t=this.msgEl;this.callParent(arguments),this.loading=!0,this.useMsg?(t.show(),this.msgTextEl.update(this.msg)):t.parent().hide()},hide:function(){return this.isElement?(this.ownerCt.unmask(),void this.fireEvent("hide",this)):(delete this.showNext,this.callParent(arguments))},onHide:function(){this.callParent(),this.getMaskEl().hide()},show:function(){return this.isElement?(this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),void this.fireEvent("show",this)):this.callParent(arguments)},afterShow:function(){this.callParent(arguments),this.sizeMask()},setZIndex:function(t){var e=this.activeOwner;return e&&(t=parseInt(e.el.getStyle("zIndex"),10)+1),this.getMaskEl().setStyle("zIndex",t-1),this.mixins.floating.setZIndex.apply(this,arguments)},onLoad:function(){this.loading=!1,this.hide()},onDestroy:function(){this.isElement&&this.ownerCt.unmask(),Ext.destroy(this.maskEl),this.callParent()}}),Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",associationKeyFunction:null,defaultReaderType:"json",isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1e3,create:function(t){switch(Ext.isString(t)&&(t={type:t}),t.type){case"belongsTo":return new Ext.data.association.BelongsTo(t);case"hasMany":return new Ext.data.association.HasMany(t);case"hasOne":return new Ext.data.association.HasOne(t)}return t}},constructor:function(t){Ext.apply(this,t);var e,i=Ext.ModelManager.types,n=t.ownerModel,s=t.associatedModel,r=i[n],o=i[s],a=t.associationKey;a&&(e=String(a).search(/[\[\.]/))>=0&&(this.associationKeyFunction=Ext.functionFactory("obj","return obj"+(e>0?".":"")+a)),this.initialConfig=t,this.ownerModel=r,this.associatedModel=o,Ext.applyIf(this,{ownerName:n,associatedName:s}),this.associationId="association"+ ++this.statics().AUTO_ID},getReader:function(){var t=this.reader,e=this.associatedModel;return t&&(Ext.isString(t)&&(t={type:t}),t.isReader?t.setModel(e):Ext.applyIf(t,{model:e,type:this.defaultReaderType}),this.reader=Ext.createByAlias("reader."+t.type,t)),this.reader||null}}),Ext.define("Ext.ModelManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ModelMgr",singleton:!0,typeName:"mtype",associationStack:[],registerType:function(t,e){var i,n=e.prototype;return n&&n.isModel?i=e:(e.extend||(e.extend="Ext.data.Model"),i=Ext.define(t,e)),this.types[t]=i,i},onModelDefined:function(t){var e,i,n,s=this.associationStack,r=s.length,o=[];for(i=0;i<r;i++)(e=s[i]).associatedModel==t.modelName&&o.push(e);for(i=0,r=o.length;i<r;i++)n=o[i],this.types[n.ownerModel].prototype.associations.add(Ext.data.association.Association.create(n)),Ext.Array.remove(s,n)},registerDeferredAssociation:function(t){this.associationStack.push(t)},getModel:function(t){var e=t;return"string"==typeof e&&(e=this.types[e]),e},create:function(t,e,i){return new("function"==typeof e?e:this.types[e||t.name])(t,i)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}}),Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:Ext.layout.component.Auto,type:"progressbar",beginLayout:function(t){var e,i;if(this.callParent(arguments),!t.textEls)if((i=this.owner.textEl).isComposite)for(t.textEls=[],e=(i=i.elements).length;e--;)t.textEls[e]=t.getEl(Ext.get(i[e]));else t.textEls=[t.getEl("textEl")]},calculate:function(t){var e,i,n;if(this.callParent(arguments),Ext.isNumber(n=t.getProp("width")))for(n-=t.getBorderInfo().width,e=(i=t.textEls).length;e--;)i[e].setWidth(n);else this.done=!1}}),Ext.define("Ext.ProgressBar",{extend:Ext.Component,alias:"widget.progressbar",baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent(),this.addEvents("update")},initRenderData:function(){return Ext.apply(this.callParent(),{internalText:!this.hasOwnProperty("textEl"),text:this.text||"&#160;",percentage:this.value?100*this.value:0})},onRender:function(){this.callParent(arguments),this.textEl?(this.textEl=Ext.get(this.textEl),this.updateText(this.text)):this.textEl=this.el.select("."+this.baseCls+"-text")},updateProgress:function(t,e,i){var n=this.value;return this.value=t||0,e&&this.updateText(e),this.rendered&&!this.isDestroyed&&(!0===i||!1!==i&&this.animate?(this.bar.stopAnimation(),this.bar.animate(Ext.apply({from:{width:100*n+"%"},to:{width:100*this.value+"%"}},this.animate))):this.bar.setStyle("width",100*this.value+"%")),this.fireEvent("update",this,this.value,e),this},updateText:function(t){return this.text=t,this.rendered&&this.textEl.update(this.text),this},applyText:function(t){this.updateText(t)},getText:function(){return this.text},wait:function(t){var e,i=this;return i.waitTimer||(e=i,t=t||{},i.updateText(t.text),i.waitTimer=Ext.TaskManager.start({run:function(e){var n=t.increment||10;e-=1,i.updateProgress(100/n*((e+n)%n+1)*.01,null,t.animate)},interval:t.interval||1e3,duration:t.duration,onStop:function(){t.fn&&t.fn.apply(t.scope||i),i.reset()},scope:e})),i},isWaiting:function(){return null!==this.waitTimer},reset:function(t){return this.updateProgress(0),this.clearTimer(),!0===t&&this.hide(),this},clearTimer:function(){this.waitTimer&&(this.waitTimer.onStop=null,Ext.TaskManager.stop(this.waitTimer),this.waitTimer=null)},onDestroy:function(){var t=this.bar;this.clearTimer(),this.rendered&&(this.textEl.isComposite&&this.textEl.clear(),Ext.destroyMembers(this,"textEl","progressBar"),t&&this.animate&&t.stopAnimation()),this.callParent()}}),Ext.define("Ext.ShadowPool",{singleton:!0,markup:Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css"),shadows:[],pull:function(){var t=this.shadows.shift();return t||((t=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup))).autoBoxAdjust=!1),t},push:function(t){this.shadows.push(t)},reset:function(){var t,e=[].concat(this.shadows),i=e.length;for(t=0;t<i;t++)e[t].remove();this.shadows=[]}}),Ext.define("Ext.Shadow",{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(t){var e,i,n;switch(Ext.apply(this,t),Ext.isString(this.mode)||(this.mode=this.defaultMode),i=this.offset,n=Math.floor(i/2),this.opacity=50,this.mode.toLowerCase()){case"drop":e=Ext.supports.CSS3BoxShadow?{t:i,l:i,h:-i,w:-i}:{t:-n,l:-n,h:-n,w:-n};break;case"sides":e=Ext.supports.CSS3BoxShadow?{t:i,l:0,h:-i,w:0}:{t:-(1+n),l:1+n-2*i,h:-1,w:n-1};break;case"frame":e=Ext.supports.CSS3BoxShadow?{t:0,l:0,h:0,w:0}:{t:1+n-2*i,l:1+n-2*i,h:i-n-1,w:i-n-1};break;case"bottom":e=Ext.supports.CSS3BoxShadow?{t:i,l:0,h:-i,w:0}:{t:i,l:0,h:0,w:0}}this.adjusts=e},getShadowSize:function(){var t=this.el?this.offset:0,e=[t,t,t,t],i=this.mode.toLowerCase();return this.el&&"frame"!==i&&(e[0]=0,"drop"==i&&(e[3]=0)),e},offset:4,defaultMode:"drop",boxShadowProperty:function(){var t="boxShadow",e=document.documentElement.style;return"boxShadow"in e||("WebkitBoxShadow"in e?t="WebkitBoxShadow":"MozBoxShadow"in e&&(t="MozBoxShadow")),t}(),show:function(t){var e,i;t=Ext.get(t),e=parseInt(t.getStyle("z-index"),10)-1||0,i=t[this.localXYNames.get](),this.el||(this.el=Ext.ShadowPool.pull(),this.fixed?this.el.dom.style.position="fixed":this.el.dom.style.position="",this.el.dom.nextSibling!=t.dom&&this.el.insertBefore(t)),this.el.setStyle("z-index",this.zIndex||e),Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+this.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+this.offset+")"),this.realign(i[0],i[1],t.dom.offsetWidth,t.dom.offsetHeight),this.el.dom.style.display="block"},isVisible:function(){return!!this.el},realign:function(t,e,i,n){if(this.el){var s,r,o=this.adjusts,a=this.el,l=a.dom.style;a[this.localXYNames.set](t+o.l,e+o.t),s=Math.max(i+o.w,0)+"px",r=Math.max(n+o.h,0)+"px",l.width==s&&l.height==r||(l.width=s,l.height=r,Ext.supports.CSS3BoxShadow&&(l[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"))}},hide:function(){this.el&&(this.el.dom.style.display="none",Ext.ShadowPool.push(this.el),delete this.el)},setZIndex:function(t){this.zIndex=t,this.el&&this.el.setStyle("z-index",t)},setOpacity:function(t){this.el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(t=Math.floor(100*t/2)/100),this.opacity=t,this.el.setOpacity(t))}}),Ext.define("Ext.app.EventDomain",{statics:{instances:{}},isEventDomain:!0,constructor:function(){Ext.app.EventDomain.instances[this.type]=this,this.bus={},this.monitoredClasses=[]},dispatch:function(t,e,i){var n,s,r,o,a,l,h,d=this.bus[e];if(!d)return!0;for(n in d)if(d.hasOwnProperty(n)&&this.match(t,n)){s=d[n];for(r in s)if(s.hasOwnProperty(r))for(l=0,h=(o=s[r]).length;l<h;l++)if(!1===(a=o[l]).fire.apply(a,i))return!1}return!0},listen:function(t,e){var i,n,s,r,o,a,l,h,d,c=this.bus,u=this.idProperty,f=this.monitoredClasses,p=f.length;for(s in t)if(t.hasOwnProperty(s)&&(h=t[s])){u&&(s="*"===s?s:s.substring(1));for(d in h)if(h.hasOwnProperty(d)){for(r=null,o=h[d],a=e,l=new Ext.util.Event(e,d),Ext.isObject(o)&&(o=(r=o).fn,a=r.scope||e,delete r.fn,delete r.scope),"string"==typeof o&&(o=a[o]),l.addListener(o,a,r),i=p;i-- >0;)f[i].hasListeners._incr_(d);((n=(n=c[d]||(c[d]={}))[s]||(n[s]={}))[e.id]||(n[e.id]=[])).push(l)}}},match:function(t,e){var i=this.idProperty;return!!i&&("*"===e||t[i]===e)},monitor:function(t){var e=this,i=t.isInstance?t:t.prototype,n=i.fireEventArgs;e.monitoredClasses.push(t),i.fireEventArgs=function(t,i){var s=n.apply(this,arguments);return!1!==s&&(s=e.dispatch(this,t,i)),s}},unlisten:function(t){var e,i,n,s=this.bus;for(e in s)if(s.hasOwnProperty(e)&&(n=s[e]))for(i in n)delete n[i][t]}}),Ext.define("Ext.app.domain.Component",{extend:Ext.app.EventDomain,singleton:!0,type:"component",constructor:function(){this.callParent(),this.monitor(Ext.Component)},match:function(t,e){return t.is(e)}}),Ext.define("Ext.app.EventBus",{singleton:!0,constructor:function(){var t=Ext.app.EventDomain.instances;this.callParent(),this.domains=t,this.bus=t.component.bus},control:function(t,e){return this.domains.component.listen(t,e)},listen:function(t,e){var i,n=this.domains;for(i in t)t.hasOwnProperty(i)&&n[i].listen(t[i],e)},unlisten:function(t){var e,i=Ext.app.EventDomain.instances;for(e in i)i[e].unlisten(t)}}),Ext.define("Ext.data.StoreManager",{extend:Ext.util.MixedCollection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var t,e=0;t=arguments[e];e++)this.add(t)},unregister:function(){for(var t,e=0;t=arguments[e];e++)this.remove(this.lookup(t))},lookup:function(t){if(Ext.isArray(t)){var e,i,n=["field1"],s=!Ext.isArray(t[0]),r=t;if(s)for(r=[],e=0,i=t.length;e<i;++e)r.push([t[e]]);else for(e=2,i=t[0].length;e<=i;++e)n.push("field"+e);return new Ext.data.ArrayStore({data:r,fields:n,autoDestroy:!0,autoCreated:!0,expanded:s})}return Ext.isString(t)?this.get(t):Ext.data.AbstractStore.create(t)},getKey:function(t){return t.storeId}},function(){Ext.regStore=function(t,e){var i;return Ext.isObject(t)?e=t:e.storeId=t,i=e instanceof Ext.data.Store?e:new Ext.data.Store(e),Ext.data.StoreManager.register(i)},Ext.getStore=function(t){return Ext.data.StoreManager.lookup(t)}}),Ext.define("Ext.app.domain.Global",{extend:Ext.app.EventDomain,singleton:!0,type:"global",constructor:function(){this.callParent(),this.monitor(Ext.globalEvents)},listen:function(t,e){this.callParent([{global:t},e])},match:function(){return!0}}),Ext.define("Ext.data.ResultSet",{loaded:!0,count:0,total:0,success:!1,constructor:function(t){Ext.apply(this,t),this.totalRecords=this.total,void 0===t.count&&(this.count=this.records.length)}}),Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:Ext.util.Observable},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(t){this.mixins.observable.constructor.call(this,t),this.fieldCount=0,this.model=Ext.ModelManager.getModel(this.model),this.accessExpressionFn=Ext.Function.bind(this.createFieldAccessExpression,this),this.model&&this.model.prototype.fields&&this.buildExtractors(),this.addEvents("exception")},setModel:function(t,e){this.model=Ext.ModelManager.getModel(t),t&&this.buildExtractors(!0),e&&this.proxy&&this.proxy.setModel(this.model,!0)},read:function(t){var e;return t&&(e=t.responseText?this.getResponseData(t):this.readRecords(t)),e||this.nullResultSet},readRecords:function(t){var e,i,n,s,r,o,a;return this.lastFieldGeneration!==this.model.prototype.fields.generation&&this.buildExtractors(!0),this.rawData=t,t=this.getData(t),e=!0,i=0,n=[],this.successProperty&&(!1!==(o=this.getSuccess(t))&&"false"!==o||(e=!1)),this.messageProperty&&(a=this.getMessage(t)),(this.readRecordsOnFailure||e)&&((s=Ext.isArray(t)?t:this.getRoot(t))&&(r=s.length),this.totalProperty&&(o=parseInt(this.getTotal(t),10),isNaN(o)||(r=o)),s&&(i=(n=this.extractData(s)).length)),new Ext.data.ResultSet({total:r||i,count:i,records:n,success:e,message:a})},extractData:function(t){var e,i,n,s,r=this.model,o=t.length,a=new Array(o);for(!t.length&&Ext.isObject(t)&&(t=[t],o=1),s=0;s<o;s++)(i=t[s]).isModel?a[s]=i:(a[s]=n=new r(void 0,this.getId(i),i,e={}),n.phantom=!1,this.convertRecordData(e,i,n),this.implicitIncludes&&n.associations.length&&this.readAssociated(n,i));return a},readAssociated:function(t,e){for(var i,n,s,r,o=t.associations.items,a=0,l=o.length;a<l;a++)i=o[a],(n=this.getAssociatedDataRoot(e,i.associationKeyFunction||i.associationKey||i.name))&&((r=i.getReader())||(r=(s=i.associatedModel.getProxy())?s.getReader():new this.constructor({model:i.associatedName})),i.read(t,r,n))},getAssociatedDataRoot:function(t,e){return Ext.isFunction(e)?e(t):t[e]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(t){},onMetaChange:function(t){var e,i,n=t.fields||this.getFields();this.metaData=t,this.root=t.root||this.root,this.idProperty=t.idProperty||this.idProperty,this.totalProperty=t.totalProperty||this.totalProperty,this.successProperty=t.successProperty||this.successProperty,this.messageProperty=t.messageProperty||this.messageProperty,i=t.clientIdProperty,this.model?(this.model.setFields(n,this.idProperty,i),this.setModel(this.model,!0)):(e=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:n,clientIdProperty:i}),this.idProperty&&(e.idProperty=this.idProperty),this.setModel(e,!0))},getIdProperty:function(){var t=this.model.prototype.idField,e=this.idProperty;return!e&&t&&null==(e=t.mapping)&&(e=t.name),e},buildExtractors:function(t){var e,i=this,n=i.getIdProperty(),s=i.totalProperty,r=i.successProperty,o=i.messageProperty;!0===t&&delete i.convertRecordData,i.convertRecordData||(s&&(i.getTotal=i.createAccessor(s)),r&&(i.getSuccess=i.createAccessor(r)),o&&(i.getMessage=i.createAccessor(o)),n?(e=i.createAccessor(n),i.getId=function(t){var n=e.call(i,t);return void 0===n||""===n?null:n}):i.getId=function(){return null},i.convertRecordData=i.buildRecordDataExtractor(),i.lastFieldGeneration=i.model.prototype.fields.generation)},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");',"   if (fieldAccessExpression) { %}",'    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };\n","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","{% } else { %}",'<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'    dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","</tpl>","{% } %}","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var t=this.model.prototype,e={clientIdProp:t.clientIdProperty,fields:t.fields.items};return this.recordDataExtractorTemplate.createFieldAccessExpression=this.accessExpressionFn,Ext.functionFactory(this.recordDataExtractorTemplate.apply(e)).call(this)},destroyReader:function(){delete this.proxy,delete this.model,delete this.convertRecordData,delete this.getId,delete this.getTotal,delete this.getSuccess,delete this.getMessage}},function(){var t=this.prototype;Ext.apply(t,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""}),recordDataExtractorTemplate:new Ext.XTemplate(t.recordDataExtractorTemplate)})}),Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",metaProperty:"metaData",useSimpleAccessors:!1,readRecords:function(t){var e;return this.getMeta?(e=this.getMeta(t))&&this.onMetaChange(e):t.metaData&&this.onMetaChange(t.metaData),this.jsonData=t,this.callParent([t])},getResponseData:function(t){var e,i;try{return e=Ext.decode(t.responseText),this.readRecords(e)}catch(e){return i=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:e.message}),this.fireEvent("exception",this,t,i),Ext.Logger.warn("Unable to parse the JSON returned by the server"),i}},buildExtractors:function(){var t=this.metaProperty;this.callParent(arguments),this.root?this.getRoot=this.createAccessor(this.root):this.getRoot=Ext.identityFn,t&&(this.getMeta=this.createAccessor(t))},extractData:function(t){var e,i,n=this.record,s=[];if(n)for(!(e=t.length)&&Ext.isObject(t)&&(e=1,t=[t]),i=0;i<e;i++)s[i]=t[i][n];else s=t;return this.callParent([s])},createAccessor:function(){var t=/[\[\.]/;return function(e){if(Ext.isEmpty(e))return Ext.emptyFn;if(Ext.isFunction(e))return e;if(!0!==this.useSimpleAccessors){var i=String(e).search(t);if(i>=0)return Ext.functionFactory("obj","return obj"+(i>0?".":"")+e)}return function(t){return t[e]}}}(),createFieldAccessExpression:function(){var t=/[\[\.]/;return function(e,i,n){var s,r,o=e.mapping,a=o||0===o,l=a?o:e.name;if(!1!==o){if("function"==typeof l)s=i+".mapping("+n+", this)";else if(!0===this.useSimpleAccessors||(r=String(l).search(t))<0)a&&!isNaN(l)||(l='"'+l+'"'),s=n+"["+l+"]";else if(0===r)s=n+l;else{for(var h=l.split("."),d=h.length,c=1,u=n+"."+h[0],f=[u];c<d;c++)u+="."+h[c],f.push(u);s=f.join(" && ")}return s}}}()}),Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:!0,nameProperty:"name",writeRecordId:!0,isWriter:!0,constructor:function(t){Ext.apply(this,t)},write:function(t){for(var e=t.operation,i=e.records||[],n=i.length,s=0,r=[];s<n;s++)r.push(this.getRecordData(i[s],e));return this.writeRecords(t,r)},getRecordData:function(t,e){var i,n,s,r,o,a=!0===t.phantom,l=this.writeAllFields||a,h=t.fields,d=h.items,c={},u=t.clientIdProperty;if(l)for(o=d.length,r=0;r<o;r++)(n=d[r]).persist&&this.writeValue(c,n,t);else{i=t.getChanges();for(s in i)i.hasOwnProperty(s)&&(n=h.get(s)).persist&&this.writeValue(c,n,t)}return a?u&&e&&e.records.length>1&&(c[u]=t.internalId):this.writeRecordId&&(c[h.get(t.idProperty)[this.nameProperty]||t.idProperty]=t.getId()),c},writeValue:function(t,e,i){var n=e[this.nameProperty]||e.name,s=this.dateFormat||e.dateWriteFormat||e.dateFormat,r=i.get(e.name);e.serialize?t[n]=e.serialize(r,i):e.type===Ext.data.Types.DATE&&s&&Ext.isDate(r)?t[n]=Ext.Date.format(r,s):t[n]=r}}),Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:void 0,encode:!1,allowSingle:!0,expandData:!1,getExpandedData:function(t){for(var e,i,n,s,r,o=t.length,a=0,l=function(t,e){var i={};return i[t]=e,i};a<o;a++){e=t[a];for(i in e)if(e.hasOwnProperty(i)&&(n=i.split("."),(s=n.length-1)>0)){for(r=e[i];s>0;s--)r=l(n[s],r);e[n[0]]=e[n[0]]||{},Ext.Object.merge(e[n[0]],r),delete e[i]}}return t},writeRecords:function(t,e){var i=this.root;return this.expandData&&(e=this.getExpandedData(e)),this.allowSingle&&1===e.length&&(e=e[0]),this.encode?i&&(t.params[i]=Ext.encode(e)):(t.jsonData=t.jsonData||{},i?t.jsonData[i]=e:t.jsonData=e),t}}),Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],mixins:{observable:Ext.util.Observable},batchOrder:"create,update,destroy",batchActions:!0,defaultReaderType:"json",defaultWriterType:"json",isProxy:!0,constructor:function(t){t=t||{},this.proxyConfig=t,this.mixins.observable.constructor.call(this,t),void 0===this.model||this.model instanceof Ext.data.Model?(this.reader&&this.setReader(this.reader),this.writer&&this.setWriter(this.writer)):this.setModel(this.model)},setModel:function(t,e){this.model=Ext.ModelManager.getModel(t),this.setReader(this.reader),this.setWriter(this.writer),e&&this.store&&this.store.setModel(this.model)},getModel:function(){return this.model},setReader:function(t){var e=!0,i=this.reader;return void 0!==t&&"string"!=typeof t||(t={type:t},e=!1),t.isReader?t.setModel(this.model):(e&&(t=Ext.apply({},t)),Ext.applyIf(t,{proxy:this,model:this.model,type:this.defaultReaderType}),t=Ext.createByAlias("reader."+t.type,t)),t!==i&&t.onMetaChange&&(t.onMetaChange=Ext.Function.createSequence(t.onMetaChange,this.onMetaChange,this)),this.reader=t,this.reader},getReader:function(){return this.reader},onMetaChange:function(t){this.fireEvent("metachange",this,t)},setWriter:function(t){var e=!0;return void 0!==t&&"string"!=typeof t||(t={type:t},e=!1),t.isWriter||(e&&(t=Ext.apply({},t)),Ext.applyIf(t,{model:this.model,type:this.defaultWriterType}),t=Ext.createByAlias("writer."+t.type,t)),this.writer=t,this.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(t,e){var i,n,s,r,o,a,l,h,d,c=this.batchActions;for(void 0===t.operations&&(t={operations:t,listeners:e}),t.batch?Ext.isDefined(t.batch.runOperation)&&(i=Ext.applyIf(t.batch,{proxy:this,listeners:{}})):t.batch={proxy:this,listeners:t.listeners||{}},i||(i=new Ext.data.Batch(t.batch)),i.on("complete",Ext.bind(this.onBatchComplete,this,[t],0)),r=(s=this.batchOrder.split(",")).length,a=0;a<r;a++)if(o=s[a],n=t.operations[o])if(c)i.add(new Ext.data.Operation({action:o,records:n}));else for(h=n.length,l=0;l<h;l++)d=n[l],i.add(new Ext.data.Operation({action:o,records:[d]}));return i.start(),i},onBatchComplete:function(t,e){var i=t.scope||this;e.hasException?Ext.isFunction(t.failure)&&Ext.callback(t.failure,i,[e,t]):Ext.isFunction(t.success)&&Ext.callback(t.success,i,[e,t]),Ext.isFunction(t.callback)&&Ext.callback(t.callback,i,[e,t])},clone:function(){return new this.self(this.proxyConfig)}}),Ext.define("Ext.data.Operation",{synchronous:!0,action:void 0,filters:void 0,sorters:void 0,groupers:void 0,start:void 0,limit:void 0,batch:void 0,callback:void 0,scope:void 0,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(t){Ext.apply(this,t||{})},commitRecords:function(t){var e,i,n,s,r,o,a,l,h,d=this.actionCommitRecordsRe.test(this.action);if(!this.actionSkipSyncRe.test(this.action)&&(n=this.records)&&n.length){if(d&&(h=[]),n.length>1)if("update"==this.action||n[0].clientIdProperty)for((e=new Ext.util.MixedCollection).addAll(t),i=n.length;i--;)r=n[i],s=e.findBy(this.matchClientRec,r),l=r.copyFrom(s),d&&h.push(l);else for(o=0,a=n.length;o<a;++o)r=n[o],s=t[o],r&&s&&(l=this.updateRecord(r,s),d&&h.push(l));else l=this.updateRecord(n[0],t[0]),d&&(h[0]=l);if(d)for(i=n.length;i--;)n[i].commit(!1,h[i])}},updateRecord:function(t,e){return e&&(t.phantom||t.getId()===e.getId())?t.copyFrom(e):[]},matchClientRec:function(t){var e=this.getId();return!(!e||t.getId()!==e)||t.internalId===this.internalId},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(t){this.exception=!0,this.success=!1,this.running=!1,this.error=t},hasException:function(){return!0===this.exception},getError:function(){return this.error},getRecords:function(){var t=this.getResultSet();return this.records||(t?t.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return!0===this.started},isRunning:function(){return!0===this.running},isComplete:function(){return!0===this.complete},wasSuccessful:function(){return this.isComplete()&&!0===this.success},setBatch:function(t){this.batch=t},allowWrite:function(){return"read"!=this.action}}),Ext.define("Ext.data.AbstractStore",{mixins:{observable:Ext.util.Observable,sortable:Ext.util.Sortable},statics:{create:function(t){return t.isStore||(t.type||(t.type="store"),t=Ext.createByAlias("store."+t.type,t)),t}},onClassExtended:function(t,e,i){var n,s=e.model;"string"==typeof s&&(n=i.onBeforeCreated,i.onBeforeCreated=function(){var t=this,e=arguments;Ext.require(s,function(){n.apply(t,e)})})},remoteSort:!1,remoteFilter:!1,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:"memory",isDestroyed:!1,isStore:!0,sortRoot:"data",constructor:function(t){var e;Ext.apply(this,t),this.removed=[],this.mixins.observable.constructor.apply(this,arguments),this.model=Ext.ModelManager.getModel(this.model),Ext.applyIf(this,{modelDefaults:null}),!this.model&&this.fields&&(this.model=Ext.define("Ext.data.Store.ImplicitModel-"+(this.storeId||Ext.id()),{extend:"Ext.data.Model",fields:this.fields,proxy:this.proxy||this.defaultProxyType}),delete this.fields,this.implicitModel=!0),this.setProxy(this.proxy||this.model.getProxy()),this.proxy.on("metachange",this.onMetaChange,this),this.id&&!this.storeId&&(this.storeId=this.id,delete this.id),this.storeId&&Ext.data.StoreManager.register(this),this.mixins.sortable.initSortable.call(this),e=this.decodeFilters(this.filters),this.filters=new Ext.util.MixedCollection,this.filters.addAll(e)},setProxy:function(t){return t instanceof Ext.data.proxy.Proxy?t.setModel(this.model):(Ext.isString(t)&&(t={type:t}),Ext.applyIf(t,{model:this.model}),t=Ext.createByAlias("proxy."+t.type,t)),this.proxy=t,this.proxy},getProxy:function(){return this.proxy},onMetaChange:function(t,e){this.fireEvent("metachange",this,e)},create:function(t,e){var i,n=Ext.ModelManager.create(Ext.applyIf(t,this.modelDefaults),this.model.modelName);return e=e||{},Ext.applyIf(e,{action:"create",records:[n]}),i=new Ext.data.Operation(e),this.proxy.create(i,this.onProxyWrite,this),n},read:function(){return this.load.apply(this,arguments)},update:function(t){var e;return t=t||{},Ext.applyIf(t,{action:"update",records:this.getUpdatedRecords()}),e=new Ext.data.Operation(t),this.proxy.update(e,this.onProxyWrite,this)},onProxyWrite:function(t){var e=t.wasSuccessful(),i=t.getRecords();switch(t.action){case"create":this.onCreateRecords(i,t,e);break;case"update":this.onUpdateRecords(i,t,e);break;case"destroy":this.onDestroyRecords(i,t,e)}e&&(this.fireEvent("write",this,t),this.fireEvent("datachanged",this),this.fireEvent("refresh",this)),Ext.callback(t.callback,t.scope||this,[i,t,e])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(t,e,i){i&&(this.removed=[])},destroy:function(t){var e;return t=t||{},Ext.applyIf(t,{action:"destroy",records:this.getRemovedRecords()}),e=new Ext.data.Operation(t),this.proxy.destroy(e,this.onProxyWrite,this)},onBatchOperationComplete:function(t,e){return this.onProxyWrite(e)},onBatchComplete:function(t,e){var i,n=t.operations,s=n.length;for(this.suspendEvents(),i=0;i<s;i++)this.onProxyWrite(n[i]);this.resumeEvents(),this.fireEvent("datachanged",this),this.fireEvent("refresh",this)},onBatchException:function(t,e){},filterNew:function(t){return!0===t.phantom&&t.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(t){return!0===t.dirty&&!0!==t.phantom&&t.isValid()},getRemovedRecords:function(){return this.removed},filter:function(t,e){},decodeFilters:function(t){Ext.isArray(t)||(t=void 0===t?[]:[t]);var e,i,n=t.length,s=Ext.util.Filter;for(i=0;i<n;i++)(e=t[i])instanceof s||(Ext.apply(e,{root:"data"}),e.fn&&(e.filterFn=e.fn),"function"==typeof e&&(e={filterFn:e}),t[i]=new s(e));return t},clearFilter:function(t){},isFiltered:function(){},filterBy:function(t,e){},sync:function(t){var e={},i=this.getNewRecords(),n=this.getUpdatedRecords(),s=this.getRemovedRecords(),r=!1;return i.length>0&&(e.create=i,r=!0),n.length>0&&(e.update=n,r=!0),s.length>0&&(e.destroy=s,r=!0),r&&!1!==this.fireEvent("beforesync",e)&&(t=t||{},this.proxy.batch(Ext.apply(t,{operations:e,listeners:this.getBatchListeners()}))),this},getBatchListeners:function(){var t={scope:this,exception:this.onBatchException};return"operation"==this.batchUpdateMode?t.operationcomplete=this.onBatchOperationComplete:t.complete=this.onBatchComplete,t},save:function(){return this.sync.apply(this,arguments)},load:function(t){var e;return t=Ext.apply({action:"read",filters:this.filters.items,sorters:this.getSorters()},t),this.lastOptions=t,e=new Ext.data.Operation(t),!1!==this.fireEvent("beforeload",this,e)&&(this.loading=!0,this.proxy.read(e,this.onProxyLoad,this)),this},reload:function(t){return this.load(Ext.apply(this.lastOptions,t))},afterEdit:function(t,e){var i,n;if(this.autoSync&&!this.autoSyncSuspended){for(i=e.length;i--;)if(t.fields.get(e[i]).persist){n=!0;break}n&&this.sync()}this.onUpdate(t,Ext.data.Model.EDIT,e),this.fireEvent("update",this,t,Ext.data.Model.EDIT,e)},afterReject:function(t){this.onUpdate(t,Ext.data.Model.REJECT,null),this.fireEvent("update",this,t,Ext.data.Model.REJECT,null)},afterCommit:function(t,e){e||(e=null),this.onUpdate(t,Ext.data.Model.COMMIT,e),this.fireEvent("update",this,t,Ext.data.Model.COMMIT,e)},onUpdate:Ext.emptyFn,onIdChanged:function(t,e,i,n){this.fireEvent("idchanged",this,t,e,i,n)},destroyStore:function(){this.isDestroyed||(this.clearListeners(),this.storeId&&Ext.data.StoreManager.unregister(this),this.clearData(),this.data=this.tree=this.sorters=this.filters=this.groupers=null,this.reader&&this.reader.destroyReader(),this.proxy=this.reader=this.writer=null,this.isDestroyed=!0,this.implicitModel?Ext.destroy(this.model):this.model=null)},getState:function(){var t,e,i=this,n=!!i.groupers,s=[],r=[],o=[];if(n&&i.groupers.each(function(e){s[s.length]=e.serialize(),t=!0}),i.sorters&&i.sorters.each(function(e){n&&!i.groupers.contains(e)&&(r[r.length]=e.serialize(),t=!0)}),i.filters&&i.statefulFilters&&i.filters.each(function(e){o[o.length]=e.serialize(),t=!0}),t)return e={},s.length&&(e.groupers=s),r.length&&(e.sorters=r),o.length&&(e.filters=o),e},applyState:function(t){var e,i=!!this.sorters,n=!!this.groupers,s=!!this.filters;n&&t.groupers&&(this.groupers.clear(),this.groupers.addAll(this.decodeGroupers(t.groupers))),i&&t.sorters&&(this.sorters.clear(),this.sorters.addAll(this.decodeSorters(t.sorters))),s&&t.filters&&(this.filters.clear(),this.filters.addAll(this.decodeFilters(t.filters))),i&&n&&this.sorters.insert(0,this.groupers.getRange()),(this.remoteSort||this.remoteGroup||this.remoteFilter)&&this.reload(),s&&this.filters.length&&!this.remoteFilter&&(this.filter(),e=this.sortOnFilter),i&&this.sorters.length&&!this.remoteSort&&!e&&this.sort()},doSort:function(t){this.remoteSort?this.load():(this.data.sortBy(t),this.fireEvent("datachanged",this),this.fireEvent("refresh",this)),this.fireEvent("sort",this,this.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=!0},resumeAutoSync:function(){this.autoSyncSuspended=!1}}),Ext.define("Ext.app.domain.Store",{extend:Ext.app.EventDomain,singleton:!0,type:"store",idProperty:"storeId",constructor:function(){this.callParent(),this.monitor(Ext.data.AbstractStore)}}),Ext.define("Ext.app.Controller",{mixins:{observable:Ext.util.Observable},statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(t,e){return function(){return this[t](e)}},getGetterName:function(t,e){var i,n="get",s=t.split("."),r=s.length;for(i=0;i<r;i++)n+=Ext.String.capitalize(s[i]);return n+=e},processDependencies:function(t,e,i,n,s){if(s&&s.length){var r,o,a,l,h,d,c,u=this.strings[n];for(h=0,d=s.length;h<d;h++)l=s[h],o=(r=this.getFullName(l,n,i)).absoluteName,a=r.shortName,e.push(o),t[this.getGetterName(a,u.upper)]=c=this.createGetter(u.getter,l),"controller"!==n&&(c["Ext.app.getter"]=!0)}},getFullName:function(t,e,i){var n,s,r=t;return(n=t.indexOf("@"))>0?(r=t.substring(0,n),s=t.substring(n+1)+"."+r):t.indexOf(".")>0&&(Ext.ClassManager.isCreated(t)||Ext.Loader.isAClassNameWithAKnownPrefix(t))?s=t:i?(s=i+"."+e+"."+t,r=t):s=t,{absoluteName:s,shortName:r}}},application:null,onClassExtended:function(t,e,i){var n=i.onBeforeCreated;i.onBeforeCreated=function(t,e){var i,s,r,o,a=Ext.app.Controller,l=a.controllerRegex,h=[];r=t.prototype,i=Ext.getClassName(t),(s=e.$namespace||Ext.app.getNamespace(i)||(o=l.exec(i))&&o[1])&&(r.$namespace=s),a.processDependencies(r,h,s,"model",e.models),a.processDependencies(r,h,s,"view",e.views),a.processDependencies(r,h,s,"store",e.stores),a.processDependencies(r,h,s,"controller",e.controllers),Ext.require(h,Ext.Function.pass(n,arguments,this))}},constructor:function(t){this.mixins.observable.constructor.call(this,t),this.refs&&this.ref(this.refs),this.eventbus=Ext.app.EventBus,this.initAutoGetters()},initAutoGetters:function(){var t,e,i=this.self.prototype;for(t in i)(e=i[t])&&e["Ext.app.getter"]&&e.call(this)},doInit:function(t){this._initialized||(this.init(t),this._initialized=!0)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,ref:function(t){var e,i,n,s=0,r=t.length;for(t=Ext.Array.from(t),this.references=this.references||[];s<r;s++)i=(e=t[s]).ref,this[n="get"+Ext.String.capitalize(i)]||(this[n]=Ext.Function.pass(this.getRef,[i,e],this)),this.references.push(i.toLowerCase())},addRef:function(t){this.ref(t)},getRef:function(t,e,i){var n=this.refCache||(this.refCache={}),s=n[t];return e=e||{},i=i||{},Ext.apply(e,i),e.forceCreate?Ext.ComponentManager.create(e,"component"):(s||(e.selector&&(n[t]=s=Ext.ComponentQuery.query(e.selector)[0]),!s&&e.autoCreate&&(n[t]=s=Ext.ComponentManager.create(e,"component")),s&&s.on("beforedestroy",function(){n[t]=null})),s)},hasRef:function(t){var e=this.references;return e&&-1!==Ext.Array.indexOf(e,t.toLowerCase())},control:function(t,e,i){var n,s=i;Ext.isString(t)?(n={})[t]=e:(n=t,s=e),this.eventbus.control(n,s||this)},listen:function(t,e){this.eventbus.listen(t,e||this)},getController:function(t){var e=this.application;return t===this.id?this:e&&e.getController(t)},getStore:function(t){var e,i;return e=-1==t.indexOf("@")?t:t.split("@")[0],(i=Ext.StoreManager.get(e))||(t=Ext.app.Controller.getFullName(t,"store",this.$namespace))&&(i=Ext.create(t.absoluteName,{storeId:e})),i},getModel:function(t){var e=Ext.app.Controller.getFullName(t,"model",this.$namespace);return e&&Ext.ModelManager.getModel(e.absoluteName)},getView:function(t){var e=Ext.app.Controller.getFullName(t,"view",this.$namespace);return e&&Ext.ClassManager.get(e.absoluteName)},getApplication:function(){return this.application}}),Ext.define("Ext.container.DockingContainer",{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(t,e){var i,n,s=0;for(n=(t=this.prepareItems(t)).length;s<n;s++)(i=t[s]).dock=i.dock||"top","left"!==i.dock&&"right"!==i.dock||this.horizontalDocks++,void 0!==e?(s+=e,this.dockedItems.insert(s,i)):this.dockedItems.add(i),i.onAdded(this,s),this.hasListeners.dockedadd&&this.fireEvent("dockedadd",this,i,s),this.onDockedAdd!==Ext.emptyFn&&this.onDockedAdd(i);return this.rendered&&!this.suspendLayout&&this.updateLayout(),t},destroyDockedItems:function(){var t,e=this.dockedItems;if(e)for(;t=e.first();)this.removeDocked(t,!0)},doRenderDockedItems:function(t,e,i){var n,s,r=e.$comp.componentLayout;r.getDockedItems&&!e.$skipDockedItems&&(s=(n=r.getDockedItems("render",!i))&&r.getItemsRenderTree(n))&&Ext.DomHelper.generateMarkup(s,t)},getDockedComponent:function(t){return Ext.isObject(t)&&(t=t.getItemId()),this.dockedItems.get(t)},getDockedItems:function(t,e){var i=this.getComponentLayout().getDockedItems("render",e);return t&&i.length&&(i=Ext.ComponentQuery.query(t,i)),i},getDockingRefItems:function(t,e){var i,n=t&&"*,* *",s=this.getDockedItems(n,!0);return s.push.apply(s,e),i=this.getDockedItems(n,!1),s.push.apply(s,i),s},initDockingItems:function(){var t=this.dockedItems;this.dockedItems=new Ext.util.AbstractMixedCollection(!1,this.getComponentId),t&&this.addDocked(t)},insertDocked:function(t,e){this.addDocked(e,t)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(t,e){var i,n;return e=!0===e||!1!==e&&this.autoDestroy,this.dockedItems.contains(t)?("left"!==t.dock&&"right"!==t.dock||this.horizontalDocks--,i=this.componentLayout,(n=i&&this.rendered)&&i.onRemove(t),this.dockedItems.remove(t),t.onRemoved(t.destroying||e),this.onDockedRemove(t),e?t.destroy():n&&i.afterRemove(t),this.hasListeners.dockedremove&&this.fireEvent("dockedremove",this,t),this.destroying||this.suspendLayout||this.updateLayout(),t):t},setupDockingRenderTpl:function(t){t.renderDockedItems=this.doRenderDockedItems}}),Ext.define("Ext.toolbar.Fill",{extend:Ext.Component,alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:!0,flex:1}),Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(t,e){this.layout=t,Ext.apply(this,e)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(t){var e,i=t.state.boxPlan;i&&i.tooNarrow?(e=this.handleOverflow(t))&&e.reservedSpace&&this.layout.publishInnerCtSize(t,e.reservedSpace):this.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(t){var e,i,n=this.layout.owner;n.hasListeners.overflowchange&&(i=(e=n.query(">[hidden]")).length)!==this.lastHiddenCount&&(n.fireEvent("overflowchange",this.lastHiddenCount,i,e),this.lastHiddenCount=i)},onRemove:Ext.emptyFn,getItem:function(t){return this.layout.owner.getComponent(t)},getOwnerType:function(t){return t.isToolbar?"toolbar":t.isTabBar?"tabbar":t.isMenu?"menu":t.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}}),Ext.define("Ext.toolbar.Item",{extend:Ext.Component,alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.define("Ext.toolbar.Separator",{extend:Ext.toolbar.Item,alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1,border:!0}),Ext.define("Ext.button.Manager",{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){this.initialized||(Ext.getBody().on("keydown",this.onKeyDown,this),this.initialized=!0)},onKeyDown:function(t){var e,i=t.getKey();i!==t.SPACE&&i!==t.ENTER||(e=t.getTarget(this.buttonSelector))&&Ext.getCmp(e.id).onClick(t)},toggleGroup:function(t,e){if(e){var i,n=this.groups[t.toggleGroup],s=n.length;for(i=0;i<s;i++)n[i]!==t&&n[i].toggle(!1)}},register:function(t){var e=this.groups,i=e[t.toggleGroup];this.init(),t.toggleGroup&&(i||(i=e[t.toggleGroup]=[]),i.push(t),t.on("toggle",this.toggleGroup,this))},unregister:function(t){if(t.toggleGroup){var e=this.groups[t.toggleGroup];e&&(Ext.Array.remove(e,t),t.un("toggle",this.toggleGroup,this))}},getPressed:function(t){var e,i=this.groups[t],n=0;if(i)for(e=i.length;n<e;n++)if(!0===i[n].pressed)return i[n];return null}}),Ext.define("Ext.menu.Manager",{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var t=this;t.active=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,function(){t.active.length>0&&t.hideAll()},t)},hideAll:function(){var t,e,i,n=this.active;if(n&&n.length>0){for(i=(t=n.clone().items).length,e=0;e<i;e++)t[e].hide();return!0}return!1},onHide:function(t){var e=this.active;e.remove(t),e.length<1&&(Ext.getDoc().un("mousedown",this.onMouseDown,this),this.attached=!1)},onShow:function(t){var e=this.active,i=this.attached;this.lastShow=new Date,e.add(t),i||(Ext.getDoc().on("mousedown",this.onMouseDown,this,{buffer:Ext.isIE9m?10:void 0}),this.attached=!0),t.toFront()},onBeforeHide:function(t){t.activeChild&&t.activeChild.hide(),t.autoHideTimer&&(clearTimeout(t.autoHideTimer),delete t.autoHideTimer)},onBeforeShow:function(t){var e=this.active,i=t.parentMenu;e.remove(t),i||t.allowOtherMenus?i&&i.activeChild&&t!=i.activeChild&&i.activeChild.hide():this.hideAll()},onMouseDown:function(t){var e=this.active,i=this.lastShow,n=!0;Ext.Date.getElapsed(i)>50&&e.length>0&&!t.getTarget(this.menuSelector)&&(Ext.isIE9m&&!Ext.getBody().contains(t.target)&&(n=!1),n&&this.hideAll())},register:function(t){this.active||this.init(),t.floating&&(this.menus[t.id]=t,t.on({beforehide:this.onBeforeHide,hide:this.onHide,beforeshow:this.onBeforeShow,show:this.onShow,scope:this}))},get:function(t){var e=this.menus;return"string"==typeof t?e?e[t]:null:t.isMenu?t:Ext.isArray(t)?new Ext.menu.Menu({items:t}):Ext.ComponentManager.create(t,"menu")},unregister:function(t){var e=this.menus,i=this.active;delete e[t.id],i.remove(t),t.un({beforehide:this.onBeforeHide,hide:this.onHide,beforeshow:this.onBeforeShow,show:this.onShow,scope:this})},registerCheckable:function(t){var e=this.groups,i=t.group;i&&(e[i]||(e[i]=[]),e[i].push(t))},unregisterCheckable:function(t){var e=this.groups,i=t.group;i&&Ext.Array.remove(e[i],t)},onCheckChange:function(t,e){var i,n,s,r=this.groups,o=t.group,a=0;if(o&&e)for(n=(i=r[o]).length;a<n;a++)(s=i[a])!=t&&s.setChecked(!1)}}),Ext.define("Ext.util.ClickRepeater",{extend:Ext.util.Observable,constructor:function(t,e){this.el=Ext.get(t),this.el.unselectable(),Ext.apply(this,e),this.callParent(),this.addEvents("mousedown","click","mouseup"),this.disabled||(this.disabled=!0,this.enable()),this.handler&&this.on("click",this.handler,this.scope||this)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),Ext.isIE&&!(Ext.isIE10p||Ext.isStrict&&Ext.isIE9)&&this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(t){!t&&this.disabled||(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeAllListeners()),this.disabled=!0},setDisabled:function(t){this[t?"disable":"enable"]()},eventOptions:function(t){this.preventDefault&&t.preventDefault(),this.stopDefault&&t.stopEvent()},destroy:function(){this.disable(!0),Ext.destroy(this.el),this.clearListeners()},handleDblClick:function(t){clearTimeout(this.timer),this.el.blur(),this.fireEvent("mousedown",this,t),this.fireEvent("click",this,t)},handleMouseDown:function(t){clearTimeout(this.timer),this.el.blur(),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,t),this.fireEvent("click",this,t),this.accelerate&&(this.delay=400),t=new Ext.EventObjectImpl(t),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[t])},click:function(t){this.fireEvent("click",this,t),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[t])},easeOutExpo:function(t,e,i,n){return t==n?e+i:i*(1-Math.pow(2,-10*t/n))+e},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click()},handleMouseUp:function(t){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,t)}}),Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:Ext.layout.component.Auto,type:"button",htmlRE:/<.*>/,beginLayout:function(t){var e=this.owner,i=e.text;this.callParent(arguments),t.btnWrapContext=t.getEl("btnWrap"),t.btnElContext=t.getEl("btnEl"),t.btnInnerElContext=t.getEl("btnInnerEl"),t.btnIconElContext=t.getEl("btnIconEl"),i&&this.htmlRE.test(i)&&(t.isHtmlText=!0,e.btnInnerEl.setStyle("line-height","normal"),e.btnInnerEl.setStyle("padding-top",""))},beginLayoutCycle:function(t){var e=this.owner,i=this.lastWidthModel;this.callParent(arguments),i&&!this.lastWidthModel.shrinkWrap&&t.widthModel.shrinkWrap&&(e.btnWrap.setStyle("height",""),e.btnEl.setStyle("height",""),e.btnInnerEl.setStyle("line-height",""))},calculate:function(t){var e,i,n,s,r=this.owner,o=t.btnElContext,a=t.btnInnerElContext,l=t.btnWrapContext;this.callParent(arguments),t.heightModel.shrinkWrap?(n=r.btnEl.getHeight(),t.isHtmlText&&(this.centerInnerEl(t,n),this.ieCenterIcon(t,n))):(e=t.getProp("height"))?(n=i=e-t.getFrameInfo().height-t.getPaddingInfo().height,(r.menu||r.split)&&"bottom"===r.arrowAlign&&(n-=l.getPaddingInfo().bottom),s=n,!(r.icon||r.iconCls||r.glyph)||"top"!==r.iconAlign&&"bottom"!==r.iconAlign||(s-=a.getPaddingInfo().height),l.setProp("height",i),o.setProp("height",n),t.isHtmlText?this.centerInnerEl(t,n):a.setProp("line-height",s+"px"),this.ieCenterIcon(t,n)):this.done=!1},centerInnerEl:function(t,e){var i=t.btnInnerElContext,n=this.owner.btnInnerEl.getHeight();t.heightModel.shrinkWrap&&e<n?t.btnElContext.setHeight(n):e>n&&i.setProp("padding-top",Math.round((e-n)/2)+i.getPaddingInfo().top)},ieCenterIcon:function(t,e){var i=this.owner.iconAlign;!Ext.isIEQuirks&&!Ext.isIE6||"left"!==i&&"right"!==i||t.btnIconElContext.setHeight(e)},publishInnerWidth:function(t,e){this.owner.getFrameInfo().table&&t.btnInnerElContext.setWidth(e-t.getFrameInfo().width-t.getPaddingInfo().width-t.btnWrapContext.getPaddingInfo().width)}}),Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(t,e,i){var n=this.shared;return n||(n=this.shared=new this(t,i)),n.bind(t),n.setFixedWidth(i||"auto"),n.getSize(e)},destroy:function(){Ext.destroy(this.shared),this.shared=null}},constructor:function(t,e){var i=this.measure=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});this.el=Ext.get(t),i.position("absolute"),i.setLocalXY(-1e3,-1e3),i.hide(),e&&i.setWidth(e)},getSize:function(t){var e,i=this.measure;return i.update(t),e=i.getSize(),i.update(""),e},bind:function(t){this.el=Ext.get(t),this.measure.setStyle(this.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(t){this.measure.setWidth(t)},getWidth:function(t){return this.measure.dom.style.width="auto",this.getSize(t).width},getHeight:function(t){return this.getSize(t).height},destroy:function(){this.measure.remove(),delete this.el,delete this.measure}},function(){Ext.Element.addMethods({getTextWidth:function(t,e,i){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(t,this.dom.innerHTML,!0)).width,e||0,i||1e6)}})}),Ext.define("Ext.button.Button",{alias:"widget.button",extend:Ext.Component,alternateClassName:"Ext.Button",isButton:!0,componentLayout:"button",hidden:!1,disabled:!1,pressed:!1,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,textAlign:"center",type:"button",clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",border:!0,childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<div id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<a id="{id}-btnEl" class="{baseCls}-button" role="button" hidefocus="on" unselectable="on"','<tpl if="tabIndex != null>',' tabIndex="{tabIndex}"',"</tpl>",'<tpl if="href">',' href="{href}"','<tpl if="hrefTarget">',' target="{hrefTarget}"',"</tpl>","</tpl>",">",'<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</a>","</div>",'<tpl if="closable">','<a id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" href="#"></a>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,_triggerRegion:{},initComponent:function(){this.addCls("x-unselectable"),this.callParent(arguments),this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout","textchange","iconchange","glyphchange"),this.menu&&(this.split=!0,this.menu=Ext.menu.Manager.get(this.menu),this.menu.ownerButton=this),this.url&&(this.href=this.url),this.href&&!this.hasOwnProperty("preventDefault")&&(this.preventDefault=!1),Ext.isString(this.toggleGroup)&&""!==this.toggleGroup&&(this.enableToggle=!0),this.html&&!this.text&&(this.text=this.html,delete this.html),this.glyphCls=this.baseCls+"-glyph"},getActionEl:function(){return this.btnEl},getFocusEl:function(){return this.useElForFocus?this.el:this.btnEl},onFocus:function(t){this.useElForFocus=!0,this.callParent(arguments),this.useElForFocus=!1},onBlur:function(t){this.useElForFocus=!0,this.callParent(arguments),this.useElForFocus=!1},onDisable:function(){this.useElForFocus=!0,this.callParent(arguments),this.useElForFocus=!1},setComponentCls:function(){var t=this.getComponentCls();Ext.isEmpty(this.oldCls)||(this.removeClsWithUI(this.oldCls),this.removeClsWithUI(this.pressedCls)),this.oldCls=t,this.addClsWithUI(t)},getComponentCls:function(){var t=[];return this.iconCls||this.icon||this.glyph?this.text?t.push("icon-text-"+this.iconAlign):t.push("icon"):this.text&&t.push("noicon"),this.pressed&&t.push(this.pressedCls),t},beforeRender:function(){this.callParent(),this.oldCls=this.getComponentCls(),this.addClsWithUI(this.oldCls),Ext.applyIf(this.renderData,this.getTemplateArgs())},onRender:function(){var t,e,i;this.doc=Ext.getDoc(),this.callParent(arguments),e=this.el,this.tooltip&&this.setTooltip(this.tooltip,!0),this.handleMouseEvents?(i={scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousedown:this.onMouseDown},this.split&&(i.mousemove=this.onMouseMove)):i={scope:this},this.menu&&(this.mon(this.menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide}),this.keyMap=new Ext.util.KeyMap({target:this.el,key:Ext.EventObject.DOWN,handler:this.onDownKey,scope:this})),this.repeat?this.mon(new Ext.util.ClickRepeater(e,Ext.isObject(this.repeat)?this.repeat:{}),"click",this.onRepeatClick,this):i[this.clickEvent]?t=!0:i[this.clickEvent]=this.onClick,this.mon(e,i),t&&this.mon(e,this.clickEvent,this.onClick,this),Ext.button.Manager.register(this)},getTemplateArgs:function(){var t,e=this.glyph,i=Ext._glyphFontFamily;return"string"==typeof e&&(e=(t=e.split("@"))[0],i=t[1]),{href:this.getHref(),hrefTarget:this.hrefTarget,type:this.type,innerCls:this.getInnerCls(),splitCls:this.getSplitCls(),iconUrl:this.icon,iconCls:this.iconCls,glyph:e,glyphCls:e?this.glyphCls:"",glyphFontFamily:i,text:this.text||"&#160;",tabIndex:null==this.tabIndex?0:this.tabIndex}},setHref:function(t){this.href=t,this.btnEl.dom.href=this.getHref()},getHref:function(){var t=this.href;return!!t&&Ext.urlAppend(t,Ext.Object.toQueryString(Ext.apply({},this.params,this.baseParams)))},setParams:function(t){this.params=t,this.btnEl.dom.href=this.getHref()},getSplitCls:function(){return this.split?this.baseCls+"-"+this.arrowCls+" "+this.baseCls+"-"+this.arrowCls+"-"+this.arrowAlign:""},getInnerCls:function(){return this.textAlign?this.baseCls+"-inner-"+this.textAlign:""},setIcon:function(t){t=t||"";var e=this.btnIconEl,i=this.icon||"";return this.icon=t,t!=i&&(e&&(e.setStyle("background-image",t?"url("+t+")":""),this.setComponentCls(),this.didIconStateChange(i,t)&&this.updateLayout()),this.fireEvent("iconchange",this,i,t)),this},setIconCls:function(t){t=t||"";var e=this.btnIconEl,i=this.iconCls||"";return this.iconCls=t,i!=t&&(e&&(e.removeCls(i),e.addCls(t||""),this.setComponentCls(),this.didIconStateChange(i,t)&&this.updateLayout()),this.fireEvent("iconchange",this,i,t)),this},setGlyph:function(t){t=t||0;var e,i,n=this.btnIconEl,s=this.glyph;return this.glyph=t,n&&("string"==typeof t&&(t=(i=t.split("@"))[0],e=i[1]||Ext._glyphFontFamily),t?s!=t&&(n.dom.innerHTML="&#"+t+";"):n.dom.innerHTML="",e&&n.setStyle("font-family",e)),this.fireEvent("glyphchange",this,this.glyph,s),this},setTooltip:function(t,e){return this.rendered?(e&&t||this.clearTip(),t&&(Ext.quickTipsActive&&Ext.isObject(t)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.btnEl.id},t)),this.tooltip=t):this.btnEl.dom.setAttribute(this.getTipAttr(),t))):this.tooltip=t,this},setTextAlign:function(t){var e=this.btnEl;return e&&(e.removeCls(this.baseCls+"-inner-"+this.textAlign),e.addCls(this.baseCls+"-inner-"+t)),this.textAlign=t,this},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},getRefItems:function(t){var e,i=this.menu;return i&&(e=i.getRefItems(t)).unshift(i),e||[]},clearTip:function(){var t=this.btnEl;Ext.quickTipsActive&&Ext.isObject(this.tooltip)?Ext.tip.QuickTipManager.unregister(t):t.dom.removeAttribute(this.getTipAttr())},beforeDestroy:function(){this.rendered&&this.clearTip(),this.menu&&!1!==this.destroyMenu&&Ext.destroy(this.menu),Ext.destroy(this.btnInnerEl,this.repeater),this.callParent()},onDestroy:function(){this.rendered&&(this.doc.un("mouseover",this.monitorMouseOver,this),this.doc.un("mouseup",this.onMouseUp,this),delete this.doc,Ext.destroy(this.keyMap),delete this.keyMap),Ext.button.Manager.unregister(this),this.callParent()},setHandler:function(t,e){return this.handler=t,this.scope=e,this},setText:function(t){t=t||"";var e=this.text||"";return t!=e&&(this.text=t,this.rendered&&(this.btnInnerEl.update(t||"&#160;"),this.setComponentCls(),Ext.isStrict&&Ext.isIE8&&this.el.repaint(),this.updateLayout()),this.fireEvent("textchange",this,e,t)),this},didIconStateChange:function(t,e){var i=Ext.isEmpty(e);return Ext.isEmpty(t)?!i:i},getText:function(){return this.text},toggle:function(t,e){return(t=void 0===t?!this.pressed:!!t)!==this.pressed&&(this.rendered&&this[t?"addClsWithUI":"removeClsWithUI"](this.pressedCls),this.pressed=t,e||(this.fireEvent("toggle",this,t),Ext.callback(this.toggleHandler,this.scope||this,[this,t]))),this},maybeShowMenu:function(){!this.menu||this.hasVisibleMenu()||this.ignoreNextClick||this.showMenu(!0)},showMenu:function(t){var e=this.menu;return this.rendered&&(this.tooltip&&Ext.quickTipsActive&&"title"!=this.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(this.btnEl),e.isVisible()&&e.hide(),(!t||this.showEmptyMenu||e.items.getCount()>0)&&e.showBy(this.el,this.menuAlign,Ext.isIEQuirks||Ext.isIE6?[-2,-2]:void 0)),this},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var t=this.menu;return t&&t.rendered&&t.isVisible()},onRepeatClick:function(t,e){this.onClick(e)},onClick:function(t){(this.preventDefault||this.disabled&&this.getHref()&&t)&&t.preventDefault(),"keydown"!==t.type&&0!==t.button||this.disabled||(this.doToggle(),this.maybeShowMenu(),this.fireHandler(t))},fireHandler:function(t){var e=this.handler;!1!==this.fireEvent("click",this,t)&&(e&&e.call(this.scope||this,this,t),this.blur())},doToggle:function(){!this.enableToggle||!1===this.allowDepress&&this.pressed||this.toggle()},onMouseOver:function(t){this.disabled||t.within(this.el,!0,!0)||this.onMouseEnter(t)},onMouseOut:function(t){t.within(this.el,!0,!0)||(this.overMenuTrigger&&this.onMenuTriggerOut(t),this.onMouseLeave(t))},onMouseMove:function(t){var e,i,n=this.el,s=this.overMenuTrigger;this.split&&((e="right"===this.arrowAlign?t.getX()-this.getX():t.getY()-n.getY())>(i=this.getTriggerRegion()).begin&&e<i.end?s||this.onMenuTriggerOver(t):s&&this.onMenuTriggerOut(t))},getTriggerRegion:function(){var t=this._triggerRegion,e=this.getTriggerSize(),i="right"===this.arrowAlign?this.getWidth():this.getHeight();return t.begin=i-e,t.end=i,t},getTriggerSize:function(){var t,e,i=this.triggerSize;return null==i&&(e=(t=this.arrowAlign).charAt(0),i=this.triggerSize=this.el.getFrameWidth(e)+this.getBtnWrapFrameWidth(e),this.frameSize&&(i=this.triggerSize+=this.frameSize[t])),i},getBtnWrapFrameWidth:function(t){return this.btnWrap.getFrameWidth(t)},addOverCls:function(){this.disabled||this.addClsWithUI(this.overCls)},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(t){this.fireEvent("mouseover",this,t)},onMouseLeave:function(t){this.fireEvent("mouseout",this,t)},onMenuTriggerOver:function(t){var e=this.arrowTooltip;this.overMenuTrigger=!0,this.split&&e&&this.btnWrap.dom.setAttribute(this.getTipAttr(),e),this.fireEvent("menutriggerover",this,this.menu,t)},onMenuTriggerOut:function(t){delete this.overMenuTrigger,this.split&&this.arrowTooltip&&this.btnWrap.dom.setAttribute(this.getTipAttr(),""),this.fireEvent("menutriggerout",this,this.menu,t)},enable:function(t){return this.callParent(arguments),this.removeClsWithUI("disabled"),this},disable:function(t){return this.callParent(arguments),this.addClsWithUI("disabled"),this.removeClsWithUI(this.overCls),this.btnInnerEl&&Ext.isIE7m&&this.btnInnerEl.repaint(),this},setScale:function(t){var e=this.ui.replace("-"+this.scale,"");if(!Ext.Array.contains(this.allowedScales,t))throw"#setScale: scale must be an allowed scale ("+this.allowedScales.join(", ")+")";this.scale=t,this.setUI(e)},setUI:function(t){this.scale&&!t.match(this.scale)&&(t=t+"-"+this.scale),this.callParent([t])},onMouseDown:function(t){this.disabled||0!==t.button||(this.addClsWithUI(this.pressedCls),this.doc.on("mouseup",this.onMouseUp,this))},onMouseUp:function(t){0===t.button&&(this.pressed||this.removeClsWithUI(this.pressedCls),this.doc.un("mouseup",this.onMouseUp,this))},onMenuShow:function(t){this.ignoreNextClick=0,this.addClsWithUI(this.menuActiveCls),this.fireEvent("menushow",this,this.menu)},onMenuHide:function(t){this.removeClsWithUI(this.menuActiveCls),this.ignoreNextClick=Ext.defer(this.restoreClick,250,this),this.fireEvent("menuhide",this,this.menu)},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(){this.disabled||this.menu&&this.showMenu()}}),Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(t){this.callParent(arguments),this.triggerButtonCls=this.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-after",this.menuItems=[]},beginLayout:function(t){this.callParent(arguments),this.clearOverflow(t)},beginLayoutCycle:function(t,e){this.callParent(arguments),e||(this.clearOverflow(t),this.layout.cacheChildItems(t))},onRemove:function(t){Ext.Array.remove(this.menuItems,t)},getSuffixConfig:function(){var t=this.layout,e=t.owner,i=e.id;return this.menu=new Ext.menu.Menu({listeners:{scope:this,beforeshow:this.beforeMenuShow}}),this.menuTrigger=new Ext.button.Button({id:i+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+this.triggerButtonCls+" "+Ext.baseCSSPrefix+"toolbar-item",plain:e.usePlainButtons,ownerCt:e,ownerLayout:t,iconCls:Ext.baseCSSPrefix+this.getOwnerType(e)+"-more-icon",ui:e instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:this.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),this.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(t){var e=this.layout.names,i=t.state.boxPlan,n=[null,null];return this.showTrigger(t),"vertical"!==this.layout.direction&&(n[e.heightIndex]=(i.maxSize-this.menuTrigger[e.getHeight]())/2,this.menuTrigger.setPosition.apply(this.menuTrigger,n)),{reservedSpace:this.triggerTotalWidth}},captureChildElements:function(){var t=this.menuTrigger,e=this.layout.names;t.rendering&&(t.finishRender(),this.triggerTotalWidth=t[e.getWidth]()+t.el.getMargin(e.parallelMargins))},_asLayoutRoot:{isRoot:!0},clearOverflow:function(t){var e,i=this.menuItems,n=0,s=i.length,r=this.layout.owner,o=this._asLayoutRoot;for(r.suspendLayouts(),this.captureChildElements(),this.hideTrigger(),r.resumeLayouts();n<s;n++)(e=i[n]).suspendLayouts(),e.show(),e.resumeLayouts(o);i.length=0},showTrigger:function(t){var e,i,n,s,r=this.layout,o=r.owner,a=r.names,l=a.x,h=a.width,d=t.state.boxPlan.targetSize[h],c=t.childItems,u=c.length,f=this.menuTrigger;for(f.suspendLayouts(),f.show(),f.resumeLayouts(this._asLayoutRoot),d-=this.triggerTotalWidth,o.suspendLayouts(),this.menuItems.length=0,n=0;n<u;n++)(s=(e=c[n]).props)[l]+s[h]>d&&(i=e.target,this.menuItems.push(i),i.hide());o.resumeLayouts()},hideTrigger:function(){var t=this.menuTrigger;t&&t.hide()},beforeMenuShow:function(t){var e,i,n=this.menuItems,s=0,r=n.length,o=function(t,e){return t.isXType("buttongroup")&&!(e instanceof Ext.toolbar.Separator)};for(t.suspendLayouts(),this.clearMenu(),t.removeAll();s<r;s++)e=n[s],!s&&e instanceof Ext.toolbar.Separator||(i&&(o(e,i)||o(i,e))&&t.add("-"),this.addComponentToMenu(t,e),i=e);t.items.length<1&&t.add(this.noItemsMenuText),t.resumeLayouts()},createMenuConfig:function(t,e){var i=Ext.apply({},t.initialConfig),n=t.toggleGroup;return Ext.copyTo(i,t,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.apply(i,{text:t.overflowText||t.text,hideOnClick:e,destroyMenu:!1,listeners:{}}),t.isFormField?(i.value=t.getValue(),i.listeners.change=function(e,i,n){t.setValue(i)}):(n||t.enableToggle)&&Ext.apply(i,{hideOnClick:!1,group:n,checked:t.pressed,handler:function(e,i){t.onClick(i)}}),t.isButton&&!t.changeListenersAdded&&(t.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle}),t.changeListenersAdded=!0),delete i.ownerCt,delete i.xtype,delete i.id,i},onButtonAttrChange:function(t){var e=t.overflowClone;e.suspendLayouts(),e.setText(t.text),e.setIcon(t.icon),e.setIconCls(t.iconCls),e.resumeLayouts(!0)},onButtonToggle:function(t,e){t.overflowClone.checked!==e&&t.overflowClone.setChecked(e)},addComponentToMenu:function(t,e){var i,n,s;if(e instanceof Ext.toolbar.Separator)t.add("-");else if(e.isComponent)if(e.isXType("splitbutton"))e.overflowClone=t.add(this.createMenuConfig(e,!0));else if(e.isXType("button"))e.overflowClone=t.add(this.createMenuConfig(e,!e.menu));else if(e.isXType("buttongroup"))for(s=(n=e.items.items).length,i=0;i<s;i++)this.addComponentToMenu(t,n[i]);else e.overflowClone=t.add(Ext.create(Ext.getClassName(e),this.createMenuConfig(e)))},clearMenu:function(){var t,e,i,n,s=this.menu;if(s&&s.items)for(i=(t=s.items.items).length,e=0;e<i;e++)(n=t[e]).setMenu&&n.setMenu(null)},destroy:function(){var t=this.menuTrigger;t&&!this.layout.owner.items.contains(t)&&delete t.ownerCt,Ext.destroy(this.menu,t)}}),Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:Ext.util.Observable},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(t,e){this.layout=t,Ext.apply(this,e||{}),this.mixins.observable.constructor.call(this),this.addEvents("scroll"),this.scrollPosition=0,this.scrollSize=0},getPrefixConfig:function(){var t,e=this.layout.owner;return this.initCSSClasses(),t=Ext.layout.container.Box.prototype.innerCls+" "+this.beforeCtCls,e.plain&&(t+=" "+this.scrollerCls+"-plain"),{cls:t,cn:{id:e.id+"-before-scroller",cls:this.scrollerCls+" "+this.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var t=this.layout.owner,e=Ext.layout.container.Box.prototype.innerCls+" "+this.afterCtCls;return t.plain&&(e+=" "+this.scrollerCls+"-plain"),{cls:e,cn:{id:this.layout.owner.id+"-after-scroller",cls:this.scrollerCls+" "+this.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var t=Ext.baseCSSPrefix,e=this.layout,i=e.names,n=i.beforeX,s=i.afterX,r=this.getOwnerType(e.owner);this.beforeCtCls=this.beforeCtCls||t+"box-scroller-"+n,this.afterCtCls=this.afterCtCls||t+"box-scroller-"+s,this.beforeScrollerCls=this.beforeScrollerCls||t+r+"-scroll-"+n,this.afterScrollerCls=this.afterScrollerCls||t+r+"-scroll-"+s},beginLayout:function(t){t.innerCtScrollPos=this.getElScrollPos(),this.callParent(arguments)},completeLayout:function(t){var e,i=t.state.boxPlan,n=this.layout.names;i&&i.tooNarrow&&(e=t.childItems[t.childItems.length-1],this.scrollSize=e.props[n.x]+e.props[n.width],this.updateScrollButtons()),this.callParent(arguments)},finishedLayout:function(t){var e=Math.min(this.getMaxScrollPosition(),t.innerCtScrollPos);this.setElScrollPos(e)},setElScrollPos:function(t){var e=this.layout;"vertical"===e.direction?e.innerCt.dom.scrollTop=t:e.innerCt.setScrollLeft(t)},getElScrollPos:function(){var t=this.layout;return"vertical"===t.direction?t.innerCt.dom.scrollTop:t.innerCt.getScrollLeft()},handleOverflow:function(t){var e=this.layout.names.getWidth;return this.showScrollers(),{reservedSpace:this.beforeCt[e]()+this.afterCt[e]()}},captureChildElements:function(){var t,e,i,n,s,r,o=this.layout.owner.el;this.beforeCt||(r="-hover",n="-pressed",i=this.scrollerCls+r,s=this.scrollerCls+n,t=this.beforeScroller=o.getById(this.layout.owner.id+"-before-scroller"),e=this.afterScroller=o.getById(this.layout.owner.id+"-after-scroller"),this.beforeCt=t.up(""),this.afterCt=e.up(""),this.createWheelListener(),t.addClsOnOver(i),t.addClsOnOver(this.beforeScrollerCls+r),t.addClsOnClick(s),t.addClsOnClick(this.beforeScrollerCls+n),e.addClsOnOver(i),e.addClsOnOver(this.afterScrollerCls+r),e.addClsOnClick(s),e.addClsOnClick(this.afterScrollerCls+n),t.setVisibilityMode(Ext.Element.DISPLAY),e.setVisibilityMode(Ext.Element.DISPLAY),this.beforeRepeater=new Ext.util.ClickRepeater(t,{interval:this.scrollRepeatInterval,handler:this.scrollLeft,scope:this}),this.afterRepeater=new Ext.util.ClickRepeater(e,{interval:this.scrollRepeatInterval,handler:this.scrollRight,scope:this}))},createWheelListener:function(){var t=this;t.layout.innerCt.on({mousewheel:function(e){t.scrollBy(e.getWheelDelta()*t.wheelIncrement*-1,!1)},stopEvent:!0})},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.captureChildElements(),this.beforeScroller.show(),this.afterScroller.show(),this.layout.owner.addClsWithUI("vertical"===this.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){void 0!==this.beforeScroller&&(this.beforeScroller.hide(),this.afterScroller.hide(),this.layout.owner.removeClsWithUI("vertical"===this.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){Ext.destroy(this.beforeRepeater,this.afterRepeater,this.beforeScroller,this.afterScroller,this.beforeCt,this.afterCt)},scrollBy:function(t,e){this.scrollTo(this.getScrollPosition()+t,e)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var t,e,i,n,s;null!=this.beforeScroller&&null!=this.afterScroller&&(t=this.atExtremeBefore()?"addCls":"removeCls",e=this.atExtremeAfter()?"addCls":"removeCls",i=[s=this.scrollerCls+"-disabled",this.beforeScrollerCls+"-disabled"],n=[s,this.afterScrollerCls+"-disabled"],this.beforeScroller[t](i),this.afterScroller[e](n),this.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){this.layout;return isNaN(this.scrollPosition)?this.getElScrollPos():this.scrollPosition},getMaxScrollPosition:function(){var t=this.layout,e=this.scrollSize-t.innerCt[t.names.getWidth]();return e<0?0:e},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(t,e){var i=this.layout,n=this.getScrollPosition(),s=Ext.Number.constrain(t,0,this.getMaxScrollPosition());s==n||this.scrolling||(this.scrollPosition=NaN,void 0===e&&(e=this.animateScroll),i.innerCt.scrollTo(i.names.beforeX,s,!!e&&this.getScrollAnim()),e?this.scrolling=!0:this.updateScrollButtons(),this.fireEvent("scroll",this,s,!!e&&this.getScrollAnim()))},scrollToItem:function(t,e){var i,n,s,r=this.layout,o=r.owner,a=r.names;void 0!==(t=this.getItem(t))&&(t==o.items.first()?s=0:t===o.items.last()?s=this.getMaxScrollPosition():(i=this.getItemVisibility(t)).fullyVisible||(s=(n=t.getBox(!1,!0))[a.x],i.hiddenEnd&&(s-=this.layout.innerCt[a.getWidth]()-n[a.width])),this.scrollTo(s,e))},getItemVisibility:function(t){var e=this.getItem(t).getBox(!0,!0),i=this.layout,n=i.names,s=e[n.x],r=s+e[n.width],o=this.getScrollPosition(),a=o+i.innerCt[n.getWidth]();return{hiddenStart:s<o,hiddenEnd:r>a,fullyVisible:s>o&&r<a}}}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(t){return new this(t.x,t.y)}},constructor:function(t,e){return this.x=null==t||isNaN(t)?0:t,this.y=null==e||isNaN(e)?0:e,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(t){this.x=t.x,this.y=t.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(t){return this.x==t.x&&this.y==t.y},round:function(t){if(isNaN(t))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var e=Math.pow(10,t);this.x=Math.round(this.x*e)/e,this.y=Math.round(this.y*e)/e}},isZero:function(){return 0==this.x&&0==this.y}}),Ext.define("Ext.util.Region",{statics:{getRegion:function(t){return Ext.fly(t).getRegion()},from:function(t){return new this(t.top,t.right,t.bottom,t.left)}},constructor:function(t,e,i,n){this.y=this.top=this[1]=t,this.right=e,this.bottom=i,this.x=this.left=this[0]=n},contains:function(t){return t.x>=this.x&&t.right<=this.right&&t.y>=this.y&&t.bottom<=this.bottom},intersect:function(t){var e=Math.max(this.y,t.y),i=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),s=Math.max(this.x,t.x);return n>e&&i>s&&new this.self(e,i,n,s)},union:function(t){var e=Math.min(this.y,t.y),i=Math.max(this.right,t.right),n=Math.max(this.bottom,t.bottom),s=Math.min(this.x,t.x);return new this.self(e,i,n,s)},constrainTo:function(t){var e=Ext.Number.constrain;return this.top=this.y=e(this.top,t.y,t.bottom),this.bottom=e(this.bottom,t.y,t.bottom),this.left=this.x=e(this.left,t.x,t.right),this.right=e(this.right,t.x,t.right),this},adjust:function(t,e,i,n){return this.top=this.y+=t,this.left=this.x+=n,this.right+=e,this.bottom+=i,this},getOutOfBoundOffset:function(t,e){if(Ext.isObject(t)){e=t;var i=new Ext.util.Offset;return i.x=this.getOutOfBoundOffsetX(e.x),i.y=this.getOutOfBoundOffsetY(e.y),i}return"x"==t?this.getOutOfBoundOffsetX(e):this.getOutOfBoundOffsetY(e)},getOutOfBoundOffsetX:function(t){return t<=this.x?this.x-t:t>=this.right?this.right-t:0},getOutOfBoundOffsetY:function(t){return t<=this.y?this.y-t:t>=this.bottom?this.bottom-t:0},isOutOfBound:function(t,e){return Ext.isObject(t)?(e=t,this.isOutOfBoundX(e.x)||this.isOutOfBoundY(e.y)):"x"==t?this.isOutOfBoundX(e):this.isOutOfBoundY(e)},isOutOfBoundX:function(t){return t<this.x||t>this.right},isOutOfBoundY:function(t){return t<this.y||t>this.bottom},restrict:function(t,e,i){if(Ext.isObject(t)){var n;return i=e,e=t,n=e.copy?e.copy():{x:e.x,y:e.y},n.x=this.restrictX(e.x,i),n.y=this.restrictY(e.y,i),n}return"x"==t?this.restrictX(e,i):this.restrictY(e,i)},restrictX:function(t,e){return e||(e=1),t<=this.x?t-=(t-this.x)*e:t>=this.right&&(t-=(t-this.right)*e),t},restrictY:function(t,e){return e||(e=1),t<=this.y?t-=(t-this.y)*e:t>=this.bottom&&(t-=(t-this.bottom)*e),t},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(t){return this.top=this.y=this[1]=t.y,this.right=t.right,this.bottom=t.bottom,this.left=this.x=this[0]=t.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(t,e){1==arguments.length&&(e=t.y,t=t.x);return this.top=this.y+=e,this.right+=t,this.bottom+=e,this.left=this.x+=t,this},round:function(){return this.top=this.y=Math.round(this.y),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=this.x=Math.round(this.x),this},equals:function(t){return this.top==t.top&&this.right==t.right&&this.bottom==t.bottom&&this.left==t.left}}),Ext.define("Ext.dd.DragDropManager",{singleton:!0,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(t,e){var i,n,s;for(i in this.ids)for(n in this.ids[i])s=this.ids[i][n],this.isTypeOfDD(s)&&s[t].apply(s,e)},_onLoad:function(){this.init();var t=Ext.EventManager;t.on(document,"mouseup",this.handleMouseUp,this,!0),t.on(document,"mousemove",this.handleMouseMove,this,!0),t.on(window,"unload",this._onUnload,this,!0),t.on(window,"resize",this._onResize,this,!0)},_onResize:function(t){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(t,e){this.initialized||this.init(),this.ids[e]||(this.ids[e]={}),this.ids[e][t.id]=t},removeDDFromGroup:function(t,e){this.ids[e]||(this.ids[e]={});var i=this.ids[e];i&&i[t.id]&&delete i[t.id]},_remove:function(t){for(var e in t.groups)e&&this.ids[e]&&this.ids[e][t.id]&&delete this.ids[e][t.id];delete this.handleIds[t.id]},regHandle:function(t,e){this.handleIds[t]||(this.handleIds[t]={}),this.handleIds[t][e]=e},isDragDrop:function(t){return!!this.getDDById(t)},getRelated:function(t,e){var i,n,s,r=[];for(i in t.groups)for(n in this.ids[i])s=this.ids[i][n],this.isTypeOfDD(s)&&(e&&!s.isTarget||(r[r.length]=s));return r},isLegalTarget:function(t,e){var i,n,s=this.getRelated(t,!0);for(i=0,n=s.length;i<n;++i)if(s[i].id==e.id)return!0;return!1},isTypeOfDD:function(t){return t&&t.__ygDragDrop},isHandle:function(t,e){return this.handleIds[t]&&this.handleIds[t][e]},getDDById:function(t){var e,i;for(e in this.ids)if((i=this.ids[e][t])instanceof Ext.dd.DDTarget)return i;return null},handleMouseDown:function(t,e){var i,n=this;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable(),n.dragCurrent&&n.handleMouseUp(t),n.currentTarget=t.getTarget(),n.dragCurrent=e,i=e.getEl(),Ext.isIE&&i.setCapture&&i.setCapture(),n.startX=t.getPageX(),n.startY=t.getPageY(),n.deltaX=n.startX-i.offsetLeft,n.deltaY=n.startY-i.offsetTop,n.dragThreshMet=!1,n.clickTimeout=setTimeout(function(){n.startDrag(n.startX,n.startY)},n.clickTimeThresh)},startDrag:function(t,e){var i,n=this.dragCurrent;clearTimeout(this.clickTimeout),n&&(n.b4StartDrag(t,e),n.startDrag(t,e),(i=n.getDragEl())&&Ext.fly(i).addCls(this.dragCls)),this.dragThreshMet=!0},handleMouseUp:function(t){Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),this.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(this.clickTimeout),this.dragThreshMet&&this.fireEvents(t,!0),this.stopDrag(t),this.stopEvent(t))},stopEvent:function(t){this.stopPropagation&&t.stopPropagation(),this.preventDefault&&t.preventDefault()},stopDrag:function(t){var e,i=this.dragCurrent;i&&(this.dragThreshMet&&((e=i.getDragEl())&&Ext.fly(e).removeCls(this.dragCls),i.b4EndDrag(t),i.endDrag(t)),this.dragCurrent.onMouseUp(t)),this.dragCurrent=null,this.dragOvers={}},handleMouseMove:function(t){var e,i,n=this.dragCurrent;return!n||(this.dragThreshMet||(e=Math.abs(this.startX-t.getPageX()),i=Math.abs(this.startY-t.getPageY()),(e>this.clickPixelThresh||i>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY)),this.dragThreshMet&&(n.b4Drag(t),n.onDrag(t),n.moveOnly||this.fireEvents(t,!1)),this.stopEvent(t),!0)},fireEvents:function(t,e){var i,n,s,r,o,a,l,h,d,c=this.dragCurrent,u=t.getPoint(),f=[],p=[],g=[],m=[],x=[],E=[];if(c&&!c.isLocked()){this.notifyOccluded||Ext.supports.PointerEvents&&!Ext.isIE10m&&!Ext.isOpera||c.deltaX<0||c.deltaY<0||(n=(i=c.getDragEl()).style.top,i.style.top="-10000px",o=t.getXY(),t.target=document.elementFromPoint(o[0],o[1]),i.style.top=n);for(l in this.dragOvers)s=this.dragOvers[l],this.isTypeOfDD(s)&&(this.notifyOccluded?this.isOverTarget(u,s,this.mode)||g.push(s):t.within(s.getEl())||g.push(s),p[l]=!0,delete this.dragOvers[l]);for(d in c.groups)if("string"==typeof d)for(l in this.ids[d])if(s=this.ids[d][l],this.isTypeOfDD(s)&&(r=s.getEl())&&s.isTarget&&!s.isLocked()&&Ext.fly(r).isVisible(!0)&&(s!=c||!1===c.ignoreSelf))if(this.notifyOccluded)-1!==(s.zIndex=this.getZIndex(r))&&(a=!0),f.push(s);else if(t.within(s.getEl())){f.push(s);break}for(a&&Ext.Array.sort(f,this.byZIndex),l=0,h=f.length;l<h&&(s=f[l],!this.isOverTarget(u,s,this.mode)||(e?x.push(s):(p[s.id]?m.push(s):E.push(s),this.dragOvers[s.id]=s),this.notifyOccluded));l++);if(this.mode)g.length&&(c.b4DragOut(t,g),c.onDragOut(t,g)),E.length&&c.onDragEnter(t,E),m.length&&(c.b4DragOver(t,m),c.onDragOver(t,m)),x.length&&(c.b4DragDrop(t,x),c.onDragDrop(t,x));else{for(l=0,h=g.length;l<h;++l)c.b4DragOut(t,g[l].id),c.onDragOut(t,g[l].id);for(l=0,h=E.length;l<h;++l)c.onDragEnter(t,E[l].id);for(l=0,h=m.length;l<h;++l)c.b4DragOver(t,m[l].id),c.onDragOver(t,m[l].id);for(l=0,h=x.length;l<h;++l)c.b4DragDrop(t,x[l].id),c.onDragDrop(t,x[l].id)}e&&!x.length&&c.onInvalidDrop(t)}},getZIndex:function(t){var e,i=document.body,n=-1;for(t=Ext.getDom(t);t!==i;)isNaN(e=Number(Ext.fly(t).getStyle("zIndex")))||(n=e),t=t.parentNode;return n},byZIndex:function(t,e){return t.zIndex<e.zIndex},getBestMatch:function(t){var e,i,n=null,s=t.length;if(1==s)n=t[0];else for(e=0;e<s;++e){if((i=t[e]).cursorIsOver){n=i;break}(!n||n.overlap.getArea()<i.overlap.getArea())&&(n=i)}return n},refreshCache:function(t){var e,i,n,s;for(e in t)if("string"==typeof e)for(i in this.ids[e])n=this.ids[e][i],this.isTypeOfDD(n)&&((s=this.getLocation(n))?this.locationCache[n.id]=s:delete this.locationCache[n.id])},verifyEl:function(t){if(t){var e;if(Ext.isIE)try{e=t.offsetParent}catch(t){}else e=t.offsetParent;if(e)return!0}return!1},getLocation:function(t){if(!this.isTypeOfDD(t))return null;if(t.getRegion)return t.getRegion();var e,i,n,s,r,o,a,l,h,d=t.getEl();try{e=Ext.Element.getXY(d)}catch(t){}return e?(i=e[0],n=i+d.offsetWidth,s=e[1],r=s+d.offsetHeight,o=s-t.padding[0],a=n+t.padding[1],l=r+t.padding[2],h=i-t.padding[3],new Ext.util.Region(o,a,l,h)):null},isOverTarget:function(t,e,i){var n,s,r,o,a,l=this.locationCache[e.id];return l&&this.useCache||(l=this.getLocation(e),this.locationCache[e.id]=l),!!l&&(e.cursorIsOver=l.contains(t),(n=this.dragCurrent)&&n.getTargetCoord&&(i||n.constrainX||n.constrainY)?(e.overlap=null,s=n.getTargetCoord(t.x,t.y),r=n.getDragEl(),o=new Ext.util.Region(s.y,s.x+r.offsetWidth,s.y+r.offsetHeight,s.x),!!(a=o.intersect(l))&&(e.overlap=a,!!i||e.cursorIsOver)):e.cursorIsOver)},_onUnload:function(t,e){Ext.dd.DragDropManager.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]);for(var t in this.elementCache)delete this.elementCache[t];this.elementCache={},this.ids={}},elementCache:{},getElWrapper:function(t){var e=this.elementCache[t];return e&&e.el||(e=this.elementCache[t]=new this.ElementWrapper(Ext.getDom(t))),e},getElement:function(t){return Ext.getDom(t)},getCss:function(t){var e=Ext.getDom(t);return e?e.style:null},ElementWrapper:function(t){this.el=t||null,this.id=this.el&&t.id,this.css=this.el&&t.style},getPosX:function(t){return Ext.Element.getX(t)},getPosY:function(t){return Ext.Element.getY(t)},swapNode:function(t,e){if(t.swapNode)t.swapNode(e);else{var i=e.parentNode,n=e.nextSibling;n==t?i.insertBefore(t,e):e==t.nextSibling?i.insertBefore(e,t):(t.parentNode.replaceChild(e,t),i.insertBefore(t,n))}},getScroll:function(){var t=window.document,e=t.documentElement,i=t.body,n=0,s=0;return Ext.isGecko4?(n=window.scrollYOffset,s=window.scrollXOffset):e&&(e.scrollTop||e.scrollLeft)?(n=e.scrollTop,s=e.scrollLeft):i&&(n=i.scrollTop,s=i.scrollLeft),{top:n,left:s}},getStyle:function(t,e){return Ext.fly(t).getStyle(e)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(t,e){var i=Ext.Element.getXY(e);Ext.Element.setXY(t,i)},numericSort:function(t,e){return t-e},_timeoutCount:0,_addListeners:function(){document?this._onLoad():this._timeoutCount<=2e3&&(setTimeout(this._addListeners,10),document&&document.body&&(this._timeoutCount+=1))},handleWasClicked:function(t,e){if(this.isHandle(e,t.id))return!0;for(var i=t.parentNode;i;){if(this.isHandle(e,i.id))return!0;i=i.parentNode}return!1}},function(){this._addListeners()}),Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.BoxLayout",defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:void 0,stretchMaxPartner:void 0,alignRoundingMethod:"round",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(t){var e;this.callParent(arguments),this.flexSortFn=Ext.Function.bind(this.flexSort,this),this.initOverflowHandler(),"string"!=(e=typeof this.padding)&&"number"!=e||(this.padding=Ext.util.Format.parseBox(this.padding),this.padding.height=this.padding.top+this.padding.bottom,this.padding.width=this.padding.left+this.padding.right)},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(t,e){var i=this.sizePolicy,n=this.align,s=t.flex,r=n,o=this.names,a=t[o.width],l=t[o.height],h=this._percentageRe,d=h.test(a),c="stretch"==n,u="stretchmax"==n,f=this.constrainAlign;return!e&&(c||s||d||f&&!u)&&(e=this.owner.getSizeModel()),c?!h.test(l)&&e[o.height].shrinkWrap&&(r="stretchmax"):u||(r=h.test(l)?"stretch":f&&!e[o.height].shrinkWrap?"stretchmax":""),(s||d)&&(e[o.width].shrinkWrap||(i=i.flex)),i[r]},flexSort:function(t,e){var i,n,s,r,o,a,l=this.names.maxWidth,h=this.names.minWidth,d=t.target,c=e.target,u=0;return s=d[l]||1/0,r=c[l]||1/0,i=d[h]||0,n=c[h]||0,o=isFinite(i)||isFinite(n),a=isFinite(s)||isFinite(r),(o||a)&&(a&&(u=s-r),0===u&&o&&(u=n-i)),u},isItemBoxParent:function(t){return!0},isItemShrinkWrap:function(t){return!0},roundFlex:function(t){return Math.ceil(t)},beginCollapse:function(t){"vertical"===this.direction&&t.collapsedVertical()?(t.collapseMemento.capture(["flex"]),delete t.flex):"horizontal"===this.direction&&t.collapsedHorizontal()&&(t.collapseMemento.capture(["flex"]),delete t.flex)},beginExpand:function(t){t.collapseMemento.restore(["flex"])},beginLayout:function(t){var e=this.owner,i=e.stretchMaxPartner,n=this.innerCt.dom.style,s=this.names;t.boxNames=s,this.overflowHandler.beginLayout(t),"string"==typeof i&&(i=Ext.getCmp(i)||e.query(i)[0]),t.stretchMaxPartner=i&&t.context.getCmp(i),this.callParent(arguments),t.innerCtContext=t.getEl("innerCt",this),this.scrollParallel=e.scrollFlags[s.x],this.scrollPerpendicular=e.scrollFlags[s.y],this.scrollParallel&&(this.scrollPos=e.getTargetEl().dom[s.scrollLeft]),n.width="",n.height=""},beginLayoutCycle:function(t,e){var i=this.align,n=t.boxNames,s=this.pack,r=n.heightModel;this.overflowHandler.beginLayoutCycle(t,e),this.callParent(arguments),t.parallelSizeModel=t[n.widthModel],t.perpendicularSizeModel=t[r],t.boxOptions={align:i={stretch:"stretch"==i,stretchmax:"stretchmax"==i,center:i==n.center,bottom:i==n.afterY},pack:s={center:"center"==s,end:"end"==s}},i.stretch&&t.perpendicularSizeModel.shrinkWrap&&(i.stretchmax=!0,i.stretch=!1),i.nostretch=!(i.stretch||i.stretchmax),t.parallelSizeModel.shrinkWrap&&(s.center=s.end=!1),this.cacheFlexes(t),this.targetEl.setWidth(2e4)},cacheFlexes:function(t){for(var e,i,n,s,r=t.boxNames,o=r.widthModel,a=r.heightModel,l=t.boxOptions.align.nostretch,h=0,d=t.childItems,c=d.length,u=[],f=0,p=r.minWidth,g=this._percentageRe,m=0,x=0;c--;)e=(i=d[c]).target,i[o].calculated&&(i.flex=n=e.flex,n?(h+=n,u.push(i),f+=e[p]||0):(s=g.exec(e[r.width]),i.percentageParallel=parseFloat(s[1])/100,++m)),l&&i[a].calculated&&(s=g.exec(e[r.height]),i.percentagePerpendicular=parseFloat(s[1])/100,++x);t.flexedItems=u,t.flexedMinSize=f,t.totalFlex=h,t.percentageWidths=m,t.percentageHeights=x,Ext.Array.sort(u,this.flexSortFn)},calculate:function(t){var e=this.getContainerSize(t),i=t.boxNames,n=t.state,s=n.boxPlan||(n.boxPlan={}),r=t.targetContext;s.targetSize=e,t.parallelSizeModel.shrinkWrap||e[i.gotWidth]?(n.parallelDone||(n.parallelDone=this.calculateParallel(t,i,s)),n.perpendicularDone||(n.perpendicularDone=this.calculatePerpendicular(t,i,s)),n.parallelDone&&n.perpendicularDone?(!this.owner.dock||!Ext.isIE7m&&!Ext.isIEQuirks||this.owner.width||this.horizontal||(s.isIEVerticalDock=!0,s.calculatedWidth=s.maxSize+t.getPaddingInfo().width+t.getFrameInfo().width,r!==t&&(s.calculatedWidth+=r.getPaddingInfo().width)),this.publishInnerCtSize(t,this.reserveOffset?this.availableSpaceOffset:0),this.done&&(t.childItems.length>1||t.stretchMaxPartner)&&t.boxOptions.align.stretchmax&&!n.stretchMaxDone&&(this.calculateStretchMax(t,i,s),n.stretchMaxDone=!0),this.overflowHandler.calculate(t)):this.done=!1):this.done=!1},calculateParallel:function(t,e,i){var n,s,r,o,a,l,h,d,c,u,f,p=e.width,g=t.childItems,m=e.beforeX,x=e.afterX,E=e.setWidth,y=g.length,v=t.flexedItems,b=v.length,C=t.boxOptions.pack,w=this.padding,S=i.targetSize[p],T=0,k=w[m],D=k+w[x]+this.scrollOffset+(this.reserveOffset?this.availableSpaceOffset:0),I=Ext.getScrollbarSize()[e.width];if(I&&this.scrollPerpendicular&&t.parallelSizeModel.shrinkWrap&&!t.boxOptions.align.stretch&&!t.perpendicularSizeModel.shrinkWrap){if(!t.state.perpendicularDone)return!1;c=!0}for(n=0;n<y;++n)if(a=g[n],s=a.marginInfo||a.getMarginInfo(),T+=s[p],!a[e.widthModel].calculated&&(u=a.getProp(p),D+=u,isNaN(D)))return!1;if(D+=T,t.percentageWidths){if(f=S-T,isNaN(f))return!1;for(n=0;n<y;++n)(a=g[n]).percentageParallel&&(u=Math.ceil(f*a.percentageParallel),D+=u=a.setWidth(u))}if(t.parallelSizeModel.shrinkWrap)i.availableSpace=0,i.tooNarrow=!1;else if(i.availableSpace=S-D,i.tooNarrow=i.availableSpace<t.flexedMinSize,i.tooNarrow&&Ext.getScrollbarSize()[e.height]&&this.scrollParallel&&t.state.perpendicularDone)for(t.state.perpendicularDone=!1,n=0;n<y;++n)g[n].invalidate();for(d=D,r=i.availableSpace,o=t.totalFlex,n=0;n<b;n++)l=(a=v[n]).flex,h=this.roundFlex(l/o*r),d+=h=a[E](h),r=Math.max(0,r-h),o-=l;for(C.center?(k+=r/2)<0&&(k=0):C.end&&(k+=r),n=0;n<y;++n)k+=(s=(a=g[n]).marginInfo)[m],a.setProp(e.x,k),k+=s[x]+a.props[p];return d+=t.targetContext.getPaddingInfo()[p],t.state.contentWidth=d,c&&t.peek(e.contentHeight)>i.targetSize[e.height]&&(d+=I,t[e.hasOverflowY]=!0,t.target.componentLayout[e.setWidthInDom]=!0,t[e.invalidateScrollY]=Ext.isStrict&&Ext.isIE8),t[e.setContentWidth](d),!0},calculatePerpendicular:function(t,e,i){var n,s,r,o,a,l,h,d,c,u,f,p=t.perpendicularSizeModel.shrinkWrap,g=i.targetSize,m=t.childItems,x=m.length,E=Math.max,y=e.height,v=e.setHeight,b=e.beforeY,C=e.y,w=this.padding,S=w[b],T=g[y]-S-w[e.afterY],k=t.boxOptions.align,D=k.stretch,I=k.stretchmax,P=k.center,M=k.bottom,A=this.constrainAlign,L=0,R=0,F=this.onBeforeConstrainInvalidateChild,O=this.onAfterConstrainInvalidateChild,N=Ext.getScrollbarSize().height;if((D||(P||M)&&!p)&&isNaN(T))return!1;if(this.scrollParallel&&i.tooNarrow&&(p?u=!0:(T-=N,i.targetSize[y]-=N)),D)l=T;else{for(s=0;s<x;s++){if(h=m[s],o=(h.marginInfo||h.getMarginInfo())[y],f=h.percentagePerpendicular){if(++R,p)continue;r=f*T-o,r=h[e.setHeight](r)}else r=h.getProp(y);if(!p&&A&&h[e.heightModel].shrinkWrap&&r>T&&(h.invalidate({before:F,after:O,layout:this,childHeight:T,names:e}),t.state.parallelDone=!1),isNaN(L=E(L,r+o,h.target[e.minHeight]||0)))return!1}if(u&&(L+=N,t[e.hasOverflowX]=!0,t.target.componentLayout[e.setHeightInDom]=!0,t[e.invalidateScrollX]=Ext.isStrict&&Ext.isIE8),(d=t.stretchMaxPartner)&&(t.setProp("maxChildHeight",L),(c=d.childItems)&&c.length&&(L=E(L,d.getProp("maxChildHeight")),isNaN(L))))return!1;t[e.setContentHeight](L+this.padding[y]+t.targetContext.getPaddingInfo()[y]),u&&(L-=N),i.maxSize=L,I?l=L:(P||M||R)&&(l=A?p?L:T:p?L:E(T,L),l-=t.innerCtContext.getBorderInfo()[y])}for(s=0;s<x;s++)n=S+(o=(h=m[s]).marginInfo||h.getMarginInfo())[b],D?h[v](l-o[y]):(f=h.percentagePerpendicular,p&&f&&(r=f*l-(o=h.marginInfo||h.getMarginInfo())[y],r=h.setHeight(r)),P?(a=l-h.props[y])>0&&(n=S+Math[this.alignRoundingMethod](a/2)):M&&(n=E(0,l-n-h.props[y]))),h.setProp(C,n);return!0},onBeforeConstrainInvalidateChild:function(t,e){var i=e.names.heightModel;t[i].constrainedMin||(t[i]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(t,e){var i=e.names;t.setProp(i.beforeY,0),t[i.heightModel].calculated&&t[i.setHeight](e.childHeight)},calculateStretchMax:function(t,e,i){var n,s,r,o,a=e.height,l=e.width,h=t.childItems,d=h.length,c=i.maxSize,u=this.onBeforeStretchMaxInvalidateChild,f=this.onAfterStretchMaxInvalidateChild;for(r=0;r<d;++r)s=(n=h[r]).props,((o=c-n.getMarginInfo()[a])!=s[a]||n[e.heightModel].constrained)&&n.invalidate({before:u,after:f,layout:this,childWidth:s[l],childHeight:o,childX:s.x,childY:s.y,names:e})},onBeforeStretchMaxInvalidateChild:function(t,e){var i=e.names.heightModel;t[i].constrainedMax||(t[i]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(t,e){var i=e.names,n=e.childHeight,s=e.childWidth;t.setProp("x",e.childX),t.setProp("y",e.childY),t[i.heightModel].calculated&&t[i.setHeight](n),t[i.widthModel].calculated&&t[i.setWidth](s)},completeLayout:function(t){var e,i,n,s,r,o=t.boxNames,a=t.invalidateScrollX,l=t.invalidateScrollY;this.overflowHandler.completeLayout(t),(a||l)&&(r=(e=(i=this.getTarget()).dom).style,a&&("auto"==(n=i.getStyle("overflowX"))?(n=r.overflowX,r.overflowX="scroll"):a=!1),l&&("auto"==(s=i.getStyle("overflowY"))?(s=r.overflowY,r.overflowY="scroll"):l=!1),(a||l)&&(e.scrollWidth,a&&(r.overflowX=n),l&&(r.overflowY=s))),this.scrollParallel&&(this.owner.getTargetEl().dom[o.scrollLeft]=this.scrollPos)},finishedLayout:function(t){this.overflowHandler.finishedLayout(t),this.callParent(arguments),this.targetEl.setWidth(t.innerCtContext.props.width)},publishInnerCtSize:function(t,e){var i,n=t.boxNames,s=n.height,r=n.width,o=t.boxOptions.align,a=this.owner.dock,l=this.padding,h=t.state.boxPlan,d=h.targetSize,c=d[s],u=t.innerCtContext,f=(t.parallelSizeModel.shrinkWrap||h.tooNarrow&&this.scrollParallel?t.state.contentWidth-t.targetContext.getPaddingInfo()[r]:d[r])-(e||0);o.stretch?i=c:(i=h.maxSize+l[n.beforeY]+l[n.afterY]+u.getBorderInfo()[s],t.perpendicularSizeModel.shrinkWrap||!o.center&&!o.bottom||(i=Math.max(c,i))),u[n.setWidth](f),u[n.setHeight](i),isNaN(f+i)&&(this.done=!1),!h.calculatedWidth||"left"!=a&&"right"!=a||t.setWidth(h.calculatedWidth,!0,!0)},onRemove:function(t){this.callParent(arguments),this.overflowHandler&&this.overflowHandler.onRemove(t),t.layoutMarginCap==this.id&&delete t.layoutMarginCap},initOverflowHandler:function(){var t,e,i=this.overflowHandler;"string"==typeof i&&(i={type:i}),t="None",i&&void 0!==i.type&&(t=i.type),(e=Ext.layout.container.boxOverflow[t])[this.type]&&(e=e[this.type]),this.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+t,this,i)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler),this.callParent(arguments)},getRenderData:function(){var t=this.callParent();return t.targetElCls=this.targetElCls,t}}),Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.HBoxLayout",align:"top",constrainAlign:!1,type:"hbox",direction:"horizontal",horizontal:!0,names:{beforeX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",scrollTop:"scrollTop",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}}),Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.VBoxLayout",align:"left",constrainAlign:!1,type:"vbox",direction:"vertical",horizontal:!1,names:{beforeX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",scrollTop:"scrollLeft",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}),Ext.define("Ext.toolbar.Toolbar",{extend:Ext.container.Container,alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){!this.layout&&this.enableOverflow&&(this.layout={overflowHandler:"Menu"}),"right"!==this.dock&&"left"!==this.dock||(this.vertical=!0),this.layout=Ext.applyIf(Ext.isString(this.layout)?{type:this.layout}:this.layout||{},{type:this.vertical?"vbox":"hbox",align:this.vertical?"stretchmax":"middle"}),this.vertical&&this.addClsWithUI("vertical"),"footer"===this.ui&&(this.ignoreBorderManagement=!0),this.callParent(),this.addEvents("overflowchange")},getRefItems:function(t){var e,i=this.callParent(arguments),n=this.layout;return t&&this.enableOverflow&&(e=n.overflowHandler)&&e.menu&&(i=i.concat(e.menu.getRefItems(t))),i},lookupComponent:function(t){var e=arguments;if("string"==typeof t){var i=Ext.toolbar.Toolbar,n=i.shortcutsHV[this.vertical?1:0][t]||i.shortcuts[t];t="string"==typeof n?{xtype:n}:n?Ext.apply({},n):{xtype:"tbtext",text:t},this.applyDefaults(t),e=[t]}return this.callParent(e)},applyDefaults:function(t){return Ext.isString(t)||(t=this.callParent(arguments)),t},trackMenu:function(t,e){if(this.trackMenus&&t.menu){var i=e?"mun":"mon";this[i](t,"mouseover",this.onButtonOver,this),this[i](t,"menushow",this.onButtonMenuShow,this),this[i](t,"menuhide",this.onButtonMenuHide,this)}},onBeforeAdd:function(t){var e=t.isButton;e&&this.defaultButtonUI&&"default"===t.ui&&!t.hasOwnProperty("ui")?t.ui=this.defaultButtonUI:(e||t.isFormField)&&"footer"!==this.ui&&(t.ui=t.ui+"-toolbar"),t instanceof Ext.toolbar.Separator&&t.setUI(this.vertical?"vertical":"horizontal"),this.callParent(arguments)},onAdd:function(t){this.callParent(arguments),this.trackMenu(t)},onRemove:function(t){this.callParent(arguments),this.trackMenu(t,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(t){this.activeMenuBtn&&this.activeMenuBtn!=t&&(this.activeMenuBtn.hideMenu(),t.showMenu(),this.activeMenuBtn=t)},onButtonMenuShow:function(t){this.activeMenuBtn=t},onButtonMenuHide:function(t){delete this.activeMenuBtn}}),Ext.define("Ext.layout.component.Dock",{extend:Ext.layout.component.Component,alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var t,e;this.callParent(),t=this.getRenderTarget(),e=this.getDockedItems(),this.finishRenderItems(t,e)},isItemBoxParent:function(t){return!0},isItemShrinkWrap:function(t){return!0},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},handleItemBorders:function(){var t,e,i,n,s,r,o,a=this.owner,l=this.lastDockedItems,h=this.borders,d=a.dockedItems.generation,c=this.noBorderClassesSides,u=this.borderWidthProps,f=this.collapsed;if(this.initializedBorders!=d&&(!a.border||a.manageBodyBorders)){for(this.initializedBorders=d,this.collapsed=!1,this.lastDockedItems=e=this.getLayoutItems(),this.collapsed=f,t={top:[],right:[],bottom:[],left:[]},i=0,n=e.length;i<n;i++)r=(s=e[i]).dock,s.ignoreBorderManagement||(t[r].satisfied||(t[r].push(s),t[r].satisfied=!0),t.top.satisfied||"bottom"===r||t.top.push(s),t.right.satisfied||"left"===r||t.right.push(s),t.bottom.satisfied||"top"===r||t.bottom.push(s),t.left.satisfied||"right"===r||t.left.push(s));if(l)for(i=0,n=l.length;i<n;i++)(s=l[i]).isDestroyed||s.ignoreBorderManagement||a.manageBodyBorders||s.removeCls(this.noBorderClasses);if(h)for(o in h)a.manageBodyBorders&&h[o].satisfied&&a.setBodyStyle(u[o],"");for(o in t)if(n=t[o].length,a.manageBodyBorders)t[o].satisfied&&a.setBodyStyle(u[o],"1px");else{for(i=0;i<n;i++)t[o][i].addCls(c[o]);(t[o].satisfied||a.bodyBorder)&&!1!==a.bodyBorder||a.addBodyCls(c[o])}this.borders=t}},beforeLayoutCycle:function(t){var e,i,n=this.owner,s=this.sizeModels.shrinkWrap,r=n.shrinkWrapDock;n.collapsed&&(n.collapsedVertical()?(i=!0,t.measureDimensions=1):(e=!0,t.measureDimensions=2)),t.collapsedVert=i,t.collapsedHorz=e,i?t.heightModel=s:e&&(t.widthModel=s),r=!0===r?3:r||0,t.shrinkWrapDockHeight=1&r&&t.heightModel.shrinkWrap,t.shrinkWrapDockWidth=2&r&&t.widthModel.shrinkWrap},beginLayout:function(t){var e,i,n,s,r,o,a,l=this.owner,h=this.getLayoutItems(),d=t.context,c=h.length;for(this.callParent(arguments),(o=l.getCollapsed())!==this.lastCollapsedState&&Ext.isDefined(this.lastCollapsedState)&&(this.owner.collapsed?(t.isCollapsingOrExpanding=1,l.addClsWithUI(l.collapsedCls)):(t.isCollapsingOrExpanding=2,l.removeClsWithUI(l.collapsedCls),t.lastCollapsedState=this.lastCollapsedState)),this.lastCollapsedState=o,t.dockedItems=e=[],i=0;i<c;i++)(n=h[i]).rendered&&(a=n.dock,(s=d.getCmp(n)).dockedAt={x:0,y:0},s.offsets=r=Ext.Element.parseBox(n.offsets||0),s.horizontal="top"==a||"bottom"==a,r.width=r.left+r.right,r.height=r.top+r.bottom,e.push(s));t.bodyContext=t.getEl("body")},beginLayoutCycle:function(t){var e,i,n,s=t.dockedItems,r=s.length,o=this.owner,a=o.frameBody,l=this.lastHeightModel;for(this.callParent(arguments),this.owner.manageHeight?this.lastBodyDisplay&&(o.body.dom.style.display=this.lastBodyDisplay=""):("inline-block"!==this.lastBodyDisplay&&(o.body.dom.style.display=this.lastBodyDisplay="inline-block"),l&&l.shrinkWrap&&!t.heightModel.shrinkWrap&&(o.body.dom.style.marginBottom="")),t.widthModel.auto&&(t.widthModel.shrinkWrap&&o.el.setWidth(null),o.body.setWidth(null),a&&a.setWidth(null)),t.heightModel.auto&&(o.body.setHeight(null),a&&a.setHeight(null)),t.collapsedVert?t.setContentHeight(0):t.collapsedHorz&&t.setContentWidth(0),e=0;e<r;e++)if(i=s[e].target,"right"==(n=i.dock))i.setLocalX(0);else if("left"!=n)continue},calculate:function(t){var e,i,n,s,r,o=this.measureAutoDimensions(t,t.measureDimensions),a=t.state,l=a.horzDone,h=a.vertDone,d=t.bodyContext;for(t.borderInfo||t.getBorderInfo(),t.paddingInfo||t.getPaddingInfo(),t.frameInfo||t.getFrameInfo(),d.borderInfo||d.getBorderInfo(),d.paddingInfo||d.getPaddingInfo(),t.frameBorder||((e=t.framing)?(t.frameBorder=e.border,t.framePadding=e.padding):(t.frameBorder=t.borderInfo,t.framePadding=t.paddingInfo)),i=!l&&this.createAxis(t,o.contentWidth,t.widthModel,this.horzAxisProps,t.collapsedHorz),n=!h&&this.createAxis(t,o.contentHeight,t.heightModel,this.vertAxisProps,t.collapsedVert),s=0,r=t.dockedItems.length;r--;++s)i&&this.dockChild(t,i,r,s),n&&this.dockChild(t,n,r,s);i&&this.finishAxis(t,i)&&(a.horzDone=l=i),n&&this.finishAxis(t,n)&&(a.vertDone=h=n),l&&h&&this.finishConstraints(t,l,h)?this.finishPositions(t,l,h):this.done=!1},createAxis:function(t,e,i,n,s){var r,o,a,l=0,h=this.owner,d=h[n.maxSize],c=h[n.minSize]||0,u=n.dockBegin,f=n.dockEnd,p=n.pos,g=n.size,m=null!=d;return i.shrinkWrap?a=s?0:e+t.bodyContext.borderInfo[g]:(r=t.frameBorder,o=t.framePadding,l=r[u]+o[u],a=t.getProp(g)-(r[f]+o[f])),{shrinkWrap:i.shrinkWrap,sizeModel:i,initialBegin:l,begin:l,end:a,collapsed:s,horizontal:n.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:a-l,maxChildSize:0,hasMinMaxConstraints:(c||m)&&i.shrinkWrap,minSize:c,maxSize:m?d:1e9,bodyPosProp:this.owner.manageHeight?p:n.marginBegin,dockBegin:u,dockEnd:f,posProp:p,sizeProp:g,setSize:n.setSize,shrinkWrapDock:t[n.shrinkWrapDock],sizeModelName:n.sizeModel,dockedPixelsEnd:0}},dockChild:function(t,e,i,n){var s,r,o=t.dockedItems[e.shrinkWrap?i:n],a=o.target,l=a.dock,h=e.sizeProp;a.ignoreParentFrame&&t.isCollapsingOrExpanding&&o.clearMarginCache(),o.marginInfo||o.getMarginInfo(),l==e.dockBegin?s=e.shrinkWrap?this.dockOutwardBegin(t,o,a,e):this.dockInwardBegin(t,o,a,e):l==e.dockEnd?s=e.shrinkWrap?this.dockOutwardEnd(t,o,a,e):this.dockInwardEnd(t,o,a,e):e.shrinkWrapDock?(r=o.getProp(h)+o.marginInfo[h],e.maxChildSize=Math.max(e.maxChildSize,r),s=0):s=this.dockStretch(t,o,a,e),o.dockedAt[e.posProp]=s},dockInwardBegin:function(t,e,i,n){var s,r,o,a=n.begin,l=n.sizeProp,h=i.ignoreParentFrame;return h&&(n.ignoreFrameBegin=e,o=i.dock,a-=(s=t.frameBorder[o])+t.framePadding[o]),i.overlay||(r=e.getProp(l)+e.marginInfo[l],n.begin+=r,h&&(n.begin-=s)),a},dockInwardEnd:function(t,e,i,n){var s,r=n.sizeProp,o=e.getProp(r)+e.marginInfo[r],a=n.end-o;return i.overlay||(n.end=a),i.ignoreParentFrame&&(n.ignoreFrameEnd=e,a+=(s=t.frameBorder[i.dock])+t.framePadding[i.dock],n.end+=s),a},dockOutwardBegin:function(t,e,i,n){var s=n.begin,r=n.sizeProp;return n.collapsed?n.ignoreFrameBegin=n.ignoreFrameEnd=e:i.ignoreParentFrame&&(n.ignoreFrameBegin=e),i.overlay||(s-=e.getProp(r)+e.marginInfo[r],n.begin=s),s},dockOutwardEnd:function(t,e,i,n){var s,r=n.end,o=n.sizeProp;return s=e.getProp(o)+e.marginInfo[o],n.collapsed?n.ignoreFrameBegin=n.ignoreFrameEnd=e:i.ignoreParentFrame&&(n.ignoreFrameEnd=e),i.overlay||(n.end=r+s,n.dockedPixelsEnd+=s),r},dockStretch:function(t,e,i,n){var s,r=i.dock,o=n.sizeProp,a="top"==r||"bottom"==r,l=t.frameBorder,h=e.offsets,d=t.framePadding,c=a?"right":"bottom",u=a?"left":"top",f=n.begin+h[u];return!1!==i.stretch&&(s=n.end-f-h[c],i.ignoreParentFrame&&(f-=d[u]+l[u],s+=d[o]+l[o]),s-=e.marginInfo[o],e[n.setSize](s)),f},finishAxis:function(t,e){if(isNaN(e.maxChildSize))return!1;var i,n,s,r,o=e.begin,a=e.end-o,l=e.collapsed,h=e.setSize,d=e.dockBegin,c=e.dockEnd,u=t.framePadding,f=t.frameBorder,p=f[d],g=t.framing,m=g&&g[d],x=l?0:u[d],E=e.sizeProp,y=e.ignoreFrameBegin,v=e.ignoreFrameEnd,b=t.bodyContext,C=Math.max(p+x-m,0);return e.shrinkWrap?(n=e.initialSize,g?i=(s=-o+p+x)-m-C:s=(i=-o)+x,l||(a+=u[E]),y?(s-=p,i-=p,y.dockedAt[e.posProp]-=x):a+=p,l||(v?v.dockedAt[e.posProp]+=u[c]:a+=f[c]),e.size=a,e.horizontal||this.owner.manageHeight||(r=!1)):(g?(s=0,i=o-m-C):(s=-p,i=o-x-p),n=a),e.delta=s,b[h](n,r),b.setProp(e.bodyPosProp,i),!isNaN(a)},beforeInvalidateShrinkWrapDock:function(t,e){var i=e.axis.sizeModelName;t[i].constrainedMin||(t[i]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(t,e){var i,n=e.axis,s=e.layout;t[n.sizeModelName].calculated&&(i=s.dockStretch(e.ownerContext,t,t.target,n),t.setProp(n.posProp,n.delta+i))},finishConstraints:function(t,e,i){var n,s,r,o,a,l,h,d,c,u,f=this.sizeModels,p=e.shrinkWrap,g=i.shrinkWrap,m=this.owner;if(p&&(l=e.size,h=e.collapsed?0:e.minSize,d=e.maxSize,c=e.maxChildSize,(u=Math.max(l,c))>d?(a=f.constrainedMax,r=d):u<h?(a=f.constrainedMin,r=h):l<c?(a=f.constrainedDock,m.dockConstrainedWidth=r=c):r=l),g&&(l=i.size,h=i.collapsed?0:i.minSize,d=i.maxSize,c=i.maxChildSize,(u=Math.max(l,c+l-i.initialSize))>d?(o=f.constrainedMax,s=d):u<h?(o=f.constrainedMin,s=h):l<c?(o=f.constrainedDock,m.dockConstrainedHeight=s=c):(t.collapsedVert||m.manageHeight||(n=!1,t.bodyContext.setProp("margin-bottom",i.dockedPixelsEnd)),s=l)),a||o){if(a&&o&&a.constrainedMax&&o.constrainedByMin)return t.invalidate({widthModel:a}),!1;if(!t.widthModel.calculatedFromShrinkWrap&&!t.heightModel.calculatedFromShrinkWrap)return t.invalidate({widthModel:a,heightModel:o}),!1}else this.invalidateAxes(t,e,i);return p&&(t.setWidth(r),a&&(t.widthModel=a)),g&&(t.setHeight(s,n),o&&(t.heightModel=o)),!0},invalidateAxes:function(t,e,i){var n,s,r,o,a,l,h,d,c=this.beforeInvalidateShrinkWrapDock,u=this.afterInvalidateShrinkWrapDock,f=e.end-e.begin,p=i.initialSize,g=e.shrinkWrapDock&&e.maxChildSize<f,m=i.shrinkWrapDock&&i.maxChildSize<p;if(g||m)for(m&&(i.begin=i.initialBegin,i.end=i.begin+i.initialSize),r=0,s=(n=t.dockedItems).length;r<s;++r)l=(o=n[r]).horizontal,h=null,g&&l?(d=e.sizeProp,a=f,h=e):m&&!l&&(d=i.sizeProp,a=p,h=i),h&&(a-=o.getMarginInfo()[d])!==o.props[d]&&o.invalidate({before:c,after:u,axis:h,ownerContext:t,layout:this})},finishPositions:function(t,e,i){var n,s,r=t.dockedItems,o=r.length,a=e.delta,l=i.delta;for(n=0;n<o;++n)(s=r[n]).setProp("x",a+s.dockedAt.x),s.setProp("y",l+s.dockedAt.y)},finishedLayout:function(t){var e=t.target;this.callParent(arguments),t.animatePolicy||(1===t.isCollapsingOrExpanding?e.afterCollapse(!1):2===t.isCollapsingOrExpanding&&e.afterExpand(!1))},getAnimatePolicy:function(t){var e,i;return 1==t.isCollapsingOrExpanding?e=this.lastCollapsedState:2==t.isCollapsingOrExpanding&&(e=t.lastCollapsedState),"left"==e||"right"==e?i=this.horizontalCollapsePolicy:"top"!=e&&"bottom"!=e||(i=this.verticalCollapsePolicy),i},getDockedItems:function(t,e){var i,n,s,r,o,a,l=this,h="visual"===t,d=h?Ext.ComponentQuery.query("[rendered]",l.owner.dockedItems.items):l.owner.dockedItems.items,c=d&&d.length&&!1!==t;if(null==e)s=c&&!h?d.slice():d;else{for(s=[],r=0,a=d.length;r<a;++r)o="top"==(n=d[r].dock)||"left"==n,(e?o:!o)&&s.push(d[r]);c=c&&s.length}return c&&(i="render"==(t=t||"render"),Ext.Array.sort(s,function(e,n){var s,r;return!i||(s=l.owner.dockOrder[e.dock])===(r=l.owner.dockOrder[n.dock])||s+r?(s=l.getItemWeight(e,t),r=l.getItemWeight(n,t),void 0!==s&&void 0!==r?s-r:0):s-r})),s||[]},getItemWeight:function(t,e){var i=t.weight||this.owner.defaultDockWeights[t.dock];return i[e]||i},getLayoutItems:function(){var t,e,i,n,s;if(this.owner.collapsed)s=this.owner.getCollapsedDockedItems();else for(e=(t=this.getDockedItems("visual")).length,s=[],n=0;n<e;n++)(i=t[n]).hidden||s.push(i);return s},measureContentWidth:function(t){var e=t.bodyContext;return e.el.getWidth()-e.getBorderInfo().width},measureContentHeight:function(t){var e=t.bodyContext;return e.el.getHeight()-e.getBorderInfo().height},redoLayout:function(t){var e=this.owner;1==t.isCollapsingOrExpanding?(e.reExpander&&e.reExpander.el.show(),e.addClsWithUI(e.collapsedCls),t.redo(!0)):2==t.isCollapsingOrExpanding&&(e.removeClsWithUI(e.collapsedCls),t.bodyContext.redo())},renderChildren:function(){var t=this.getDockedItems(),e=this.getRenderTarget();this.handleItemBorders(),this.renderItems(t,e)},renderItems:function(t,e){var i,n,s,r,o=t.length,a=0,l=0,h=0,d=this.getRenderTarget().dom.childNodes,c=d.length;for(i=0,n=0;i<c&&(s=d[i],!Ext.fly(s).hasCls(Ext.baseCSSPrefix+"resizable-handle"));i++){for(n=0;n<o&&(!(r=t[n]).rendered||r.el.dom!==s);n++);n===o&&h++}for(;a<o;a++,l++)r=t[a],a!==l||"right"!==r.dock&&"bottom"!==r.dock||(l+=h),r&&!r.rendered?this.renderItem(r,e,l):this.isValidParent(r,e,l)||this.moveItem(r,e,l)},undoLayout:function(t){var e=this.owner;1==t.isCollapsingOrExpanding?(e.reExpander&&e.reExpander.el.hide(),e.removeClsWithUI(e.collapsedCls),t.undo(!0)):2==t.isCollapsingOrExpanding&&(e.addClsWithUI(e.collapsedCls),t.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(t,e){var i,n,s=this.sizePolicy,r=this.owner.shrinkWrapDock;return!1===t.stretch?s.nostretch:(i=t.dock,n="left"==i||"right"==i,r=!0===r?3:r||0,n?(s=s.vert,r&=1):(s=s.horz,r&=2),r&&(e||(e=this.owner.getSizeModel()),e[n?"height":"width"].shrinkWrap)?s.shrinkWrap:s.stretch)},configureItem:function(t,e){this.callParent(arguments),t.addCls(Ext.baseCSSPrefix+"docked"),t.addClsWithUI(this.getDockCls(t.dock))},getDockCls:function(t){return"docked-"+t},afterRemove:function(t){this.callParent(arguments),this.itemCls&&t.el.removeCls(this.itemCls+"-"+t.dock);var e=t.el.dom;!t.destroying&&e&&e.parentNode.removeChild(e),this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var t,e=this.borderCollapseMap,i=this.owner,n=i.baseCls,s=i.ui;return e=e[n]||(e[n]={}),(t=e[s])||(n+="-"+s+"-outer-border-",e[s]=t=[0,n+"l",n+"b",n+"bl",n+"r",n+"rl",n+"rb",n+"rbl",n+"t",n+"tl",n+"tb",n+"tbl",n+"tr",n+"trl",n+"trb",n+"trbl"]),t}}),Ext.define("Ext.panel.AbstractPanel",{extend:Ext.container.Container,mixins:{docking:Ext.container.DockingContainer},baseCls:Ext.baseCSSPrefix+"panel",isPanel:!0,contentPaddingProperty:"bodyPadding",shrinkWrapDock:!1,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE7m||Ext.isIEQuirks?'<div style="position:relative"></div>':"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:!0,emptyArray:[],initComponent:function(){this.initBorderProps(),this.callParent()},initBorderProps:function(){this.frame&&this.border&&void 0===this.bodyBorder&&(this.bodyBorder=!1),this.frame&&this.border&&(!1===this.bodyBorder||0===this.bodyBorder)&&(this.manageBodyBorders=!0)},beforeDestroy:function(){this.destroyDockedItems(),this.callParent()},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var t=this.callParent();return this.initBodyStyles(),this.protoBody.writeTo(t),delete this.protoBody,t},getComponent:function(t){var e=this.callParent(arguments);return void 0!==e||Ext.isNumber(t)||(e=this.getDockedComponent(t)),e},getProtoBody:function(){var t=this.protoBody;return t||(this.protoBody=t=new Ext.util.ProtoElement({cls:this.bodyCls,style:this.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),t},initBodyStyles:function(){var t=this.getProtoBody();void 0!==this.bodyPadding&&(this.layout.managePadding?t.setStyle("padding",0):t.setStyle("padding",this.unitizeBox(!0===this.bodyPadding?5:this.bodyPadding))),this.initBodyBorder()},initBodyBorder:function(){this.frame&&this.bodyBorder&&(Ext.isNumber(this.bodyBorder)||(this.bodyBorder=1),this.getProtoBody().setStyle("border-width",this.unitizeBox(this.bodyBorder)))},getCollapsedDockedItems:function(){return!1===this.header||"placeholder"==this.collapseMode?this.emptyArray:[this.getReExpander()]},setBodyStyle:function(t,e){var i=this.rendered?this.body:this.getProtoBody();return Ext.isFunction(t)&&(t=t()),1==arguments.length?(Ext.isString(t)&&(t=Ext.Element.parseStyles(t)),i.setStyle(t)):i.setStyle(t,e),this},addBodyCls:function(t){return(this.rendered?this.body:this.getProtoBody()).addCls(t),this},removeBodyCls:function(t){return(this.rendered?this.body:this.getProtoBody()).removeCls(t),this},addUIClsToElement:function(t){var e=this.callParent(arguments);return this.addBodyCls([Ext.baseCSSPrefix+t,this.baseCls+"-body-"+t,this.baseCls+"-body-"+this.ui+"-"+t]),e},removeUIClsFromElement:function(t){var e=this.callParent(arguments);return this.removeBodyCls([Ext.baseCSSPrefix+t,this.baseCls+"-body-"+t,this.baseCls+"-body-"+this.ui+"-"+t]),e},addUIToElement:function(){this.callParent(arguments),this.addBodyCls(this.baseCls+"-body-"+this.ui)},removeUIFromElement:function(){this.callParent(arguments),this.removeBodyCls(this.baseCls+"-body-"+this.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(t){this.getProtoBody().addCls(t)},getRefItems:function(t){var e=this.callParent(arguments);return this.getDockingRefItems(t,e)},setupRenderTpl:function(t){this.callParent(arguments),this.setupDockingRenderTpl(t)}}),Ext.define("Ext.panel.Header",{extend:Ext.container.Container,alias:"widget.header",isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,componentLayout:"body",childEls:["body"],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text" unselectable="on">{title}</span>'],shrinkWrap:3,titlePosition:0,headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var t=this.hasOwnProperty("titlePosition"),e=this.items,i=t?this.titlePosition:e?e.length:0,n=[this.orientation,this.getDockName()],s=this.ownerCt;this.addEvents("click","dblclick"),this.indicateDragCls=this.headerCls+"-draggable",this.title=this.title||"&#160;",this.tools=this.tools||[],e=this.items=e?Ext.Array.slice(e):[],this.orientation=this.orientation||"horizontal",this.dock=this.dock?this.dock:"horizontal"==this.orientation?"top":"left",(s?s.border||s.frame:this.border)||n.push(this.orientation+"-noborder"),this.addClsWithUI(n),this.addCls([this.headerCls,this.headerCls+"-"+this.orientation]),this.indicateDrag&&this.addCls(this.indicateDragCls),(this.iconCls||this.icon||this.glyph)&&(this.initIconCmp(),t||e.length||++i,e.push(this.iconCmp)),this.titleCmp=new Ext.Component({ariaRole:"heading",focusable:!1,noWrap:!0,flex:1,rtl:this.rtl,id:this.id+"_hd",style:this.titleAlign?"text-align:"+this.titleAlign:"",cls:this.headerCls+"-text-container "+this.baseCls+"-text-container "+this.baseCls+"-text-container-"+this.ui,renderTpl:this.getTpl("headingTpl"),renderData:{title:this.title,cls:this.baseCls,headerCls:this.headerCls,ui:this.ui},childEls:["textEl"],autoEl:{unselectable:"on"},listeners:{render:this.onTitleRender,scope:this}}),this.layout="vertical"==this.orientation?{type:"vbox",align:"center",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},Ext.Array.push(e,this.tools),this.tools.length=0,this.callParent(),e.length<i&&(i=e.length),this.titlePosition=i,this.insert(i,this.titleCmp),this.on({dblclick:this.onDblClick,click:this.onClick,element:"el",scope:this})},initIconCmp:function(){var t,e=[this.headerCls+"-icon",this.baseCls+"-icon",this.iconCls];this.glyph&&e.push(this.baseCls+"-glyph"),t={focusable:!1,src:Ext.BLANK_IMAGE_URL,cls:e,baseCls:this.baseCls+"-icon",id:this.id+"-iconEl",iconCls:this.iconCls,glyph:this.glyph},Ext.isEmpty(this.icon)||(delete t.iconCls,t.src=this.icon),this.iconCmp=new Ext.Img(t)},beforeRender:function(){this.protoEl.unselectable(),this.callParent()},afterLayout:function(){var t,e,i,n;"vertical"===this.orientation&&(this.adjustTitlePosition(),(e=this.frameTR)&&(t=this.frameBR,i=this.frameTL,n=this.getWidth()-e.getPadding("r")-(i?i.getPadding("l"):this.el.getBorderWidth("l"))+"px",t.setStyle("background-position-x",n),e.setStyle("background-position-x",n)),Ext.isIE7&&Ext.isStrict&&this.frame&&this.el.repaint())},beforeLayout:function(){this.callParent(),this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var t,e=this.titleCmp;!Ext.isIE9m&&e&&(t=e.el).setStyle("left",t.getWidth()+"px")},onTitleRender:function(){"vertical"===this.orientation&&this.titleCmp.el.setVertical(90)},addUIClsToElement:function(t){var e,i,n=this.callParent(arguments),s=[this.baseCls+"-body-"+t,this.baseCls+"-body-"+this.ui+"-"+t];if(this.bodyCls){for(e=this.bodyCls.split(" "),i=0;i<s.length;i++)Ext.Array.contains(e,s[i])||e.push(s[i]);this.bodyCls=e.join(" ")}else this.bodyCls=s.join(" ");return n},removeUIClsFromElement:function(t){var e,i,n=this.callParent(arguments),s=[this.baseCls+"-body-"+t,this.baseCls+"-body-"+this.ui+"-"+t];if(this.bodyCls){for(e=this.bodyCls.split(" "),i=0;i<s.length;i++)Ext.Array.remove(e,s[i]);this.bodyCls=e.join(" ")}return n},addUIToElement:function(){var t,e;this.callParent(arguments),e=this.baseCls+"-body-"+this.ui,this.rendered?this.bodyCls?this.body.addCls(this.bodyCls):this.body.addCls(e):this.bodyCls?(t=this.bodyCls.split(" "),Ext.Array.contains(t,e)||t.push(e),this.bodyCls=t.join(" ")):this.bodyCls=e,this.titleCmp&&this.titleCmp.rendered&&this.titleCmp.addCls(this.baseCls+"-text-container-"+this.ui)},removeUIFromElement:function(){var t,e;this.callParent(arguments),e=this.baseCls+"-body-"+this.ui,this.rendered?this.bodyCls?this.body.removeCls(this.bodyCls):this.body.removeCls(e):this.bodyCls?(t=this.bodyCls.split(" "),Ext.Array.remove(t,e),this.bodyCls=t.join(" ")):this.bodyCls=e,this.titleCmp&&this.titleCmp.rendered&&this.titleCmp.removeCls(this.baseCls+"-text-container-"+this.ui)},onClick:function(t){this.fireClickEvent("click",t)},onDblClick:function(t){this.fireClickEvent("dblclick",t)},fireClickEvent:function(t,e){var i="."+Ext.panel.Tool.prototype.baseCls;e.getTarget(i)||this.fireEvent(t,this,e)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(t){this.bodyTargetCls=t},setTitle:function(t){var e=this,i=e.titleCmp;e.title=t,i.rendered?(i.textEl.update(e.title||"&#160;"),i.updateLayout()):e.titleCmp.on({render:function(){e.setTitle(t)},single:!0})},getMinWidth:function(){var t,e,i,n=this.titleCmp.textEl.dom,s=this.tools;if(n.style.display="inline",t=n.offsetWidth,n.style.display="",s&&(e=s.length))for(i=0;i<e;i++)s[i].el&&(t+=s[i].el.dom.offsetWidth);return this.iconCmp&&(t+=this.iconCmp.el.dom.offsetWidth),t+10},setIconCls:function(t){var e=!t||!t.length,i=this.iconCmp;this.iconCls=t,this.iconCmp||e?i&&(e?(this.iconCmp.destroy(),delete this.iconCmp):(i.removeCls(i.iconCls),i.addCls(t),i.iconCls=t)):(this.initIconCmp(),this.insert(0,this.iconCmp))},setIcon:function(t){var e=!t||!t.length,i=this.iconCmp;this.icon=t,this.iconCmp||e?i&&(e?(this.iconCmp.destroy(),delete this.iconCmp):i.setSrc(this.icon)):(this.initIconCmp(),this.insert(0,this.iconCmp))},setGlyph:function(t){var e=this.iconCmp;this.iconCmp?e&&(t?this.iconCmp.setGlyph(t):(this.iconCmp.destroy(),delete this.iconCmp)):(this.initIconCmp(),this.insert(0,this.iconCmp))},getTools:function(){return this.tools.slice()},addTool:function(t){this.add(Ext.ComponentManager.create(t,"tool"))},syncBeforeAfterTitleClasses:function(){var t,e,i,n,s=this.items,r=s.items,o=this.titlePosition,a=r.length,l=s.generation,h=this.syncBeforeAfterGen;if(h!==l)for(this.syncBeforeAfterGen=l,i=0;i<a;++i)t=(n=r[i]).afterTitleCls||(n.afterTitleCls=n.baseCls+"-after-title"),e=n.beforeTitleCls||(n.beforeTitleCls=n.baseCls+"-before-title"),!this.title||i<o?(h&&n.removeCls(t),n.addCls(e)):i>o&&(h&&n.removeCls(e),n.addCls(t))},onAdd:function(t,e){var i=this.tools;this.callParent(arguments),t.isTool&&(i.push(t),i[t.type]=t)},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock}}),Ext.define("Ext.dd.DragDrop",{constructor:function(t,e,i){t&&this.init(t,e,i)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(t,e){},startDrag:function(t,e){},b4Drag:function(t){},onDrag:function(t){},onDragEnter:function(t,e){},b4DragOver:function(t){},onDragOver:function(t,e){},b4DragOut:function(t){},onDragOut:function(t,e){},b4DragDrop:function(t){},onDragDrop:function(t,e){},onInvalidDrop:function(t){},b4EndDrag:function(t){},endDrag:function(t){},b4MouseDown:function(t){},onMouseDown:function(t){},onMouseUp:function(t){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(t,e,i){Ext.isNumber(e)&&(e={left:e,right:e,top:e,bottom:e}),e=e||this.defaultPadding;var n,s,r,o,a=Ext.get(this.getEl()).getBox(),l=Ext.get(t),h=l.getScroll(),d=l.dom;n=d==document.body?{x:h.left,y:h.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}:{x:(s=l.getXY())[0],y:s[1],width:d.clientWidth,height:d.clientHeight},r=a.y-n.y,o=a.x-n.x,this.resetConstraints(),this.setXConstraint(o-(e.left||0),n.width-o-a.width-(e.right||0),this.xTickSize),this.setYConstraint(r-(e.top||0),n.height-r-a.height-(e.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(t,e,i){this.initTarget(t,e,i),Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(t,e,i){this.config=i||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof t&&(t=Ext.id(t)),this.id=t,this.addToGroup(e||"default"),this.handleElId=t,this.setDragElId(t),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=!1!==this.config.isTarget,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=!1!==this.config.primaryButtonOnly},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(t,e,i,n){this.padding=e||0===e?i||0===i?[t,e,i,n]:[t,e,t,e]:[t,t,t,t]},setInitPosition:function(t,e){var i,n,s,r=this.getEl();this.DDMInstance.verifyEl(r)&&(i=t||0,n=e||0,s=Ext.Element.getXY(r),this.initPageX=s[0]-i,this.initPageY=s[1]-n,this.lastPageX=s[0],this.lastPageY=s[1],this.setStartPosition(s))},setStartPosition:function(t){var e=t||Ext.Element.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=e[0],this.startPageY=e[1]},addToGroup:function(t){this.groups[t]=!0,this.DDMInstance.regDragDrop(this,t)},removeFromGroup:function(t){this.groups[t]&&delete this.groups[t],this.DDMInstance.removeDDFromGroup(this,t)},setDragElId:function(t){this.dragElId=t},setHandleElId:function(t){"string"!=typeof t&&(t=Ext.id(t)),this.handleElId=t,this.DDMInstance.regHandle(this.id,t)},setOuterHandleElId:function(t){"string"!=typeof t&&(t=Ext.id(t)),Ext.EventManager.on(t,"mousedown",this.handleMouseDown,this),this.setHandleElId(t),this.hasOuterHandles=!0},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this),this._domRef=null,this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(t,e){var i;this.primaryButtonOnly&&0!=t.button||this.isLocked()||(this.DDMInstance.refreshCache(this.groups),(this.hasOuterHandles||this.DDMInstance.isOverTarget(t.getPoint(),this))&&this.clickValidator(t)&&(i=Ext.Element.getActiveElement(),this.setStartPosition(),this.b4MouseDown(t),this.onMouseDown(t),this.DDMInstance.handleMouseDown(t,this),i&&Ext.fly(i).blur(),this.DDMInstance.stopEvent(t)))},clickValidator:function(t){var e=t.getTarget();return this.isValidHandleChild(e)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(e,this.id))},addInvalidHandleType:function(t){var e=t.toUpperCase();this.invalidHandleTypes[e]=e},addInvalidHandleId:function(t){"string"!=typeof t&&(t=Ext.id(t)),this.invalidHandleIds[t]=t},addInvalidHandleClass:function(t){this.invalidHandleClasses.push(t)},removeInvalidHandleType:function(t){var e=t.toUpperCase();delete this.invalidHandleTypes[e]},removeInvalidHandleId:function(t){"string"!=typeof t&&(t=Ext.id(t)),delete this.invalidHandleIds[t]},removeInvalidHandleClass:function(t){for(var e=0,i=this.invalidHandleClasses.length;e<i;++e)this.invalidHandleClasses[e]==t&&delete this.invalidHandleClasses[e]},isValidHandleChild:function(t){var e,i,n,s=!0;try{e=t.nodeName.toUpperCase()}catch(i){e=t.nodeName}for(s=(s=s&&!this.invalidHandleTypes[e])&&!this.invalidHandleIds[t.id],i=0,n=this.invalidHandleClasses.length;s&&i<n;++i)s=!Ext.fly(t).hasCls(this.invalidHandleClasses[i]);return s},setXTicks:function(t,e){this.xTicks=[],this.xTickSize=e;var i,n={};for(i=this.initPageX;i>=this.minX;i-=e)n[i]||(this.xTicks[this.xTicks.length]=i,n[i]=!0);for(i=this.initPageX;i<=this.maxX;i+=e)n[i]||(this.xTicks[this.xTicks.length]=i,n[i]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(t,e){this.yTicks=[],this.yTickSize=e;var i,n={};for(i=this.initPageY;i>=this.minY;i-=e)n[i]||(this.yTicks[this.yTicks.length]=i,n[i]=!0);for(i=this.initPageY;i<=this.maxY;i+=e)n[i]||(this.yTicks[this.yTicks.length]=i,n[i]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(t,e,i){this.leftConstraint=t,this.rightConstraint=e,this.minX=this.initPageX-t,this.maxX=this.initPageX+e,i&&this.setXTicks(this.initPageX,i),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(t,e,i){this.topConstraint=t,this.bottomConstraint=e,this.minY=this.initPageY-t,this.maxY=this.initPageY+e,i&&this.setYTicks(this.initPageY,i),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||0===this.initPageX){var t=this.maintainOffset?this.lastPageX-this.initPageX:0,e=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(t,e)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(t,e){if(e){if(e[0]>=t)return e[0];var i,n,s,r;for(i=0,n=e.length;i<n;++i)if(s=i+1,e[s]&&e[s]>=t)return r=t-e[i],e[s]-t>r?e[i]:e[s];return e[e.length-1]}return t},toString:function(){return"DragDrop "+this.id}}),Ext.define("Ext.dd.DD",{extend:Ext.dd.DragDrop,constructor:function(t,e,i){t&&this.init(t,e,i)},scroll:!0,autoOffset:function(t,e){var i=t-this.startPageX,n=e-this.startPageY;this.setDelta(i,n)},setDelta:function(t,e){this.deltaX=t,this.deltaY=e},setDragElPos:function(t,e){var i=this.getDragEl();this.alignElWithMouse(i,t,e)},alignElWithMouse:function(t,e,i){var n,s,r,o,a=this.getTargetCoord(e,i),l=t.dom?t:Ext.fly(t,"_dd"),h=l.getSize(),d=Ext.Element;return this.deltaSetXY?(n=this.cachedViewportSize,this.setLocalXY(l,Math.max(0,Math.min(a.x+this.deltaSetXY[0],n.width-h.width)),Math.max(0,Math.min(a.y+this.deltaSetXY[1],n.height-h.height)))):(n=this.cachedViewportSize={width:d.getDocumentWidth(),height:d.getDocumentHeight()},s=[Math.max(0,Math.min(a.x,n.width-h.width)),Math.max(0,Math.min(a.y,n.height-h.height))],l.setXY(s),r=this.getLocalX(l),o=l.getLocalY(),this.deltaSetXY=[r-a.x,o-a.y]),this.cachePosition(a.x,a.y),this.autoScroll(a.x,a.y,t.offsetHeight,t.offsetWidth),a},cachePosition:function(t,e){if(t)this.lastPageX=t,this.lastPageY=e;else{var i=Ext.Element.getXY(this.getEl());this.lastPageX=i[0],this.lastPageY=i[1]}},autoScroll:function(t,e,i,n){if(this.scroll){var s=Ext.Element.getViewHeight(),r=Ext.Element.getViewWidth(),o=this.DDMInstance.getScrollTop(),a=this.DDMInstance.getScrollLeft(),l=i+e,h=n+t,d=s+o-e-this.deltaY,c=r+a-t-this.deltaX,u=document.all?80:30;l>s&&d<40&&window.scrollTo(a,o+u),e<o&&o>0&&e-o<40&&window.scrollTo(a,o-u),h>r&&c<40&&window.scrollTo(a+u,o),t<a&&a>0&&t-a<40&&window.scrollTo(a-u,o)}},getTargetCoord:function(t,e){var i=t-this.deltaX,n=e-this.deltaY;return this.constrainX&&(i<this.minX&&(i=this.minX),i>this.maxX&&(i=this.maxX)),this.constrainY&&(n<this.minY&&(n=this.minY),n>this.maxY&&(n=this.maxY)),i=this.getTick(i,this.xTicks),n=this.getTick(n,this.yTicks),{x:i,y:n}},applyConfig:function(){this.callParent(),this.scroll=!1!==this.config.scroll},b4MouseDown:function(t){this.autoOffset(t.getPageX(),t.getPageY())},b4Drag:function(t){this.setDragElPos(t.getPageX(),t.getPageY())},toString:function(){return"DD "+this.id},getLocalX:function(t){return t.getLocalX()},setLocalXY:function(t,e,i){t.setLocalXY(e,i)}}),Ext.define("Ext.dd.DDProxy",{extend:Ext.dd.DD,statics:{dragElId:"ygddfdiv"},constructor:function(t,e,i){t&&(this.init(t,e,i),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var t,e,i=this,n=document.body;n&&n.firstChild?(t=this.getDragEl())||((t=document.createElement("div")).id=this.dragElId,(e=t.style).position="absolute",e.visibility="hidden",e.cursor="move",e.border="2px solid #aaa",e.zIndex=999,n.insertBefore(t,n.firstChild)):setTimeout(function(){i.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=!1!==this.config.resizeFrame,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(t,e){this.getEl();var i=this.getDragEl(),n=i.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(n.width,10)/2),Math.round(parseInt(n.height,10)/2)),this.setDragElPos(t,e),Ext.fly(i).show()},_resizeProxy:function(){if(this.resizeFrame){var t=this.getEl();Ext.fly(this.getDragEl()).setSize(t.offsetWidth,t.offsetHeight)}},b4MouseDown:function(t){var e=t.getPageX(),i=t.getPageY();this.autoOffset(e,i),this.setDragElPos(e,i)},b4StartDrag:function(t,e){this.showFrame(t,e)},b4EndDrag:function(t){Ext.fly(this.getDragEl()).hide()},endDrag:function(t){var e=this.getEl(),i=this.getDragEl();i.style.visibility="",this.beforeMove(),e.style.visibility="hidden",Ext.dd.DDM.moveToEl(e,i),i.style.visibility="hidden",e.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.define("Ext.dd.StatusProxy",{extend:Ext.Component,animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",constructor:function(t){t=t||{},Ext.apply(this,{hideMode:"visibility",hidden:!0,floating:!0,id:this.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:t.shadow||!1,renderTo:Ext.getDetachedBody()}),this.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(t){t=t||this.dropNotAllowed,this.dropStatus!=t&&(this.el.replaceCls(this.dropStatus,t),this.dropStatus=t)},reset:function(t){var e=Ext.baseCSSPrefix+"dd-drag-proxy ";this.el.replaceCls(e+this.dropAllowed,e+this.dropNotAllowed),this.dropStatus=this.dropNotAllowed,t&&this.ghost.update("")},update:function(t){"string"==typeof t?this.ghost.update(t):(this.ghost.update(""),t.style.margin="0",this.ghost.dom.appendChild(t));var e=this.ghost.dom.firstChild;e&&Ext.fly(e).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(t){this.callParent(),t&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(t,e,i){this.callback=e,this.scope=i,t&&!1!==this.animRepair?(this.el.addCls(this.repairCls),this.el.hideUnders(!0),this.anim=this.el.animate({duration:this.repairDuration||500,easing:"ease-out",to:{x:t[0],y:t[1]},stopAnimation:!0,callback:this.afterRepair,scope:this})):this.afterRepair()},afterRepair:function(){this.hide(!0),this.el.removeCls(this.repairCls),"function"==typeof this.callback&&this.callback.call(this.scope||this),delete this.callback,delete this.scope}}),Ext.define("Ext.dd.DragSource",{extend:Ext.dd.DDProxy,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(t,e){this.el=Ext.get(t),this.dragData||(this.dragData={}),Ext.apply(this,e),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:!0===this.scroll}]),this.dragging=!1},getDragData:function(t){return this.dragData},onDragEnter:function(t,e){var i,n=Ext.dd.DragDropManager.getDDById(e);this.cachedTarget=n,!1!==this.beforeDragEnter(n,t,e)&&(n.isNotifyTarget?(i=n.notifyEnter(this,t,this.dragData),this.proxy.setStatus(i)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(n,t,e))},beforeDragEnter:function(t,e,i){return!0},onDragOver:function(t,e){var i,n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(e);!1!==this.beforeDragOver(n,t,e)&&(n.isNotifyTarget&&(i=n.notifyOver(this,t,this.dragData),this.proxy.setStatus(i)),this.afterDragOver&&this.afterDragOver(n,t,e))},beforeDragOver:function(t,e,i){return!0},onDragOut:function(t,e){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(e);!1!==this.beforeDragOut(i,t,e)&&(i.isNotifyTarget&&i.notifyOut(this,t,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(i,t,e)),this.cachedTarget=null},beforeDragOut:function(t,e,i){return!0},onDragDrop:function(t,e){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(e);!1!==this.beforeDragDrop(i,t,e)&&(i.isNotifyTarget?!1!==i.notifyDrop(this,t,this.dragData)?this.onValidDrop(i,t,e):this.onInvalidDrop(i,t,e):this.onValidDrop(i,t,e),this.afterDragDrop&&this.afterDragDrop(i,t,e)),delete this.cachedTarget},beforeDragDrop:function(t,e,i){return!0},onValidDrop:function(t,e,i){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(t,e,i)},getRepairXY:function(t,e){return this.el.getXY()},onInvalidDrop:function(t,e,i){e||(e=t,t=null,i=e.getTarget().id),this.beforeInvalidDrop(t,e,i),this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,e,this.dragData),this.cacheTarget=null),this.proxy.repair(this.getRepairXY(e,this.dragData),this.afterRepair,this),this.afterInvalidDrop&&this.afterInvalidDrop(e,i)},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.repairHighlightColor),this.dragging=!1},beforeInvalidDrop:function(t,e,i){return!0},handleMouseDown:function(t){if(!this.dragging){var e=this.getDragData(t);e&&!1!==this.onBeforeDrag(e,t)&&(this.dragData=e,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(t,e){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(t,e){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(t,e),this.proxy.show()},onInitDrag:function(t,e){var i=this.el.dom.cloneNode(!0);return i.id=Ext.id(),this.proxy.update(i),this.onStartDrag(t,e),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(t){},endDrag:function(t){this.onEndDrag(this.dragData,t)},onEndDrag:function(t,e){},autoOffset:function(t,e){this.setDelta(-12,-20)},destroy:function(){this.callParent(),Ext.destroy(this.proxy)}}),Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(t,e){this.panel=t,this.id=this.panel.id+"-ddproxy",Ext.apply(this,e)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){this.ghost&&(this.proxy&&(this.proxy.remove(),delete this.proxy),this.panel.unghost(null,this.moveOnDrag),delete this.ghost)},show:function(){var t;this.ghost||(t=this.panel.getSize(),this.panel.el.setVisibilityMode(Ext.Element.DISPLAY),this.ghost=this.panel.ghost(),this.insertProxy&&(this.proxy=this.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),this.proxy.setSize(t)))},repair:function(t,e,i){this.hide(),Ext.callback(e,i||this)},moveProxy:function(t,e){this.proxy&&t.insertBefore(this.proxy.dom,e)}}),Ext.define("Ext.panel.DD",{extend:Ext.dd.DragSource,constructor:function(t,e){this.panel=t,this.dragData={panel:t},this.panelProxy=new Ext.panel.Proxy(t,e),this.proxy=this.panelProxy.proxy,this.callParent([t.el,e]),this.setupEl(t)},setupEl:function(t){var e=t.header,i=t.body;e&&(this.setHandleElId(e.id),i=e.el),i?(i.setStyle("cursor","move"),this.scroll=!1):t.on("boxready",this.setupEl,this,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(t,e){this.panelProxy.show()},b4MouseDown:function(t){var e=t.getPageX(),i=t.getPageY();this.autoOffset(e,i)},onInitDrag:function(t,e){return this.onStartDrag(t,e),!0},createFrame:Ext.emptyFn,getDragEl:function(t){var e=this.panelProxy.ghost;if(e)return e.el.dom},endDrag:function(t){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(t,e){t-=this.startPageX,e-=this.startPageY,this.setDelta(t,e)},onInvalidDrop:function(t,e,i){this.beforeInvalidDrop(t,e,i),this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,e,this.dragData),this.cacheTarget=null),this.afterInvalidDrop&&this.afterInvalidDrop(e,i)}}),Ext.define("Ext.util.Memento",function(){function t(t,e,i,n){t[n?n+i:i]=e[i]}function e(t,e,i){delete t[i]}function i(t,e,i,s){var r=s?s+i:i,o=t[r];(o||t.hasOwnProperty(r))&&n(e,i,o)}function n(t,e,i){Ext.isDefined(i)?t[e]=i:delete t[e]}function s(t,e,i,n,s){if(e)if(Ext.isArray(n)){var r,o=n.length;for(r=0;r<o;r++)t(e,i,n[r],s)}else t(e,i,n,s)}return{data:null,target:null,constructor:function(t,e){t&&(this.target=t,e&&this.capture(e))},capture:function(e,i,n){s(t,this.data||(this.data={}),i||this.target,e,n)},remove:function(t){s(e,this.data,null,t)},restore:function(t,e,n,r){s(i,this.data,n||this.target,t,r),!1!==e&&this.remove(t)},restoreAll:function(t,e){var i,s=e||this.target,r=this.data;for(i in r)r.hasOwnProperty(i)&&n(s,i,r[i]);!1!==t&&delete this.data}}}()),Ext.define("Ext.panel.Panel",{extend:Ext.panel.AbstractPanel,alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:void 0,floatable:!0,collapsible:void 0,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:void 0,headerPosition:"top",frame:!1,frameHeader:!0,manageHeight:!0,constrain:!1,constrainHeader:!1,initComponent:function(){this.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat"),this.collapsible&&this.addStateEvents(["expand","collapse"]),this.unstyled&&this.setUI("plain"),this.frame&&this.setUI(this.ui+"-framed"),this.bridgeToolbars(),this.callParent(),this.collapseDirection=this.collapseDirection||this.headerPosition||Ext.Component.DIRECTION_TOP,this.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){Ext.destroy(this.placeholder,this.ghostPanel,this.dd),this.callParent()},initAria:function(){this.callParent(),this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var t=this.el,e=this.header;t&&e&&t.dom.setAttribute("aria-labelledby",e.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(t){var e=this.title,i=this.header,n=this.reExpander,s=this.placeholder;this.title=t,i?i.isHeader?i.setTitle(t):i.title=t:this.updateHeader(),n&&n.setTitle(t),s&&s.setTitle&&s.setTitle(t),this.fireEvent("titlechange",this,t,e)},setIconCls:function(t){var e=this.iconCls,i=this.header,n=this.placeholder;this.iconCls=t,i?i.isHeader?i.setIconCls(t):i.iconCls=t:this.updateHeader(),n&&n.setIconCls&&n.setIconCls(t),this.fireEvent("iconclschange",this,t,e)},setIcon:function(t){var e=this.icon,i=this.header,n=this.placeholder;this.icon=t,i?i.isHeader?i.setIcon(t):i.icon=t:this.updateHeader(),n&&n.setIcon&&n.setIcon(t),this.fireEvent("iconchange",this,t,e)},setGlyph:function(t){var e=this.glyph,i=this.header,n=this.placeholder;this.glyph=t,i?i.isHeader?i.setGlyph(t):i.glyph=t:this.updateHeader(),n&&n.setGlyph&&n.setIcon(t),this.fireEvent("glyphchange",this,t,e)},bridgeToolbars:function(){function t(t,e,i){return Ext.isArray(t)?t={xtype:"toolbar",items:t}:t.xtype||(t.xtype="toolbar"),t.dock=e,"left"!=e&&"right"!=e||(t.vertical=!0),i&&(t.layout=Ext.applyIf(t.layout||{},{pack:{left:"start",center:"center"}[n.buttonAlign]||"end"})),t}var e,i,n=this,s=[],r=n.minButtonWidth;n.tbar&&(s.push(t(n.tbar,"top")),n.tbar=null),n.bbar&&(s.push(t(n.bbar,"bottom")),n.bbar=null),n.buttons&&(n.fbar=n.buttons,n.buttons=null),n.fbar&&((e=t(n.fbar,"bottom",!0)).ui="footer",r&&(i=e.defaults,e.defaults=function(t){var e=i||{};return!(!t.xtype||"button"===t.xtype||t.isComponent&&t.isXType("button"))||"minWidth"in e||(e=Ext.apply({minWidth:r},e)),e}),s.push(e),n.fbar=null),n.lbar&&(s.push(t(n.lbar,"left")),n.lbar=null),n.rbar&&(s.push(t(n.rbar,"right")),n.rbar=null),n.dockedItems?(Ext.isArray(n.dockedItems)||(n.dockedItems=[n.dockedItems]),n.dockedItems=n.dockedItems.concat(s)):n.dockedItems=s},isPlaceHolderCollapse:function(){return"placeholder"==this.collapseMode},onBoxReady:function(){this.callParent(),this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var t;this.callParent(),this.initTools(),this.preventHeader||!1===this.header||this.updateHeader(),this.collapsed&&(this.isPlaceHolderCollapse()?this.hidden||(this.hidden=!0,this.preventCollapseFire=!0,this.placeholderCollapse(),delete this.preventCollapseFire,t=this.collapsed,this.collapsed=!1):(this.beginCollapse(),this.addClsWithUI(this.collapsedCls))),t&&(this.collapsed=t)},initTools:function(){this.tools=this.tools?Ext.Array.clone(this.tools):[],!this.collapsible||this.hideCollapseTool||!1===this.header||this.preventHeader||(this.collapseDirection=this.collapseDirection||this.headerPosition||"top",this.collapseTool=this.expandTool=Ext.widget({xtype:"tool",type:this.collapsed&&!this.isPlaceHolderCollapse()?"expand-"+this.getOppositeDirection(this.collapseDirection):"collapse-"+this.collapseDirection,handler:this.toggleCollapse,scope:this}),this.collapseFirst&&this.tools.unshift(this.collapseTool)),this.addTools(),this.closable&&(this.addClsWithUI("closable"),this.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(this.close,this,[])}))),this.collapseTool&&!this.collapseFirst&&this.addTool(this.collapseTool)},addTools:Ext.emptyFn,close:function(){!1!==this.fireEvent("beforeclose",this)&&this.doClose()},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},updateHeader:function(t){var e=this.header,i=this.title,n=this.tools,s=this.icon||this.iconCls,r="left"==this.headerPosition||"right"==this.headerPosition;Ext.isObject(e)||!1!==e&&(t||i||s||n&&n.length||this.collapsible&&!this.titleCollapse)?(e&&e.isHeader?e.show():(e=this.header=Ext.widget(Ext.apply({xtype:"header",title:i,titleAlign:this.titleAlign,orientation:r?"vertical":"horizontal",dock:this.headerPosition||"top",textCls:this.headerTextCls,iconCls:this.iconCls,icon:this.icon,glyph:this.glyph,baseCls:this.baseCls+"-header",tools:n,ui:this.ui,id:this.id+"_header",overCls:this.headerOverCls,indicateDrag:this.draggable,frame:(this.frame||this.alwaysFramed)&&this.frameHeader,ignoreParentFrame:this.frame||this.overlapHeader,ignoreBorderManagement:this.frame||this.ignoreHeaderBorderManagement,ownerCt:this,listeners:this.collapsible&&this.titleCollapse?{click:this.toggleCollapse,scope:this}:null},this.header)),this.addDocked(e,0)),this.initHeaderAria()):e&&e.hide()},setUI:function(t){this.callParent(arguments),this.header&&this.header.rendered&&this.header.setUI(t)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.protoBody||this.frameBody||this.el},isVisible:function(t){return this.collapsed&&this.placeholder?this.placeholder.isVisible(t):this.callParent(arguments)},onHide:function(){this.collapsed&&this.placeholder?this.placeholder.hide():this.callParent(arguments)},onShow:function(){this.collapsed&&this.isPlaceHolderCollapse()?(this.hidden=!0,this.placeholderCollapse()):this.callParent(arguments)},onRemoved:function(t){this.placeholder&&!t&&this.ownerCt.remove(this.placeholder,!1),this.callParent(arguments)},addTool:function(t){Ext.isArray(t)||(t=[t]);var e,i,n=this.header,s=t.length;for(e=0;e<s;e++)i=t[e],n&&n.isHeader?n.addTool(i):this.tools.push(i);this.updateHeader()},getOppositeDirection:function(t){var e=Ext.Component;switch(t){case e.DIRECTION_TOP:return e.DIRECTION_BOTTOM;case e.DIRECTION_RIGHT:return e.DIRECTION_LEFT;case e.DIRECTION_BOTTOM:return e.DIRECTION_TOP;case e.DIRECTION_LEFT:return e.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var t=this.getCollapsed();return"left"==t||"right"==t},collapsedVertical:function(){var t=this.getCollapsed();return"top"==t||"bottom"==t},restoreDimension:function(){var t=this.collapseDirection;return"top"===t||"bottom"===t?"height":"width"},getCollapsed:function(){return!0===this.collapsed?this.collapseDirection:this.collapsed},getState:function(){var t,e=this.callParent();return e=this.addPropertyToState(e,"collapsed"),this.collapsed&&(t=(t=this.collapseMemento)&&t.data,this.collapsedVertical()?(e&&delete e.height,t&&(e=this.addPropertyToState(e,"height",t.height))):(e&&delete e.width,t&&(e=this.addPropertyToState(e,"width",t.width)))),e},findReExpander:function(t){var e,i,n=Ext.Component,s=this.dockedItems.items,r=s.length;if("mini"!=this.collapseMode)switch(t){case n.DIRECTION_TOP:case n.DIRECTION_BOTTOM:for(i=0;i<r;i++)if(!(e=s[i]).hidden&&e.isHeader&&(!e.dock||"top"==e.dock||"bottom"==e.dock))return e;break;case n.DIRECTION_LEFT:case n.DIRECTION_RIGHT:for(i=0;i<r;i++)if(!(e=s[i]).hidden&&e.isHeader&&("left"==e.dock||"right"==e.dock))return e;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},getReExpander:function(t){var e=t||this.collapseDirection,i=this.reExpander||this.findReExpander(e);return this.expandDirection=this.getOppositeDirection(e),i||(this.reExpander=i=this.createReExpander(e,{dock:e,cls:Ext.baseCSSPrefix+"docked "+this.baseCls+"-"+this.ui+"-collapsed"}),this.dockedItems.insert(0,i)),i},createReExpander:function(t,e){var i="left"==t,n="right"==t,s=i||n,r=Ext.apply({hideMode:"offsets",title:this.title||"&#160;",titleAlign:this.titleAlign,orientation:s?"vertical":"horizontal",textCls:this.headerTextCls,icon:this.icon,iconCls:this.iconCls,glyph:this.glyph,baseCls:this.self.prototype.baseCls+"-header",ui:this.ui,frame:this.frame&&this.frameHeader,ignoreParentFrame:this.frame||this.overlapHeader,indicateDrag:this.draggable,collapseImmune:!0,ownerCt:this.ownerCt,ownerLayout:this.componentLayout},e);return"mini"==this.collapseMode&&(s?r.width=1:r.height=1),this.hideCollapseTool||((i||n&&this.isPlaceHolderCollapse())&&(r.titlePosition=1),r.tools=[{xtype:"tool",type:"expand-"+this.getOppositeDirection(t),uiCls:["top"],handler:this.toggleCollapse,scope:this}]),(r=new Ext.panel.Header(r)).addClsWithUI(this.getHeaderCollapsedClasses(r)),r},getHeaderCollapsedClasses:function(t){var e,i=this.collapsedCls;return e=[i,i+"-"+t.getDockName()],this.border&&(!this.frame||this.frame&&Ext.supports.CSS3BorderRadius)&&e.push(i+"-border-"+t.getDockName()),e},beginCollapse:function(){var t,e=this.lastBox,i=this.rendered,n=this.collapseMemento||(this.collapseMemento=new Ext.util.Memento(this)),s=this.getSizeModel(),r=this.header;n.capture(["height","minHeight","width","minWidth"]),e&&n.capture(this.restoreDimension(),e,"last."),this.collapsedVertical()?(s.width.shrinkWrap&&(this.width=i?this.getWidth():this.width||this.minWidth||100),delete this.height,this.minHeight=0):this.collapsedHorizontal()&&(s.height.shrinkWrap&&(this.height=i?this.getHeight():this.height||this.minHeight||100),delete this.width,this.minWidth=0),this.ownerCt&&this.ownerCt.getLayout().beginCollapse(this),this.isPlaceHolderCollapse()||!1===r||(r===(t=this.getReExpander())?(r.collapseImmune=!0,r.getHierarchyState().collapseImmune=!0,r.addClsWithUI(this.getHeaderCollapsedClasses(r)),r.rendered&&r.updateFrame()):t.el&&(t.el.show(),t.hidden=!1)),this.resizer&&this.resizer.disable()},beginExpand:function(){var t,e=this.lastBox,i=this.collapseMemento,n=this.restoreDimension(),s=this.header;i&&(i.restore(["minHeight","minWidth",n]),e&&i.restore(n,!0,e,"last.")),this.ownerCt&&this.ownerCt.getLayout().beginExpand(this),this.isPlaceHolderCollapse()||!1===s||(s===(t=this.getReExpander())?(delete s.collapseImmune,delete s.getHierarchyState().collapseImmune,s.removeClsWithUI(this.getHeaderCollapsedClasses(s)),s.rendered&&s.updateFrame()):(t.hidden=!0,t.el.hide())),this.resizer&&this.resizer.enable()},collapse:function(t,e){var i=t||this.collapseDirection,n=this.ownerCt;return this.isCollapsingOrExpanding?this:(arguments.length<2&&(e=this.animCollapse),this.collapsed||!1===this.fireEvent("beforecollapse",this,t,e)?this:n&&this.isPlaceHolderCollapse()?this.placeholderCollapse(t,e):(this.collapsed=i,this.beginCollapse(),this.getHierarchyState().collapsed=!0,this.fireHierarchyEvent("collapse"),this.doCollapseExpand(1,e)))},doCollapseExpand:function(t,e){var i=this.animCollapse,n=this.ownerLayout;return this.animCollapse=e,this.isCollapsingOrExpanding=t,e&&this.addCls(Ext.baseCSSPrefix+"animating-size"),n&&!e?n.onContentChange(this):this.updateLayout({isRoot:!0}),this.animCollapse=i,this},afterCollapse:function(t){var e=this.ownerLayout;this.isCollapsingOrExpanding=0,this.collapseTool&&this.collapseTool.setType("expand-"+this.getOppositeDirection(this.collapseDirection)),t&&this.removeCls(Ext.baseCSSPrefix+"animating-size"),e&&t&&e.onContentChange(this),this.setHiddenDocked(),this.fireEvent("collapse",this)},setHiddenDocked:function(){var t,e,i=this.hiddenOnCollapse,n=this.getDockedItems(),s=n.length,r=0;for(!1!==this.header&&(e=this.getReExpander()),i.add(this.body);r<s;r++)(t=n[r])&&t!==e&&t.el&&i.add(t.el);i.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var t=this.hiddenOnCollapse;t.setStyle("visibility",""),t.clear()},getPlaceholder:function(t){var e=t||this.collapseDirection,i=null,n=this.placeholder,s=this.floatable,r=this.titleCollapse;return n||((s||this.collapsible&&r)&&(i={click:{fn:!r&&s?this.floatCollapsedPanel:this.toggleCollapse,element:"el",scope:this}}),this.placeholder=n=Ext.widget(this.createReExpander(e,{id:this.id+"-placeholder",listeners:i}))),n.placeholderFor||(n.isComponent||(this.placeholder=n=this.lookupComponent(n)),Ext.applyIf(n,{margins:this.margins,placeholderFor:this}),n.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+e+"-placeholder",this.collapsedCls])),n},placeholderCollapse:function(t,e){var i,n=this,s=n.ownerCt,r=t||n.collapseDirection,o=Ext.baseCSSPrefix+"border-region-slide-in",a=n.getPlaceholder(t);return n.isCollapsingOrExpanding=1,n.hidden=!0,n.collapsed=r,a.rendered?(a.el.dom.parentNode!==n.el.dom.parentNode&&n.el.dom.parentNode.insertBefore(a.el.dom,n.el.dom),a.hidden=!1,a.el.show(),s.updateLayout()):s.insert(s.items.indexOf(n),a),n.rendered?(n.el.setVisibilityMode(n.placeholderCollapseHideMode),e?(n.el.addCls(o),a.el.hide(),i=n.convertCollapseDir(r),n.el.slideOut(i,{preserveScroll:!0,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.el.removeCls(o),a.el.show().setStyle("display","none").slideIn(i,{easing:"linear",duration:100,listeners:{afteranimate:function(){a.focus(),n.isCollapsingOrExpanding=0,n.fireEvent("collapse",n)}}})}}})):(n.el.hide(),n.isCollapsingOrExpanding=0,n.fireEvent("collapse",n))):(n.isCollapsingOrExpanding=0,n.preventCollapseFire||n.fireEvent("collapse",n)),n},floatCollapsedPanel:function(){var t,e,i=this,n=i.placeholder,s=n.getSize(),r=Ext.baseCSSPrefix+"border-region-slide-in",o=i.collapsed,a=i.ownerCt||i;if(!i.isSliding)if(i.el.hasCls(r))i.slideOutFloatedPanel();else{switch(i.isSliding=!0,n.el.hide(),n.hidden=!0,i.el.show(),i.hidden=!1,i.collapsed=!1,a.updateLayout(),t=i.getBox(!1,!0),n.el.show(),n.hidden=!1,i.el.hide(),i.hidden=!0,i.collapsed=o,a.updateLayout(),i.slideOutTask=i.slideOutTask||new Ext.util.DelayedTask(i.slideOutFloatedPanel,i),n.el.on("mouseleave",i.onMouseLeaveFloated,i),i.el.on("mouseleave",i.onMouseLeaveFloated,i),n.el.on("mouseenter",i.onMouseEnterFloated,i),i.el.on("mouseenter",i.onMouseEnterFloated,i),i.el.addCls(r),i.floated=!0,i.collapseTool&&i.collapseTool.el.hide(),i.collapsed){case"top":i.setLocalXY(t.x,t.y+s.height-1);break;case"right":i.setLocalXY(t.x-s.width+1,t.y);break;case"bottom":i.setLocalXY(t.x,t.y-s.height+1);break;case"left":i.setLocalXY(t.x+s.width-1,t.y)}e=i.convertCollapseDir(i.collapsed),i.floatedFromCollapse=i.collapsed,i.collapsed=i.hidden=!1,i.el.slideIn(e,{preserveScroll:!0,duration:Ext.Number.from(i.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.isSliding=!1,i.fireEvent("float",i)}}})}},onMouseLeaveFloated:function(t){this.slideOutTask.delay(500)},onMouseEnterFloated:function(t){this.slideOutTask.cancel()},isLayoutRoot:function(){return!!this.floatedFromCollapse||this.callParent()},slideOutFloatedPanel:function(){var t,e=this,i=this.el;e.isSliding||e.isDestroyed||(e.isSliding=!0,e.floated=!1,e.slideOutFloatedPanelBegin(),"string"==typeof e.collapsed&&(t=e.convertCollapseDir(e.collapsed)),i.slideOut(t,{preserveScroll:!0,duration:Ext.Number.from(e.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){e.slideOutFloatedPanelEnd(),e.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}}))},slideOutFloatedPanelBegin:function(){var t=this.placeholder.el,e=this.el;this.collapsed=this.floatedFromCollapse,this.hidden=!0,this.floatedFromCollapse=null,t.un("mouseleave",this.onMouseLeaveFloated,this),e.un("mouseleave",this.onMouseLeaveFloated,this),t.un("mouseenter",this.onMouseEnterFloated,this),e.un("mouseenter",this.onMouseEnterFloated,this)},slideOutFloatedPanelEnd:function(){this.collapseTool&&this.collapseTool.el.show(),this.isSliding=!1,this.fireEvent("unfloat",this)},expand:function(t){return this.isCollapsingOrExpanding?this:(arguments.length||(t=this.animCollapse),this.collapsed||this.floatedFromCollapse?!1===this.fireEvent("beforeexpand",this,t)?this:(delete this.getHierarchyState().collapsed,this.isPlaceHolderCollapse()?this.placeholderExpand(t):(this.restoreHiddenDocked(),this.beginExpand(),this.collapsed=!1,this.doCollapseExpand(2,t))):this)},placeholderExpand:function(t){var e,i,n=this,s=n.collapsed,r=Ext.baseCSSPrefix+"border-region-slide-in",o=n.ownerLayout?n.ownerLayout.centerRegion:null;return Ext.AbstractComponent.layoutSuspendCount&&(t=!1),n.floatedFromCollapse&&(i=n.getPosition(!0),n.slideOutFloatedPanelBegin(),n.slideOutFloatedPanelEnd(),n.floated=!1),t?(Ext.suspendLayouts(),n.placeholder.hide(),n.el.show(),n.hidden=n.collapsed=!1,o&&!i&&(o.hidden=!0),Ext.resumeLayouts(!0),o.hidden=!1,n.el.addCls(r),n.isCollapsingOrExpanding=2,i?(e=n.getXY(),n.setLocalXY(i[0],i[1]),n.setXY([e[0],e[1]],{duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.el.removeCls(r),n.isCollapsingOrExpanding=0,n.fireEvent("expand",n)}}})):(n.el.hide(),n.placeholder.el.show(),n.placeholder.hidden=!1,n.hidden=!1,n.el.slideIn(n.convertCollapseDir(s),{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.el.removeCls(r),n.placeholder.hide(),n.updateLayout(),n.isCollapsingOrExpanding=0,n.fireEvent("expand",n)}}}))):(n.floated=n.collapsed=!1,Ext.suspendLayouts(),n.placeholder.hide(),n.show(),Ext.resumeLayouts(!0),n.fireEvent("expand",n)),n},afterExpand:function(t){var e=this.ownerLayout;this.isCollapsingOrExpanding=0,this.collapseTool&&this.collapseTool.setType("collapse-"+this.collapseDirection),t&&this.removeCls(Ext.baseCSSPrefix+"animating-size"),e&&t&&e.onContentChange(this),this.fireEvent("expand",this),this.fireHierarchyEvent("expand")},setBorder:function(t,e){if(!e){var i=this.header;t=t?!0===t?"1px":Ext.Element.unitizeBox(t):0,i&&(i.isHeader?i.setBorder(t):i.border=t),this.rendered&&!1!==this.bodyBorder&&this.body.setStyle("border-width",t),this.updateLayout(),this.border=t}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.simpleDrag?this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initSimpleDraggable:function(){var t,e;this.header||this.updateHeader(!0),this.header&&(t=Ext.applyIf({el:this.el,delegate:"#"+Ext.escapeId(this.header.id)},this.draggable),(this.constrain||this.constrainHeader)&&(t.constrain=this.constrain,t.constrainDelegate=this.constrainHeader,t.constrainTo=this.constrainTo||this.container),e=this.dd=new Ext.util.ComponentDragger(this,t),this.relayEvents(e,["dragstart","drag","dragend"]),this.maximized&&e.disable())},ghostTools:function(){var t,e,i,n=[],s=this.header,r=s?s.query("tool[hidden=false]"):[];if(r.length)for(t=0,e=r.length;t<e;t++)i=r[t],n.push({type:i.type});else n=[{type:"placeholder"}];return n},ghost:function(t){var e,i=this.ghostPanel,n=this.getBox();return i?i.el.show():(i=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:!1},frame:this.frame&&!this.alwaysFramed,alwaysFramed:this.alwaysFramed,overlapHeader:this.overlapHeader,headerPosition:this.headerPosition,baseCls:this.baseCls,cls:this.baseCls+"-ghost "+(t||"")}),this.ghostPanel=i),this.ghostPanel.hidden=!1,i.floatParent=this.floatParent,this.floating?i.setZIndex(Ext.Number.from(this.el.getStyle("zIndex"),0)):i.toFront(),this.preventHeader||!1===this.header||((e=i.header)&&(e.suspendLayouts(),Ext.Array.forEach(e.query("tool"),e.remove,e),e.resumeLayouts()),i.addTool(this.ghostTools()),i.setTitle(this.title),this.iconCls?i.setIconCls(this.iconCls):this.icon?i.setIcon(this.icon):this.glyph&&i.setGlyph(this.glyph),i.header.addCls(Ext.baseCSSPrefix+"header-ghost")),i.setPagePosition(n.x,n.y),i.setSize(n.width,n.height),this.el.hide(),i},unghost:function(t,e){this.ghostPanel&&(!1!==t&&(this.el.show(),!1!==e&&(this.setPagePosition(this.ghostPanel.getXY()),"offsets"==this.hideMode&&delete this.el.hideModeStyles),Ext.defer(this.focus,10,this)),this.ghostPanel.el.hide(),this.ghostPanel.hidden=!0)},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(){this.callParent(arguments),this.collapsed&&this.resizer.disable()},convertCollapseDir:function(t){return t.substr(0,1)}},function(){this.prototype.animCollapse=Ext.enableFx}),Ext.define("Ext.tip.Tip",{extend:Ext.panel.Panel,alternateClassName:"Ext.Tip",minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:!0,frameHeader:!1,initComponent:function(){this.floating=Ext.apply({},{shadow:this.shadow,constrain:this.constrainPosition},this.self.prototype.floating),this.callParent(arguments),this.constrain=this.constrain||this.constrainPosition},showAt:function(t){this.callParent(arguments),this.isVisible()&&(this.setPagePosition(t[0],t[1]),(this.constrainPosition||this.constrain)&&this.doConstrain(),this.toFront(!0))},showBy:function(t,e){this.showAt(this.getAlignToXY(t,e||this.defaultAlign))},initDraggable:function(){this.draggable={el:this.getDragEl(),delegate:this.header.el,constrain:this,constrainTo:this.el.dom.parentNode},Ext.Component.prototype.initDraggable.call(this)},ghost:void 0,unghost:void 0}),Ext.define("Ext.tip.ToolTip",{extend:Ext.tip.Tip,alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){this.callParent(arguments),this.lastActive=new Date,this.setTarget(this.target),this.origAnchor=this.anchor},onRender:function(t,e){this.callParent(arguments),this.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition(),this.anchorEl=this.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+this.anchorCls})},setTarget:function(t){var e,i=Ext.get(t);this.target&&(e=Ext.get(this.target),this.mun(e,"mouseover",this.onTargetOver,this),this.mun(e,"mouseout",this.onTargetOut,this),this.mun(e,"mousemove",this.onMouseMove,this)),this.target=i,i&&this.mon(i,{freezeEvent:!0,mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this}),this.anchor&&(this.anchorTarget=this.target)},onMouseMove:function(t){var e,i=this.delegate?t.getTarget(this.delegate):this.triggerElement=!0;i?(this.targetXY=t.getXY(),i===this.triggerElement?!this.hidden&&this.trackMouse&&(e=this.getTargetXY(),this.constrainPosition&&(e=this.el.adjustForConstraints(e,this.el.parent())),this.setPagePosition(e)):(this.hide(),this.lastActive=new Date(0),this.onTargetOver(t))):!this.closable&&this.isVisible()&&!1!==this.autoHide&&this.hide()},getTargetXY:function(){var t,e,i,n,s,r,o,a,l,h,d,c;if(this.delegate&&(this.anchorTarget=this.triggerElement),this.anchor){if(this.targetCounter++,e=this.getOffsets(),i=this.anchorToTarget&&!this.trackMouse?this.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY,n=Ext.Element.getViewWidth()-5,s=Ext.Element.getViewHeight()-5,r=document.documentElement,o=document.body,a=(r.scrollLeft||o.scrollLeft||0)+5,l=(r.scrollTop||o.scrollTop||0)+5,h=[i[0]+e[0],i[1]+e[1]],d=this.getSize(),c=this.constrainPosition,this.anchorEl.removeCls(this.anchorCls),this.targetCounter<2&&c){if(h[0]<a)return this.anchorToTarget&&(this.defaultAlign="l-r",this.mouseOffset&&(this.mouseOffset[0]*=-1)),this.anchor="left",this.getTargetXY();if(h[0]+d.width>n)return this.anchorToTarget&&(this.defaultAlign="r-l",this.mouseOffset&&(this.mouseOffset[0]*=-1)),this.anchor="right",this.getTargetXY();if(h[1]<l)return this.anchorToTarget&&(this.defaultAlign="t-b",this.mouseOffset&&(this.mouseOffset[1]*=-1)),this.anchor="top",this.getTargetXY();if(h[1]+d.height>s)return this.anchorToTarget&&(this.defaultAlign="b-t",this.mouseOffset&&(this.mouseOffset[1]*=-1)),this.anchor="bottom",this.getTargetXY()}return this.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition(),this.anchorEl.addCls(this.anchorCls),this.targetCounter=0,h}return t=this.getMouseOffset(),this.targetXY?[this.targetXY[0]+t[0],this.targetXY[1]+t[1]]:t},getMouseOffset:function(){var t=this.anchor?[0,0]:[15,18];return this.mouseOffset&&(t[0]+=this.mouseOffset[0],t[1]+=this.mouseOffset[1]),t},getAnchorPosition:function(){var t;switch(this.anchor?this.tipAnchor=this.anchor.charAt(0):(t=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/),this.tipAnchor=t[1].charAt(0)),this.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var t,e,i=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse)switch(i){case"t":e=[0,9];break;case"b":e=[0,-13];break;case"r":e=[-13,0];break;default:e=[9,0]}else switch(i){case"t":e=[-15-this.anchorOffset,30];break;case"b":e=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case"r":e=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:e=[25,-13-this.anchorOffset]}return t=this.getMouseOffset(),e[0]+=t[0],e[1]+=t[1],e},onTargetOver:function(t){var e;this.disabled||t.within(this.target.dom,!0)||(e=t.getTarget(this.delegate))&&(this.triggerElement=e,this.triggerEvent=t,this.clearTimer("hide"),this.targetXY=t.getXY(),this.delayShow())},delayShow:function(){this.hidden&&!this.showTimer?Ext.Date.getElapsed(this.lastActive)<this.quickShowInterval?this.show():this.showTimer=Ext.defer(this.showFromDelay,this.showDelay,this):this.hidden||!1===this.autoHide||this.show()},showFromDelay:function(){this.fromDelayShow=!0,this.show(),delete this.fromDelayShow},onShowVeto:function(){this.callParent(),delete this.triggerElement,this.clearTimer("show")},onTargetOut:function(t){this.disabled||t.within(this.target.dom,!0)||(this.clearTimer("show"),!1!==this.autoHide&&this.delayHide())},delayHide:function(){this.hidden||this.hideTimer||(this.hideTimer=Ext.defer(this.hide,this.hideDelay,this))},hide:function(){this.clearTimer("dismiss"),this.lastActive=new Date,this.anchorEl&&this.anchorEl.hide(),this.callParent(arguments),delete this.triggerElement},show:function(){this.callParent(),!1===this.hidden&&(this.setPagePosition(-1e4,-1e4),this.anchor&&(this.anchor=this.origAnchor),this.calledFromShowAt||this.showAt(this.getTargetXY()),this.anchor?(this.syncAnchor(),this.anchorEl.show()):this.anchorEl.hide())},showAt:function(t){this.lastActive=new Date,this.clearTimers(),this.calledFromShowAt=!0,this.isVisible()||this.callParent(arguments),this.isVisible()&&(this.setPagePosition(t[0],t[1]),(this.constrainPosition||this.constrain)&&this.doConstrain(),this.toFront(!0),this.el.sync(!0),this.dismissDelay&&!1!==this.autoHide&&(this.dismissTimer=Ext.defer(this.hide,this.dismissDelay,this)),this.anchor?(this.syncAnchor(),this.anchorEl.isVisible()||this.anchorEl.show()):this.anchorEl.hide()),delete this.calledFromShowAt},syncAnchor:function(){var t,e,i;switch(this.tipAnchor.charAt(0)){case"t":t="b",e="tl",i=[20+this.anchorOffset,1];break;case"r":t="l",e="tr",i=[-1,12+this.anchorOffset];break;case"b":t="t",e="bl",i=[20+this.anchorOffset,-1];break;default:t="r",e="tl",i=[1,12+this.anchorOffset]}this.anchorEl.alignTo(this.el,t+"-"+e,i),this.anchorEl.setStyle("z-index",parseInt(this.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(t,e){this.callParent(arguments),this.anchor&&this.syncAnchor()},clearTimer:function(t){t+="Timer",clearTimeout(this[t]),delete this[t]},clearTimers:function(){this.clearTimer("show"),this.clearTimer("dismiss"),this.clearTimer("hide")},onShow:function(){this.callParent(),this.mon(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onHide:function(){this.callParent(),this.mun(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(t){this.closable||t.within(this.el.dom)||(this.disable(),Ext.defer(this.doEnable,100,this))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},beforeDestroy:function(){this.clearTimers(),Ext.destroy(this.anchorEl),delete this.anchorEl,delete this.target,delete this.anchorTarget,delete this.triggerElement,this.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this),this.callParent()}}),Ext.define("Ext.tip.QuickTip",{extend:Ext.tip.ToolTip,alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},initComponent:function(){this.target=this.target||Ext.getDoc(),this.targets=this.targets||{},this.callParent()},register:function(t){for(var e,i,n,s=Ext.isArray(t)?t:arguments,r=0,o=s.length;r<o;r++)if(t=s[r],e=t.target)if(Ext.isArray(e))for(i=0,n=e.length;i<n;i++)this.targets[Ext.id(e[i])]=t;else this.targets[Ext.id(e)]=t},unregister:function(t){delete this.targets[Ext.id(t)]},cancelShow:function(t){var e=this.activeTarget;t=Ext.get(t).dom,this.isVisible()?e&&e.el==t&&this.hide():e&&e.el==t&&this.clearTimer("show")},getTipCfg:function(t){var e,i=t.getTarget(),n=i.title;return this.interceptTitles&&n&&Ext.isString(n)?(i.qtip=n,i.removeAttribute("title"),t.preventDefault(),{text:n}):(e=this.tagConfig,(i=t.getTarget("["+e.namespace+e.attribute+"]"))?{target:i,text:i.getAttribute(e.namespace+e.attribute)}:void 0)},onTargetOver:function(t){var e,i,n,s,r,o,a,l,h,d,c,u=t.getTarget(this.delegate);if(!this.disabled&&(this.targetXY=t.getXY(),u&&1===u.nodeType&&u!=document.documentElement&&u!=document.body))if(!this.activeTarget||u!=this.activeTarget.el&&!Ext.fly(this.activeTarget.el).contains(u)){if(u){l=this.targets;for(c in l)if(l.hasOwnProperty(c)&&(d=l[c],(h=Ext.fly(d.target))&&(h.dom===u||h.contains(u)))){n=h.dom;break}if(n)return this.activeTarget=this.targets[n.id],this.activeTarget.el=u,this.anchor=this.activeTarget.anchor,this.anchor&&(this.anchorTarget=u),(e=parseInt(this.activeTarget.showDelay,10))&&(i=this.showDelay,this.showDelay=e),this.delayShow(),void(e&&(this.showDelay=i))}n=Ext.fly(u,"_quicktip-target"),r=(s=this.tagConfig).namespace,(o=this.getTipCfg(t))&&(o.target&&(u=o.target,n=Ext.fly(u,"_quicktip-target")),a=n.getAttribute(r+s.hide),this.activeTarget={el:u,text:o.text,width:+n.getAttribute(r+s.width)||null,autoHide:"user"!=a&&"false"!==a,title:n.getAttribute(r+s.title),cls:n.getAttribute(r+s.cls),align:n.getAttribute(r+s.align),showDelay:parseInt(n.getAttribute(r+s.showDelay),10)},this.anchor=n.getAttribute(r+s.anchor),this.anchor&&(this.anchorTarget=u),(e=parseInt(this.activeTarget.showDelay,10))&&(i=this.showDelay,this.showDelay=e),this.delayShow(),e&&(this.showDelay=i))}else this.targetTextEmpty()?(this.onShowVeto(),delete this.activeTarget):(this.clearTimer("hide"),this.show())},onTargetOut:function(t){var e,i,n=this.activeTarget;n&&t.within(this.activeTarget.el)&&!this.getTipCfg(t)||(this.clearTimer("show"),delete this.activeTarget,!1!==this.autoHide&&((e=n&&parseInt(n.hideDelay,10))&&(i=this.hideDelay,this.hideDelay=e),this.delayHide(),e&&(this.hideDelay=i)))},targetTextEmpty:function(){var t,e=this.activeTarget,i=this.tagConfig;return!(!e||!(t=e.el)||t.getAttribute(i.namespace+i.attribute)||this.targets[e.target])},show:function(){if(this.fromDelayShow&&this.targetTextEmpty())return this.onShowVeto(),void delete this.activeTarget;this.callParent(arguments)},showAt:function(t){var e,i=this.activeTarget,n=this.header;i&&(this.rendered||(this.render(Ext.getBody()),this.activeTarget=i),this.suspendLayouts(),i.title?(this.setTitle(i.title),n.show()):n&&n.hide(),this.update(i.text),this.autoHide=i.autoHide,this.dismissDelay=i.dismissDelay||this.dismissDelay,i.mouseOffset&&(t[0]+=i.mouseOffset[0],t[1]+=i.mouseOffset[1]),(e=this.lastCls)&&(this.removeCls(e),delete this.lastCls),(e=i.cls)&&(this.addCls(e),this.lastCls=e),this.setWidth(i.width),this.anchor?this.constrainPosition=!1:i.align?(t=this.getAlignToXY(i.el,i.align),this.constrainPosition=!1):this.constrainPosition=!0,this.resumeLayouts(!0)),this.callParent([t])},hide:function(){delete this.activeTarget,this.callParent()}}),Ext.define("Ext.tip.QuickTipManager",function(){var t,e=!1;return{singleton:!0,alternateClassName:"Ext.QuickTips",init:function(i,n){if(!t){if(!Ext.isReady)return void Ext.onReady(function(){Ext.tip.QuickTipManager.init(i,n)});var s=Ext.apply({disabled:e,id:"ext-quicktips-tip"},n),r=s.className,o=s.xtype;r?delete s.className:o&&(r="widget."+o,delete s.xtype),!1!==i&&(s.renderTo=document.body),t=Ext.create(r||"Ext.tip.QuickTip",s),Ext.quickTipsActive=!0}},destroy:function(){if(t){t.destroy(),t=void 0}},ddDisable:function(){t&&!e&&t.disable()},ddEnable:function(){t&&!e&&t.enable()},enable:function(){t&&t.enable(),e=!1},disable:function(){t&&t.disable(),e=!0},isEnabled:function(){return void 0!==t&&!t.disabled},getQuickTip:function(){return t},register:function(){t.register.apply(t,arguments)},unregister:function(){t.unregister.apply(t,arguments)},tips:function(){t.register.apply(t,arguments)}}}()),Ext.define("Ext.app.Application",{extend:Ext.app.Controller,scope:void 0,enableQuickTips:!0,appFolder:"app",appProperty:"app",namespaces:[],autoCreateViewport:!1,paths:null,onClassExtended:function(t,e,i){var n,s,r,o=Ext.app.Controller,a=t.prototype,l=e.name,h=[];if(e.$namespace=e.name,Ext.app.addNamespaces(e.name),e.namespaces&&Ext.app.addNamespaces(e.namespaces),e["paths processed"])delete e["paths processed"];else if(Ext.Loader.setPath(e.name,e.appFolder||"app"),s=e.paths)for(r in s)s.hasOwnProperty(r)&&Ext.Loader.setPath(r,s[r]);e.autoCreateViewport&&o.processDependencies(a,h,l,"view",["Viewport"]),h.length&&(n=i.onBeforeCreated,i.onBeforeCreated=function(t,e){var i=Ext.Array.clone(arguments);Ext.require(h,function(){return n.apply(this,i)})})},constructor:function(t){this.callParent(arguments),this.doInit(this),this.initNamespace(),this.initControllers(),this.onBeforeLaunch()},initNamespace:function(){var t,e=this,i=e.appProperty;(t=Ext.namespace(e.name))&&(t.getApplication=function(){return e},i&&(t[i]||(t[i]=e)))},initControllers:function(){var t=Ext.Array.from(this.controllers);this.controllers=new Ext.util.MixedCollection;for(var e=0,i=t.length;e<i;e++)this.getController(t[e])},launch:Ext.emptyFn,onBeforeLaunch:function(){var t,e,i;for(this.enableQuickTips&&this.initQuickTips(),this.autoCreateViewport&&this.initViewport(),this.launch.call(this.scope||this),this.launched=!0,this.fireEvent("launch",this),i=(t=this.controllers.items).length,e=0;e<i;e++)t[e].onLaunch(this)},getModuleClassName:function(t,e){return Ext.app.Controller.getFullName(t,e,this.name).absoluteName},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var t=this.getView("Viewport");t&&t.create()},getController:function(t){var e,i,n=this.controllers;return(i=n.get(t))||(e=this.getModuleClassName(t,"controller"),i=Ext.create(e,{application:this,id:t}),n.add(i),this._initialized&&i.doInit(this)),i},getApplication:function(){return this}}),Ext.define("Ext.app.domain.Controller",{extend:Ext.app.EventDomain,singleton:!0,type:"controller",idProperty:"id",constructor:function(){this.callParent(),this.monitor(Ext.app.Controller)}}),Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:Ext.util.Observable},isProvider:!0,constructor:function(t){Ext.apply(this,t),Ext.applyIf(this,{id:Ext.id(null,"provider-")}),this.addEvents("connect","disconnect","data","exception"),this.mixins.observable.constructor.call(this,t)},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn}),Ext.define("Ext.app.domain.Direct",{extend:Ext.app.EventDomain,singleton:!0,type:"direct",idProperty:"id",constructor:function(){this.callParent(),this.monitor(Ext.direct.Provider)}}),Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:Ext.button.Button,alternateClassName:"Ext.SplitButton",arrowCls:"split",split:!0,initComponent:function(){this.callParent(),this.addEvents("arrowclick")},setArrowHandler:function(t,e){this.arrowHandler=t,this.scope=e},onClick:function(t,e){t.preventDefault(),this.disabled||(this.overMenuTrigger?(this.maybeShowMenu(),this.fireEvent("arrowclick",this,t),this.arrowHandler&&this.arrowHandler.call(this.scope||this,this,t)):(this.doToggle(),this.fireHandler(t)))}}),Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:Ext.button.Split,alternateClassName:"Ext.CycleButton",getButtonText:function(t){var e="";return t&&!0===this.showText?(this.prependText&&(e+=this.prependText),e+=t.text):this.text},setActiveItem:function(t,e){Ext.isObject(t)||(t=this.menu.getComponent(t)),t&&(this.rendered?(this.setText(this.getButtonText(t)),this.setIconCls(t.iconCls),this.setGlyph(t.glyph)):(this.text=this.getButtonText(t),this.iconCls=t.iconCls,this.glyph=t.glyph),this.activeItem=t,t.checked||t.setChecked(!0,!1),this.forceIcon&&this.setIconCls(this.forceIcon),this.forceGlyph&&this.setGlyph(this.forceGlyph),e||this.fireEvent("change",this,t))},getActiveItem:function(){return this.activeItem},initComponent:function(){var t,e,i,n,s=0;for(this.addEvents("change"),this.changeHandler&&(this.on("change",this.changeHandler,this.scope||this),delete this.changeHandler),t=(this.menu.items||[]).concat(this.items||[]),this.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},this.menu),i=t.length,e=0;e<i;e++)n=t[e],n=Ext.applyIf({group:this.id,itemIndex:e,checkHandler:this.checkHandler,scope:this,checked:n.checked||!1},n),this.menu.items.push(n),n.checked&&(s=e);this.itemCount=this.menu.items.length,this.callParent(arguments),this.on("click",this.toggleSelected,this),this.setActiveItem(s,this),this.width&&this.showText&&this.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")},checkHandler:function(t,e){e&&this.setActiveItem(t)},toggleSelected:function(){var t=this.menu;(this.activeItem.next(":not([disabled])")||t.items.getAt(0)).setChecked(!0)}}),Ext.define("Ext.chart.Callout",{constructor:function(t){t.callouts&&(t.callouts.styles=Ext.applyIf(t.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"}),this.callouts=Ext.apply(this.callouts||{},t.callouts),this.calloutsArray=[])},renderCallouts:function(){if(this.callouts){var t,e,i,n,s,r,o,a,l=this.items,h=this.chart.animate,d=this.callouts,c=d.styles,u=this.calloutsArray,f=this.chart.getChartStore(),p=f.getCount(),g=l.length/p,m=[];for(t=0,e=0;t<p;t++)for(i=0;i<g;i++)if(s=l[e],r=u[e],o=f.getAt(t),(a=!d.filter||d.filter(o))||r){r||(u[e]=r=this.onCreateCallout(o,s,t,a,i,e));for(n in r)r[n]&&r[n].setAttributes&&r[n].setAttributes(c,!0);if(!a)for(n in r)r[n]&&(r[n].setAttributes?r[n].setAttributes({hidden:!0},!0):r[n].setVisible&&r[n].setVisible(!1));d&&d.renderer&&d.renderer(r,o),this.onPlaceCallout(r,o,s,t,a,h,i,e,m),m.push(r),e++}else e++;this.hideCallouts(e)}},onCreateCallout:function(t,e,i,n){this.calloutsGroup;var s=this.callouts,r=s?s.styles:void 0,o=r?r.width:0,a=r?r.height:0,l=this.chart,h=l.surface,d={lines:!1};return d.lines=h.add(Ext.apply({},{type:"path",path:"M0,0",stroke:this.getLegendColor()||"#555"},r)),s.items&&(d.panel=new Ext.Panel({style:"position: absolute;",width:o,height:a,items:s.items,renderTo:l.el})),d},hideCallouts:function(t){for(var e,i,n=this.calloutsArray,s=n.length;s-- >t;){e=n[s];for(i in e)e[i]&&e[i].hide(!0)}}}),Ext.define("Ext.draw.CompositeSprite",{extend:Ext.util.MixedCollection,mixins:{animate:Ext.util.Animate},autoDestroy:!1,isCompositeSprite:!0,constructor:function(t){t=t||{},Ext.apply(this,t),this.addEvents("mousedown","mouseup","mouseover","mouseout","click"),this.id=Ext.id(null,"ext-sprite-group-"),this.callParent()},onClick:function(t){this.fireEvent("click",t)},onMouseUp:function(t){this.fireEvent("mouseup",t)},onMouseDown:function(t){this.fireEvent("mousedown",t)},onMouseOver:function(t){this.fireEvent("mouseover",t)},onMouseOut:function(t){this.fireEvent("mouseout",t)},attachEvents:function(t){t.on({scope:this,mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseover:this.onMouseOver,mouseout:this.onMouseOut,click:this.onClick})},add:function(t,e){var i=this.callParent(arguments);return this.attachEvents(i),i},insert:function(t,e,i){return this.callParent(arguments)},remove:function(t){return t.un({scope:this,mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseover:this.onMouseOver,mouseout:this.onMouseOut,click:this.onClick}),this.callParent(arguments)},getBBox:function(){for(var t,e,i=0,n=this.items,s=this.length,r=1/0,o=-1/0,a=1/0,l=-1/0;i<s;i++)(t=n[i]).el&&!t.bboxExcluded&&(e=t.getBBox(),r=Math.min(r,e.x),a=Math.min(a,e.y),o=Math.max(o,e.height+e.y),l=Math.max(l,e.width+e.x));return{x:r,y:a,height:o-a,width:l-r}},setAttributes:function(t,e){for(var i=0,n=this.items,s=this.length;i<s;i++)n[i].setAttributes(t,e);return this},hide:function(t){for(var e=0,i=this.items,n=this.length;e<n;e++)i[e].hide(t);return this},show:function(t){for(var e=0,i=this.items,n=this.length;e<n;e++)i[e].show(t);return this},redraw:function(){var t=0,e=this.items,i=this.getSurface(),n=this.length;if(i)for(;t<n;t++)i.renderItem(e[t]);return this},setStyle:function(t){for(var e,i=0,n=this.items,s=this.length;i<s;i++)(e=n[i].el)&&e.setStyle(t)},addCls:function(t){var e=0,i=this.items,n=this.getSurface(),s=this.length;if(n)for(;e<s;e++)n.addCls(i[e],t)},removeCls:function(t){var e=0,i=this.items,n=this.getSurface(),s=this.length;if(n)for(;e<s;e++)n.removeCls(i[e],t)},getSurface:function(){var t=this.first();return t?t.surface:null},destroy:function(){var t,e=this.getSurface(),i=this.autoDestroy;if(e)for(;this.getCount()>0;)t=this.first(),this.remove(t),e.remove(t,i);this.clearListeners()}}),Ext.define("Ext.draw.Surface",{mixins:{observable:Ext.util.Observable},separatorRe:/[, ]+/,enginePriority:["Svg","Vml"],statics:{create:function(t,e){for(var i=0,n=(e=e||this.prototype.enginePriority).length;i<n;i++)if(Ext.supports[e[i]])return Ext.create("Ext.draw.engine."+e[i],t);return!1},save:function(t,e){var i={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"}[(e=e||{}).type]||"Svg";return Ext.draw.engine[i+"Exporter"].generate(t,e)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:!1,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:void 0,height:352,width:512,x:0,y:0,orderSpritesByZIndex:!0,constructor:function(t){t=t||{},Ext.apply(this,t),this.domRef=Ext.getDoc().dom,this.customAttributes={},this.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick"),this.mixins.observable.constructor.call(this),this.getId(),this.initGradients(),this.initItems(),this.renderTo&&(this.render(this.renderTo),delete this.renderTo),this.initBackground(t.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(t,e,i,n){isFinite(t)&&isFinite(e)&&isFinite(i)&&isFinite(n)&&(this.viewBox={x:t,y:e,width:i,height:n},this.applyViewBox())},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var t,e,i=this.gradients,n=this.addGradient;if(i)for(t=0,e=i.length;t<e&&!1!==n.call(this,i[t],t,e);t++);}},initItems:function(){var t=this.items;this.items=new Ext.draw.CompositeSprite,this.items.autoDestroy=!0,this.groups=new Ext.draw.CompositeSprite,t&&this.add(t)},initBackground:function(t){var e,i,n=this.width,s=this.height;Ext.isString(t)&&(t={fill:t}),t&&(t.gradient?(e=(i=t.gradient).id,this.addGradient(i),this.background=this.add({type:"rect",x:0,y:0,width:n,height:s,fill:"url(#"+e+")",zIndex:-1})):t.fill?this.background=this.add({type:"rect",x:0,y:0,width:n,height:s,fill:t.fill,zIndex:-1}):t.image&&(this.background=this.add({type:"image",x:0,y:0,width:n,height:s,src:t.image,zIndex:-1})),this.background.bboxExcluded=!0)},setSize:function(t,e){this.applyViewBox()},scrubAttrs:function(t){var e,i={},n={},s=t.attr;for(e in s)this.translateAttrs.hasOwnProperty(e)?(i[this.translateAttrs[e]]=s[e],n[this.translateAttrs[e]]=!0):this.availableAttrs.hasOwnProperty(e)&&!n[e]&&(i[e]=s[e]);return i},onClick:function(t){this.processEvent("click",t)},onDblClick:function(t){this.processEvent("dblclick",t)},onMouseUp:function(t){this.processEvent("mouseup",t)},onMouseDown:function(t){this.processEvent("mousedown",t)},onMouseOver:function(t){this.processEvent("mouseover",t)},onMouseOut:function(t){this.processEvent("mouseout",t)},onMouseMove:function(t){this.fireEvent("mousemove",t)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var t,e,i,n,s,r,o=Array.prototype.slice.call(arguments),a=o.length>1;if(a||Ext.isArray(o[0])){for(i=[],n=0,s=(e=a?o:o[0]).length;n<s;n++)r=e[n],r=this.add(r),i.push(r);return i}return t=this.prepareItems(o[0],!0)[0],this.insertByZIndex(t),this.onAdd(t),t},insertByZIndex:function(t){var e,i=this.items.items,n=i.length,s=Math.ceil,r=t.attr.zIndex,o=n,a=o-1,l=0;if(this.orderSpritesByZIndex&&n&&r<i[a].attr.zIndex){for(;l<=a;)if(o=s((l+a)/2),(e=i[o].attr.zIndex)>r)a=o-1;else{if(!(e<r))break;l=o+1}for(;o<n&&i[o].attr.zIndex<=r;)o++}return this.items.insert(o,t),o},onAdd:function(t){var e,i,n,s=t.group,r=t.draggable;if(s){for(i=(e=[].concat(s)).length,n=0;n<i;n++)s=e[n],this.getGroup(s).add(t);delete t.group}r&&t.initDraggable()},remove:function(t,e){if(t){this.items.remove(t);var i,n=[].concat(this.groups.items),s=n.length;for(i=0;i<s;i++)n[i].remove(t);t.onRemove(),!0===e&&t.destroy()}},removeAll:function(t){var e,i=this.items.items;for(e=i.length-1;e>-1;e--)this.remove(i[e],t)},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var t,e,i,n,s,r,o,a=this.viewBox,l=this.width||1,h=this.height||1;a&&(l||h)?(t=a.x,e=a.y,i=a.width,s=h/(n=a.height),r=l/i,i*(o=Math.min(r,s))<l&&(t-=(l-i*o)/2/o),n*o<h&&(e-=(h-n*o)/2/o),this.viewBoxShift={dx:-t,dy:-e,scale:o},this.background&&this.background.setAttributes(Ext.apply({},{x:t,y:e,width:l/o,height:h/o},{hidden:!1}),!0)):this.background&&l&&h&&this.background.setAttributes(Ext.apply({x:0,y:0,width:l,height:h},{hidden:!1}),!0)},getBBox:function(t,e){var i=this["getPath"+t.type](t);return e?(t.bbox.plain=t.bbox.plain||Ext.draw.Draw.pathDimensions(i),t.bbox.plain):(t.dirtyTransform&&this.applyTransformations(t,!0),t.bbox.transform=t.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(i,t.matrix)),t.bbox.transform)},transformToViewBox:function(t,e){if(this.viewBoxShift){var i=this.viewBoxShift;return[t/i.scale-i.dx,e/i.scale-i.dy]}return[t,e]},applyTransformations:function(t,e){"text"==t.type&&(t.bbox.transform=0,this.transform(t,!1)),t.dirtyTransform=!1;var i=t.attr;null==i.translation.x&&null==i.translation.y||this.translate(t),null==i.scaling.x&&null==i.scaling.y||this.scale(t),null!=i.rotation.degrees&&this.rotate(t),t.bbox.transform=0,this.transform(t,e),t.transformations=[]},rotate:function(t){var e,i=t.attr.rotation.degrees,n=t.attr.rotation.x,s=t.attr.rotation.y;Ext.isNumber(n)&&Ext.isNumber(s)||(e=this.getBBox(t,!0),n=Ext.isNumber(n)?n:e.x+e.width/2,s=Ext.isNumber(s)?s:e.y+e.height/2),t.transformations.push({type:"rotate",degrees:i,x:n,y:s})},translate:function(t){var e=t.attr.translation.x||0,i=t.attr.translation.y||0;t.transformations.push({type:"translate",x:e,y:i})},scale:function(t){var e,i=t.attr.scaling.x||1,n=t.attr.scaling.y||1,s=t.attr.scaling.centerX,r=t.attr.scaling.centerY;Ext.isNumber(s)&&Ext.isNumber(r)||(e=this.getBBox(t,!0),s=Ext.isNumber(s)?s:e.x+e.width/2,r=Ext.isNumber(r)?r:e.y+e.height/2),t.transformations.push({type:"scale",x:i,y:n,centerX:s,centerY:r})},rectPath:function(t,e,i,n,s){return s?[["M",t+s,e],["l",i-2*s,0],["a",s,s,0,0,1,s,s],["l",0,n-2*s],["a",s,s,0,0,1,-s,s],["l",2*s-i,0],["a",s,s,0,0,1,-s,-s],["l",0,2*s-n],["a",s,s,0,0,1,s,-s],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},ellipsePath:function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},getPathpath:function(t){return t.attr.path},getPathcircle:function(t){var e=t.attr;return this.ellipsePath(e.x,e.y,e.radius,e.radius)},getPathellipse:function(t){var e=t.attr;return this.ellipsePath(e.x,e.y,e.radiusX||e.width/2||0,e.radiusY||e.height/2||0)},getPathrect:function(t){var e=t.attr;return this.rectPath(e.x||0,e.y||0,e.width||0,e.height||0,e.r||0)},getPathimage:function(t){var e=t.attr;return this.rectPath(e.x||0,e.y||0,e.width,e.height)},getPathtext:function(t){var e=this.getBBoxText(t);return this.rectPath(e.x,e.y,e.width,e.height)},createGroup:function(t){var e=this.groups.get(t);return e||((e=new Ext.draw.CompositeSprite({surface:this})).id=t||Ext.id(null,"ext-surface-group-"),this.groups.add(e)),e},getGroup:function(t){var e;return"string"==typeof t?(e=this.groups.get(t))||(e=this.createGroup(t)):e=t,e},prepareItems:function(t,e){var i,n,s;for(n=0,s=(t=[].concat(t)).length;n<s;n++)(i=t[n])instanceof Ext.draw.Sprite?i.surface=this:(i.surface=this,t[n]=this.createItem(i));return t},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){delete this.domRef,this.background&&this.background.destroy(),this.removeAll(!0),Ext.destroy(this.groups.items)}}),Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:Ext.layout.component.Auto,setHeightInDom:!0,setWidthInDom:!0,type:"draw",measureContentWidth:function(t){var e=t.target,i=t.getPaddingInfo(),n=this.getBBox(t);return e.viewBox?t.heightModel.shrinkWrap?i.width:n.width/n.height*(t.getProp("contentHeight")-i.height)+i.width:e.autoSize?n.width+i.width:n.x+n.width+i.width},measureContentHeight:function(t){var e=t.target,i=t.getPaddingInfo(),n=this.getBBox(t);return t.target.viewBox?t.widthModel.shrinkWrap?i.height:n.height/n.width*(t.getProp("contentWidth")-i.width)+i.height:e.autoSize?n.height+i.height:n.y+n.height+i.height},getBBox:function(t){var e=t.surfaceBBox;return e||((e=t.target.surface.items.getBBox()).width===-1/0&&e.height===-1/0&&(e.width=e.height=e.x=e.y=0),t.surfaceBBox=e),e},publishInnerWidth:function(t,e){t.setContentWidth(e-t.getFrameInfo().width,!0)},publishInnerHeight:function(t,e){t.setContentHeight(e-t.getFrameInfo().height,!0)},finishedLayout:function(t){var e=t.props,i=t.getPaddingInfo();this.owner.setSurfaceSize(e.contentWidth-i.width,e.contentHeight-i.height),this.callParent(arguments)}}),Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:Ext.Component,enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:!0,shrinkWrap:3,autoSize:!1,initComponent:function(){this.callParent(arguments),this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var t,e,i,n,s,r,o=this.viewBox,a=this.autoSize;this.callParent(arguments),!1!==this.createSurface()&&(e=this.surface.items,(o||a)&&(i=(t=e.getBBox()).width,n=t.height,s=t.x,r=t.y,this.viewBox?this.surface.setViewBox(s,r,i,n):this.autoSizeSurface()))},autoSizeSurface:function(){var t=this.surface.items.getBBox();this.setSurfaceSize(t.width,t.height)},setSurfaceSize:function(t,e){if(this.surface.setSize(t,e),this.autoSize){var i=this.surface.items.getBBox();this.surface.setViewBox(i.x,i.y-+Ext.isOpera,t,e)}},createSurface:function(){function t(t){return function(e){i.fireEvent(t,e)}}var e,i=this,n=Ext.applyIf({renderTo:i.el,height:i.height,width:i.width,items:i.items},i.initialConfig);if(delete n.listeners,n.gradients||(n.gradients=i.gradients),!(e=Ext.draw.Surface.create(n,i.enginePriority)))return!1;i.surface=e,e.on({scope:i,mouseup:t("mouseup"),mousedown:t("mousedown"),mousemove:t("mousemove"),mouseenter:t("mouseenter"),mouseleave:t("mouseleave"),click:t("click"),dblclick:t("dblclick")})},onDestroy:function(){Ext.destroy(this.surface),this.callParent(arguments)}}),Ext.chart=Ext.chart||{},Ext.define("Ext.chart.theme.Theme",(Ext.chart.theme=function(t,e){t=t||{};var i,n,s,r,o,a,l,h,d,c,u=0,f=+new Date,p=[];if(t.baseColor&&((c=(d=Ext.draw.Color.fromString(t.baseColor)).getHSL()[2])<.15?d=d.getLighter(.3):c<.3?d=d.getLighter(.15):c>.85?d=d.getDarker(.3):c>.7&&(d=d.getDarker(.15)),t.colors=[d.getDarker(.3).toString(),d.getDarker(.15).toString(),d.toString(),d.getLighter(.15).toString(),d.getLighter(.3).toString()],delete t.baseColor),t.colors){for(n=t.colors.slice(),o=e.markerThemes,r=e.seriesThemes,i=n.length,e.colors=n;u<i;u++)s=n[u],l=o[u]||{},a=r[u]||{},l.fill=a.fill=l.stroke=a.stroke=s,o[u]=l,r[u]=a;e.markerThemes=o.slice(0,i),e.seriesThemes=r.slice(0,i)}for(h in e)h in t&&(Ext.isObject(t[h])&&Ext.isObject(e[h])?Ext.apply(e[h],t[h]):e[h]=t[h]);if(t.useGradients){for(n=e.colors||function(){var t=[];for(u=0,r=e.seriesThemes,i=r.length;u<i;u++)t.push(r[u].fill||r[u].stroke);return t}(),u=0,i=n.length;u<i;u++)(d=Ext.draw.Color.fromString(n[u]))&&(s=d.getDarker(.1).toString(),h="theme-"+(d=d.toString()).substr(1)+"-"+s.substr(1)+"-"+f,p.push({id:h,angle:45,stops:{0:{color:d.toString()},100:{color:s.toString()}}}),n[u]="url(#"+h+")");e.gradients=p,e.colors=n}Ext.apply(this,e)},{theme:"Base",themeAttrs:!1,initTheme:function(t){var e,i,n=Ext.chart.theme;if(t){t=t.split(":");for(e in n)if(e==t[0])return i="gradients"==t[1],this.themeAttrs=new n[e]({useGradients:i}),i&&(this.gradients=this.themeAttrs.gradients),void(this.themeAttrs.background&&(this.background=this.themeAttrs.background))}}})),Ext.define("Ext.chart.MaskLayer",{extend:Ext.Component,constructor:function(t){t=Ext.apply(t||{},{style:"position:absolute;background-color:#ff9;cursor:crosshair;opacity:0.5;border:1px solid #00f;"}),this.callParent([t])},initComponent:function(){this.callParent(arguments),this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments),this.dd.onStart=function(t){var e=this.comp;this.startPosition=e.getPosition(!0),e.ghost&&!e.liveDrag&&(this.proxy=e.ghost(),this.dragTarget=this.proxy.header.el),(this.constrain||this.constrainDelegate)&&(this.constrainTo=this.calculateConstrainRegion())}}}),Ext.define("Ext.chart.Mask",{constructor:function(t){var e=this;e.addEvents("select"),t&&Ext.apply(e,t),e.enableMask&&e.on("afterrender",function(){var t=new Ext.chart.MaskLayer({renderTo:e.el,hidden:!0});t.el.on({mousemove:function(t){e.onMouseMove(t)},mouseup:function(t){e.onMouseUp(t)}}),t.initDraggable(),e.maskType=e.mask,e.mask=t,e.maskSprite=e.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.6,hidden:!0,stroke:"#00f",cursor:"crosshair"})},e,{single:!0})},onMouseUp:function(t){var e,i=this.bbox||this.chartBBox;this.maskMouseDown=!1,this.mouseDown=!1,this.mouseMoved&&(this.handleMouseEvent(t),this.mouseMoved=!1,e=this.maskSelection,this.fireEvent("select",this,{x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}))},onMouseDown:function(t){this.handleMouseEvent(t)},onMouseMove:function(t){this.handleMouseEvent(t)},handleMouseEvent:function(t){var e,i=this.maskType,n=this.bbox||this.chartBBox,s=n.x,r=n.y,o=Math,a=o.floor,l=o.abs,h=o.min,d=o.max,c=a(r+n.height),u=a(s+n.width),f=t.getPageX()-this.el.getX(),p=t.getPageY()-this.el.getY(),g=this.maskMouseDown;f=d(f,s),p=d(p,r),f=h(f,u),p=h(p,c),"mousedown"===t.type?(this.mouseDown=!0,this.mouseMoved=!1,this.maskMouseDown={x:f,y:p}):(this.mouseMoved=this.mouseDown,g&&this.mouseDown?("horizontal"==i?(p=r,g.y=c):"vertical"==i&&(f=s,g.x=u),e=["M",f,p,"l",u=g.x-f,0,0,c=g.y-p,-u,0,"z"],this.maskSelection={x:(u>0?f:f+u)+this.el.getX(),y:(c>0?p:p+c)+this.el.getY(),width:l(u),height:l(c)},this.mask.updateBox(this.maskSelection),this.mask.show(),this.maskSprite.setAttributes({hidden:!0},!0)):(e="horizontal"==i?["M",f,r,"L",f,c]:"vertical"==i?["M",s,p,"L",u,p]:["M",f,r,"L",f,c,"M",s,p,"L",u,p],this.maskSprite.setAttributes({path:e,"stroke-width":1,hidden:!1},!0)))},onMouseLeave:function(t){this.mouseMoved=!1,this.mouseDown=!1,this.maskMouseDown=!1,this.mask.hide(),this.maskSprite.hide(!0)}}),Ext.define("Ext.chart.Navigation",{setZoom:function(t){var e,i,n,s,r,o,a,l,h,d,c,u,f=this.axes.items,p=this.chartBBox,g=p.width,m=p.height,x={x:t.x-this.el.getX(),y:t.y-this.el.getY(),width:t.width,height:t.height};for(e=0,i=f.length;e<i;e++)u="bottom"==(n=f[e]).position||"top"==n.position,"Category"==n.type?(l||(h=(l=this.getChartStore()).data.items.length),s=x,c=n.length,d=Math.round(c/h),u?(o=s.x?Math.floor(s.x/d)+1:0,a=(s.x+s.width)/d):(o=s.y?Math.floor(s.y/d)+1:0,a=(s.y+s.height)/d)):(s={x:x.x/g,y:x.y/m,width:x.width/g,height:x.height/m},r=n.calcEnds(),u?(o=(r.to-r.from)*s.x+r.from,a=(r.to-r.from)*s.width+o):o=(a=(r.to-r.from)*(1-s.y)+r.from)-(r.to-r.from)*s.height),n.minimum=o,n.maximum=a,u?n.doConstrain&&"vertical"!=this.maskType&&n.doConstrain():n.doConstrain&&"horizontal"!=this.maskType&&n.doConstrain();this.redraw(!1)},restoreZoom:function(){var t,e,i,n=this.axes.items;for(this.setSubStore(null),t=0,e=n.length;t<e;t++)delete(i=n[t]).minimum,delete i.maximum;this.redraw(!1)}}),Ext.define("Ext.chart.Shape",{singleton:!0,circle:function(t,e){return t.add(Ext.apply({type:"circle",x:e.x,y:e.y,stroke:null,radius:e.radius},e))},line:function(t,e){return t.add(Ext.apply({type:"rect",x:e.x-e.radius,y:e.y-e.radius,height:2*e.radius,width:2*e.radius/5},e))},square:function(t,e){return t.add(Ext.applyIf({type:"rect",x:e.x-e.radius,y:e.y-e.radius,height:2*e.radius,width:2*e.radius,radius:null},e))},triangle:function(t,e){return e.radius*=1.75,t.add(Ext.apply({type:"path",stroke:null,path:"M".concat(e.x,",",e.y,"m0-",.58*e.radius,"l",.5*e.radius,",",.87*e.radius,"-",e.radius,",0z")},e))},diamond:function(t,e){var i=e.radius;return i*=1.5,t.add(Ext.apply({type:"path",stroke:null,path:["M",e.x,e.y-i,"l",i,i,-i,i,-i,-i,i,-i,"z"]},e))},cross:function(t,e){var i=e.radius;return i/=1.7,t.add(Ext.apply({type:"path",stroke:null,path:"M".concat(e.x-i,",",e.y,"l",[-i,-i,i,-i,i,i,i,-i,i,i,-i,i,i,i,-i,i,-i,-i,-i,i,-i,-i,"z"])},e))},plus:function(t,e){var i=e.radius/1.3;return t.add(Ext.apply({type:"path",stroke:null,path:"M".concat(e.x-i/2,",",e.y-i/2,"l",[0,-i,i,0,0,i,i,0,0,i,-i,0,0,i,-i,0,0,-i,-i,0,0,-i,"z"])},e))},arrow:function(t,e){var i=e.radius;return t.add(Ext.apply({type:"path",path:"M".concat(e.x-.7*i,",",e.y-.4*i,"l",[.6*i,0,0,.4*-i,i,.8*i,-i,.8*i,0,.4*-i,.6*-i,0],"z")},e))},drop:function(t,e,i,n,s,r){s=s||30,r=r||0,t.add({type:"path",path:["M",e,i,"l",s,0,"A",.4*s,.4*s,0,1,0,e+.7*s,i-.7*s,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-r,x:e,y:i}}),r=(r+90)*Math.PI/180,t.add({type:"text",x:e+s*Math.sin(r)-10,y:i+s*Math.cos(r)+5,text:n,"font-size":12*s/40,stroke:"none",fill:"#fff"})}}),Ext.define("Ext.chart.LegendItem",{extend:Ext.draw.CompositeSprite,hiddenSeries:!1,label:void 0,mask:void 0,x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(t){this.callParent(arguments),this.createLegend(t)},createLegend:function(t){var e=this.series,i=t.yFieldIndex;this.label=this.createLabel(t),this.createSeriesMarkers(t),this.setAttributes({hidden:!1},!0),this.mask=this.createMask(t),this.yFieldIndex=i,this.on("mouseover",this.onMouseOver,this),this.on("mouseout",this.onMouseOut,this),this.on("mousedown",this.onMouseDown,this),e.visibleInLegend(i)||(this.hiddenSeries=!0,this.label.setAttributes({opacity:.5},!0)),this.updatePosition({x:0,y:0})},getLabelText:function(){function t(t){var n=e[t];return Ext.isArray(n)?n[i]:n}var e=this.series,i=this.yFieldIndex;return t("title")||t("yField")},createLabel:function(t){var e=this.legend;return this.add("label",this.surface.add({type:"text",x:20,y:0,zIndex:(this.zIndex||0)+2,fill:e.labelColor,font:e.labelFont,text:this.getLabelText(),style:{cursor:"pointer"}}))},createMask:function(t){var e,i=this.surface,n=this.legend;return e=this.getBBox(),this.add("mask",i.add({type:"rect",x:e.x,y:e.y,width:e.width||20,height:e.height||20,zIndex:(this.zIndex||0)+1,fill:n.boxFill,style:{cursor:"pointer"}}))},createSeriesMarkers:function(t){var e=t.yFieldIndex,i=this.series,n=i.type,s=(this.surface,this.zIndex);if("line"===n||"scatter"===n){if("line"===n){var r=Ext.apply(i.seriesStyle,i.style);this.drawLine(.5,.5,16.5,.5,s,r,e)}if(i.showMarkers||"scatter"===n){var o=Ext.apply(i.markerStyle,i.markerConfig||{},{fill:i.getLegendColor(e)});this.drawMarker(8.5,.5,s,o)}}else this.drawFilledBox(12,12,s,e)},drawLine:function(t,e,i,n,s,r,o){var a=this.surface,l=this.series;return this.add("line",a.add({type:"path",path:"M"+t+","+e+"L"+i+","+n,zIndex:(s||0)+2,"stroke-width":l.lineWidth,"stroke-linejoin":"round","stroke-dasharray":l.dash,stroke:r.stroke||l.getLegendColor(o)||"#000",style:{cursor:"pointer"}}))},drawMarker:function(t,e,i,n){var s=this.surface;this.series;return this.add("marker",Ext.chart.Shape[n.type](s,{fill:n.fill,x:t,y:e,zIndex:(i||0)+2,radius:n.radius||n.size,style:{cursor:"pointer"}}))},drawFilledBox:function(t,e,i,n){var s=this.surface,r=this.series;return this.add("box",s.add({type:"rect",zIndex:(i||0)+2,x:0,y:0,width:t,height:e,fill:r.getLegendColor(n),style:{cursor:"pointer"}}))},onMouseOver:function(){this.label.setStyle({"font-weight":"bold"}),this.mask.setStyle({cursor:"pointer"}),this.series._index=this.yFieldIndex,this.series.highlightItem()},onMouseOut:function(){var t=this.legend,e=this.boldRe;this.label.setStyle({"font-weight":t.labelFont&&e.test(t.labelFont)?"bold":"normal"}),this.series._index=this.yFieldIndex,this.series.unHighlightItem()},onMouseDown:function(){var t=this.yFieldIndex;this.hiddenSeries?(this.series.showAll(t),this.label.setAttributes({opacity:1},!0)):(this.series.hideAll(t),this.label.setAttributes({opacity:.5},!0)),this.hiddenSeries=!this.hiddenSeries,this.legend.chart.redraw()},updatePosition:function(t){var e,i=this.items,n=i.length,s=0;for(t||(t=this.legend);s<n;s++)switch((e=i[s]).type){case"text":e.setAttributes({x:20+t.x+this.x,y:t.y+this.y},!0);break;case"rect":e.setAttributes({translate:{x:t.x+this.x,y:t.y+this.y-6}},!0);break;default:e.setAttributes({translate:{x:t.x+this.x,y:t.y+this.y}},!0)}}}),Ext.define("Ext.chart.Legend",{visible:!0,update:!0,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(t){t&&Ext.apply(this,t),this.items=[],this.isVertical=-1!=="left|right|float".indexOf(this.position),this.origX=this.x,this.origY=this.y},create:function(){var t,e,i=this.chart.series.items;if(this.createBox(),!1!==this.rebuild&&this.createItems(),!this.created&&this.isDisplayed())for(this.created=!0,t=0,e=i.length;t<e;t++)i[t].on("titlechange",this.redraw,this)},redraw:function(){this.create(),this.updatePosition()},isDisplayed:function(){return this.visible&&-1!==this.chart.series.findIndex("showInLegend",!0)},createItems:function(){var t,e,i,n,s,r,o=this.chart.series.items,a=this.items;for(this.removeItems(),t=0,e=o.length;t<e;t++)if((s=o[t]).showInLegend)for(i=0,n=[].concat(s.yField).length;i<n;i++)r=this.createLegendItem(s,i),a.push(r);this.alignItems()},removeItems:function(){var t,e=this.items,i=e?e.length:0;if(i)for(t=0;t<i;t++)e[t].destroy();e.length=[]},alignItems:function(){var t,e,i,n,s,r,o=this.items,a=this.padding,l=2,h=this.isVertical,d=Math.floor;Math.max;e=(t=this.updateItemDimensions()).maxWidth,i=t.maxHeight,n=t.totalWidth,s=t.totalHeight,r=t.spacing,this.width=d((h?e:n)+2*a),h&&1===o.length&&(l=1),this.height=d((h?s-l*r:i)+2*a),this.itemHeight=i},updateItemDimensions:function(){var t,e,i,n,s,r,o=this.items,a=this.padding,l=this.itemSpacing,h=0,d=0,c=0,u=0,f=this.isVertical,p=Math.floor,g=Math.max,m=0;for(t=0,e=o.length;t<e;t++)s=(n=(i=o[t]).getBBox()).width,r=n.height,m=0===t?f?a+r/2:a:l/(f?2:1),i.x=p(f?a:c+m),i.y=p(f?u+m:a+r/2),c+=s+m,u+=r+m,h=g(h,s),d=g(d,r);return{totalWidth:c,totalHeight:u,maxWidth:h,maxHeight:d,spacing:m}},createLegendItem:function(t,e){return new Ext.chart.LegendItem({legend:this,series:t,surface:this.chart.surface,yFieldIndex:e})},getBBox:function(){return{x:Math.round(this.x)-this.boxStrokeWidth/2,y:Math.round(this.y)-this.boxStrokeWidth/2,width:this.width,height:this.height}},createBox:function(){var t;this.boxSprite&&this.boxSprite.destroy(),t=this.getBBox(),isNaN(t.width)||isNaN(t.height)?this.boxSprite=!1:(this.boxSprite=this.chart.surface.add(Ext.apply({type:"rect",stroke:this.boxStroke,"stroke-width":this.boxStrokeWidth,fill:this.boxFill,zIndex:this.boxZIndex},t))).redraw()},calcPosition:function(){var t,e,i=this.width,n=this.height,s=(this.padding,this.chart),r=s.chartBBox,o=s.insetPadding,a=r.width-2*o,l=r.height-2*o,h=r.x+o,d=r.y+o,c=s.surface,u=Math.floor;switch(this.position){case"left":t=o,e=u(d+l/2-n/2);break;case"right":t=u(c.width-i)-o,e=u(d+l/2-n/2);break;case"top":t=u(h+a/2-i/2),e=o;break;case"bottom":t=u(h+a/2-i/2),e=u(c.height-n)-o;break;default:t=u(this.origX)+o,e=u(this.origY)+o}return{x:t,y:e}},updatePosition:function(){var t,e,i,n,s=this.items;if(this.isDisplayed()){for(t=this.calcPosition(),this.x=t.x,this.y=t.y,e=0,i=s.length;e<i;e++)s[e].updatePosition();n=this.getBBox(),isNaN(n.width)||isNaN(n.height)?this.boxSprite&&this.boxSprite.hide(!0):(this.boxSprite||this.createBox(),this.boxSprite.setAttributes(n,!0),this.boxSprite.show(!0))}},toggle:function(t){var e=0,i=this.items,n=i.length;for(this.boxSprite&&(t?this.boxSprite.show(!0):this.boxSprite.hide(!0));e<n;++e)t?i[e].show(!0):i[e].hide(!0);this.visible=t}}),Ext.define("Ext.chart.theme.Base",{constructor:function(t){var e=Ext.identityFn;Ext.chart.theme.call(this,t,{background:!1,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:e},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:e},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:e},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:e},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},function(){for(var t=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],e=["Green","Sky","Red","Purple","Blue","Yellow"],i=0,n=t.length,s=Ext.chart.theme,r=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],o=r.length;i<n;i++)s[e[i]]=function(t){return Ext.extend(s.Base,{constructor:function(e){s.Base.prototype.constructor.call(this,Ext.apply({baseColor:t},e))}})}(t[i]);for(i=0;i<o;i++)s["Category"+(i+1)]=function(t){return Ext.extend(s.Base,{constructor:function(e){s.Base.prototype.constructor.call(this,Ext.apply({colors:t},e))}})}(r[i])}),Ext.define("Ext.chart.Chart",{alias:"widget.chart",extend:Ext.draw.Component,mixins:{themeManager:Ext.chart.theme.Theme,mask:Ext.chart.Mask,navigation:Ext.chart.Navigation,bindable:Ext.util.Bindable,observable:Ext.util.Observable},viewBox:!1,animate:!1,legend:!1,insetPadding:10,background:!1,constructor:function(t){var e;t=Ext.apply({},t),this.initTheme(t.theme||this.theme),this.gradients&&Ext.apply(t,{gradients:this.gradients}),this.background&&Ext.apply(t,{background:this.background}),t.animate&&(e={easing:"ease",duration:500},Ext.isObject(t.animate)?t.animate=Ext.applyIf(t.animate,e):t.animate=e),this.mixins.observable.constructor.call(this,t),t.enableMask&&this.mixins.mask.constructor.call(this),this.mixins.navigation.constructor.call(this),this.callParent([t])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var t,e;this.callParent(),this.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh"),Ext.applyIf(this,{zoom:{width:1,height:1,x:0,y:0}}),this.maxGutters={left:0,right:0,bottom:0,top:0},this.store=Ext.data.StoreManager.lookup(this.store),t=this.axes,this.axes=new Ext.util.MixedCollection(!1,function(t){return t.position}),t&&this.axes.addAll(t),e=this.series,this.series=new Ext.util.MixedCollection(!1,function(t){return t.seriesId||(t.seriesId=Ext.id(null,"ext-chart-series-"))}),e&&this.series.addAll(e),!1!==this.legend&&(this.legend=new Ext.chart.Legend(Ext.applyIf({chart:this},this.legend))),this.on({mousemove:this.onMouseMove,mouseleave:this.onMouseLeave,mousedown:this.onMouseDown,mouseup:this.onMouseUp,click:this.onClick,dblclick:this.onDblClick,scope:this})},afterComponentLayout:function(t,e,i,n){Ext.isNumber(t)&&Ext.isNumber(e)&&(t!==i||e!==n?(this.curWidth=t,this.curHeight=e,this.redraw(!0),this.needsRedraw=!1):this.needsRedraw&&(this.redraw(),this.needsRedraw=!1)),this.callParent(arguments)},redraw:function(t){var e,i,n=this.series.items,s=n.length,r=this.axes.items,o=r.length,a=0,l=this.chartBBox={x:0,y:0,height:this.curHeight,width:this.curWidth},h=this.legend;for(this.surface.setSize(l.width,l.height),e=0;e<s;e++)((i=n[e]).initialized?i:this.initializeSeries(i,e,a)).onRedraw(),Ext.isArray(i.yField)?a+=i.yField.length:++a;for(e=0;e<o;e++)(i=r[e]).initialized||this.initializeAxis(i);for(e=0;e<o;e++)r[e].processView();for(e=0;e<o;e++)r[e].drawAxis(!0);for(!1!==h&&h.visible&&(!h.update&&h.created||h.create()),this.alignAxes(),!1!==h&&h.visible&&h.updatePosition(),this.getMaxGutters(),this.resizing=!!t,e=0;e<o;e++)r[e].drawAxis();for(e=0;e<s;e++)this.drawCharts(n[e]);this.resizing=!1},afterRender:function(){this.callParent(arguments),this.categoryNames&&this.setCategoryNames(this.categoryNames),this.bindStore(this.store,!0),this.refresh(),"Vml"===this.surface.engine&&(this.on("added",this.onAddedVml,this),this.mon(this.hierarchyEventSource,"added",this.onContainerAddedVml,this))},onAddedVml:function(){this.needsRedraw=!0},onContainerAddedVml:function(t){this.isDescendantOf(t)&&(this.needsRedraw=!0)},getEventXY:function(t){var e=this.surface.getRegion(),i=t.getXY();return[i[0]-e.left,i[1]-e.top]},onClick:function(t){this.handleClick("itemclick",t)},onDblClick:function(t){this.handleClick("itemdblclick",t)},handleClick:function(t,e){var i,n,s,r,o=this.getEventXY(e),a=this.series.items;for(i=0,n=a.length;i<n;i++)s=a[i],Ext.draw.Draw.withinBox(o[0],o[1],s.bbox)&&s.getItemForPoint&&(r=s.getItemForPoint(o[0],o[1]))&&s.fireEvent(t,r)},onMouseDown:function(t){var e,i,n,s,r=this.getEventXY(t),o=this.series.items;for(this.enableMask&&this.mixins.mask.onMouseDown.call(this,t),e=0,i=o.length;e<i;e++)n=o[e],Ext.draw.Draw.withinBox(r[0],r[1],n.bbox)&&n.getItemForPoint&&(s=n.getItemForPoint(r[0],r[1]))&&n.fireEvent("itemmousedown",s)},onMouseUp:function(t){var e,i,n,s,r=this.getEventXY(t),o=this.series.items;for(this.enableMask&&this.mixins.mask.onMouseUp.call(this,t),e=0,i=o.length;e<i;e++)n=o[e],Ext.draw.Draw.withinBox(r[0],r[1],n.bbox)&&n.getItemForPoint&&(s=n.getItemForPoint(r[0],r[1]))&&n.fireEvent("itemmouseup",s)},onMouseMove:function(t){var e,i,n,s,r,o,a,l=this.getEventXY(t),h=this.series.items;for(this.enableMask&&this.mixins.mask.onMouseMove.call(this,t),e=0,i=h.length;e<i;e++)n=h[e],Ext.draw.Draw.withinBox(l[0],l[1],n.bbox)?n.getItemForPoint&&(s=n.getItemForPoint(l[0],l[1]),r=n._lastItemForPoint,o=n._lastStoreItem,a=n._lastStoreField,(s!==r||s&&(s.storeItem!=o||s.storeField!=a))&&(r&&(n.fireEvent("itemmouseout",r),delete n._lastItemForPoint,delete n._lastStoreField,delete n._lastStoreItem),s&&(n.fireEvent("itemmouseover",s),n._lastItemForPoint=s,n._lastStoreItem=s.storeItem,n._lastStoreField=s.storeField))):(r=n._lastItemForPoint)&&(n.fireEvent("itemmouseout",r),delete n._lastItemForPoint,delete n._lastStoreField,delete n._lastStoreItem)},onMouseLeave:function(t){var e,i,n=this.series.items;for(this.enableMask&&this.mixins.mask.onMouseLeave.call(this,t),e=0,i=n.length;e<i;e++)delete n[e]._lastItemForPoint},delayRefresh:function(){this.refreshTask||(this.refreshTask=new Ext.util.DelayedTask(this.refresh,this)),this.refreshTask.delay(this.refreshBuffer)},refresh:function(){if(this.rendered&&void 0!==this.curWidth&&void 0!==this.curHeight){if(!this.isVisible(!0))return void(this.refreshPending||(this.setShowListeners("mon"),this.refreshPending=!0));!1!==this.fireEvent("beforerefresh",this)&&(this.redraw(),this.fireEvent("refresh",this))}},onShow:function(){this.callParent(arguments),this.refreshPending&&(this.delayRefresh(),this.setShowListeners("mun")),delete this.refreshPending},setShowListeners:function(t){this[t](this.hierarchyEventSource,{scope:this,single:!0,show:this.forceRefresh,expand:this.forceRefresh})},doRefresh:function(){this.setSubStore(null),this.refresh()},forceRefresh:function(t){this.isDescendantOf(t)&&this.refreshPending&&(this.setShowListeners("mun"),this.delayRefresh()),delete this.refreshPending},bindStore:function(t,e){this.mixins.bindable.bindStore.apply(this,arguments),this.store&&!e&&this.refresh()},getStoreListeners:function(){var t=this.doRefresh,e=this.delayRefresh;return{refresh:t,add:e,bulkremove:e,update:e,clear:t}},setSubStore:function(t){this.substore=t},initializeAxis:function(t){var e=this.chartBBox,i=e.width,n=e.height,s=e.x,r=e.y,o=this.themeAttrs,a={chart:this};switch(o&&(a.axisStyle=Ext.apply({},o.axis),a.axisLabelLeftStyle=Ext.apply({},o.axisLabelLeft),a.axisLabelRightStyle=Ext.apply({},o.axisLabelRight),a.axisLabelTopStyle=Ext.apply({},o.axisLabelTop),a.axisLabelBottomStyle=Ext.apply({},o.axisLabelBottom),a.axisTitleLeftStyle=Ext.apply({},o.axisTitleLeft),a.axisTitleRightStyle=Ext.apply({},o.axisTitleRight),a.axisTitleTopStyle=Ext.apply({},o.axisTitleTop),a.axisTitleBottomStyle=Ext.apply({},o.axisTitleBottom)),t.position){case"top":Ext.apply(a,{length:i,width:n,x:s,y:r});break;case"bottom":Ext.apply(a,{length:i,width:n,x:s,y:n});break;case"left":Ext.apply(a,{length:n,width:i,x:s,y:n});break;case"right":Ext.apply(a,{length:n,width:i,x:i,y:n})}t.chart?Ext.apply(t,a):(Ext.apply(a,t),t=this.axes.replace(Ext.createByAlias("axis."+t.type.toLowerCase(),a))),t.initialized=!0},getInsets:function(){var t=this.insetPadding;return{top:t,right:t,bottom:t,left:t}},calculateInsets:function(){function t(t){var e=h.findIndex("position",t);return e<0?null:h.getAt(e)}var e,i,n,s,r,o,a,l=this.legend,h=this.axes,d=["top","right","bottom","left"];for(e=this.getInsets(),i=0,n=d.length;i<n;i++)r="left"===(s=d[i])||"right"===s,o=t(s),!1!==l&&l.position===s&&(a=l.getBBox(),e[s]+=(r?a.width:a.height)+this.insetPadding),o&&o.bbox&&(a=o.bbox,e[s]+=r?a.width:a.height);return e},alignAxes:function(){var t,e,i,n,s,r,o,a=this.axes.items;for(e={x:(t=this.calculateInsets()).left,y:t.top,width:this.curWidth-t.left-t.right,height:this.curHeight-t.top-t.bottom},this.chartBBox=e,i=0,n=a.length;i<n;i++)o="left"===(r=(s=a[i]).position)||"right"===r,s.x="right"===r?e.x+e.width:e.x,s.y="top"===r?e.y:e.y+e.height,s.width=o?e.width:e.height,s.length=o?e.height:e.width},initializeSeries:function(t,e,i){var n,s,r,o,a,l,h,d=this.themeAttrs,c=[],u=0;if(!(t instanceof Ext.chart.series.Series)){if(h={chart:this,seriesId:t.seriesId},d){if(r=d.seriesThemes,a=d.markerThemes,n=Ext.apply({},d.series),s=Ext.apply({},d.marker),h.seriesStyle=Ext.apply(n,r[i%r.length]),h.seriesLabelStyle=Ext.apply({},d.seriesLabel),h.markerStyle=Ext.apply(s,a[i%a.length]),d.colors)h.colorArrayStyle=d.colors;else{for(c=[],l=r.length;u<l;u++)((o=r[u]).fill||o.stroke)&&c.push(o.fill||o.stroke);c.length&&(h.colorArrayStyle=c)}h.seriesIdx=e,h.themeIdx=i}Ext.applyIf(h,t),t=this.series.replace(Ext.createByAlias("series."+t.type.toLowerCase(),h))}return t.initialize&&t.initialize(),t.initialized=!0,t},getMaxGutters:function(){var t,e,i,n=this.series.items,s=0,r=0,o=0,a=0;for(t=0,e=n.length;t<e;t++)(i=n[t].getGutters())&&(i.verticalAxis?(o=Math.max(o,i.lower),a=Math.max(a,i.upper)):(s=Math.max(s,i.lower),r=Math.max(r,i.upper)));this.maxGutters={left:s,right:r,bottom:o,top:a}},drawAxis:function(t){t.drawAxis()},drawCharts:function(t){t.triggerafterrender=!1,t.drawSeries(),this.animate||t.fireEvent("afterrender")},save:function(t){return Ext.draw.Surface.save(this.surface,t)},destroy:function(){Ext.destroy(this.surface),this.bindStore(null),this.callParent(arguments)}}),Ext.define("Ext.chart.Highlight",{highlight:!1,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(t){t.highlight&&"boolean"!=typeof t.highlight&&(this.highlightCfg=Ext.merge({},this.highlightCfg,t.highlight))},highlightItem:function(t){if(t){var e,i,n,s,r=t.sprite,o=Ext.merge({},this.highlightCfg,this.highlight),a=this.chart.surface,l=this.chart.animate;if(this.highlight&&r&&!r._highlighted){if(r._anim&&(r._anim.paused=!0),r._highlighted=!0,!r._defaults){r._defaults=Ext.apply({},r.attr),i={},n={};for(e in o)if(e in r._defaults||(r._defaults[e]=a.availableAttrs[e]),i[e]=r._defaults[e],n[e]=o[e],Ext.isObject(o[e])){i[e]={},n[e]={},Ext.apply(r._defaults[e],r.attr[e]),Ext.apply(i[e],r._defaults[e]);for(s in r._defaults[e])s in o[e]?n[e][s]=o[e][s]:n[e][s]=i[e][s];for(s in o[e])s in n[e]||(n[e][s]=o[e][s])}r._from=i,r._to=n,r._endStyle=n}l?r._anim=new Ext.fx.Anim({target:r,from:r._from,to:r._to,duration:150}):r.setAttributes(r._to,!0)}}},unHighlightItem:function(){if(this.highlight&&this.items)for(var t,e,i,n=this.items,s=n.length,r=Ext.merge({},this.highlightCfg,this.highlight),o=this.chart.animate,a=0;a<s;a++)if(n[a]&&(i=n[a].sprite)&&i._highlighted){i._anim&&(i._anim.paused=!0),t={};for(e in r)Ext.isObject(i._defaults[e])?t[e]=Ext.apply({},i._defaults[e]):t[e]=i._defaults[e];o?(i._endStyle=t,i._anim=new Ext.fx.Anim({target:i,to:t,duration:150})):i.setAttributes(t,!0),delete i._highlighted}},cleanHighlights:function(){if(this.highlight){var t,e=this.group,i=this.markerGroup,n=0;for(t=e.getCount();n<t;n++)delete e.getAt(n)._defaults;if(i)for(t=i.getCount();n<t;n++)delete i.getAt(n)._defaults}}}),Ext.define("Ext.chart.Label",{colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(t){this.label=Ext.applyIf(this.label||{},{display:"none",stackedDisplay:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:Ext.identityFn}),"none"!==this.label.display&&(this.labelsGroup=this.chart.surface.getGroup(this.seriesId+"-labels"))},renderLabels:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p,g,m,x,E,y,v,b,C,w=this.chart,S=w.gradients,T=this.items,k=w.animate,D=this.label,I=D.display,P=D.stackedDisplay,M=D.renderer,A=(D.color,[].concat(D.field)),L=this.labelsGroup,R=L?L.length:0,F=this.chart.getChartStore(),O=F.getCount(),N=T?T.length:0,B=N/O,H=S?S.length:0,W=Ext.draw.Color,V=[];if("none"!=I){if(0==N)for(;R--;)V.push(R);else{for(e=0,i=0,n=0;e<O;e++)for(s=0,r=0;r<B;r++){for(d=T[i],c=L.getAt(n),u=F.getAt(e);this.__excludes&&this.__excludes[s];)s++;if(!d&&c&&(c.hide(!0),n++),d&&A[r]){if(c||(c=this.onCreateLabel(u,d,e,I)),this.onPlaceLabel(c,u,d,e,I,k,s),n++,D.contrast&&d.sprite){if(f=d.sprite,x=k&&f._endStyle?f._endStyle.fill:k&&f._to?f._to.fill:f.attr.fill,x=x||f.attr.fill,p=W.fromString(x),x&&!p){for(x=x.match(this.colorStringRe)[1],o=0;o<H;o++)if((t=S[o]).id==x){h=0,a=0;for(l in t.stops)h++,a+=W.fromString(t.stops[l].color).getGrayscale();g=a/h/255;break}}else g=p.getGrayscale()/255;c.isOutside&&(g=1),(m=W.fromString(c.attr.color||c.attr.fill).getHSL())[2]=g>.5?.2:.8,c.setAttributes({fill:String(W.fromHSL.apply({},m))},!0)}this.stacked&&P&&(d.totalPositiveValues||d.totalNegativeValues)&&(E=(y=d.totalPositiveValues||0)+(v=d.totalNegativeValues||0),"total"==P?b=M(E):"balances"==P&&(0==y&&0==v?b=M(0):(b=M(y),C=M(v))),b&&((c=L.getAt(n))||(c=this.onCreateLabel(u,d,e,"over")),c.setAttributes({text:b}),this.onPlaceLabel(c,u,d,e,"over",k,s),n++,m=W.fromString(c.attr.color||c.attr.fill).getHSL(),c.setAttributes({fill:String(W.fromHSL.apply({},m))},!0)),C&&((c=L.getAt(n))||(c=this.onCreateLabel(u,d,e,"under")),c.setAttributes({text:C}),this.onPlaceLabel(c,u,d,e,"under",k,s),n++,m=W.fromString(c.attr.color||c.attr.fill).getHSL(),c.setAttributes({fill:String(W.fromHSL.apply({},m))},!0)))}i++,s++}for(R=L.length;R>n;)V.push(n),n++}this.hideLabels(V)}},hideLabels:function(t){var e=this.labelsGroup,i=!!t&&t.length;if(e)if(!1===i)for(i=e.getCount();i--;)e.getAt(i).hide(!0);else for(;i--;)e.getAt(t[i]).hide(!0)}}),Ext.define("Ext.chart.TipSurface",{extend:Ext.draw.Component,spriteArray:!1,renderFirst:!0,constructor:function(t){this.callParent([t]),t.sprites&&(this.spriteArray=[].concat(t.sprites),delete t.sprites)},onRender:function(){var t,e=0,i=0;if(this.callParent(arguments),t=this.spriteArray,this.renderFirst&&t)for(this.renderFirst=!1,i=t.length;e<i;e++)this.surface.add(t[e]).setAttributes({hidden:!1},!0)}}),Ext.define("Ext.chart.Tip",{constructor:function(t){var e,i,n,s=this;t.tips&&(s.tipTimeout=null,s.tipConfig=Ext.apply({},t.tips,{renderer:Ext.emptyFn,constrainPosition:!0,autoHide:!0}),s.tooltip=new Ext.tip.ToolTip(s.tipConfig),s.chart.surface.on("mousemove",s.tooltip.onMouseMove,s.tooltip),s.chart.surface.on("mouseleave",function(){s.hideTip()}),s.tipConfig.surface&&(i=(e=s.tipConfig.surface).sprites,n=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:i}),e.width&&e.height&&n.setSize(e.width,e.height),s.tooltip.add(n),s.spriteTip=n))},showTip:function(t){var e,i,n,s,r,o,a,l,h,d;this.tooltip&&(clearTimeout(this.tipTimeout),e=this.tooltip,i=this.spriteTip,n=this.tipConfig,(s=e.trackMouse)||(e.trackMouse=!0,o=(r=t.sprite).surface,(a=Ext.get(o.getId()))&&(h=(l=a.getXY())[0]+(r.attr.x||0)+(r.attr.translation&&r.attr.translation.x||0),d=l[1]+(r.attr.y||0)+(r.attr.translation&&r.attr.translation.y||0),e.targetXY=[h,d])),i?n.renderer.call(e,t.storeItem,t,i.surface):n.renderer.call(e,t.storeItem,t),e.show(),e.trackMouse=s)},hideTip:function(t){var e=this.tooltip;e&&(clearTimeout(this.tipTimeout),this.tipTimeout=setTimeout(function(){e.hide()},0))}}),Ext.define("Ext.chart.axis.Abstract",{constructor:function(t){var e=(t=t||{}).position||"left";e=e.charAt(0).toUpperCase()+e.substring(1),t.label=Ext.apply(t["axisLabel"+e+"Style"]||{},t.label||{}),t.axisTitleStyle=Ext.apply(t["axisTitle"+e+"Style"]||{},t.labelTitle||{}),Ext.apply(this,t),this.fields=Ext.Array.from(this.fields),this.callParent(),this.labels=[],this.getId(),this.labelGroup=this.chart.surface.getGroup(this.axisId+"-labels")},alignment:null,grid:!1,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn}),Ext.define("Ext.chart.axis.Axis",{extend:Ext.chart.axis.Abstract,alternateClassName:"Ext.chart.Axis",forceMinMax:!1,dashSize:3,position:"bottom",skipFirst:!1,length:0,width:0,adjustEnd:!0,majorTickSteps:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},applyData:Ext.emptyFn,getRange:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u=this.chart,f=u.getChartStore().data.items,p=u.series.items,g=this.position,m=Ext.chart.series,x=[],E=1/0,y=-1/0,v="left"===this.position||"right"===this.position||"radial"===this.position,b=f.length,C={},w={},S=!0;for(s=0,i=(a=this.fields).length;s<i;s++)w[a[s]]=!0;for(e=0,i=p.length;e<i;e++)if(!p[e].seriesIsHidden&&p[e].getAxesForXAndYFields&&(!(t=p[e].getAxesForXAndYFields()).xAxis||t.xAxis===g||!t.yAxis||t.yAxis===g)){if(a=m.Bar&&p[e]instanceof m.Bar&&!p[e].column?v?Ext.Array.from(p[e].xField):Ext.Array.from(p[e].yField):v?Ext.Array.from(p[e].yField):Ext.Array.from(p[e].xField),this.fields.length){for(s=0,n=a.length;s<n&&!w[a[s]];s++);if(s==n)continue}if((o=p[e].stacked)&&(m.Bar&&p[e]instanceof m.Bar?p[e].column!=v&&(o=!1,S=!1):v||(o=!1,S=!1)),o){for(l={},s=0;s<a.length;s++)S&&p[e].__excludes&&p[e].__excludes[s]||(w[a[s]]||Ext.Logger.warn("Field `"+a[s]+"` is not included in the "+g+" axis config."),w[a[s]]=l[a[s]]=!0);x.push({fields:l,positiveValue:0,negativeValue:0})}else for(a&&0!=a.length||(a=this.fields),s=0;s<a.length;s++)S&&p[e].__excludes&&p[e].__excludes[s]||(w[a[s]]=C[a[s]]=!0)}for(e=0;e<b;e++){for(h=f[e],r=0;r<x.length;r++)x[r].positiveValue=0,x[r].negativeValue=0;for(d in w)if(c=h.get(d),"Time"==this.type&&"string"==typeof c&&(c=Date.parse(c)),!isNaN(c))for(void 0===c&&(c=0),C[d]&&(E>c&&(E=c),y<c&&(y=c)),r=0;r<x.length;r++)x[r].fields[d]&&(c>=0?(x[r].positiveValue+=c,y<x[r].positiveValue&&(y=x[r].positiveValue),E>0&&(E=0)):(x[r].negativeValue+=c,E>x[r].negativeValue&&(E=x[r].negativeValue),y<0&&(y=0)))}return isFinite(y)||(y=this.prevMax||0),isFinite(E)||(E=this.prevMin||0),"number"==typeof E&&(E=Ext.Number.correctFloat(E)),"number"==typeof y&&(y=Ext.Number.correctFloat(y)),E==y||y==Math.floor(y)&&E==Math.floor(E)||(E=Math.floor(E),y=Math.floor(y)+1),isNaN(this.minimum)||(E=this.minimum),isNaN(this.maximum)||(y=this.maximum),E>=y&&(y=(E=Math.floor(E))+1),{min:E,max:y}},calcEnds:function(){var t,e,i,n,s=this.getRange(),r=s.min,o=s.max;return t=Ext.isNumber(this.majorTickSteps)?this.majorTickSteps+1:this.steps,e=!(Ext.isNumber(this.maximum)&&Ext.isNumber(this.minimum)&&Ext.isNumber(this.majorTickSteps)&&this.majorTickSteps>0),i=Ext.draw.Draw.snapEnds(r,o,t,e),Ext.isNumber(this.maximum)&&(i.to=this.maximum,n=!0),Ext.isNumber(this.minimum)&&(i.from=this.minimum,n=!0),this.adjustMaximumByMajorUnit&&(i.to=Math.ceil(i.to/i.step)*i.step,n=!0),this.adjustMinimumByMajorUnit&&(i.from=Math.floor(i.from/i.step)*i.step,n=!0),n&&(i.steps=Math.ceil((i.to-i.from)/i.step)),this.prevMin=r==o?0:r,this.prevMax=o,i},drawAxis:function(t){var e,i,n,s,r,o,a,l,h,d,c,u,f,p,g=this,m=g.x,x=g.y,E=g.dashSize,y=g.length,v=g.position,b="left"==v||"right"==v,C=[],w=g.isNumericAxis,S=g.applyData(),T=S.step,k=S.steps,D=Ext.isArray(k),I=S.from,P=S.to,M=P-I||1,A=g.minorTickSteps||0,L=g.minorTickSteps||0,R=(Math.max(A+1,0),Math.max(L+1,0),E*("left"==v||"top"==v?-1:1)),F=g.chart.series.items,O=F[0],N=O?O.nullGutters:g.nullGutters,B=0;if(g.from=I,g.to=P,!(g.hidden||I>P||D&&0==k.length||!D&&isNaN(T))){if(D)k=Ext.Array.filter(k,function(t,e,i){return+t>+g.from&&+t<+g.to},this),k=Ext.Array.union([g.from],k,[g.to]);else{for(k=new Array,u=+g.from;u<+g.to;u+=T)k.push(u);k.push(+g.to)}for(B=k.length,e=0,c=F.length;e<c;e++)if(!F[e].seriesIsHidden&&F[e].getAxesForXAndYFields&&(!(d=F[e].getAxesForXAndYFields()).xAxis||!d.yAxis||d.xAxis===v||d.yAxis===v)){void 0!==(N=F[e].getGutters()).verticalAxis&&N.verticalAxis!=b&&(o=F[e].getPadding(),N=b?{lower:o.bottom,upper:o.top,verticalAxis:!0}:{lower:o.left,upper:o.right,verticalAxis:!1});break}if(w&&(g.labels=[]),N)if(b)for(r=["M",(n=Math.floor(m))+.5,x,"l",0,-y],i=y-(N.lower+N.upper),h=0;h<B;h++)s=x-N.lower-(k[h]-k[0])*i/M,r.push("M",n,Math.floor(s)+.5,"l",2*R,0),C.push([n,Math.floor(s)]),w&&g.labels.push(k[h]);else for(r=["M",m,(s=Math.floor(x))+.5,"l",y,0],i=y-(N.lower+N.upper),h=0;h<B;h++)n=m+N.lower+(k[h]-k[0])*i/M,r.push("M",Math.floor(n)+.5,s,"l",0,2*R+1),C.push([Math.floor(n),s]),w&&g.labels.push(k[h]);if(a=b?L:A,Ext.isArray(a)?l=2==a.length?+Ext.Date.add(new Date,a[0],a[1])-Date.now():a[0]:Ext.isNumber(a)&&a>0&&(l=T/(a+1)),N&&l)for(h=0;h<B-1;h++)if(f=+k[h],p=+k[h+1],b)for(value=f+l;value<p;value+=l)s=x-N.lower-(value-k[0])*i/M,r.push("M",n,Math.floor(s)+.5,"l",R,0);else for(value=f+l;value<p;value+=l)n=m+N.upper+(value-k[0])*i/M,r.push("M",Math.floor(n)+.5,s,"l",0,R+1);g.axis||(g.axis=g.chart.surface.add(Ext.apply({type:"path",path:r},g.axisStyle))),g.axis.setAttributes({path:r},!0),g.inflections=C,!t&&g.grid&&g.drawGrid(),g.axisBBox=g.axis.getBBox(),g.drawLabel()}},drawGrid:function(){var t,e,i,n,s=this.chart.surface,r=this.grid,o=r.odd,a=r.even,l=this.inflections,h=l.length-(o||a?0:1),d=this.position,c=this.chart.maxGutters,u=this.width-2,f=1,p=[],g=[],m=[];for((0===c.bottom&&0===c.top||"left"!=d&&"right"!=d)&&(0===c.left&&0===c.right||"top"!=d&&"bottom"!=d)||(f=0,h++);f<h;f++)t=l[f],e=l[f-1],o||a?(p=f%2?g:m,2*(n=((i=(f%2?o:a)||{}).lineWidth||i["stroke-width"]||0)/2),"left"==d?p.push("M",e[0]+1+n,e[1]+.5-n,"L",e[0]+1+u-n,e[1]+.5-n,"L",t[0]+1+u-n,t[1]+.5+n,"L",t[0]+1+n,t[1]+.5+n,"Z"):"right"==d?p.push("M",e[0]-n,e[1]+.5-n,"L",e[0]-u+n,e[1]+.5-n,"L",t[0]-u+n,t[1]+.5+n,"L",t[0]-n,t[1]+.5+n,"Z"):"top"==d?p.push("M",e[0]+.5+n,e[1]+1+n,"L",e[0]+.5+n,e[1]+1+u-n,"L",t[0]+.5-n,t[1]+1+u-n,"L",t[0]+.5-n,t[1]+1+n,"Z"):p.push("M",e[0]+.5+n,e[1]-n,"L",e[0]+.5+n,e[1]-u+n,"L",t[0]+.5-n,t[1]-u+n,"L",t[0]+.5-n,t[1]-n,"Z")):p="left"==d?p.concat(["M",t[0]+.5,t[1]+.5,"l",u,0]):"right"==d?p.concat(["M",t[0]-.5,t[1]+.5,"l",-u,0]):"top"==d?p.concat(["M",t[0]+.5,t[1]+.5,"l",0,u]):p.concat(["M",t[0]+.5,t[1]-.5,"l",0,-u]);o||a?(g.length&&(!this.gridOdd&&g.length&&(this.gridOdd=s.add({type:"path",path:g})),this.gridOdd.setAttributes(Ext.apply({path:g,hidden:!1},o||{}),!0)),m.length&&(this.gridEven||(this.gridEven=s.add({type:"path",path:m})),this.gridEven.setAttributes(Ext.apply({path:m,hidden:!1},a||{}),!0))):p.length?(this.gridLines||(this.gridLines=this.chart.surface.add({type:"path",path:p,"stroke-width":this.lineWidth||1,stroke:this.gridColor||"#ccc"})),this.gridLines.setAttributes({hidden:!1,path:p},!0)):this.gridLines&&this.gridLines.hide(!0)},getOrCreateLabel:function(t,e){var i=this.labelGroup,n=i.getAt(t),s=this.chart.surface;return n?e!=n.attr.text&&(n.setAttributes(Ext.apply({text:e},this.label),!0),n._bbox=n.getBBox()):(n=s.add(Ext.apply({group:i,type:"text",x:0,y:0,text:e},this.label)),s.renderItem(n),n._bbox=n.getBBox()),this.label.rotation?(n.setAttributes({rotation:{degrees:0}},!0),n._ubbox=n.getBBox(),n.setAttributes(this.label,!0)):n._ubbox=n._bbox,n},rect2pointArray:function(t){var e=this.chart.surface.getBBox(t,!0),i=[e.x,e.y],n=i.slice(),s=[e.x+e.width,e.y],r=s.slice(),o=[e.x+e.width,e.y+e.height],a=o.slice(),l=[e.x,e.y+e.height],h=l.slice(),d=t.matrix;return i[0]=d.x.apply(d,n),i[1]=d.y.apply(d,n),s[0]=d.x.apply(d,r),s[1]=d.y.apply(d,r),o[0]=d.x.apply(d,a),o[1]=d.y.apply(d,a),l[0]=d.x.apply(d,h),l[1]=d.y.apply(d,h),[i,s,o,l]},intersect:function(t,e){var i=this.rect2pointArray(t),n=this.rect2pointArray(e);return!!Ext.draw.Draw.intersect(i,n).length},drawHorizontalLabels:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u=this.label,f=Math.floor,p=Math.max,g=this.chart.axes,m=this.chart.insetPadding,x=this.chart.maxGutters,E=this.position,y=this.inflections,v=y.length,b=this.labels,C=0,w=this.adjustEnd,S=-1!=g.findIndex("position","left"),T=-1!=g.findIndex("position","right");for(a=v-1,i=y[0],c=this.getOrCreateLabel(0,this.label.renderer(b[0])),t=Math.floor(Math.abs(Math.sin(u.rotate&&u.rotate.degrees*Math.PI/180||0))),d=0;d<v;d++){if(i=y[d],o=this.label.renderer(b[d]),r=this.getOrCreateLabel(d,o),e=r._bbox,C=p(C,e.height+this.dashSize+this.label.padding),l=f(i[0]-(t?e.height:e.width)/2),w&&0==x.left&&0==x.right&&(0!=d||S?d!=a||T||(l=Math.min(l,i[0]-e.width+m)):l=i[0]),h="top"==E?i[1]-2*this.dashSize-this.label.padding-e.height/2:i[1]+2*this.dashSize+this.label.padding+e.height/2,r.setAttributes({hidden:!1,x:l,y:h},!0),0!=d&&(this.intersect(r,n)||this.intersect(r,c))){if(d!==a||0===s){r.hide(!0);continue}n.hide(!0)}n=r,s=d}return C},drawVerticalLabels:function(){var t,e,i,n,s,r,o,a,l,h=this.inflections,d=this.position,c=h.length,u=this.chart.insetPadding,f=this.labels,p=0,g=Math.max,m=Math.floor,x=Math.ceil,E=this.chart.axes,y=this.chart.maxGutters,v=-1!=E.findIndex("position","top"),b=-1!=E.findIndex("position","bottom"),C=this.adjustEnd,w=c-1;for(l=0;l<c;l++){if(e=h[l],r=this.label.renderer(f[l]),s=this.getOrCreateLabel(l,r),t=s._bbox,p=g(p,t.width+this.dashSize+this.label.padding),a=e[1],C&&y.bottom+y.top<t.height/2&&(l!=w||v?0!=l||b||(a=this.y+y.bottom-m(t.height/2)):a=Math.max(a,this.y-this.length+x(t.height/2)-u)),o="left"==d?e[0]-t.width-this.dashSize-this.label.padding-2:e[0]+this.dashSize+this.label.padding+2,s.setAttributes(Ext.apply({hidden:!1,x:o,y:a},this.label),!0),0!=l&&this.intersect(s,i)){if(l!==w||0===n){s.hide(!0);continue}i.hide(!0)}i=s,n=l}return p},drawLabel:function(){var t,e,i=this.position,n=this.labelGroup,s=this.inflections,r=0,o=0;for("left"==i||"right"==i?r=this.drawVerticalLabels():o=this.drawHorizontalLabels(),t=n.getCount(),e=s.length;e<t;e++)n.getAt(e).hide(!0);this.bbox={},Ext.apply(this.bbox,this.axisBBox),this.bbox.height=o,this.bbox.width=r,Ext.isString(this.title)&&this.drawTitle(r,o)},setTitle:function(t){this.title=t,this.drawLabel()},drawTitle:function(t,e){var i,n,s,r=this.position,o=this.chart.surface,a=this.displaySprite,l=this.title,h="left"==r||"right"==r,d=this.x,c=this.y;a?a.setAttributes({text:l},!0):(i={type:"text",x:0,y:0,text:l},a=this.displaySprite=o.add(Ext.apply(i,this.axisTitleStyle,this.labelTitle)),o.renderItem(a)),n=a.getBBox(),s=this.dashSize+this.label.padding,h?(c-=this.length/2-n.height/2,"left"==r?d-=t+s+n.width/2:d+=t+s+n.width-n.width/2,this.bbox.width+=n.width+10):(d+=this.length/2-.5*n.width,"top"==r?c-=e+s+.3*n.height:c+=e+s+.8*n.height,this.bbox.height+=n.height+10),a.setAttributes({translate:{x:d,y:c}},!0)}}),Ext.define("Ext.chart.axis.Category",{extend:Ext.chart.axis.Axis,alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",categoryNames:null,calculateCategoryCount:!1,doConstrain:function(){var t,e=this.chart,i=e.getChartStore(),n=i.data.items,s=e.series.items,r=s.length,o=[];for(t=0;t<r;t++)if("bar"===s[t].type&&s[t].stacked)return;for(t=this.minimum;t<this.maximum;t++)o.push(n[t]);e.setSubStore(new Ext.data.Store({model:i.model,data:o}))},setLabels:function(){var t,e,i,n,s,r,o=this.chart.getChartStore().data.items,a=this.fields,l=a.length;for(n=this.labels=[],t=0,e=o.length;t<e;t++)for(i=o[t],r=0;r<l;r++)s=i.get(a[r]),n.push(s)},applyData:function(){this.callParent(),this.setLabels();var t=this.chart.getChartStore().getCount();return{from:0,to:t-1,power:1,step:1,steps:t-1}}}),Ext.define("Ext.chart.axis.Gauge",{extend:Ext.chart.axis.Abstract,position:"gauge",alias:"axis.gauge",drawAxis:function(t){var e,i,n=this.chart,s=n.surface,r=n.chartBBox,o=r.x+r.width/2,a=r.y+r.height,l=this.margin||10,h=Math.min(r.width,2*r.height)/2+l,d=[],c=this.steps,u=Math.PI,f=Math.cos,p=Math.sin;if(!this.sprites||n.resizing){if(this.margin>=0)if(this.sprites)for(d=this.sprites,i=0;i<=c;i++)d[i].setAttributes({path:["M",o+(h-l)*f(i/c*u-u),a+(h-l)*p(i/c*u-u),"L",o+h*f(i/c*u-u),a+h*p(i/c*u-u),"Z"],stroke:"#ccc"},!0);else for(i=0;i<=c;i++)(e=s.add({type:"path",path:["M",o+(h-l)*f(i/c*u-u),a+(h-l)*p(i/c*u-u),"L",o+h*f(i/c*u-u),a+h*p(i/c*u-u),"Z"],stroke:"#ccc"})).setAttributes({hidden:!1},!0),d.push(e);this.sprites=d,this.drawLabel(),this.title&&this.drawTitle()}else this.drawLabel()},drawTitle:function(){var t,e=this.chart,i=e.surface,n=e.chartBBox,s=this.titleSprite;s||(this.titleSprite=s=i.add(Ext.apply({type:"text",zIndex:2},this.axisTitleStyle,this.labelTitle))),s.setAttributes(Ext.apply({text:this.title},this.label||{}),!0),t=s.getBBox(),s.setAttributes({x:n.x+n.width/2-t.width/2,y:n.y+n.height-t.height/2-4},!0)},setTitle:function(t){this.title=t,this.drawTitle()},drawLabel:function(){var t,e,i=this.chart,n=i.surface,s=i.chartBBox,r=s.x+s.width/2,o=s.y+s.height,a=this.margin||10,l=Math.min(s.width,2*s.height)/2+2*a,h=Math.round,d=[],c=this.maximum||0,u=this.minimum||0,f=this.steps,p=0,g=Math.PI,m=Math.cos,x=Math.sin,E=this.label.renderer||Ext.identityFn;if(this.labelArray)for(d=this.labelArray,p=0;p<=f;p++)e=0===p||p===f?7:0,d[p].setAttributes({text:E(h(u+p/f*(c-u))),x:r+l*m(p/f*g-g),y:o+l*x(p/f*g-g)-e},!0);else for(p=0;p<=f;p++)e=0===p||p===f?7:0,(t=n.add({type:"text",text:E(h(u+p/f*(c-u))),x:r+l*m(p/f*g-g),y:o+l*x(p/f*g-g)-e,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"})).setAttributes({hidden:!1},!0),d.push(t);this.labelArray=d}}),Ext.define("Ext.chart.axis.Numeric",{extend:Ext.chart.axis.Axis,alternateClassName:"Ext.chart.NumericAxis",type:"Numeric",isNumericAxis:!0,alias:"axis.numeric",constructor:function(t){var e,i=this,n=!(!t.label||!t.label.renderer);i.callParent([t]),e=i.label,null==t.constrain&&(i.constrain=null!=t.minimum&&null!=t.maximum),n||(e.renderer=function(t){return i.roundToDecimal(t,i.decimals)})},roundToDecimal:function(t,e){var i=Math.pow(10,e||0);return Math.round(t*i)/i},minimum:NaN,maximum:NaN,constrain:!0,decimals:2,scale:"linear",doConstrain:function(){var t,e,i,n,s,r,o=this.chart,a=o.getChartStore(),l=a.data.items,h=(o.series.items,this.fields),d=h.length,c=this.calcEnds(),u=c.from,f=c.to,p=[];for(t=0,e=l.length;t<e;t++){for(r=!0,i=l[t],n=0;n<d;n++){if(s=i.get(h[n]),"Time"==this.type&&"string"==typeof s&&(s=Date.parse(s)),+s<+u){r=!1;break}if(+s>+f){r=!1;break}}r&&p.push(i)}o.setSubStore(new Ext.data.Store({model:a.model,data:p}))},position:"left",adjustMaximumByMajorUnit:!1,adjustMinimumByMajorUnit:!1,processView:function(){var t,e,i=this.chart.series.items;for(t=0,e=i.length;t<e;t++)if(i[t].stacked){delete this.minimum,delete this.maximum,this.constrain=!1;break}this.constrain&&this.doConstrain()},applyData:function(){return this.callParent(),this.calcEnds()}}),Ext.define("Ext.chart.axis.Radial",{extend:Ext.chart.axis.Numeric,position:"radial",alias:"axis.radial",drawAxis:function(t){var e,i,n,s=this.chart,r=s.surface,o=s.chartBBox,a=s.getChartStore().getCount(),l=o.x+o.width/2,h=o.y+o.height/2,d=Math.min(o.width,o.height)/2,c=[],u=this.steps,f=2*Math.PI,p=Math.cos,g=Math.sin;if(!this.sprites||s.resizing){if(this.sprites){for(c=this.sprites,i=0;i<u;i++)c[i].setAttributes({x:l,y:h,radius:Math.max(d*(i+1)/u,0),stroke:"#ccc"},!0);for(n=0;n<a;n++)c[i+n].setAttributes({path:["M",l,h,"L",l+d*p(n/a*f),h+d*g(n/a*f),"Z"],stroke:"#ccc"},!0)}else{for(i=1;i<=u;i++)(e=r.add({type:"circle",x:l,y:h,radius:Math.max(d*i/u,0),stroke:"#ccc"})).setAttributes({hidden:!1},!0),c.push(e);for(i=0;i<a;i++)(e=r.add({type:"path",path:["M",l,h,"L",l+d*p(i/a*f),h+d*g(i/a*f),"Z"],stroke:"#ccc"})).setAttributes({hidden:!1},!0),c.push(e)}this.sprites=c,this.drawLabel()}else this.drawLabel()},drawLabel:function(){var t,e,i,n,s,r,o,a,l,h=this.chart,d=h.series.items,c=h.surface,u=h.chartBBox,f=h.getChartStore().data.items,p=u.x+u.width/2,g=u.y+u.height/2,m=Math.min(u.width,u.height)/2,x=Math.max,E=Math.round,y=[],v=[],b=[],C=!this.maximum,w=this.maximum||0,S=this.steps,T=0,k=2*Math.PI,D=Math.cos,I=Math.sin,P=this.label.display;if("none"!==P){for(T=0,e=d.length;T<e;T++)t=d[T],v.push(t.yField),r=t.xField;for(o=0,e=f.length;o<e;o++)if(i=f[o],b.push(i.get(r)),C)for(T=0,s=v.length;T<s;T++)w=x(+i.get(v[T]),w);if(this.labelArray){if(y=this.labelArray,"categories"!=P)for(T=0;T<S;T++)y[T].setAttributes({text:E((T+1)/S*w),x:p,y:g-m*(T+1)/S,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},!0);if("scale"!=P)for(o=0,S=b.length;o<S;o++)a=D(o/S*k)*(m+10),l=I(o/S*k)*(m+10),y[T+o]&&y[T+o].setAttributes({type:"text",text:b[o],x:p+a,y:g+l,"text-anchor":a*a<=.001?"middle":a<0?"end":"start"},!0)}else{if("categories"!=P)for(T=1;T<=S;T++)(n=c.add({type:"text",text:E(T/S*w),x:p,y:g-m*T/S,"text-anchor":"middle","stroke-width":.1,stroke:"#333"})).setAttributes({hidden:!1},!0),y.push(n);if("scale"!=P)for(o=0,S=b.length;o<S;o++)a=D(o/S*k)*(m+10),l=I(o/S*k)*(m+10),(n=c.add({type:"text",text:b[o],x:p+a,y:g+l,"text-anchor":a*a<=.001?"middle":a<0?"end":"start"})).setAttributes({hidden:!1},!0),y.push(n)}this.labelArray=y}},getRange:function(){var t=this.callParent();return t.min=0,t},processView:function(){var t,e,i,n,s=this.chart.series.items,r=[];for(t=0,e=s.length;t<e;t++)i=s[t],r.push(i.yField);this.fields=r,n=this.calcEnds(),this.maximum=n.to,this.steps=n.steps}}),Ext.define("Ext.chart.axis.Time",{extend:Ext.chart.axis.Numeric,alternateClassName:"Ext.chart.TimeAxis",type:"Time",alias:"axis.time",dateFormat:!1,fromDate:!1,toDate:!1,step:[Ext.Date.DAY,1],constrain:!1,constructor:function(t){var e,i,n;this.callParent([t]),e=this.label||{},(n=this.dateFormat)&&(e.renderer?(i=e.renderer,e.renderer=function(t){return t=i(t),Ext.Date.format(new Date(i(t)),n)}):e.renderer=function(t){return Ext.Date.format(new Date(t>>0),n)})},processView:function(){this.fromDate&&(this.minimum=+this.fromDate),this.toDate&&(this.maximum=+this.toDate),this.constrain&&this.doConstrain()},calcEnds:function(){var t,e=this.step;return e?(t=this.getRange(),t=Ext.draw.Draw.snapEndsByDateAndStep(new Date(t.min),new Date(t.max),Ext.isNumber(e)?[Date.MILLI,e]:e),this.minimum&&(t.from=this.minimum),this.maximum&&(t.to=this.maximum),t):this.callParent(arguments)}}),Ext.define("Ext.chart.series.Series",{mixins:{observable:Ext.util.Observable,labels:Ext.chart.Label,highlights:Ext.chart.Highlight,tips:Ext.chart.Tip,callouts:Ext.chart.Callout},type:null,title:null,showInLegend:!0,renderer:function(t,e,i,n,s){return i},shadowAttributes:null,animating:!1,nullGutters:{lower:0,upper:0,verticalAxis:void 0},nullPadding:{left:0,right:0,width:0,bottom:0,top:0,height:0},constructor:function(t){t&&Ext.apply(this,t),this.shadowGroups=[],this.mixins.labels.constructor.call(this,t),this.mixins.highlights.constructor.call(this,t),this.mixins.tips.constructor.call(this,t),this.mixins.callouts.constructor.call(this,t),this.addEvents({scope:this,itemclick:!0,itemmouseover:!0,itemmouseout:!0,itemmousedown:!0,itemmouseup:!0,mouseleave:!0,afterdraw:!0,titlechange:!0}),this.mixins.observable.constructor.call(this,t),this.on({scope:this,itemmouseover:this.onItemMouseOver,itemmouseout:this.onItemMouseOut,mouseleave:this.onMouseLeave}),this.style&&Ext.apply(this.seriesStyle,this.style)},onRedraw:Ext.emptyFn,eachRecord:function(t,e){this.chart.getChartStore().each(t,e)},getRecordCount:function(){var t=this.chart.getChartStore();return t?t.getCount():0},isExcluded:function(t){var e=this.__excludes;return!(!e||!e[t])},setBBox:function(t){var e,i,n=this.chart,s=n.chartBBox,r=t?{left:0,right:0,bottom:0,top:0}:n.maxGutters;e={x:s.x,y:s.y,width:s.width,height:s.height},this.clipBox=e,i={x:e.x+r.left-n.zoom.x*n.zoom.width,y:e.y+r.bottom-n.zoom.y*n.zoom.height,width:(e.width-(r.left+r.right))*n.zoom.width,height:(e.height-(r.bottom+r.top))*n.zoom.height},this.bbox=i},onAnimate:function(t,e){var i=this;return t.stopAnimation(),i.animating?t.animate(Ext.applyIf(e,i.chart.animate)):(i.animating=!0,t.animate(Ext.apply(Ext.applyIf(e,i.chart.animate),{callback:function(){i.animating=!1,i.fireEvent("afterrender")}})))},getGutters:function(){return this.nullGutters},getPadding:function(){return this.nullPadding},onItemMouseOver:function(t){t.series===this&&(this.highlight&&this.highlightItem(t),this.tooltip&&this.showTip(t))},onItemMouseOut:function(t){t.series===this&&(this.unHighlightItem(),this.tooltip&&this.hideTip(t))},onMouseLeave:function(){this.unHighlightItem(),this.tooltip&&this.hideTip()},getItemForPoint:function(t,e){if(!this.items||!this.items.length||this.seriesIsHidden)return null;var i,n,s=this.items,r=this.bbox;if(!Ext.draw.Draw.withinBox(t,e,r))return null;for(i=0,n=s.length;i<n;i++)if(s[i]&&this.isItemInPoint(t,e,s[i],i))return s[i];return null},isItemInPoint:function(t,e,i,n){return!1},hideAll:function(){var t,e,i,n,s,r,o,a=this.items;for(this.seriesIsHidden=!0,this._prevShowMarkers=this.showMarkers,this.showMarkers=!1,this.hideLabels(0),i=0,e=a.length;i<e;i++)if(t=a[i],(r=t.sprite)&&r.setAttributes({hidden:!0},!0),r&&r.shadows)for(n=0,s=(o=r.shadows).length;n<s;++n)o[n].setAttributes({hidden:!0},!0)},showAll:function(){var t=this.chart.animate;this.chart.animate=!1,this.seriesIsHidden=!1,this.showMarkers=this._prevShowMarkers,this.drawSeries(),this.chart.animate=t},hide:function(){if(this.items){var t,e,i,n,s,r=this.items;if(r&&r.length){for(t=0,n=r.length;t<n;++t)if(r[t].sprite&&(r[t].sprite.hide(!0),s=r[t].shadows||r[t].sprite.shadows))for(e=0,i=s.length;e<i;++e)s[e].hide(!0);this.hideLabels()}}},getLegendColor:function(t){var e,i;if(this.seriesStyle){if(e=this.seriesStyle.fill,i=this.seriesStyle.stroke,e&&"none"!=e)return e;if(i)return i}return this.colorArrayStyle?this.colorArrayStyle[this.themeIdx%this.colorArrayStyle.length]:"#000"},visibleInLegend:function(t){var e=this.__excludes;return e?!e[t]:!this.seriesIsHidden},setTitle:function(t,e){var i=this.title;Ext.isString(t)&&(e=t,t=0),Ext.isArray(i)?i[t]=e:this.title=e,this.fireEvent("titlechange",e,t)}}),Ext.define("Ext.chart.series.Cartesian",{extend:Ext.chart.series.Series,alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var t,e,i,n,s,r,o,a=[],l=this.combinations;for(e=0,i=(t=[].concat(this.yField)).length;e<i;e++)n=this.title,a.push((Ext.isArray(n)?n[e]:n)||t[e]);if(l)for(e=0,i=(l=Ext.Array.from(l)).length;e<i;e++)r=a[(s=l[e])[0]],o=a[s[1]],a[s[1]]=r+" & "+o,a.splice(s[0],1);return a},eachYValue:function(t,e,i){var n,s,r,o=this.getYValueAccessors();for(n=0,s=o.length;n<s;n++)r=o[n],e.call(i,r(t),n)},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(t,e){var i=this.getYValueAccessors(),n=i[t],s=i[e];i[e]=function(t){return n(t)+s(t)},i.splice(t,1),this.callParent([t,e])},clearCombinations:function(){delete this.yValueAccessors,this.callParent()},getYValueAccessors:function(){var t,e,i,n,s=this.yValueAccessors;if(!s)for(s=this.yValueAccessors=[],i=0,n=(t=[].concat(this.yField)).length;i<n;i++)e=t[i],s.push(function(t){return t.get(e)});return s},getMinMaxXValues:function(){var t,e,i,n,s,r=this.chart.getChartStore().data.items,o=this.getRecordCount(),a=this.xField;if(o>0){for(n=-(i=1/0),t=0,e=r.length;t<e;t++)(s=r[t].get(a))>n&&(n=s),s<i&&(i=s);i==1/0&&(i=0),n==-1/0&&(n=o-1)}else i=n=0;return[i,n]},getMinMaxYValues:function(){function t(t,e){h.isExcluded(e)||(t<0?l+=t:a+=t)}function e(t,e){h.isExcluded(e)||(t>o&&(o=t),t<r&&(r=t))}var i,n,s,r,o,a,l,h=this,d=h.chart.getChartStore().data.items,c=h.getRecordCount(),u=h.stacked;if(c>0){for(o=-(r=1/0),i=0,n=d.length;i<n;i++)s=d[i],u?(a=0,l=0,h.eachYValue(s,t),a>o&&(o=a),l<r&&(r=l)):h.eachYValue(s,e);r==1/0&&(r=0),o==-1/0&&(o=c-1)}else r=o=0;return[r,o]},getAxesForXAndYFields:function(){var t,e,i,n,s,r,o=this.chart.axes,a=[].concat(this.axis),l={},h=[].concat(this.yField),d={},c=[].concat(this.xField);if((r="bar"===this.type&&!1===this.column)&&(t=h,h=c,c=t),Ext.Array.indexOf(a,"top")>-1)e="top";else if(Ext.Array.indexOf(a,"bottom")>-1)e="bottom";else if(o.get("top")&&o.get("bottom")){for(n=0,s=c.length;n<s;n++)d[c[n]]=!0;for(n=0,s=(t=[].concat(o.get("bottom").fields)).length;n<s;n++)if(d[t[n]]){e="bottom";break}for(n=0,s=(t=[].concat(o.get("top").fields)).length;n<s;n++)if(d[t[n]]){e="top";break}}else o.get("top")?e="top":o.get("bottom")&&(e="bottom");if(Ext.Array.indexOf(a,"left")>-1)i="left";else if(Ext.Array.indexOf(a,"right")>-1)i="right";else if(o.get("left")&&o.get("right")){for(n=0,s=h.length;n<s;n++)l[h[n]]=!0;for(n=0,s=(t=[].concat(o.get("right").fields)).length;n<s&&!l[t[n]];n++);for(n=0,s=(t=[].concat(o.get("left").fields)).length;n<s;n++)if(l[t[n]]){i="left";break}}else o.get("left")?i="left":o.get("right")&&(i="right");return r?{xAxis:i,yAxis:e}:{xAxis:e,yAxis:i}}}),Ext.define("Ext.chart.series.Area",{extend:Ext.chart.series.Cartesian,alias:"series.area",type:"area",stacked:!0,style:{},constructor:function(t){this.callParent(arguments);var e=this.chart.surface;t.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},t.highlightCfg),Ext.apply(this,t,{__excludes:[]}),this.highlight&&(this.highlightSprite=e.add({type:"path",path:["M",0,0],zIndex:1e3,opacity:.3,lineWidth:5,hidden:!0,stroke:"#444"})),this.group=e.getGroup(this.seriesId)},shrink:function(t,e,i){var n,s,r=t.length,o=Math.floor(r/i),a=0,l=this.areas.length,h=[],d=[],c=[];for(s=0;s<l;++s)h[s]=0;for(n=0;n<r;++n){for(a+=+t[n],s=0;s<l;++s)h[s]+=+e[n][s];if(n%o==0){for(d.push(a/o),s=0;s<l;++s)h[s]/=o;for(c.push(h),a=0,s=0,h=[];s<l;++s)h[s]=0}}return{x:d,y:c}},getBounds:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p,g=this.chart,m=g.getChartStore().data.items,x=[].concat(this.yField),E=x.length,y=[],v=[],b=1/0,C=1/0,w=-1/0,S=-1/0,T=Math,k=(T.min,T.max,this.getAxesForXAndYFields()),D=k.xAxis,I=k.yAxis;for(this.setBBox(),o=this.bbox,(p=g.axes.get(D))&&("Time"===p.type&&(s=!0),b=(n=p.applyData()).from,w=n.to),(p=g.axes.get(I))&&(C=(n=p.applyData()).from,S=n.to),this.xField&&!Ext.isNumber(b)&&(s=!0,b=(p=this.getMinMaxXValues())[0],w=p[1]),this.yField&&!Ext.isNumber(C)&&(C=(p=this.getMinMaxYValues())[0],S=p[1]),Ext.isNumber(C)||(C=0),Ext.isNumber(S)||(S=0),(e=m.length)>0&&s&&"number"!=typeof(r=m[0].get(this.xField))&&(r=+r,isNaN(r)&&(s=!1)),t=0;t<e;t++){for(d=[],"number"!=typeof(h=(i=m[t]).get(this.xField))&&(h=s?+h:t),y.push(h),0,c=0;c<E;c++)this.__excludes[c]||"number"==typeof(f=i.get(x[c]))&&d.push(f);v.push(d)}return a=o.width/(w-b||1),l=o.height/(S-C||1),y.length>o.width&&this.areas&&(y=(u=this.shrink(y,v,o.width)).x,v=u.y),{bbox:o,minX:b,minY:C,xValues:y,yValues:v,xScale:a,yScale:l,areasLen:E}},getPaths:function(){this.chart.getChartStore();var t,e,i,n,s,r,o,a,l,h,d,c,u=!0,f=this.getBounds(),p=f.bbox,g=this.items=[],m=[],x=0,E=[];for(i=f.xValues.length,e=0;e<i;e++)for(r=f.xValues[e],o=f.yValues[e],n=p.x+(r-f.minX)*f.xScale,void 0===c&&(c=n),a=0,x=0,l=0;l<f.areasLen;l++)this.__excludes[l]||(m[l]||(m[l]=[]),a+=o[x],s=p.y+p.height-(a-f.minY)*f.yScale,E[l]?(E[l].push("L",n,s),m[l].push(["L",n,s])):(E[l]=["M",n,s],m[l].push(["L",n,s])),g[l]||(g[l]={pointsUp:[],pointsDown:[],series:this}),g[l].pointsUp.push([n,s]),x++);for(l=0;l<f.areasLen;l++)if(!this.__excludes[l]){if(d=E[l],0==l||u)u=!1,d.push("L",n,p.y+p.height,"L",c,p.y+p.height,"Z");else{for((t=m[h]).reverse(),d.push("L",n,t[0][2]),e=0;e<i;e++)d.push(t[e][0],t[e][1],t[e][2]),g[l].pointsDown[i-e-1]=[t[e][1],t[e][2]];d.push("L",c,d[2],"Z")}h=l}return{paths:E,areasLen:f.areasLen}},drawSeries:function(){var t,e,i,n,s,r,o=this.chart,a=o.getChartStore(),l=o.surface,h=o.animate,d=this.group,c=Ext.apply(this.seriesStyle,this.style),u=this.colorArrayStyle,f=u&&u.length||0,p=this.themeIdx;if(this.unHighlightItem(),this.cleanHighlights(),!a||!a.getCount()||this.seriesIsHidden)return this.hide(),void(this.items=[]);for(i=this.getPaths(),this.areas||(this.areas=[]),t=0;t<i.areasLen;t++)this.__excludes[t]||(r=p+t,this.areas[t]||(this.items[t].sprite=this.areas[t]=l.add(Ext.apply({},{type:"path",group:d,path:i.paths[t],stroke:c.stroke||u[r%f],fill:u[r%f]},c||{}))),e=this.areas[t],n=i.paths[t],h?(s=this.renderer(e,!1,{path:n,fill:u[t%f],stroke:c.stroke||u[t%f]},t,a),this.animation=this.onAnimate(e,{to:s})):(s=this.renderer(e,!1,{path:n,hidden:!1,fill:u[r%f],stroke:c.stroke||u[r%f]},t,a),this.areas[t].setAttributes(s,!0)));this.renderLabels(),this.renderCallouts()},onAnimate:function(t,e){return t.show(),this.callParent(arguments)},onCreateLabel:function(t,e,i,n){var s=this.labelsGroup,r=this.label,o=this.bbox,a=Ext.apply(r,this.seriesLabelStyle);return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:s,x:e.point[0],y:o.y+o.height/2},a||{}))},onPlaceLabel:function(t,e,i,n,s,r,o){var a,l,h,d=this.chart.resizing,c=this.label,u=c.renderer,f=c.field,p=this.bbox,g=i.point[0],m=i.point[1];t.setAttributes({text:u(e.get(f[o]),t,e,i,n,s,r,o),hidden:!0},!0),l=(a=t.getBBox()).width/2,h=a.height/2,g=(g=g-l<p.x?p.x+l:g)+l>p.x+p.width?g-(g+l-p.x-p.width):g,m=(m=m-h<p.y?p.y+h:m)+h>p.y+p.height?m-(m+h-p.y-p.height):m,this.chart.animate&&!this.chart.resizing?(t.show(!0),this.onAnimate(t,{to:{x:g,y:m}})):(t.setAttributes({x:g,y:m},!0),d?this.animation.on("afteranimate",function(){t.show(!0)}):t.show(!0))},onPlaceCallout:function(t,e,i,n,s,r,o){var a,l,h,d,c,u,f,p,g,m,x,E,y,v=this.chart,b=(v.surface,v.resizing,this.callouts,this.items),C=0!=n&&b[n-1].point,w=n!=b.length-1&&b[n+1].point,S=i.point,T=t&&t.label?t.label.getBBox():{width:0,height:0},k=this.clipRect;if(T.width&&T.height){C||(C=S),w||(w=S),d=(w[1]-C[1])/(w[0]-C[0]),c=(S[1]-C[1])/(S[0]-C[0]),u=(w[1]-S[1])/(w[0]-S[0]),h=[-(a=[1/(l=Math.sqrt(1+d*d)),d/l])[1],a[0]],c>0&&u<0&&h[1]<0||c<0&&u>0&&h[1]>0?(h[0]*=-1,h[1]*=-1):(Math.abs(c)<Math.abs(u)&&h[0]<0||Math.abs(c)>Math.abs(u)&&h[0]>0)&&(h[0]*=-1,h[1]*=-1),E=S[0]+30*h[0],y=S[1]+30*h[1],f=E+(h[0]>0?0:-(T.width+6)),p=y-T.height/2-3,g=T.width+6,m=T.height+6,(f<k[0]||f+g>k[0]+k[2])&&(h[0]*=-1),(p<k[1]||p+m>k[1]+k[3])&&(h[1]*=-1),E=S[0]+30*h[0],y=S[1]+30*h[1],f=E+(h[0]>0?0:-(T.width+6)),p=y-T.height/2-3,g=T.width+6,m=T.height+6,t.lines.setAttributes({path:["M",S[0],S[1],"L",E,y,"Z"]},!0),t.box.setAttributes({x:f,y:p,width:g,height:m},!0),t.label.setAttributes({x:E+(h[0]>0?3:-(T.width+3)),y:y},!0);for(x in t)t[x].show(!0)}},isItemInPoint:function(t,e,i,n){var s,r,o,a=i.pointsUp,l=i.pointsDown,h=Math.abs,d=!1,c=!1,u=1/0;for(s=0,r=a.length;s<r;s++)if(o=[a[s][0],a[s][1]],d=!1,c=s==r-1,u>h(t-o[0])&&(u=h(t-o[0]),d=!0,c&&++s),!d||d&&c){if(o=a[s-1],e>=o[1]&&(!l.length||e<=l[s-1][1]))return i.storeIndex=s-1,i.storeField=this.yField[n],i.storeItem=this.chart.getChartStore().getAt(s-1),i._points=l.length?[o,l[s-1]]:[o],!0;break}return!1},highlightSeries:function(){var t,e,i;void 0!==this._index&&((t=this.areas[this._index]).__highlightAnim&&(t.__highlightAnim.paused=!0),t.__highlighted=!0,t.__prevOpacity=t.__prevOpacity||t.attr.opacity||1,t.__prevFill=t.__prevFill||t.attr.fill,t.__prevLineWidth=t.__prevLineWidth||t.attr.lineWidth,i=Ext.draw.Color.fromString(t.__prevFill),e={lineWidth:(t.__prevLineWidth||0)+2},i?e.fill=i.getLighter(.2).toString():e.opacity=Math.max(t.__prevOpacity-.3,0),this.chart.animate?t.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:t,to:e},this.chart.animate)):t.setAttributes(e,!0))},unHighlightSeries:function(){var t;void 0!==this._index&&((t=this.areas[this._index]).__highlightAnim&&(t.__highlightAnim.paused=!0),t.__highlighted&&(t.__highlighted=!1,t.__highlightAnim=new Ext.fx.Anim({target:t,to:{fill:t.__prevFill,opacity:t.__prevOpacity,lineWidth:t.__prevLineWidth}})))},highlightItem:function(t){var e,i;t?(i=2==(e=t._points).length?["M",e[0][0],e[0][1],"L",e[1][0],e[1][1]]:["M",e[0][0],e[0][1],"L",e[0][0],this.bbox.y+this.bbox.height],this.highlightSprite.setAttributes({path:i,hidden:!1},!0)):this.highlightSeries()},unHighlightItem:function(t){t||this.unHighlightSeries(),this.highlightSprite&&this.highlightSprite.hide(!0)},hideAll:function(t){t=(isNaN(this._index)?t:this._index)||0,this.__excludes[t]=!0,this.areas[t].hide(!0),this.redraw()},showAll:function(t){t=(isNaN(this._index)?t:this._index)||0,this.__excludes[t]=!1,this.areas[t].show(!0),this.redraw()},redraw:function(){var t;t=this.chart.legend.rebuild,this.chart.legend.rebuild=!1,this.chart.redraw(),this.chart.legend.rebuild=t},hide:function(){if(this.areas){var t,e,i=this.areas;if(i&&i.length){for(t=0,e=i.length;t<e;++t)i[t]&&i[t].hide(!0);this.hideLabels()}}},getLegendColor:function(t){return t+=this.themeIdx,this.colorArrayStyle[t%this.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Bar",{extend:Ext.chart.series.Cartesian,alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],type:"bar",alias:"series.bar",column:!1,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(t){this.callParent(arguments);var e,i,n=this.chart.surface,s=this.chart.shadow;if(t.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},t.highlightCfg),Ext.apply(this,t,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]}),this.group=n.getGroup(this.seriesId+"-bars"),s)for(e=0,i=this.shadowAttributes.length;e<i;e++)this.shadowGroups.push(n.getGroup(this.seriesId+"-shadows"+e))},getPadding:function(){var t=this.xPadding,e=this.yPadding,i={};return Ext.isNumber(t)?(i.left=t,i.right=t):Ext.isObject(t)?(i.left=t.left,i.right=t.right):(i.left=0,i.right=0),i.width=i.left+i.right,Ext.isNumber(e)?(i.bottom=e,i.top=e):Ext.isObject(e)?(i.bottom=e.bottom,i.top=e.top):(i.bottom=0,i.top=0),i.height=i.bottom+i.top,i},getBarGirth:function(){var t,e,i=this.chart.getChartStore(),n=this.column,s=i.getCount(),r=this.gutter/100;return this.style&&this.style.width?this.style.width:(t=this.getPadding(),e=n?"width":"height",(this.chart.chartBBox[e]-t[e])/(s*(r+1)-r))},getGutters:function(){var t=this.column,e=this.getPadding(),i=this.getBarGirth()/2;return{lower:Math.ceil((t?e.left:e.bottom)+i),upper:Math.ceil((t?e.right:e.top)+i),verticalAxis:!t}},getBounds:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p,g,m,x,E,y,v,b,C,w,S=this.chart,T=S.getChartStore().data.items,k=[].concat(this.yField),D=k.length,I=D,P=this.groupGutter/100,M=this.column,A=this.getPadding(),L=this.stacked,R=this.getBarGirth(),F=M?"width":"height",O=Math,N=O.min,B=O.max,H=O.abs,W=this.getAxesForXAndYFields(),V=W.yAxis;if(this.setBBox(!0),u=this.bbox,this.__excludes)for(b=0,y=this.__excludes.length;b<y;b++)this.__excludes[b]&&I--;if((g=S.axes.get(V))&&(f=(h=g.applyData()).from,p=h.to),this.yField&&!Ext.isNumber(f)&&(f=(m=this.getMinMaxYValues())[0],p=m[1]),Ext.isNumber(f)||(f=0),Ext.isNumber(p)||(p=0),x=(M?u.height-A.height:u.width-A.width)/(p-f),d=R,c=R/((L?1:I)*(P+1)-P),F in this.style&&(d=(c=N(c,this.style[F]))*((L?1:I)*(P+1)-P)),E=M?u.y+u.height-A.bottom:u.x+A.left,L){for(y=[[],[]],t=0,e=T.length;t<e;t++)for(i=T[t],y[0][t]=y[0][t]||0,y[1][t]=y[1][t]||0,b=0;b<D;b++)this.__excludes&&this.__excludes[b]||(y[+((v=i.get(k[b]))>0)][t]+=H(v));y[+(p>0)].push(H(p)),y[+(f>0)].push(H(f)),w=B.apply(O,y[0]),C=B.apply(O,y[1]),E+=w*(x=(M?u.height-A.height:u.width-A.width)/(C+w))*(M?-1:1)}else f/p<0&&(E-=f*x*(M?-1:1));if(this.boundColumn)for((g=S.axes.get(W.xAxis))&&(s=(h=g.applyData()).from,r=h.to),this.xField&&!Ext.isNumber(s)&&(s=(m=this.getMinMaxYValues())[0],r=m[1]),Ext.isNumber(s)||(s=0),Ext.isNumber(r)||(r=0),l=this.getGutters(),o=(u.width-(l.lower+l.upper))/(r-s||1),a=u.x+l.lower,n=[],t=0,e=T.length;t<e;t++)v=(i=T[t]).get(this.xField),n[t]=a+(v-s)*o-c/2;return{bars:k,barsLoc:n,bbox:u,shrunkBarWidth:d,barsLen:D,groupBarsLen:I,barWidth:R,groupBarWidth:c,scale:x,zero:E,padding:A,signed:f/p<0,minY:f,maxY:p}},getPaths:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p,g,m,x,E,y,v,b,C=this.chart,w=C.getChartStore().data.items,S=this.bounds=this.getBounds(),T=this.items=[],k=Ext.isArray(this.yField)?this.yField:[this.yField],D=this.gutter/100,I=this.groupGutter/100,P=C.animate,M=this.column,A=this.group,L=C.shadow,R=this.shadowGroups,F=(this.shadowAttributes,R.length),O=S.bbox,N=S.barWidth,B=S.shrunkBarWidth,H=this.getPadding(),W=this.stacked,V=S.barsLen,z=this.colorArrayStyle,G=z&&z.length||0,_=this.themeIdx,j=Math,X=j.max,Y=(j.min,j.abs);for(t=0,e=w.length;t<e;t++){for(i=w[t],l=S.zero,h=S.zero,o=0,a=0,p=g=0,d=!1,n=0,f=0;n<V;n++)if(!this.__excludes||!this.__excludes[n]){if((s=i.get(S.bars[n]))>=0?p+=s:g+=s,r=Math.round((s-X(S.minY,0))*S.scale),b=_+(V>1?n:0),c={fill:z[b%G]},M?Ext.apply(c,{height:r,width:X(S.groupBarWidth,0),x:this.boundColumn?S.barsLoc[t]:O.x+H.left+.5*(N-B)+t*N*(1+D)+f*S.groupBarWidth*(1+I)*!W,y:l-r}):(y=e-1-t,Ext.apply(c,{height:X(S.groupBarWidth,0),width:r+(l==S.zero),x:l+(l!=S.zero),y:O.y+H.top+.5*(N-B)+y*N*(1+D)+f*S.groupBarWidth*(1+I)*!W+1})),r<0&&(M?(c.y=h,c.height=Y(r)):(c.x=h+r,c.width=Y(r))),W&&(r<0?h+=r*(M?-1:1):l+=r*(M?-1:1),o+=Y(r),r<0&&(a+=Y(r))),c.x=Math.floor(c.x)+1,v=Math.floor(c.y),Ext.isIE8m&&c.y>v&&v--,c.y=v,c.width=Math.floor(c.width),c.height=Math.floor(c.height),T.push({series:this,yField:k[n],storeItem:i,value:[i.get(this.xField),s],attr:c,point:M?[c.x+c.width/2,s>=0?c.y:c.y+c.height]:[s>=0?c.x+c.width:c.x,c.y+c.height/2]}),P&&C.resizing){if(u=M?{x:c.x,y:S.zero,width:c.width,height:0}:{x:S.zero,y:c.y,width:0,height:c.height},L&&(W&&!d||!W))for(d=!0,m=0;m<F;m++)(x=R[m].getAt(W?t:t*V+n))&&x.setAttributes(u,!0);(E=A.getAt(t*V+n))&&E.setAttributes(u,!0)}f++}W&&T.length&&(T[t*f].totalDim=o,T[t*f].totalNegDim=a,T[t*f].totalPositiveValues=p,T[t*f].totalNegativeValues=g)}if(W&&0==f)for(t=0,e=w.length;t<e;t++)for(m=0;m<F;m++)(x=R[m].getAt(t))&&x.hide(!0)},renderShadows:function(t,e,i,n){var s,r,o,a,l,h,d,c=this.chart,u=c.surface,f=c.animate,p=this.stacked,g=this.shadowGroups,m=this.shadowAttributes,x=g.length,E=c.getChartStore(),y=this.column,v=this.items,b=[],C=n.zero;if(p&&t%n.groupBarsLen==0||!p)for(h=t/n.groupBarsLen,s=0;s<x;s++)r=Ext.apply({},m[s]),o=g[s].getAt(p?h:t),Ext.copyTo(r,e,"x,y,width,height"),o||(o=u.add(Ext.apply({type:"rect",group:g[s]},Ext.apply({},i,r)))),p&&(a=v[t].totalDim,l=v[t].totalNegDim,y?(r.y=C+l-a-1,r.height=a):(r.x=C-l,r.width=a)),(d=this.renderer(o,E.getAt(h),r,t,E)).hidden=!!e.hidden,f?this.onAnimate(o,{to:d}):o.setAttributes(d,!0),b.push(o);return b},drawSeries:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p=this.chart,g=p.getChartStore(),m=p.surface,x=p.animate,E=this.stacked,y=this.column,v=p.axes,b=this.getAxesForXAndYFields(),C=b.xAxis,w=(b.yAxis,p.shadow),S=this.shadowGroups,T=S.length,k=this.group,D=this.seriesStyle;if(!g||!g.getCount()||this.seriesIsHidden)return this.hide(),void(this.items=[]);for(delete(d=Ext.apply({},this.style,D)).fill,delete d.x,delete d.y,delete d.width,delete d.height,this.unHighlightItem(),this.cleanHighlights(),this.boundColumn=C&&Ext.Array.contains(this.axis,C)&&v.get(C)&&v.get(C).isNumericAxis,this.getPaths(),h=this.bounds,t=this.items,s=y?{y:h.zero,height:0}:{x:h.zero,width:0},e=t.length,i=0;i<e;i++){if(r=k.getAt(i),c=t[i].attr,w&&(t[i].shadows=this.renderShadows(i,c,s,h)),r||(u=Ext.apply({},s,c),u=Ext.apply(u,d||{}),r=m.add(Ext.apply({},{type:"rect",group:k},u))),x){if(o=this.renderer(r,g.getAt(i),c,i,g),r._to=o,f=this.onAnimate(r,{to:Ext.apply(o,d)}),w&&E&&i%h.barsLen==0)for(n=i/h.barsLen,a=0;a<T;a++)f.on("afteranimate",function(){this.show(!0)},S[a].getAt(n))}else o=this.renderer(r,g.getAt(i),Ext.apply(c,{hidden:!1}),i,g),r.setAttributes(Ext.apply(o,d),!0);t[i].sprite=r}for(e=k.getCount(),n=i;n<e;n++)k.getAt(n).hide(!0);if(this.stacked&&(i=g.getCount()),w)for(a=0;a<T;a++)for(e=(l=S[a]).getCount(),n=i;n<e;n++)l.getAt(n).hide(!0);this.renderLabels()},onCreateLabel:function(t,e,i,n){var s=this.chart.surface,r=this.labelsGroup,o=this.label,a=Ext.apply({},o,this.seriesLabelStyle||{});return s.add(Ext.apply({type:"text",group:r},a||{}))},onPlaceLabel:function(t,e,i,n,s,r,o){var a,l,h,d,c,u,f,p=this.bounds,g=p.groupBarWidth,m=this.column,x=this.chart,E=x.chartBBox,y=x.resizing,v=(i.value[0],i.value[1]),b=i.attr,C=this.label,w=this.stacked,S=C.stackedDisplay,T="vertical"==C.orientation,k=[].concat(C.field),D=C.renderer,I=p.zero,P="insideStart",M="insideEnd",A="outside";p.signed;if(s==P||s==M||s==A){if(w&&s==A)return void t.hide(!0);if(t.setAttributes({style:void 0}),a=Ext.isNumber(o)?D(e.get(k[o]),t,e,i,n,s,r,o):"",t.setAttributes({text:a}),l=this.getLabelSize(a,t.attr.style),h=l.width,d=l.height,m){if(!h||!d||w&&b.height<d)return void t.hide(!0);if(c=b.x+(T?g/2:(g-h)/2),s==A){(v>=0?b.y-E.y:E.y+E.height-b.y-b.height)<d+2&&(s=M)}if(w||s==A||d+2>b.height&&(s=A),!u)if(u=b.y,v>=0)switch(s){case P:u+=b.height+(T?-2:-d/2);break;case M:u+=T?d+4:d/2;break;case A:u+=T?-2:-d/2}else switch(s){case P:u+=T?d+2:d/2;break;case M:u+=T?b.height-2:b.height-d/2;break;case A:u+=T?b.height+d+2:b.height+d/2}}else{if(!h||!d||w&&!b.width)return void t.hide(!0);if(u=b.y+(T?(g+d)/2:g/2),s==A){(v>=0?E.x+E.width-b.x-b.width:b.x-E.x)<h+4&&(s=M)}if(s!=A&&!T&&h+4>b.width)if(w){if(d>b.width)return void t.hide(!0);c=b.x+b.width/2,u=b.y+b.height-(b.height-h)/2,T=!0}else s=A;if(!c)if(c=b.x,v>=0)switch(s){case P:c+=T?h/2:4;break;case M:c+=b.width+(T?-h/2:-h-4);break;case A:c+=b.width+(T?h/2:4)}else switch(s){case P:c+=b.width+(T?-h/2:-h-4);break;case M:c+=T?h/2:4;break;case A:c+=T?-h/2:-h-4}}}else if(("over"==s||"under"==s)&&w&&S)switch(a=t.attr.text,t.setAttributes({style:Ext.applyIf(t.attr&&t.attr.style||{},{"font-weight":"bold","font-size":"14px"})}),l=this.getLabelSize(a,t.attr.style),h=l.width,d=l.height,s){case"over":m?(c=b.x+(T?g/2:(g-h)/2),u=I-(i.totalDim-i.totalNegDim)-d/2-2):(c=I+(i.totalDim-i.totalNegDim)+4,u=b.y+(T?(g+d)/2:g/2));break;case"under":m?(c=b.x+(T?g/2:(g-h)/2),u=I+i.totalNegDim+d/2):(c=I-i.totalNegDim-h-4,u=b.y+(T?(g+d)/2:g/2))}void 0!=c&&void 0!=u?(t.isOutside=s==A,t.setAttributes({text:a}),f={x:c,y:u},T&&(f.rotate={x:c,y:u,degrees:270}),r&&y&&(m?(c=b.x+b.width/2,u=I):(c=I,u=b.y+b.height/2),t.setAttributes({x:c,y:u},!0),T&&t.setAttributes({rotate:{x:c,y:u,degrees:270}},!0)),r?this.onAnimate(t,{to:f}):t.setAttributes(Ext.apply(f,{hidden:!1}),!0)):t.hide(!0)},getLabelSize:function(t,e){var i,n,s,r=this.testerLabel,o=this.label,a=Ext.apply({},o,e,this.seriesLabelStyle||{}),l="vertical"===o.orientation;return r||(r=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},a))),r.setAttributes({style:e,text:t},!0),i=r.getBBox(),n=i.width,s=i.height,{width:l?s:n,height:l?n:s}},onAnimate:function(t,e){return t.show(),this.callParent(arguments)},isItemInPoint:function(t,e,i){var n=i.sprite.getBBox();return n.x<=t&&n.y<=e&&n.x+n.width>=t&&n.y+n.height>=e},hideAll:function(t){var e=this.chart.axes.items,i=e.length,n=0;for(t=(isNaN(this._index)?t:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[t]=!0,this.drawSeries();n<i;n++)e[n].drawAxis()},showAll:function(t){var e=this.chart.axes.items,i=e.length,n=0;for(t=(isNaN(this._index)?t:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[t]=!1,this.drawSeries();n<i;n++)e[n].drawAxis()},getLegendColor:function(t){var e=this.colorArrayStyle.length;return this.style&&this.style.fill?this.style.fill:this.colorArrayStyle[t%e]},highlightItem:function(t){this.callParent(arguments),this.renderLabels()},unHighlightItem:function(){this.callParent(arguments),this.renderLabels()},cleanHighlights:function(){this.callParent(arguments),this.renderLabels()}}),Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:Ext.chart.series.Bar,type:"column",alias:"series.column",column:!0,boundColumn:!1,xPadding:10,yPadding:0}),Ext.define("Ext.chart.series.Gauge",{extend:Ext.chart.series.Series,type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:!1,needle:!1,donut:!1,showInLegend:!1,style:{},constructor:function(t){this.callParent(arguments);var e,i,n=this,s=n.chart,r=s.surface,o=(s.store,s.shadow);if(Ext.apply(n,t,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),n.group=r.getGroup(n.seriesId),o)for(e=0,i=n.shadowAttributes.length;e<i;e++)n.shadowGroups.push(r.getGroup(n.seriesId+"-shadows"+e));r.customAttributes.segment=function(t){return n.getSegment(t)}},initialize:function(){var t=this.chart.getChartStore().data.items,e=this.label,i=t.length;this.yField=[],e&&e.field&&i>0&&this.yField.push(t[0].get(e.field))},getSegment:function(t){var e=this.rad,i=Math.cos,n=Math.sin,s=Math.abs,r=this.centerX,o=this.centerY,a=0,l=0,h=0,d=0,c=0,u=0,f=0,p=0,g=(t.endRho,t.startRho,t.startAngle),m=t.endAngle,x=(g+m)/2*e,E=t.margin||0,y=s(m-g)>180,v=Math.min(g,m)*e,b=Math.max(g,m)*e,C=!1;return r+=E*i(x),o+=E*n(x),a=r+t.startRho*i(v),c=o+t.startRho*n(v),l=r+t.endRho*i(v),u=o+t.endRho*n(v),h=r+t.startRho*i(b),f=o+t.startRho*n(b),d=r+t.endRho*i(b),p=o+t.endRho*n(b),s(a-h)<=.01&&s(c-f)<=.01&&(C=!0),C?{path:[["M",a,c],["L",l,u],["A",t.endRho,t.endRho,0,+y,1,d,p],["Z"]]}:{path:[["M",a,c],["L",l,u],["A",t.endRho,t.endRho,0,+y,1,d,p],["L",h,f],["A",t.startRho,t.startRho,0,+y,0,a,c],["Z"]]}},calcMiddle:function(t){var e=this.rad,i=t.slice,n=this.centerX,s=this.centerY,r=i.startAngle,o=i.endAngle,a=(Math.max("rho"in i?i.rho:this.radius,this.label.minMargin),this.donut,Math.min(r,o)*e),l=-(a+(Math.max(r,o)*e-a)/2),h=n+(t.endRho+t.startRho)/2*Math.cos(l),d=s-(t.endRho+t.startRho)/2*Math.sin(l);t.middle={x:h,y:d}},drawSeries:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p,g=this.chart,m=g.getChartStore(),x=this.group,E=this.chart.animate,y=this.chart.axes.get(0),v=y&&y.minimum||this.minimum||0,b=y&&y.maximum||this.maximum||0,C=this.angleField||this.field||this.xField,w=g.surface,S=g.chartBBox,T=(this.rad,+this.donut),k=[],D=this.seriesStyle,I=(this.seriesLabelStyle,this.colorArrayStyle),P=I&&I.length||0,M=Math.cos,A=Math.sin;if(Ext.apply(D,this.style||{}),this.setBBox(),this.bbox,this.colorSet&&(P=(I=this.colorSet).length),!m||!m.getCount()||this.seriesIsHidden)return this.hide(),void(this.items=[]);for(e=this.centerX=S.x+S.width/2,i=this.centerY=S.y+S.height,this.radius=Math.min(e-S.x,i-S.y),this.slices=s=[],this.items=k=[],this.value||(h=m.getAt(0),this.value=h.get(C)),o=this.value,this.needle?(f={series:this,value:o,startAngle:-180,endAngle:0,rho:this.radius},u=-180*(1-(o-v)/(b-v)),s.push(f)):(f={series:this,value:o,startAngle:-180,endAngle:u=-180*(1-(o-v)/(b-v)),rho:this.radius},p={series:this,value:this.maximum-o,startAngle:u,endAngle:0,rho:this.radius},s.push(f,p)),d=0,l=s.length;d<l;d++)n=s[d],r=x.getAt(d),t=Ext.apply({segment:{startAngle:n.startAngle,endAngle:n.endAngle,margin:0,rho:n.rho,startRho:n.rho*+T/100,endRho:n.rho}},Ext.apply(D,I&&{fill:I[d%P]}||{})),a=Ext.apply({},t.segment,{slice:n,series:this,storeItem:h,index:d}),k[d]=a,r||(c=Ext.apply({type:"path",group:x},Ext.apply(D,I&&{fill:I[d%P]}||{})),r=w.add(Ext.apply(c,t))),n.sprite=n.sprite||[],a.sprite=r,n.sprite.push(r),E?(t=this.renderer(r,h,t,d,m),r._to=t,this.onAnimate(r,{to:t})):(t=this.renderer(r,h,Ext.apply(t,{hidden:!1}),d,m),r.setAttributes(t,!0));this.needle&&(u=u*Math.PI/180,this.needleSprite?E?this.onAnimate(this.needleSprite,{to:{path:["M",e+this.radius*+T/100*M(u),i+-Math.abs(this.radius*+T/100*A(u)),"L",e+this.radius*M(u),i+-Math.abs(this.radius*A(u))]}}):this.needleSprite.setAttributes({type:"path",path:["M",e+this.radius*+T/100*M(u),i+-Math.abs(this.radius*+T/100*A(u)),"L",e+this.radius*M(u),i+-Math.abs(this.radius*A(u))]}):this.needleSprite=this.chart.surface.add({type:"path",path:["M",e+this.radius*+T/100*M(u),i+-Math.abs(this.radius*+T/100*A(u)),"L",e+this.radius*M(u),i+-Math.abs(this.radius*A(u))],"stroke-width":4,stroke:"#222"}),this.needleSprite.setAttributes({hidden:!1},!0)),delete this.value},setValue:function(t){this.value=t,this.drawSeries()},onCreateLabel:function(t,e,i,n){},onPlaceLabel:function(t,e,i,n,s,r,o){},onPlaceCallout:function(){},onAnimate:function(t,e){return t.show(),this.callParent(arguments)},isItemInPoint:function(t,e,i,n){var s=this.centerX,r=this.centerY,o=Math.abs,a=o(t-s),l=o(e-r),h=i.startAngle,d=i.endAngle,c=Math.sqrt(a*a+l*l),u=Math.atan2(e-r,t-s)/this.rad;return 0===n&&u>=h&&u<d&&c>=i.startRho&&c<=i.endRho},getLegendColor:function(t){var e=this.colorSet||this.colorArrayStyle;return e[t%e.length]}}),Ext.define("Ext.chart.series.Line",{extend:Ext.chart.series.Cartesian,alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:!0,markerConfig:{},style:{},smooth:!1,defaultSmoothness:3,fill:!1,constructor:function(t){this.callParent(arguments);var e,i,n=this.chart.surface,s=this.chart.shadow;if(t.highlightCfg=Ext.Object.merge({"stroke-width":3},t.highlightCfg),Ext.apply(this,t,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]}),this.group=n.getGroup(this.seriesId),this.showMarkers&&(this.markerGroup=n.getGroup(this.seriesId+"-markers")),s)for(e=0,i=this.shadowAttributes.length;e<i;e++)this.shadowGroups.push(n.getGroup(this.seriesId+"-shadows"+e))},shrink:function(t,e,i){for(var n=t.length,s=Math.floor(n/i),r=1,o=0,a=0,l=[+t[0]],h=[+e[0]];r<n;++r)o+=+t[r]||0,a+=+e[r]||0,r%s==0&&(l.push(o/s),h.push(a/s),o=0,a=0);return{x:l,y:h}},drawSeries:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p,g,m,x,E,y,v,b,C,w,S,T,k,D,I,P,M,A,L,R,F,O,N,B,H,W,V,z,G=this.chart,_=G.axes,j=G.getChartStore(),X=j.data.items,Y=j.getCount(),U=this.chart.surface,q={},K=this.group,$=this.showMarkers,Q=this.markerGroup,Z=G.shadow,J=this.shadowGroups,tt=this.shadowAttributes,et=this.smooth,it=J.length,nt=["M"],st=["M"],rt=["M"],ot=["M"],at=G.markerIndex,lt=([].concat(this.axis),[]),ht={},dt=[],ct=!1,ut=[],ft=Ext.apply({},this.markerStyle),pt=this.seriesStyle,gt=this.colorArrayStyle,mt=gt&&gt.length||0,xt=Ext.isNumber,Et=(this.seriesIdx,this.getAxesForXAndYFields()),yt=Et.xAxis,vt=Et.yAxis,bt=yt?_.get(yt).type:"",Ct=vt?_.get(vt).type:"";if(!1!==this.fireEvent("beforedraw",this)){if(!Y||this.seriesIsHidden){if(this.hide(),this.items=[],this.line){if(this.line.hide(!0),this.line.shadows)for(x=0,it=(i=this.line.shadows).length;x<it;x++)(n=i[x]).hide(!0);this.fillPath&&this.fillPath.hide(!0)}return this.line=null,void(this.fillPath=null)}if(F=Ext.apply(ft||{},this.markerConfig,{fill:this.seriesStyle.fill||gt[this.themeIdx%gt.length]}),N=F.type,delete F.type,(O=pt)["stroke-width"]||(O["stroke-width"]=.5),H="opacity"in O?O.opacity:1,z="opacity"in O?O.opacity:.3,W="lineOpacity"in O?O.lineOpacity:H,V="fillOpacity"in O?O.fillOpacity:z,at&&Q&&Q.getCount())for(m=0;m<at;m++)b=Q.getAt(m),Q.remove(b),Q.add(b),C=Q.getAt(Q.getCount()-2),b.setAttributes({x:0,y:0,translate:{x:C.attr.translation.x,y:C.attr.translation.y}},!0);for(this.unHighlightItem(),this.cleanHighlights(),this.setBBox(),q=this.bbox,this.clipRect=[q.x,q.y,q.width,q.height],(y=_.get(yt))&&(P=(v=y.applyData()).from,M=v.to),(y=_.get(vt))&&(A=(v=y.applyData()).from,L=v.to),this.xField&&!Ext.isNumber(P)&&(P=(y=this.getMinMaxXValues())[0],M=y[1]),this.yField&&!Ext.isNumber(A)&&(A=(y=this.getMinMaxYValues())[0],L=y[1]),isNaN(P)?(P=0,D=q.width/(Y-1||1)):D=q.width/(M-P||Y-1||1),isNaN(A)?(A=0,I=q.height/(Y-1||1)):I=q.height/(L-A||Y-1||1),m=0,E=X.length;m<E;m++)S=(t=X[m]).get(this.xField),"Time"==bt&&"string"==typeof S&&(S=Date.parse(S)),("string"==typeof S||"object"==typeof S&&!Ext.isDate(S)||yt&&_.get(yt)&&"Category"==_.get(yt).type)&&(S=S in ht?ht[S]:ht[S]=m),T=t.get(this.yField),"Time"==Ct&&"string"==typeof T&&(T=Date.parse(T)),void 0===T||"string"==typeof T&&!T||(("string"==typeof T||"object"==typeof T&&!Ext.isDate(T)||vt&&_.get(vt)&&"Category"==_.get(vt).type)&&(T=m),ut.push(m),lt.push(S),dt.push(T));for((E=lt.length)>q.width&&(lt=(k=this.shrink(lt,dt,q.width)).x,dt=k.y),this.items=[],B=0,E=lt.length,m=0;m<E;m++)if(S=lt[m],!1!==(T=dt[m])){if(h=(q.x+(S-P)*D).toFixed(2),d=(q.y+q.height-(T-A)*I).toFixed(2),ct&&(ct=!1,st.push("M")),st=st.concat([h,d]),void 0===p&&void 0!==d&&(p=d,f=h),this.line&&!G.resizing||(nt=nt.concat([h,q.y+q.height/2])),G.animate&&G.resizing&&this.line&&(this.line.setAttributes({path:nt,opacity:W},!0),this.fillPath&&this.fillPath.setAttributes({path:nt,opacity:V},!0),this.line.shadows))for(x=0,it=(i=this.line.shadows).length;x<it;x++)(n=i[x]).setAttributes({path:nt},!0);$&&((b=Q.getAt(B++))?(b.setAttributes({value:'"'+S+", "+T+'"',x:0,y:0,hidden:!1},!0),b._to={translate:{x:+h,y:+d}}):(b=Ext.chart.Shape[N](U,Ext.apply({group:[K,Q],x:0,y:0,translate:{x:+(c||h),y:u||q.y+q.height/2},value:'"'+S+", "+T+'"',zIndex:4e3},F)))._to={translate:{x:+h,y:+d}}),this.items.push({series:this,value:[S,T],point:[h,d],sprite:b,storeItem:j.getAt(ut[m])}),c=h,u=d}else 1==st.length&&(st=[]),ct=!0,this.items.push(!1);if(!(st.length<=1)){if(this.smooth&&(ot=Ext.draw.Draw.smooth(st,xt(et)?et:this.defaultSmoothness)),rt=et?ot:st,G.markerIndex&&this.previousPath?(r=this.previousPath,et||Ext.Array.erase(r,1,2)):r=st,!this.line&&(this.line=U.add(Ext.apply({type:"path",group:K,path:nt,stroke:O.stroke||O.fill},O||{})),this.line.setAttributes({opacity:W},!0),Z&&this.line.setAttributes(Ext.apply({},this.shadowOptions),!0),this.line.setAttributes({fill:"none",zIndex:3e3}),!O.stroke&&mt&&this.line.setAttributes({stroke:gt[this.themeIdx%mt]},!0),Z))for(i=this.line.shadows=[],s=0;s<it;s++)e=tt[s],e=Ext.apply({},e,{path:nt}),n=U.add(Ext.apply({},{type:"path",group:J[s]},e)),i.push(n);if(this.fill&&(a=rt.concat([["L",h,q.y+q.height],["L",f,q.y+q.height],["L",f,p]]),this.fillPath||(this.fillPath=U.add({group:K,type:"path",fill:O.fill||gt[this.themeIdx%mt],path:nt}))),g=$&&Q.getCount(),G.animate){if(o=this.fill,R=this.line,l=this.renderer(R,!1,{path:rt},m,j),Ext.apply(l,O||{},{stroke:O.stroke||O.fill}),delete l.fill,R.show(!0),G.markerIndex&&this.previousPath?this.animation=this.onAnimate(R,{to:l,from:{path:r}}):this.animation=this.onAnimate(R,{to:l}),Z)for(i=R.shadows,x=0;x<it;x++)i[x].show(!0),G.markerIndex&&this.previousPath?this.onAnimate(i[x],{to:{path:rt},from:{path:r}}):this.onAnimate(i[x],{to:{path:rt}});if(o&&(this.fillPath.show(!0),this.onAnimate(this.fillPath,{to:Ext.apply({},{path:a,fill:O.fill||gt[this.themeIdx%mt],"stroke-width":0,opacity:V},O||{})})),$){for(B=0,m=0;m<E;m++)this.items[m]&&(w=Q.getAt(B++))&&(l=this.renderer(w,j.getAt(m),w._to,m,j),this.onAnimate(w,{to:Ext.applyIf(l,F||{})}),w.show(!0));for(;B<g;B++)(w=Q.getAt(B)).hide(!0)}}else{if(l=this.renderer(this.line,!1,{path:rt,hidden:!1},m,j),Ext.apply(l,O||{},{stroke:O.stroke||O.fill}),delete l.fill,this.line.setAttributes(l,!0),this.line.setAttributes({opacity:W},!0),Z)for(i=this.line.shadows,x=0;x<it;x++)i[x].setAttributes({path:rt,hidden:!1},!0);if(this.fill&&this.fillPath.setAttributes({path:a,hidden:!1,opacity:V},!0),$){for(B=0,m=0;m<E;m++)this.items[m]&&(w=Q.getAt(B++))&&(l=this.renderer(w,j.getAt(m),w._to,m,j),w.setAttributes(Ext.apply(F||{},l||{}),!0),w.attr.hidden||w.show(!0));for(;B<g;B++)(w=Q.getAt(B)).hide(!0)}}G.markerIndex&&(this.smooth?Ext.Array.erase(st,1,2):Ext.Array.splice(st,1,0,st[1],st[2]),this.previousPath=st),this.renderLabels(),this.renderCallouts(),this.fireEvent("draw",this)}}},onCreateLabel:function(t,e,i,n){var s=this.labelsGroup,r=this.label,o=this.bbox,a=Ext.apply(r,this.seriesLabelStyle);return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:s,x:e.point[0],y:o.y+o.height/2},a||{}))},onPlaceLabel:function(t,e,i,n,s,r,o){var a,l,h,d=this.chart.resizing,c=this.label,u=c.renderer,f=c.field,p=this.bbox,g=i.point[0],m=i.point[1],x=i.sprite.attr.radius;t.setAttributes({text:u(e.get(f),t,e,i,n,s,r,o),hidden:!0},!0),"rotate"==s?(t.setAttributes({"text-anchor":"start",rotation:{x:g,y:m,degrees:-45}},!0),l=(a=t.getBBox()).width,h=a.height,g=(g=g<p.x?p.x:g)+l>p.x+p.width?g-(g+l-p.x-p.width):g,m=m-h<p.y?p.y+h:m):"under"!=s&&"over"!=s||((a=i.sprite.getBBox()).width=a.width||2*x,a.height=a.height||2*x,m+="over"==s?-a.height:a.height,l=(a=t.getBBox()).width/2,h=a.height/2,g=(g=g-l<p.x?p.x+l:g)+l>p.x+p.width?g-(g+l-p.x-p.width):g,m=(m=m-h<p.y?p.y+h:m)+h>p.y+p.height?m-(m+h-p.y-p.height):m),this.chart.animate&&!this.chart.resizing?(t.show(!0),this.onAnimate(t,{to:{x:g,y:m}})):(t.setAttributes({x:g,y:m},!0),d&&this.animation?this.animation.on("afteranimate",function(){t.show(!0)}):t.show(!0))},highlightItem:function(){var t=this.line;this.callParent(arguments),t&&!this.highlighted&&("__strokeWidth"in t||(t.__strokeWidth=parseFloat(t.attr["stroke-width"])||0),t.__anim&&(t.__anim.paused=!0),t.__anim=new Ext.fx.Anim({target:t,to:{"stroke-width":t.__strokeWidth+3}}),this.highlighted=!0)},unHighlightItem:function(){var t,e=this.line;this.callParent(arguments),e&&this.highlighted&&(t=e.__strokeWidth||parseFloat(e.attr["stroke-width"])||0,e.__anim=new Ext.fx.Anim({target:e,to:{"stroke-width":t}}),this.highlighted=!1)},onPlaceCallout:function(t,e,i,n,s,r,o){if(s){var a,l,h,d,c,u,f,p,g,m,x,E,y,v=this.chart,b=(v.surface,v.resizing,this.callouts),C=this.items,w=0!=n&&C[n-1].point,S=n!=C.length-1&&C[n+1].point,T=[+i.point[0],+i.point[1]],k=b.offsetFromViz||30,D=(b.offsetToSide,b.offsetBox||3),I=this.clipRect,P=b.styles.width||10,M=b.styles.height||10;w||(w=T),S||(S=T),d=(S[1]-w[1])/(S[0]-w[0]),c=(T[1]-w[1])/(T[0]-w[0]),u=(S[1]-T[1])/(S[0]-T[0]),h=[-(a=[1/(l=Math.sqrt(1+d*d)),d/l])[1],a[0]],c>0&&u<0&&h[1]<0||c<0&&u>0&&h[1]>0?(h[0]*=-1,h[1]*=-1):(Math.abs(c)<Math.abs(u)&&h[0]<0||Math.abs(c)>Math.abs(u)&&h[0]>0)&&(h[0]*=-1,h[1]*=-1),E=T[0]+h[0]*k,p=(y=T[1]+h[1]*k)-M/2-D,g=P+2*D,m=M+2*D,((f=E+(h[0]>0?0:-(P+2*D)))<I[0]||f+g>I[0]+I[2])&&(h[0]*=-1),(p<I[1]||p+m>I[1]+I[3])&&(h[1]*=-1),E=T[0]+h[0]*k,y=T[1]+h[1]*k,f=E+(h[0]>0?0:-(P+2*D)),p=y-M/2-D,g=P+2*D,m=M+2*D,v.animate?(this.onAnimate(t.lines,{to:{path:["M",T[0],T[1],"L",E,y,"Z"]}}),t.panel&&t.panel.setPosition(f,p,!0)):(t.lines.setAttributes({path:["M",T[0],T[1],"L",E,y,"Z"]},!0),t.panel&&t.panel.setPosition(f,p));for(x in t)t[x].show(!0)}},isItemInPoint:function(t,e,i,n){var s,r,o,a,l,h,d,c,u,f,p,g=this.items,m=this.selectionTolerance,x=Math.sqrt;Math.abs;return r=g[n],s=n&&g[n-1],n>=void 0&&(s=g.NaN),o=s&&s.point,a=r&&r.point,l=s?o[0]:a[0]-m,h=s?o[1]:a[1],d=r?a[0]:o[0]+m,c=r?a[1]:o[1],u=x((t-l)*(t-l)+(e-h)*(e-h)),f=x((t-d)*(t-d)+(e-c)*(e-c)),(p=Math.min(u,f))<=m&&(p==u?s:r)},toggleAll:function(t){var e,i,n;if(t?Ext.chart.series.Cartesian.prototype.showAll.call(this):Ext.chart.series.Cartesian.prototype.hideAll.call(this),this.line&&(this.line.setAttributes({hidden:!t},!0),this.line.shadows))for(e=0,i=(n=this.line.shadows).length;e<i;e++)n[e].setAttributes({hidden:!t},!0);this.fillPath&&this.fillPath.setAttributes({hidden:!t},!0)},hideAll:function(){this.toggleAll(!1)},showAll:function(){this.toggleAll(!0)}}),Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:Ext.chart.series.Series,type:"pie",alias:"series.pie",accuracy:1e5,rad:2*Math.PI/1e5,highlightDuration:150,angleField:!1,lengthField:!1,donut:!1,showInLegend:!1,style:{},constructor:function(t){this.callParent(arguments);var e,i,n=this,s=n.chart,r=s.surface,o=(s.store,s.shadow);if(t.highlightCfg=Ext.merge({segment:{margin:20}},t.highlightCfg),Ext.apply(n,t,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),n.group=r.getGroup(n.seriesId),o)for(e=0,i=n.shadowAttributes.length;e<i;e++)n.shadowGroups.push(r.getGroup(n.seriesId+"-shadows"+e));r.customAttributes.segment=function(t){var e=n.getSegment(t);return e.path&&0!==e.path.length||(e.path=["M",0,0]),e},n.__excludes=n.__excludes||[]},onRedraw:function(){this.initialize()},initialize:function(){var t,e,i,n=this.chart.getChartStore().data.items;if(this.yField=[],this.label.field)for(t=0,e=n.length;t<e;t++)i=n[t],this.yField.push(i.get(this.label.field))},getSegment:function(t){var e=this.rad,i=Math.cos,n=Math.sin,s=this.centerX,r=this.centerY,o=0,a=0,l=0,h=0,d=0,c=0,u=0,f=0,p=0,g=0,m=0,x=0,E=t.startAngle,y=t.endAngle,v=(E+y)/2*e,b=t.margin||0,C=Math.min(E,y)*e,w=Math.max(E,y)*e,S=i(C),T=n(C),k=i(w),D=n(w),I=i(v),P=n(v);return w-C<.01?{path:""}:(0!==b&&(s+=b*I,r+=b*P),a=s+t.endRho*S,c=r+t.endRho*T,h=s+t.endRho*k,f=r+t.endRho*D,m=s+t.endRho*I,x=r+t.endRho*P,0!==t.startRho?(o=s+t.startRho*S,d=r+t.startRho*T,l=s+t.startRho*k,u=r+t.startRho*D,p=s+t.startRho*I,g=r+t.startRho*P,{path:[["M",a,c],["A",t.endRho,t.endRho,0,0,1,m,x],["L",m,x],["A",t.endRho,t.endRho,0,0,1,h,f],["L",h,f],["L",l,u],["A",t.startRho,t.startRho,0,0,0,p,g],["L",p,g],["A",t.startRho,t.startRho,0,0,0,o,d],["L",o,d],["Z"]]}):{path:[["M",s,r],["L",a,c],["A",t.endRho,t.endRho,0,0,1,m,x],["L",m,x],["A",t.endRho,t.endRho,0,0,1,h,f],["L",h,f],["L",s,r],["Z"]]})},calcMiddle:function(t){var e=this.rad,i=t.slice,n=this.centerX,s=this.centerY,r=i.startAngle,o=i.endAngle,a=(this.donut,-(r+o)*e/2),l=(t.endRho+t.startRho)/2,h=n+l*Math.cos(a),d=s-l*Math.sin(a);t.middle={x:h,y:d}},drawSeries:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p,g,m,x,E,y,v=this.chart.getChartStore(),b=v.data.items,C=this.group,w=this.chart.animate,S=this.angleField||this.field||this.xField,T=[].concat(this.lengthField),k=0,D=this.chart,I=D.surface,P=D.chartBBox,M=D.shadow,A=this.shadowGroups,L=this.shadowAttributes,R=A.length,F=T.length,O=0,N=+this.donut,B=[],H=[],W=0,V=0,z=0,G=this.seriesStyle,_=this.colorArrayStyle,j=_&&_.length||0,X=0;if(Ext.apply(G,this.style||{}),this.setBBox(),this.bbox,this.colorSet&&(j=(_=this.colorSet).length),!v||!v.getCount()||this.seriesIsHidden)return this.hide(),void(this.items=[]);for(this.unHighlightItem(),this.cleanHighlights(),o=this.centerX=P.x+P.width/2,a=this.centerY=P.y+P.height/2,this.radius=Math.min(o-P.x,a-P.y),this.slices=d=[],this.items=H=[],m=0,g=b.length;m<g;m++)if(t=b[m],(!this.__excludes||!this.__excludes[m])&&(W+=+t.get(S),T[0])){for(x=0,k=0;x<F;x++)k+=+t.get(T[x]);B[m]=k,V=Math.max(V,k)}for(W=W||1,m=0,g=b.length;m<g;m++){if(t=b[m],this.__excludes&&this.__excludes[m]?u=0:(u=t.get(S),0==X&&(X=1)),1==X)for(X=2,this.firstAngle=z=this.accuracy*u/W/2,x=0;x<m;x++)d[x].startAngle=d[x].endAngle=this.firstAngle;E=z-this.accuracy*u/W,h={series:this,value:u,startAngle:z,endAngle:E,storeItem:t},T[0]?(p=+B[m],h.rho=Math.floor(this.radius/V*p)):h.rho=this.radius,d[m]=h,z=E}if(M)for(m=0,g=d.length;m<g;m++)for((h=d[m]).shadowAttrs=[],x=0,O=0,n=[];x<F;x++){for(c=C.getAt(m*F+x),l=T[x]?v.getAt(m).get(T[x])/B[m]*h.rho:h.rho,e={segment:{startAngle:h.startAngle,endAngle:h.endAngle,margin:0,rho:h.rho,startRho:O+l*N/100,endRho:O+l},hidden:!h.value&&h.startAngle%this.accuracy==h.endAngle%this.accuracy},r=0,n=[];r<R;r++)i=L[r],(s=A[r].getAt(m))||(s=D.surface.add(Ext.apply({},{type:"path",group:A[r],strokeLinejoin:"round"},e,i))),i=this.renderer(s,v.getAt(m),Ext.apply({},e,i),m,v),w?this.onAnimate(s,{to:i}):s.setAttributes(i,!0),n.push(s);h.shadowAttrs[x]=n}for(m=0,g=d.length;m<g;m++)for(h=d[m],x=0,O=0;x<F;x++)c=C.getAt(m*F+x),l=T[x]?v.getAt(m).get(T[x])/B[m]*h.rho:h.rho,e=Ext.apply({segment:{startAngle:h.startAngle,endAngle:h.endAngle,margin:0,rho:h.rho,startRho:O+l*N/100,endRho:O+l},hidden:!h.value&&h.startAngle%this.accuracy==h.endAngle%this.accuracy},Ext.apply(G,_&&{fill:_[(F>1?x:m)%j]}||{})),f=Ext.apply({},e.segment,{slice:h,series:this,storeItem:h.storeItem,index:m}),this.calcMiddle(f),M&&(f.shadows=h.shadowAttrs[x]),H[m]=f,c||(y=Ext.apply({type:"path",group:C,middle:f.middle},Ext.apply(G,_&&{fill:_[(F>1?x:m)%j]}||{})),c=I.add(Ext.apply(y,e))),h.sprite=h.sprite||[],f.sprite=c,h.sprite.push(c),h.point=[f.middle.x,f.middle.y],w?(e=this.renderer(c,v.getAt(m),e,m,v),c._to=e,c._animating=!0,this.onAnimate(c,{to:e,listeners:{afteranimate:{fn:function(){this._animating=!1},scope:c}}})):(e=this.renderer(c,v.getAt(m),Ext.apply(e,{hidden:!1}),m,v),c.setAttributes(e,!0)),O+=l;for(g=C.getCount(),m=0;m<g;m++)!d[m/F>>0]&&C.getAt(m)&&C.getAt(m).hide(!0);if(M)for(R=A.length,r=0;r<g;r++)if(!d[r/F>>0])for(x=0;x<R;x++)A[x].getAt(r)&&A[x].getAt(r).hide(!0);this.renderLabels(),this.renderCallouts()},onCreateLabel:function(t,e,i,n){var s=this.labelsGroup,r=this.label,o=(this.centerX,this.centerY,e.middle),a=Ext.apply(this.seriesLabelStyle||{},r||{});return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:s,x:o.x,y:o.y},a))},onPlaceLabel:function(t,e,i,n,s,r,o){function a(t){return t<0&&(t+=360),t%360}var l,h=this.chart.resizing,d=this.label,c=d.renderer,u=d.field,f=this.centerX,p=this.centerY,g=i.middle,m={x:g.x,y:g.y},x=g.x-f,E=g.y-p,y=1,v=Math.atan2(E,x||1),b=180*v/Math.PI;switch(m.hidden=!1,this.__excludes&&this.__excludes[n]&&(m.hidden=!0),t.setAttributes({text:c(e.get(u),t,e,i,n,s,r,o)},!0),s){case"outside":y=2*Math.sqrt(x*x+E*E),m.x=y*Math.cos(v)+f,m.y=y*Math.sin(v)+p;break;case"rotate":b=(b=a(b))>90&&b<270?b+180:b,null!=(l=t.attr.rotation.degrees)&&Math.abs(l-b)>90?(b>l?b-=360:b+=360,b%=360):b=a(b),m.rotate={degrees:b,x:m.x,y:m.y}}m.translate={x:0,y:0},!r||h||"rotate"==s&&null==l?t.setAttributes(m,!0):this.onAnimate(t,{to:m}),t._from={}},onPlaceCallout:function(t,e,i,n,s,r,o){var a,l,h=this.chart,d=this.centerX,c=this.centerY,u=i.middle,f={x:u.x,y:u.y},p=u.x-d,g=u.y-c,m=1,x=Math.atan2(g,p||1),E=t&&t.label?t.label.getBBox():{width:0,height:0};if(E.width&&E.height){m=i.endRho+20,a=(i.endRho+i.startRho)/2+(i.endRho-i.startRho)/3,f.x=m*Math.cos(x)+d,f.y=m*Math.sin(x)+c,p=a*Math.cos(x),g=a*Math.sin(x),h.animate?(this.onAnimate(t.lines,{to:{path:["M",p+d,g+c,"L",f.x,f.y,"Z","M",f.x,f.y,"l",p>0?10:-10,0,"z"]}}),this.onAnimate(t.box,{to:{x:f.x+(p>0?10:-(10+E.width+20)),y:f.y+(-E.height-5),width:E.width+20,height:E.height+20}}),this.onAnimate(t.label,{to:{x:f.x+(p>0?20:-(10+E.width+10)),y:f.y+-E.height/4}})):(t.lines.setAttributes({path:["M",p+d,g+c,"L",f.x,f.y,"Z","M",f.x,f.y,"l",p>0?10:-10,0,"z"]},!0),t.box.setAttributes({x:f.x+(p>0?10:-(10+E.width+20)),y:f.y+(-E.height-5),width:E.width+20,height:E.height+20},!0),t.label.setAttributes({x:f.x+(p>0?20:-(10+E.width+10)),y:f.y+-E.height/4},!0));for(l in t)t[l].show(!0)}},onAnimate:function(t,e){return t.show(),this.callParent(arguments)},isItemInPoint:function(t,e,i,n){var s=this.centerX,r=this.centerY,o=Math.abs,a=o(t-s),l=o(e-r),h=i.startAngle,d=i.endAngle,c=Math.sqrt(a*a+l*l),u=Math.atan2(e-r,t-s)/this.rad;return u>this.firstAngle&&(u-=this.accuracy),u<=h&&u>d&&c>=i.startRho&&c<=i.endRho},hideAll:function(t){var e,i,n,s,r,o,a;for(t=(isNaN(this._index)?t:this._index)||0,this.__excludes=this.__excludes||[],this.__excludes[t]=!0,r=0,o=(a=this.slices[t].sprite).length;r<o;r++)a[r].setAttributes({hidden:!0},!0);if(this.slices[t].shadowAttrs)for(e=0,i=(s=this.slices[t].shadowAttrs).length;e<i;e++)for(r=0,o=(n=s[e]).length;r<o;r++)n[r].setAttributes({hidden:!0},!0);this.drawSeries()},showAll:function(t){t=(isNaN(this._index)?t:this._index)||0,this.__excludes[t]=!1,this.drawSeries()},highlightItem:function(t){var e,i,n,s,r,o,a,l,h,d,c,u,f,p,g,m,x=this.rad;if(t=t||this.items[this._index],this.unHighlightItem(),!(!t||this.animating||t.sprite&&t.sprite._animating)&&(this.callParent([t]),this.highlight&&"segment"in this.highlightCfg&&(e=this.highlightCfg.segment,i=this.chart.animate,this.labelsGroup&&(c=this.labelsGroup,this.label.display,u=c.getAt(t.index),f=(t.startAngle+t.endAngle)/2*x,g=(p=e.margin||0)*Math.cos(f),m=p*Math.sin(f),Math.abs(g)<1e-10&&(g=0),Math.abs(m)<1e-10&&(m=0),i?(u.stopAnimation(),u.animate({to:{translate:{x:g,y:m}},duration:this.highlightDuration})):u.setAttributes({translate:{x:g,y:m}},!0)),this.chart.shadow&&t.shadows)))for(s=0,a=(r=t.shadows).length;s<a;s++){o=r[s],l={},h=t.sprite._from.segment;for(d in h)d in e||(l[d]=h[d]);n={segment:Ext.applyIf(l,this.highlightCfg.segment)},i?(o.stopAnimation(),o.animate({to:n,duration:this.highlightDuration})):o.setAttributes(n,!0)}},unHighlightItem:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p,g,m,x,E;if(this.highlight){if("segment"in this.highlightCfg&&this.items)for(t=this.items,e=this.chart.animate,i=!!this.chart.shadow,n=this.labelsGroup,s=t.length,r=0,o=0,a=this.label.display;r<s;r++)if((m=t[r])&&(f=m.sprite)&&f._highlighted&&(n&&(x=n.getAt(m.index),E=Ext.apply({translate:{x:0,y:0}},"rotate"==a?{rotate:{x:x.attr.x,y:x.attr.y,degrees:x.attr.rotation.degrees}}:{}),e?(x.stopAnimation(),x.animate({to:E,duration:this.highlightDuration})):x.setAttributes(E,!0)),i))for(l=(p=m.shadows).length;o<l;o++){d={},c=m.sprite._to.segment,u=m.sprite._from.segment,Ext.apply(d,u);for(h in c)h in u||(d[h]=c[h]);g=p[o],e?(g.stopAnimation(),g.animate({to:{segment:d},duration:this.highlightDuration})):g.setAttributes({segment:d},!0)}this.callParent(arguments)}},getLegendColor:function(t){return this.colorSet&&this.colorSet[t%this.colorSet.length]||this.colorArrayStyle[t%this.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Radar",{extend:Ext.chart.series.Series,type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:!1,style:{},constructor:function(t){this.callParent(arguments);var e=this.chart.surface;this.group=e.getGroup(this.seriesId),this.showMarkers&&(this.markerGroup=e.getGroup(this.seriesId+"-markers"))},drawSeries:function(){var t,e,i,n,s,r,o,a,l,h,d,c,u,f,p,g,m=this.chart.getChartStore(),x=m.data.items,E=this.group,y=this.chart,v=y.series.items,b=(y.animate,this.field||this.yField),C=y.surface,w=y.chartBBox,S=(this.seriesIdx,this.colorArrayStyle),T=0,k=[],D=Math.max,I=Math.cos,P=Math.sin,M=2*Math.PI,A=m.getCount(),L=this.seriesStyle,R=(this.seriesLabelStyle,y.resizing||this.radar,y.axes&&y.axes.get(0)),F=!(R&&R.maximum);if(this.setBBox(),T=F?0:R.maximum||0,Ext.apply(L,this.style||{}),!m||!m.getCount()||this.seriesIsHidden)return this.hide(),this.items=[],this.radar&&this.radar.hide(!0),void(this.radar=null);if(L.stroke||(L.stroke=S[this.themeIdx%S.length]),this.unHighlightItem(),this.cleanHighlights(),r=this.centerX=w.x+w.width/2,o=this.centerY=w.y+w.height/2,this.radius=l=Math.min(w.width,w.height)/2,this.items=a=[],F){for(i=0,n=v.length;i<n;i++)s=v[i],k.push(s.yField);for(t=0;t<A;t++)for(e=x[t],p=0,g=k.length;p<g;p++)T=D(+e.get(k[p]),T)}for(T=T||1,h=[],d=[],p=0;p<A;p++)c=(f=l*(e=x[p]).get(b)/T)*I(p/A*M),u=f*P(p/A*M),0==p?(d.push("M",c+r,u+o),h.push("M",.01*c+r,.01*u+o)):(d.push("L",c+r,u+o),h.push("L",.01*c+r,.01*u+o)),a.push({sprite:!1,point:[r+c,o+u],storeItem:e,series:this});d.push("Z"),this.radar||(this.radar=C.add(Ext.apply({type:"path",group:E,path:h},L||{}))),y.resizing&&this.radar.setAttributes({path:h},!0),y.animate?this.onAnimate(this.radar,{to:Ext.apply({path:d},L||{})}):this.radar.setAttributes(Ext.apply({path:d},L||{}),!0),this.showMarkers&&this.drawMarkers(),this.renderLabels(),this.renderCallouts()},drawMarkers:function(){var t,e,i,n,s,r=this.chart,o=r.surface,a=r.getChartStore(),l=Ext.apply({},this.markerStyle||{}),h=Ext.apply(l,this.markerConfig,{fill:this.colorArrayStyle[this.themeIdx%this.colorArrayStyle.length]}),d=this.items,c=h.type,u=this.markerGroup,f=this.centerX,p=this.centerY;for(delete h.type,e=0,i=d.length;e<i;e++)t=d[e],(n=u.getAt(e))?n.show():n=Ext.chart.Shape[c](o,Ext.apply({group:u,x:0,y:0,translate:{x:f,y:p}},h)),t.sprite=n,r.resizing&&n.setAttributes({x:0,y:0,translate:{x:f,y:p}},!0),n._to={translate:{x:t.point[0],y:t.point[1]}},s=this.renderer(n,a.getAt(e),n._to,e,a),s=Ext.applyIf(s||{},h||{}),r.animate?this.onAnimate(n,{to:s}):n.setAttributes(s,!0)},isItemInPoint:function(t,e,i){var n,s=Math.abs;return n=i.point,s(n[0]-t)<=10&&s(n[1]-e)<=10},onCreateLabel:function(t,e,i,n){var s=this.labelsGroup,r=this.label,o=this.centerX,a=this.centerY;e.point,Ext.apply(this.seriesLabelStyle||{},r);return this.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:s,x:o,y:a},r||{}))},onPlaceLabel:function(t,e,i,n,s,r,o){var a=this.chart.resizing,l=this.label,h=l.renderer,d=l.field,c=this.centerX,u=this.centerY,f={x:i.point[0],y:i.point[1]};t.setAttributes({text:h(e.get(d),t,e,i,n,s,r,o),hidden:!0},!0),a&&t.setAttributes({x:c,y:u},!0),r?(t.show(!0),this.onAnimate(t,{to:f})):(t.setAttributes(f,!0),t.show(!0))},toggleAll:function(t){var e,i,n;if(t?Ext.chart.series.Radar.superclass.showAll.call(this):Ext.chart.series.Radar.superclass.hideAll.call(this),this.radar&&(this.radar.setAttributes({hidden:!t},!0),this.radar.shadows))for(e=0,i=(n=this.radar.shadows).length;e<i;e++)n[e].setAttributes({hidden:!t},!0)},hideAll:function(){this.toggleAll(!1),this.hideMarkers(0)},showAll:function(){this.toggleAll(!0)},hideMarkers:function(t){for(var e=this.markerGroup&&this.markerGroup.getCount()||0,i=t||0;i<e;i++)this.markerGroup.getAt(i).hide(!0)},getAxesForXAndYFields:function(){var t=this.chart.axes;return{yAxis:[].concat(t&&t.get(0))}}}),Ext.define("Ext.chart.series.Scatter",{extend:Ext.chart.series.Cartesian,type:"scatter",alias:"series.scatter",constructor:function(t){this.callParent(arguments);var e,i,n=this.chart.shadow,s=this.chart.surface;if(Ext.apply(this,t,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]}),this.group=s.getGroup(this.seriesId),n)for(e=0,i=this.shadowAttributes.length;e<i;e++)this.shadowGroups.push(s.getGroup(this.seriesId+"-shadows"+e))},getBounds:function(){var t,e,i,n,s,r,o,a,l,h=this.chart,d=h.getChartStore(),c=h.axes,u=this.getAxesForXAndYFields(),f=u.xAxis,p=u.yAxis;return this.setBBox(),t=this.bbox,(a=c.get(f))&&(n=(l=a.applyData()).from,r=l.to),(a=c.get(p))&&(s=(l=a.applyData()).from,o=l.to),this.xField&&!Ext.isNumber(n)&&(n=(a=this.getMinMaxXValues())[0],r=a[1]),this.yField&&!Ext.isNumber(s)&&(s=(a=this.getMinMaxYValues())[0],o=a[1]),isNaN(n)?(n=0,r=d.getCount()-1,e=t.width/(d.getCount()-1)):e=t.width/(r-n),isNaN(s)?(s=0,o=d.getCount()-1,i=t.height/(d.getCount()-1)):i=t.height/(o-s),{bbox:t,minX:n,minY:s,xScale:e,yScale:i}},getPaths:function(){var t,e,i,n,s,r,o,a,l=this.chart,h=l.shadow,d=l.getChartStore().data.items,c=this.group,u=this.bounds=this.getBounds(),f=this.bbox,p=u.xScale,g=u.yScale,m=u.minX,x=u.minY,E=f.x,y=f.y,v=f.height,b=(this.items=[],[]);for(t=0,e=d.length;t<e;t++)r=(i=d[t]).get(this.xField),void 0===(o=i.get(this.yField))||"string"==typeof o&&!o||null==r||null==o||(("string"==typeof r||"object"==typeof r&&!Ext.isDate(r))&&(r=t),("string"==typeof o||"object"==typeof o&&!Ext.isDate(o))&&(o=t),n=E+(r-m)*p,s=y+v-(o-x)*g,b.push({x:n,y:s}),this.items.push({series:this,value:[r,o],point:[n,s],storeItem:i}),l.animate&&l.resizing&&(a=c.getAt(t))&&(this.resetPoint(a),h&&this.resetShadow(a)));return b},resetPoint:function(t){var e=this.bbox;t.setAttributes({translate:{x:(e.x+e.width)/2,y:(e.y+e.height)/2}},!0)},resetShadow:function(t){var e,i,n=t.shadows,s=this.shadowAttributes,r=this.shadowGroups.length,o=this.bbox;for(e=0;e<r;e++)(i=Ext.apply({},s[e])).translate?(i.translate.x+=(o.x+o.width)/2,i.translate.y+=(o.y+o.height)/2):i.translate={x:(o.x+o.width)/2,y:(o.y+o.height)/2},n[e].setAttributes(i,!0)},createPoint:function(t,e){var i=this.chart,n=this.group,s=this.bbox;return Ext.chart.Shape[e](i.surface,Ext.apply({},{x:0,y:0,group:n,translate:{x:(s.x+s.width)/2,y:(s.y+s.height)/2}},t))},createShadow:function(t,e,i){var n,s,r,o,a=this.chart,l=this.shadowGroups,h=this.shadowAttributes,d=l.length,c=this.bbox;for(t.shadows=r=[],n=0;n<d;n++)(o=Ext.apply({},h[n])).translate?(o.translate.x+=(c.x+c.width)/2,o.translate.y+=(c.y+c.height)/2):Ext.apply(o,{translate:{x:(c.x+c.width)/2,y:(c.y+c.height)/2}}),Ext.apply(o,e),s=Ext.chart.Shape[i](a.surface,Ext.apply({},{x:0,y:0,group:l[n]},o)),r.push(s)},drawSeries:function(){var t,e,i,n,s,r,o,a,l,h,d,c=this.chart,u=c.getChartStore(),f=this.group,p=c.shadow,g=this.shadowGroups,m=this.shadowAttributes,x=g.length;if(r=Ext.apply(this.markerStyle,this.markerConfig),a=r.type,delete r.type,!u||!u.getCount())return this.hide(),void(this.items=[]);for(this.unHighlightItem(),this.cleanHighlights(),n=(e=this.getPaths()).length,s=0;s<n;s++){if(i=e[s],t=f.getAt(s),Ext.apply(i,r),t||(t=this.createPoint(i,a),p&&this.createShadow(t,r,a)),l=t.shadows,c.animate)for(h=this.renderer(t,u.getAt(s),{translate:i},s,u),t._to=h,this.onAnimate(t,{to:h}),o=0;o<x;o++)d=Ext.apply({},m[o]),h=this.renderer(l[o],u.getAt(s),Ext.apply({},{hidden:!1,translate:{x:i.x+(d.translate?d.translate.x:0),y:i.y+(d.translate?d.translate.y:0)}},d),s,u),this.onAnimate(l[o],{to:h});else for(h=this.renderer(t,u.getAt(s),{translate:i},s,u),t._to=h,t.setAttributes(h,!0),o=0;o<x;o++)d=Ext.apply({},m[o]),h=this.renderer(l[o],u.getAt(s),Ext.apply({},{hidden:!1,translate:{x:i.x+(d.translate?d.translate.x:0),y:i.y+(d.translate?d.translate.y:0)}},d),s,u),l[o].setAttributes(h,!0);this.items[s].sprite=t}for(n=f.getCount(),s=e.length;s<n;s++)f.getAt(s).hide(!0);this.renderLabels(),this.renderCallouts()},onCreateLabel:function(t,e,i,n){var s=this.labelsGroup,r=this.label,o=Ext.apply({},r,this.seriesLabelStyle),a=this.bbox;return this.chart.surface.add(Ext.apply({type:"text",group:s,x:e.point[0],y:a.y+a.height/2},o))},onPlaceLabel:function(t,e,i,n,s,r,o){var a,l,h,d,c=this.chart,u=c.resizing,f=this.label,p=f.renderer,g=f.field,m=this.bbox,x=i.point[0],E=i.point[1],y=i.sprite.attr.radius;t.setAttributes({text:p(e.get(g),t,e,i,n,s,r,o),hidden:!0},!0),"rotate"==s?(t.setAttributes({"text-anchor":"start",rotation:{x:x,y:E,degrees:-45}},!0),l=(a=t.getBBox()).width,h=a.height,x=(x=x<m.x?m.x:x)+l>m.x+m.width?x-(x+l-m.x-m.width):x,E=E-h<m.y?m.y+h:E):"under"!=s&&"over"!=s||((a=i.sprite.getBBox()).width=a.width||2*y,a.height=a.height||2*y,E+="over"==s?-a.height:a.height,l=(a=t.getBBox()).width/2,h=a.height/2,x=(x=x-l<m.x?m.x+l:x)+l>m.x+m.width?x-(x+l-m.x-m.width):x,E=(E=E-h<m.y?m.y+h:E)+h>m.y+m.height?E-(E+h-m.y-m.height):E),c.animate?u?(d=i.sprite.getActiveAnimation())?d.on("afteranimate",function(){t.setAttributes({x:x,y:E},!0),t.show(!0)}):t.show(!0):this.onAnimate(t,{to:{x:x,y:E}}):(t.setAttributes({x:x,y:E},!0),t.show(!0))},onPlaceCallout:function(t,e,i,n,s,r,o){var a,l,h,d,c,u,f,p,g=this.chart,m=(g.surface,g.resizing,this.callouts,this.items,i.point),x=t.label.getBBox(),E=this.bbox;a=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)],f=m[0]+30*a[0],p=m[1]+30*a[1],l=f+(a[0]>0?0:-(x.width+6)),h=p-x.height/2-3,d=x.width+6,c=x.height+6,(l<E[0]||l+d>E[0]+E[2])&&(a[0]*=-1),(h<E[1]||h+c>E[1]+E[3])&&(a[1]*=-1),f=m[0]+30*a[0],p=m[1]+30*a[1],l=f+(a[0]>0?0:-(x.width+6)),h=p-x.height/2-3,d=x.width+6,c=x.height+6,g.animate?(this.onAnimate(t.lines,{to:{path:["M",m[0],m[1],"L",f,p,"Z"]}},!0),this.onAnimate(t.box,{to:{x:l,y:h,width:d,height:c}},!0),this.onAnimate(t.label,{to:{x:f+(a[0]>0?3:-(x.width+3)),y:p}},!0)):(t.lines.setAttributes({path:["M",m[0],m[1],"L",f,p,"Z"]},!0),t.box.setAttributes({x:l,y:h,width:d,height:c},!0),t.label.setAttributes({x:f+(a[0]>0?3:-(x.width+3)),y:p},!0));for(u in t)t[u].show(!0)},onAnimate:function(t,e){return t.show(),this.callParent(arguments)},isItemInPoint:function(t,e,i){var n;Math.abs;return(n=i.point)[0]-10<=t&&n[0]+10>=t&&n[1]-10<=e&&n[1]+10>=e}}),Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.TableLayout",monitorResize:!1,type:"table",createsInnerCt:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(t){return this.autoSizePolicy},initHierarchyState:function(t){t.inShrinkWrapTable=!0},getLayoutItems:function(){var t,e,i=[],n=this.callParent(),s=n.length;for(e=0;e<s;e++)(t=n[e]).hidden||i.push(t);return i},getHiddenItems:function(){for(var t,e=[],i=this.owner.items.items,n=i.length,s=0;s<n;++s)(t=i[s]).rendered&&t.hidden&&e.push(t);return e},renderChildren:function(){var t,e,i,n,s,r,o,a,l=this.getLayoutItems(),h=this.owner.getTargetEl().child("table",!0).tBodies[0],d=h.rows,c=0,u=l.length,f=this.getHiddenItems();for(t=this.calculateCells(l);c<u;c++)if(e=t[c],i=e.rowIdx,n=e.cellIdx,s=l[c],(r=d[i])||(r=h.insertRow(i),this.trAttrs&&r.set(this.trAttrs)),a=o=Ext.get(r.cells[n]||r.insertCell(n)),this.needsDivWrap()&&(a=o.first()||o.createChild({tag:"div"})).setWidth(null),s.rendered?this.isValidParent(s,a,i,n,h)||this.moveItem(s,a,0):this.renderItem(s,a,0),this.tdAttrs&&o.set(this.tdAttrs),s.tdAttrs&&o.set(s.tdAttrs),o.set({colSpan:s.colspan||1,rowSpan:s.rowspan||1,id:s.cellId||"",cls:this.cellCls+" "+(s.cellCls||"")}),!t[c+1]||t[c+1].rowIdx!==i)for(n++;r.cells[n];)r.deleteCell(n);for(i++;h.rows[i];)h.deleteRow(i);for(c=0,u=f.length;c<u;++c)this.ensureInDocument(f[c].getEl())},ensureInDocument:function(t){for(var e=t.dom.parentNode;e;){if("BODY"==e.tagName.toUpperCase())return;e=e.parentNode}Ext.getDetachedBody().appendChild(t)},calculate:function(t){if(t.hasDomProp("containerChildrenSizeDone")){var e=t.targetContext,i=t.widthModel.shrinkWrap,n=t.heightModel.shrinkWrap,s=n||i,r=s&&e.el.child("table",!0),o=s&&e.getPaddingInfo();i&&t.setContentWidth(r.offsetWidth+o.width,!0),n&&t.setContentHeight(r.offsetHeight+o.height,!0)}else this.done=!1},finalizeLayout:function(){if(this.needsDivWrap()){var t,e,i=this.getLayoutItems(),n=i.length;for(t=0;t<n;t++)e=i[t],Ext.fly(e.el.dom.parentNode).setWidth(e.getWidth())}(Ext.isIE6||Ext.isIEQuirks)&&this.owner.getTargetEl().child("table").repaint()},calculateCells:function(t){for(var e,i,n=[],s=0,r=0,o=0,a=this.columns||1/0,l=[],h=0,d=t.length;h<d;h++){for(i=t[h];r>=a||l[r]>0;)if(r>=a)for(r=0,o=0,s++,e=0;e<a;e++)l[e]>0&&l[e]--;else r++;for(n.push({rowIdx:s,cellIdx:o}),e=i.colspan||1;e;--e)l[r]=i.rowspan||1,++r;++o}return n},getRenderTree:function(){var t,e,i,n,s,r,o,a,l=this.getLayoutItems(),h=[],d=Ext.apply({tag:"table",role:"presentation",cls:this.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",cn:h}},this.tableAttrs),c=this.tdAttrs,u=this.needsDivWrap(),f=l.length;for(t=this.calculateCells(l),e=0;e<f;e++)i=l[e],r=(n=t[e]).rowIdx,o=n.cellIdx,(s=h[r])||(s=h[r]={tag:"tr",cn:[]},this.trAttrs&&Ext.apply(s,this.trAttrs)),a=s.cn[o]={tag:"td"},c&&Ext.apply(a,c),Ext.apply(a,{colSpan:i.colspan||1,rowSpan:i.rowspan||1,id:i.cellId||"",cls:this.cellCls+" "+(i.cellCls||"")}),u&&(a=a.cn={tag:"div"}),this.configureItem(i),a.cn=i.getRenderTree();return d},isValidParent:function(t,e,i,n){var s,r,o;return 3===arguments.length?(o=t.el.up("table"))&&o.dom.parentNode===e.dom:(s=this.owner.getTargetEl().child("table",!0).tBodies[0],r=s.rows[i].cells[n],t.el.dom.parentNode===r)},needsDivWrap:function(){return Ext.isOpera10_5}}),Ext.define("Ext.container.ButtonGroup",{extend:Ext.panel.Panel,alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",initComponent:function(){var t=this.columns;t&&(this.layout=Ext.apply({},{columns:t},this.layout)),this.title||this.addClsWithUI(this.noTitleCls),this.callParent(arguments)},onBeforeAdd:function(t){t.isButton&&(this.defaultButtonUI&&"default"===t.ui&&!t.hasOwnProperty("ui")?t.ui=this.defaultButtonUI:t.ui=t.ui+"-toolbar"),this.callParent(arguments)},applyDefaults:function(t){return Ext.isString(t)||(t=this.callParent(arguments)),t}}),Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(t){Ext.apply(this,t)},bind:function(t){this.target=t,t.on("beforedestroy",this.disable,this),this.onContainerAdd(t)},unbind:function(){var t=this.target;t&&t.un("beforedestroy",this.disable,this),this.items=null},disable:function(){++this.disabled},enable:function(){this.disabled>0&&--this.disabled},handleAdd:function(t,e){this.disabled||(e.is(this.selector)&&this.onItemAdd(e.ownerCt,e),e.isContainer&&this.onContainerAdd(e))},onItemAdd:function(t,e){var i=this.items,n=this.addHandler;this.disabled||(n&&n.call(this.scope||e,e),i&&i.add(e))},onItemRemove:function(t,e){var i=this.items,n=this.removeHandler;this.disabled||(n&&n.call(this.scope||e,e),i&&i.remove(e))},onContainerAdd:function(t,e){var i,n,s,r,o=this.handleAdd,a=this.handleRemove;if(t.on("add",o,this),t.on("dockedadd",o,this),t.on("remove",a,this),t.on("dockedremove",a,this),!0!==e)for(s=0,n=(i=t.query(this.selector)).length;s<n;++s)r=i[s],this.onItemAdd(r.ownerCt,r);for(s=0,n=(i=t.query("container")).length;s<n;++s)this.onContainerAdd(i[s],!0)},handleRemove:function(t,e){this.disabled||(e.is(this.selector)&&this.onItemRemove(t,e),e.isContainer&&this.onContainerRemove(t,e))},onContainerRemove:function(t,e){var i,n,s,r,o=t.destroying;for(o||this.removeCtListeners(e),n=0,s=(i=e.query(this.selector)).length;n<s;++n)r=i[n],this.onItemRemove(r.ownerCt,r);if(!o)for(n=0,s=(i=e.query("container")).length;n<s;++n)this.removeCtListeners(i[n])},removeCtListeners:function(t){t.un("add",this.handleAdd,this),t.un("dockedadd",this.handleAdd,this),t.un("remove",this.handleRemove,this),t.un("dockedremove",this.handleRemove,this)},getItems:function(){var t=this.items;return t||(t=this.items=new Ext.util.MixedCollection).addAll(this.target.query(this.selector)),t},invalidateItems:function(){this.items=null}}),Ext.define("Ext.container.Viewport",{extend:Ext.container.Container,alias:"widget.viewport",alternateClassName:"Ext.Viewport",isViewport:!0,ariaRole:"application",preserveElOnDestroy:!0,initComponent:function(){var t=document.body.parentNode,e=this.el=Ext.getBody();Ext.getScrollbarSize(),this.width=this.height=void 0,this.callParent(arguments),Ext.fly(t).addCls(Ext.baseCSSPrefix+"viewport"),this.autoScroll&&(Ext.fly(t).setStyle(this.getOverflowStyle()),delete this.autoScroll),e.setHeight=e.setWidth=Ext.emptyFn,e.dom.scroll="no",this.allowDomMove=!1,this.renderTo=this.el},applyTargetCls:function(t){this.el.addCls(t)},onRender:function(){this.callParent(arguments),this.width=Ext.Element.getViewportWidth(),this.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var t=this;t.callParent(arguments),setTimeout(function(){Ext.EventManager.onWindowResize(t.fireResize,t)},1)},fireResize:function(t,e){t==this.width&&e==this.height||this.setSize(t,e)},initHierarchyState:function(t){this.callParent([this.hierarchyState=Ext.rootHierarchyState])}}),Ext.define("Ext.data.IdGenerator",{isGenerator:!0,constructor:function(t){Ext.apply(this,t),this.id&&(Ext.data.IdGenerator.all[this.id]=this)},getRecId:function(t){return t.modelName+"-"+t.internalId},statics:{all:{},get:function(t){var e,i,n;if("string"==typeof t)i=n=t,t=null;else{if(t.isGenerator)return t;i=t.id||t.type,n=t.type}return(e=this.all[i])||(e=Ext.create("idgen."+n,t)),e}}}),Ext.define("Ext.data.SortTypes",{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(t){return String(t).replace(this.stripTagsRE,"")},asUCText:function(t){return String(t).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(t){return String(t).toUpperCase()},asDate:function(t){return t?Ext.isDate(t)?t.getTime():Date.parse(String(t)):0},asFloat:function(t){var e=parseFloat(String(t).replace(/,/g,""));return isNaN(e)?0:e},asInt:function(t){var e=parseInt(String(t).replace(/,/g,""),10);return isNaN(e)?0:e}}),Ext.define("Ext.data.Types",{singleton:!0},function(){var t=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:t.none,type:"auto"},STRING:{convert:function(t){var e=this.useNull?null:"";return void 0===t||null===t?e:String(t)},sortType:t.asUCString,type:"string"},INT:{convert:function(t){return"number"==typeof t?parseInt(t):void 0!==t&&null!==t&&""!==t?parseInt(String(t).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:t.none,type:"int"},FLOAT:{convert:function(t){return"number"==typeof t?t:void 0!==t&&null!==t&&""!==t?parseFloat(String(t).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:t.none,type:"float"},BOOL:{convert:function(t){return"boolean"==typeof t?t:!this.useNull||void 0!==t&&null!==t&&""!==t?!0===t||"true"===t||1==t:null},sortType:t.none,type:"bool"},DATE:{convert:function(t){var e,i=this.dateReadFormat||this.dateFormat;return t?t instanceof Date?t:i?Ext.Date.parse(t,i):(e=Date.parse(t))?new Date(e):null:null},sortType:t.asDate,type:"date"}}),Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}),Ext.define("Ext.data.Field",{alias:"data.field",isField:!0,constructor:function(t){var e,i=Ext.data.Types;Ext.isString(t)&&(t={name:t}),Ext.apply(this,t),e=this.sortType,this.type?Ext.isString(this.type)&&(this.type=i[this.type.toUpperCase()]||i.AUTO):this.type=i.AUTO,Ext.isString(e)?this.sortType=Ext.data.SortTypes[e]:Ext.isEmpty(e)&&(this.sortType=this.type.sortType),t.hasOwnProperty("convert")?this.convert||!this.type.convert||t.hasOwnProperty("defaultValue")||(this.defaultValue=this.type.convert(this.defaultValue)):this.convert=this.type.convert,t.convert&&(this.hasCustomConvert=!0)},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0,persist:!0}),Ext.define("Ext.data.Errors",{extend:Ext.util.MixedCollection,isValid:function(){return 0===this.length},getByField:function(t){var e,i,n=[];for(i=0;i<this.length;i++)(e=this.items[i]).field==t&&n.push(e);return n}}),Ext.define("Ext.data.validations",{singleton:!0,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(t,e){return 1===arguments.length&&(e=t),!!e||0===e||!1===e},length:function(t,e){if(void 0===e||null===e)return!1;var i=e.length,n=t.min,s=t.max;return!(n&&i<n||s&&i>s)},email:function(t,e){return Ext.data.validations.emailRe.test(e)},format:function(t,e){return!(!t.matcher||!t.matcher.test(e))},inclusion:function(t,e){return t.list&&-1!=Ext.Array.indexOf(t.list,e)},exclusion:function(t,e){return t.list&&-1==Ext.Array.indexOf(t.list,e)}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:Ext.util.Observable},compareConvertFields:function(t,e){var i=t.convert&&t.type&&t.convert!==t.type.convert,n=e.convert&&e.type&&e.convert!==e.type.convert;return i&&!n?1:!i&&n?-1:0},itemNameFn:function(t){return t.name},onClassExtended:function(t,e,i){var n=i.onBeforeCreated;i.onBeforeCreated=function(t,e){var s,r,o,a,l=this,h=Ext.getClassName(t),d=t.prototype,c=t.prototype.superclass,u=e.validations||[],f=e.fields||[],p=e.associations||[],g=function(t,e){var i,n,s=0;if(t)for(i=(t=Ext.Array.from(t)).length;s<i;++s)n=t[s],Ext.isObject(n)||(n={model:n}),n.type=e,p.push(n)},m=e.idgen,x=new Ext.util.MixedCollection(!1,d.itemNameFn),E=new Ext.util.MixedCollection(!1,d.itemNameFn),y=c.validations,v=c.fields,b=c.associations,C=[],w="idProperty"in e?e.idProperty:d.idProperty,S=w?w.isField?w:new Ext.data.Field(w):null,T=!1,k=function(t,e,i){var n,s;x.events.add.firing?(s=t,n=e):(n=i,s=e.originalIndex),n.originalIndex=s,S&&(n.mapping&&n.mapping===S.mapping||n.name===S.name)&&(d.idField=n,T=!0,n.defaultValue=void 0)},D=e.proxy,I=function(){x.sortBy(d.compareConvertFields)};for(t.modelName=h,d.modelName=h,y&&(u=y.concat(u)),e.validations=u,v&&(f=v.items.concat(f)),x.on({add:k,replace:k}),o=0,a=f.length;o<a;++o)s=f[o],x.add(s.isField?s:new Ext.data.Field(s));for(S&&!T&&(d.idField=S,S.defaultValue=void 0,x.add(S)),I(),x.on({add:I,replace:I}),e.fields=x,m&&(e.idgen=Ext.data.IdGenerator.get(m)),g(e.belongsTo,"belongsTo"),delete e.belongsTo,g(e.hasMany,"hasMany"),delete e.hasMany,g(e.hasOne,"hasOne"),delete e.hasOne,b&&(p=b.items.concat(p)),o=0,a=p.length;o<a;++o)C.push("association."+p[o].type.toLowerCase());D?D.isProxy||C.push("proxy."+(D.type||D)):t.prototype.proxy||(t.prototype.proxy=t.prototype.defaultProxyType,C.push("proxy."+t.prototype.defaultProxyType)),Ext.require(C,function(){for(Ext.ModelManager.registerType(h,t),o=0,a=p.length;o<a;++o)(r=p[o]).isAssociation?r=Ext.applyIf({ownerModel:h,associatedModel:r.model},r.initialConfig):Ext.apply(r,{ownerModel:h,associatedModel:r.model}),void 0===Ext.ModelManager.getModel(r.model)?Ext.ModelManager.registerDeferredAssociation(r):E.add(Ext.data.association.Association.create(r));e.associations=E,n.call(l,t,e,i),D&&D.isProxy&&t.setProxy(D),Ext.ModelManager.onModelDefined(t)})}},inheritableStatics:{setProxy:function(t){return t.isProxy||("string"==typeof t&&(t={type:t}),t=Ext.createByAlias("proxy."+t.type,t)),t.setModel(this),this.proxy=this.prototype.proxy=t,t},getProxy:function(){var t=this.proxy;return t||((t=this.prototype.proxy).isProxy&&(t=t.clone()),this.setProxy(t))},setFields:function(t,e,i){var n,s,r,o,a=!1,l=this.prototype,h=l.fields,d=l.superclass.fields;for(e&&(l.idProperty=e,s=e.isField?e:new Ext.data.Field(e)),i&&(l.clientIdProperty=i),h?h.clear():h=this.prototype.fields=new Ext.util.MixedCollection(!1,function(t){return t.name}),d&&(t=d.items.concat(t)),o=0,r=t.length;o<r;o++)n=new Ext.data.Field(t[o]),s&&(n.mapping&&n.mapping===s.mapping||n.name===s.name)&&(a=!0,n.defaultValue=void 0),h.add(n);return s&&!a&&(s.defaultValue=void 0,h.add(s)),this.fields=h,h},getFields:function(){return this.prototype.fields.items},load:function(t,e){e=Ext.apply({},e),e=Ext.applyIf(e,{action:"read",id:t});var i,n=new Ext.data.Operation(e),s=e.scope||this,r=null;i=function(i){i.wasSuccessful()?((r=i.getRecords()[0]).hasId()||r.setId(t),Ext.callback(e.success,s,[r,i])):Ext.callback(e.failure,s,[r,i]),Ext.callback(e.callback,s,[r,i])},this.getProxy().read(n,i,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(t){var e=[this.PREFIX,"-",this.AUTO_ID++].join("");return t.phantom=!0,t.internalId=e,e}},idgen:{isGenerator:!0,type:"default",generate:function(){return null},getRecId:function(t){return t.modelName+"-"+t.internalId}},editing:!1,dirty:!1,persistenceProperty:"data",evented:!1,isModel:!0,phantom:!1,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",emptyData:[],constructor:function(t,e,i,n){var s,r,o,a,l,h,d,c,u,f=e||0===e,p=this.idProperty,g=this.idField;if(this.raw=i||t,this.modified={},c=this[this.persistenceProperty]=n||{},this.data=this[this.persistenceProperty],this.mixins.observable.constructor.call(this),!n)if(t?!f&&p&&(s=(e=t[p])||0===e):t=this.emptyData,r=this.fields.items,o=r.length,u=0,Ext.isArray(t))for(;u<o;u++)l=(a=r[u]).name,void 0===(h=t[a.originalIndex])&&(h=a.defaultValue),a.convert&&(h=a.convert(h,this)),void 0!==h&&(c[l]=h);else for(;u<o;u++)void 0===(h=t[l=(a=r[u]).name])&&(h=a.defaultValue),a.convert&&(h=a.convert(h,this)),void 0!==h&&(c[l]=h);this.stores=[],f?(s=!0,c[p]=g&&g.convert?g.convert(e):e):s||null!=(d=this.idgen.generate())&&(this.preventInternalUpdate=!0,this.setId(d),delete this.preventInternalUpdate),this.internalId=s?e:Ext.data.Model.id(this),"function"==typeof this.init&&this.init(),this.id=this.idgen.getRecId(this)},get:function(t){return this[this.persistenceProperty][t]},_singleProp:{},set:function(t,e){var i,n,s,r,o,a,l,h,d,c,u=this[this.persistenceProperty],f=this.fields,p=this.modified,g="string"==typeof t;g?(c=this._singleProp)[t]=e:c=t;for(a in c)if(c.hasOwnProperty(a)){if(d=c[a],f&&(n=f.get(a))&&n.convert&&(d=n.convert(d,this)),i=u[a],this.isEqual(i,d))continue;if(u[a]=d,(o||(o=[])).push(a),n&&n.persist)if(p.hasOwnProperty(a)){if(this.isEqual(p[a],d)){delete p[a],this.dirty=!1;for(r in p)if(p.hasOwnProperty(r)){this.dirty=!0;break}}}else this.dirty=!0,p[a]=i;a==this.idProperty&&(s=!0,l=i,h=d)}return g&&delete c[t],s&&this.changeId(l,h),!this.editing&&o&&this.afterEdit(o),o||null},copyFrom:function(t){var e,i,n,s,r=this.fields.items,o=r.length,a=[],l=0,h=this.idProperty;if(t){for(e=this[this.persistenceProperty],i=t[t.persistenceProperty];l<o;l++)(n=r[l].name)!=h&&(void 0===(s=i[n])||this.isEqual(e[n],s)||(e[n]=s,a.push(n)));this.phantom&&!t.phantom&&(this.beginEdit(),this.setId(t.getId()),this.endEdit(!0),this.commit(!0))}return a},isEqual:function(t,e){return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t===e},beginEdit:function(){var t,e,i;if(!this.editing){this.editing=!0,this.dirtySave=this.dirty,i=this[this.persistenceProperty],e=this.dataSave={};for(t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);i=this.modified,e=this.modifiedSave={};for(t in i)i.hasOwnProperty(t)&&(e[t]=i[t])}},cancelEdit:function(){this.editing&&(this.editing=!1,this.modified=this.modifiedSave,this[this.persistenceProperty]=this.dataSave,this.dirty=this.dirtySave,this.modifiedSave=this.dataSave=this.dirtySave=null)},endEdit:function(t,e){var i;t=!0===t,this.editing&&(this.editing=!1,i=this.dataSave,this.modifiedSave=this.dataSave=this.dirtySave=null,t||(e||(e=this.getModifiedFieldNames(i)),(this.dirty||e.length>0)&&this.afterEdit(e)))},getModifiedFieldNames:function(t){var e,i=this[this.persistenceProperty],n=[];t=t||this.dataSave;for(e in i)i.hasOwnProperty(e)&&(this.isEqual(i[e],t[e])||n.push(e));return n},getChanges:function(){var t,e=this.modified,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=this.get(t));return i},isModified:function(t){return this.modified.hasOwnProperty(t)},setDirty:function(){var t,e,i,n=this.fields.items,s=n.length;for(this.dirty=!0,i=0;i<s;i++)(t=n[i]).persist&&(e=t.name,this.modified[e]=this.get(e))},reject:function(t){var e,i=this.modified;for(e in i)i.hasOwnProperty(e)&&"function"!=typeof i[e]&&(this[this.persistenceProperty][e]=i[e]);this.dirty=!1,this.editing=!1,this.modified={},!0!==t&&this.afterReject()},commit:function(t,e){this.phantom=this.dirty=this.editing=!1,this.modified={},!0!==t&&this.afterCommit(e)},copy:function(t){return new this.self(this.raw,t,null,Ext.apply({},this[this.persistenceProperty]))},setProxy:function(t){return t.isProxy||("string"==typeof t&&(t={type:t}),t=Ext.createByAlias("proxy."+t.type,t)),t.setModel(this.self),this.proxy=t,t},getProxy:function(){return this.hasOwnProperty("proxy")?this.proxy:this.self.getProxy()},validate:function(){var t,e,i,n,s,r=new Ext.data.Errors,o=this.validations,a=Ext.data.validations;if(o)for(t=o.length,s=0;s<t;s++)i=(e=o[s]).field||e.name,a[n=e.type](e,this.get(i))||r.add({field:i,message:e.message||a[n+"Message"]});return r},isValid:function(){return this.validate().isValid()},save:function(t){t=Ext.apply({},t);var e,i,n,s,r,o=this,a=o.phantom?"create":"update",l=t.scope||o,h=o.stores,d=0;return Ext.apply(t,{records:[o],action:a}),s=new Ext.data.Operation(t),r=function(s){if(n=[o,s],s.wasSuccessful()){for(e=h.length;d<e;d++)(i=h[d]).fireEvent("write",i,s),i.fireEvent("datachanged",i);Ext.callback(t.success,l,n)}else Ext.callback(t.failure,l,n);Ext.callback(t.callback,l,n)},o.getProxy()[a](s,r,o),o},destroy:function(t){t=Ext.apply({records:[this],action:"destroy"},t);var e,i,n,s,r,o,a=this,l=!0!==a.phantom,h=t.scope||a,d=0;return r=new Ext.data.Operation(t),o=function(r){if(s=[a,r],e=Ext.Array.clone(a.stores),r.wasSuccessful()){for(i=e.length;d<i;d++)(n=e[d]).remove&&n.remove(a,!0),l&&n.fireEvent("write",n,r);a.clearListeners(),Ext.callback(t.success,h,s)}else Ext.callback(t.failure,h,s);Ext.callback(t.callback,h,s)},l?a.getProxy().destroy(r,o,a):(r.complete=r.success=!0,r.resultSet=a.getProxy().reader.nullResultSet,o(r)),a},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(t){this.set(this.idProperty,t)},changeId:function(t,e){var i,n,s;this.preventInternalUpdate||(i=this.hasId(t),n=this.hasId(e),s=this.internalId,this.phantom=!n,(n!==i||n&&i)&&(this.internalId=n?e:Ext.data.Model.id(this)),this.fireEvent("idchanged",this,t,e,s),this.callStore("onIdChanged",t,e,s))},hasId:function(t){return 0===arguments.length&&(t=this.getId()),!(!t&&0!==t)},join:function(t){this.stores.length?Ext.Array.include(this.stores,t):this.stores[0]=t,this.store=this.stores[0]},unjoin:function(t){Ext.Array.remove(this.stores,t),this.store=this.stores[0]||null},afterEdit:function(t){this.callStore("afterEdit",t)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(t){this.callStore("afterCommit",t)},callStore:function(t){var e,i=Ext.Array.clone(arguments),n=this.stores,s=0,r=n.length;for(i[0]=this;s<r;++s)(e=n[s])&&Ext.isFunction(e[t])&&e[t].apply(e,i)},getData:function(t){var e,i,n=this.fields.items,s=n.length,r={};for(i=0;i<s;i++)r[e=n[i].name]=this.get(e);return!0===t&&Ext.apply(r,this.getAssociatedData()),r},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(t,e){var i,n,s,r,o,a,l,h,d,c,u,f,p,g,m=this.associations.items,x=m.length,E={},y=[],v=[],b=[];for(u=0;u<x;u++)if(c=m[u],h=c.associationId,!(l=t[h])||l===e)if(t[h]=e,p=c.type,g=c.name,"hasMany"==p){if(i=this[c.storeName],E[g]=[],i&&i.getCount()>0)for(d=(n=i.data.items).length,f=0;f<d;f++)s=n[f],E[g][f]=s.getData(),y.push(s),v.push(g),b.push(f)}else"belongsTo"!=p&&"hasOne"!=p||void 0!==(s=this[c.instanceName])&&(E[g]=s.getData(),y.push(s),v.push(g),b.push(-1));for(u=0,d=y.length;u<d;++u)s=y[u],r=E[v[u]],o=b[u],a=s.prepareAssociatedData(t,e+1),-1===o?Ext.apply(r,a):Ext.apply(r[o],a);return E}}),Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,constructor:function(t){t=t||{},this.callParent([t]),this.extraParams=t.extraParams||{},this.api=Ext.apply({},t.api||this.api),this.nocache=this.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(t,e){this.extraParams[t]=e},buildRequest:function(t){var e,i=t.params=Ext.apply({},t.params,this.extraParams);return Ext.applyIf(i,this.getParams(t)),void 0!==t.id&&void 0===i[this.idParam]&&(i[this.idParam]=t.id),e=new Ext.data.Request({params:i,action:t.action,records:t.records,operation:t,url:t.url,proxy:this}),e.url=this.buildUrl(e),t.request=e,e},processResponse:function(t,e,i,n,s,r){var o,a;!0===t?((o=this.getReader()).applyDefaults="read"===e.action,!1!==(a=o.read(this.extractResponseData(n))).success?(Ext.apply(e,{response:n,resultSet:a}),e.commitRecords(a.records),e.setCompleted(),e.setSuccessful()):(e.setException(a.message),this.fireEvent("exception",this,n,e))):(this.setException(e,n),this.fireEvent("exception",this,n,e)),"function"==typeof s&&s.call(r||this,e),this.afterRequest(i,t)},setException:function(t,e){t.setException({status:e.status,statusText:e.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(t){return Ext.encode(t)},encodeSorters:function(t){for(var e=[],i=t.length,n=0;n<i;n++)e[n]={property:t[n].property,direction:t[n].direction};return this.applyEncoding(e)},encodeFilters:function(t){for(var e=[],i=t.length,n=0;n<i;n++)e[n]={property:t[n].property,value:t[n].value};return this.applyEncoding(e)},getParams:function(t){var e,i,n={},s=Ext.isDefined,r=t.groupers,o=t.sorters,a=t.filters,l=t.page,h=t.start,d=t.limit,c=this.simpleSortMode,u=this.simpleGroupMode,f=this.pageParam,p=this.startParam,g=this.limitParam,m=this.groupParam,x=this.groupDirectionParam,E=this.sortParam,y=this.filterParam,v=this.directionParam;return f&&s(l)&&(n[f]=l),p&&s(h)&&(n[p]=h),g&&s(d)&&(n[g]=d),(e=m&&r&&r.length>0)&&(u?(n[m]=r[0].property,n[x]=r[0].direction||"ASC"):n[m]=this.encodeSorters(r)),E&&o&&o.length>0&&(c?(i=0,o.length>1&&e&&(i=1),n[E]=o[i].property,n[v]=o[i].direction):n[E]=this.encodeSorters(o)),y&&a&&a.length>0&&(n[y]=this.encodeFilters(a)),n},buildUrl:function(t){var e=this.getUrl(t);return this.noCache&&(e=Ext.urlAppend(e,Ext.String.format("{0}={1}",this.cacheString,Ext.Date.now()))),e},getUrl:function(t){return t.url||this.api[t.action]||this.url},doRequest:function(t,e,i){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}}),Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},binary:!1,doRequest:function(t,e,i){var n=this.getWriter(),s=this.buildRequest(t);return t.allowWrite()&&(s=n.write(s)),Ext.apply(s,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(s,t,e,i),method:this.getMethod(s),disableCaching:!1}),Ext.Ajax.request(s),s},getMethod:function(t){return this.actionMethods[t.action]},createRequestCallback:function(t,e,i,n){var s=this;return function(r,o,a){s.processResponse(o,e,t,a,i,n)}}},function(){Ext.data.HttpProxy=this}),Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}}),Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(t){this.callParent([t]),this.setReader(this.reader)},updateOperation:function(t,e,i){for(var n=0,s=t.getRecords(),r=s.length;n<r;n++)s[n].commit();t.setCompleted(),t.setSuccessful(),Ext.callback(e,i||this,[t])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(t,e,i){var n=t.resultSet=this.getReader().read(this.data),s=n.records,r=t.sorters,o=t.groupers,a=t.filters;t.setCompleted(),n.success&&(a&&a.length&&(s=n.records=Ext.Array.filter(s,Ext.util.Filter.createFilterFn(a))),o&&o.length&&Ext.Array.insert(r||[],0,o),r&&r.length&&(n.records=Ext.Array.sort(s,Ext.util.Sortable.createComparator(r))),this.enablePaging&&void 0!==t.start&&void 0!==t.limit&&(t.start>=n.total?(n.success=!1,n.count=0,n.records=[]):(n.records=Ext.Array.slice(n.records,t.start,t.start+t.limit),n.count=n.records.length))),n.success?t.setSuccessful():this.fireEvent("exception",this,null,t),Ext.callback(e,i||this,[t])},clear:Ext.emptyFn}),Ext.define("Ext.util.LruCache",{extend:Ext.util.HashMap,constructor:function(t){Ext.apply(this,t),this.callParent([t])},add:function(t,e){var i,n=this.findKey(e);return n?(this.unlinkEntry(i=this.map[n]),i.prev=this.last,i.next=null):i={prev:this.last,next:null,key:t,value:e},this.last?this.last.next=i:this.first=i,this.last=i,this.callParent([t,i]),this.prune(),e},insertBefore:function(t,e,i){var n,s;return(i=this.map[this.findKey(i)])?((n=this.findKey(e))?this.unlinkEntry(s=this.map[n]):s={prev:i.prev,next:i,key:t,value:e},i.prev?s.prev.next=s:this.first=s,s.next=i,i.prev=s,this.prune(),e):this.add(t,e)},get:function(t){var e=this.map[t];if(e)return e.next&&this.moveToEnd(e),e.value},removeAtKey:function(t){return this.unlinkEntry(this.map[t]),this.callParent(arguments)},clear:function(t){return this.first=this.last=null,this.callParent(arguments)},unlinkEntry:function(t){t&&(t.next?t.next.prev=t.prev:this.last=t.prev,t.prev?t.prev.next=t.next:this.first=t.next,t.prev=t.next=null)},moveToEnd:function(t){this.unlinkEntry(t),(t.prev=this.last)?this.last.next=t:this.first=t,this.last=t},getArray:function(t){for(var e=[],i=this.first;i;)e.push(t?i.key:i.value),i=i.next;return e},each:function(t,e,i){var n=i?this.last:this.first,s=this.length;for(e=e||this;n&&!1!==t.call(e,n.key,n.value,s);)n=i?n.prev:n.next;return this},findKey:function(t){var e,i=this.map;for(e in i)if(i.hasOwnProperty(e)&&i[e].value===t)return e},clone:function(){var t,e=new this.self(this.initialConfig),i=this.map;e.suspendEvents();for(t in i)i.hasOwnProperty(t)&&e.add(t,i[t].value);return e.resumeEvents(),e},prune:function(){var t=this.maxSize?this.length-this.maxSize:0;if(t>0)for(;this.first&&t;t--)this.removeAtKey(this.first.key)}}),Ext.define("Ext.data.Group",{extend:Ext.util.Observable,key:void 0,dirty:!0,constructor:function(){this.callParent(arguments),this.records=[]},contains:function(t){return Ext.Array.indexOf(this.records,t)},add:function(t){Ext.Array.push(this.records,t),this.dirty=!0},remove:function(t){Ext.isArray(t)||(t=[t]);var e,i=t.length;for(e=0;e<i;++e)Ext.Array.remove(this.records,t[e]);this.dirty=!0},isDirty:function(){return this.dirty},hasAggregate:function(){return!!this.aggregate},setDirty:function(){this.dirty=!0},commit:function(){this.dirty=!1},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(t){var e;return!0!==t&&!this.dirty&&this.aggregate||(e=this.store.model,this.aggregate=new e,this.aggregate.isSummary=!0),this.aggregate}}),Ext.define("Ext.data.Store",{extend:Ext.data.AbstractStore,alias:"store.store",remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:void 0,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:void 0,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,clearRemovedOnLoad:!0,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(t){return t.internalId},recordIndexFn:function(t){return t.index},grouperIdFn:function(t){return t.id||t.property},groupIdFn:function(t){return t.key}},constructor:function(t){var e,i,n=(t=Ext.apply({},t)).groupers||this.groupers,s=t.groupField||this.groupField;(i=t.data||this.data)&&(this.inlineData=i,delete t.data),!n&&s&&(n=[{property:s,direction:t.groupDir||this.groupDir}]),delete t.groupers,this.groupers=new Ext.util.MixedCollection(!1,Ext.data.Store.grouperIdFn),this.groupers.addAll(this.decodeGroupers(n)),this.groups=new Ext.util.MixedCollection(!1,Ext.data.Store.groupIdFn),this.callParent([t]),this.buffered?(this.data=new this.PageMap({store:this,keyFn:Ext.data.Store.recordIdFn,pageSize:this.pageSize,maxSize:this.purgePageCount,listeners:{clear:this.onPageMapClear,scope:this}}),this.pageRequests={},this.remoteSort=this.remoteGroup=this.remoteFilter=!0,this.sortOnLoad=!1,this.filterOnLoad=!1):(this.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:!0}),this.data.pageSize=this.pageSize),this.remoteGroup&&(this.remoteSort=!0),e=this.proxy,i=this.inlineData,this.buffered||this.pageSize||(this.pageSize=this.defaultPageSize),i?(e instanceof Ext.data.proxy.Memory?(e.data=i,this.read()):this.add.apply(this,[i]),this.remoteSort||this.sort(),delete this.inlineData):this.autoLoad&&Ext.defer(this.load,1,this,["object"==typeof this.autoLoad?this.autoLoad:void 0]),this.groupers.items.length&&!this.remoteGroup&&this.group(null,null,!0)},onBeforeSort:function(){var t=this.groupers;t.getCount()>0&&this.sort(t.items,"prepend",!1)},decodeGroupers:function(t){Ext.isArray(t)||(t=void 0===t?[]:[t]);var e,i,n=t.length,s=Ext.util.Grouper,r=[];for(i=0;i<n;i++)(e=t[i])instanceof s?r.push(e):(Ext.isString(e)&&(e={property:e}),(e=Ext.apply({root:"data",direction:"ASC"},e)).fn&&(e.sorterFn=e.fn),"function"==typeof e&&(e={sorterFn:e}),r.push(new s(e)));return r},group:function(t,e,i){var n,s,r,o=this.groupers.getRange(),a=o.length;for(r=0;r<a;r++)this.sorters.remove(o[r]);Ext.isArray(t)?s=t:Ext.isObject(t)?s=[t]:Ext.isString(t)&&((n=this.groupers.get(t))?void 0===e?n.toggle():n.setDirection(e):s=[n={property:t,direction:e||"ASC"}]),s&&s.length&&(this.groupers.clear(),this.groupers.addAll(this.decodeGroupers(s))),this.sorters.insert(0,this.groupers.getRange()),this.remoteGroup?this.buffered?(this.data.clear(),this.loadPage(1,{groupChange:!0})):this.load({scope:this,callback:i?null:this.fireGroupChange}):(this.doSort(this.generateComparator()),this.constructGroups(),i||this.fireGroupChange())},getGroupField:function(){var t,e=this.groupers.first();return e&&(t=e.property),t},constructGroups:function(){var t,e,i,n,s=this.data.items,r=s.length,o=this.groups;for(o.clear(),e=0;e<r;++e)n=s[e],t=this.getGroupString(n),(i=o.get(t))||(i=new Ext.data.Group({key:t,store:this}),o.add(t,i)),i.add(n)},clearGrouping:function(){var t,e=this.groupers.items,i=e.length;for(t=0;t<i;t++)this.sorters.remove(e[t]);this.groupers.clear(),this.remoteGroup?this.buffered?(this.data.clear(),this.loadPage(1,{groupChange:!0})):this.load({scope:this,callback:this.fireGroupChange}):(this.groups.clear(),this.sorters.length?this.sort():(this.fireEvent("datachanged",this),this.fireEvent("refresh",this)),this.fireGroupChange())},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(t){var e,i,n,s,r=this.data.items,o=r.length,a=[],l={};for(s=0;s<o;s++)e=r[s],void 0===(n=l[i=this.getGroupString(e)])&&(n={name:i,children:[]},a.push(n),l[i]=n),n.children.push(e);return t?l[t]:a},getGroupsForGrouper:function(t,e){var i,n,s,r,o,a=t.length,l=[];for(o=0;o<a;o++)s=t[o],(n=e.getGroupString(s))!==i&&(r={name:n,grouper:e,records:[]},l.push(r)),r.records.push(s),i=n;return l},getGroupsForGrouperIndex:function(t,e){var i,n=this.groupers,s=n.getAt(e),r=this.getGroupsForGrouper(t,s),o=r.length;if(e+1<n.length)for(i=0;i<o;i++)r[i].children=this.getGroupsForGrouperIndex(r[i].records,e+1);for(i=0;i<o;i++)r[i].depth=e;return r},getGroupData:function(t){return!1!==t&&this.sort(),this.getGroupsForGrouperIndex(this.data.items,0)},getGroupString:function(t){var e=this.groupers.first();return e?e.getGroupString(t):""},insert:function(t,e){var i,n,s,r,o=!1,a=this.modelDefaults;if(r=Ext.isIterable(e)?[]:e=[e],n=e.length){for(i=0;i<n;i++)(s=e[i]).isModel||(s=this.createModel(s)),r[i]=s,a&&s.set(a),s.join(this),o=o||!0===s.phantom;this.data.insert(t,r),this.snapshot&&this.snapshot.addAll(r),this.requireSort&&(this.suspendEvents(),this.sort(),this.resumeEvents()),this.isGrouped()&&this.updateGroupsOnAdd(r),this.fireEvent("add",this,r,t),this.fireEvent("datachanged",this),this.autoSync&&o&&!this.autoSyncSuspended&&this.sync()}return r},updateGroupsOnAdd:function(t){var e,i,n,s,r=this.groups,o=t.length;for(e=0;e<o;++e)s=t[e],i=this.getGroupString(s),(n=r.getByKey(i))||(n=r.add(new Ext.data.Group({key:i,store:this}))),n.add(s)},updateGroupsOnRemove:function(t){var e,i,n,s,r=this.groups,o=t.length;for(e=0;e<o;++e)s=t[e],i=this.getGroupString(s),(n=r.getByKey(i))&&(n.remove(s),0===n.records.length&&r.remove(n))},updateGroupsOnUpdate:function(t,e){var i,n,s,r,o=this.getGroupField(),a=this.getGroupString(t),l=this.groups;if(e&&-1!==Ext.Array.indexOf(e,o)){for(n=0,i=(s=l.items).length;n<i;++n)if((r=s[n]).contains(t)){r.remove(t);break}l.getByKey(a),r||(r=l.add(new Ext.data.Group({key:a,store:this}))),r.add(t),this.suspendEvents(),this.remove(t),this.addSorted(t),this.resumeEvents()}else l.getByKey(a).setDirty()},add:function(t){var e,i,n;return e=Ext.isArray(t)?t:arguments,i=e.length,(n=!this.remoteSort&&this.sorters&&this.sorters.items.length)&&1===i?[this.addSorted(this.createModel(e[0]))]:(n&&(this.requireSort=!0),e=this.insert(this.data.length,e),delete this.requireSort,e)},addSorted:function(t){var e=this.data.findInsertionIndex(t,this.generateComparator());return this.insert(e,t),t},createModel:function(t){return t.isModel||(t=Ext.ModelManager.create(t,this.model)),t},onUpdate:function(t,e,i){this.isGrouped()&&this.updateGroupsOnUpdate(t,i)},each:function(t,e){var i,n,s=this.data.items,r=s.length;for(n=0;n<r&&(i=s[n],!1!==t.call(e||i,i,n,r));n++);},remove:function(t,e,i){e=!0===e;var n,s,r,o,a,l,h,d=!1,c=this.snapshot,u=this.data,f=0,p=[],g=[],m=[],x=!i&&this.hasListeners.remove;if(t.isModel?(t=[t],n=1):Ext.isIterable(t)?n=t.length:"object"==typeof t&&(l=!0,f=t.start,h=(n=t.end+1)-f),!l){for(f=0;f<n;++f)"number"==typeof(a=t[f])?(o=a,a=u.getAt(o)):o=this.indexOf(a),a&&o>-1&&p.push({record:a,index:o}),c&&c.remove(a);f=0,n=(p=Ext.Array.sort(p,function(t,e){var i=t.index,n=e.index;return i===e.index2?0:i<n?-1:1})).length}for(;f<n;f++)l?(a=u.getAt(f),o=f):(a=(s=p[f]).record,o=s.index),g.push(a),m.push(o),r=!0!==a.phantom,!e&&r&&(a.removedFrom=o,this.removed.push(a)),a.unjoin(this),o-=f,d=d||r,l||(u.removeAt(o),x&&this.fireEvent("remove",this,a,o,!!e));l&&u.removeRange(t.start,h),i||(this.fireEvent("bulkremove",this,g,m,!!e),this.fireEvent("datachanged",this)),!e&&this.autoSync&&d&&!this.autoSyncSuspended&&this.sync()},removeAt:function(t,e){var i=this.getCount();t<=i&&(1===arguments.length?this.remove([t]):e&&this.remove({start:t,end:Math.min(t+e,i)-1}))},removeAll:function(t){this.remove({start:0,end:this.getCount()-1},!1,t),this.data&&this.data.clear(),!0!==t&&this.fireEvent("clear",this)},load:function(t){return"function"==typeof(t=t||{})&&(t={callback:t}),t.groupers=t.groupers||this.groupers.items,t.page=t.page||this.currentPage,t.start=void 0!==t.start?t.start:(t.page-1)*this.pageSize,t.limit=t.limit||this.pageSize,t.addRecords=t.addRecords||!1,this.buffered?(t.limit=this.viewSize||this.defaultViewSize,this.loadToPrefetch(t)):this.callParent([t])},reload:function(t){var e,i,n,s,r,o,a,l,h=this,d=h.getCount();if(t||(t={}),!h.buffered)return h.callParent(arguments);if(delete h.totalCount,o=function(){h.rangeCached(e,i)&&(h.loading=!1,h.data.un("pageAdded",o),l=h.data.getRange(e,i),h.fireEvent("load",h,l,!0))},a=Math.ceil((h.leadingBufferZone+h.trailingBufferZone)/2),e=t.start||(d?h.getAt(0).index:0),i=e+(t.count||d||h.pageSize)-1,n=h.getPageFromRecordIndex(Math.max(e-a,0)),s=h.getPageFromRecordIndex(i+a),h.data.clear(!0),!1!==h.fireEvent("beforeload",h,t))for(h.loading=!0,h.data.on("pageAdded",o),r=n;r<=s;r++)h.prefetchPage(r,t)},onProxyLoad:function(t){var e=t.getResultSet(),i=t.getRecords(),n=t.wasSuccessful();e&&(this.totalCount=e.total),this.loading=!1,n&&this.loadRecords(i,t),this.hasListeners.load&&this.fireEvent("load",this,i,n),this.hasListeners.read&&this.fireEvent("read",this,i,n),Ext.callback(t.callback,t.scope||this,[i,t,n])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(t,e){Ext.isString(t)&&(t={property:t,value:e});var i,n=this.decodeFilters(t),s=this.sorters.length&&this.sortOnFilter&&!this.remoteSort,r=n.length;for(i=0;i<r;i++)this.filters.replace(n[i]);this.remoteFilter?(delete this.totalCount,this.buffered?(this.data.clear(),this.loadPage(1)):(this.currentPage=1,this.load())):this.filters.getCount()&&(this.snapshot=this.snapshot||this.data.clone(),this.data=this.snapshot.filter(this.filters.items),this.constructGroups(),s?this.sort():(this.fireEvent("datachanged",this),this.fireEvent("refresh",this))),this.fireEvent("filterchange",this,this.filters.items)},clearFilter:function(t){if(this.filters.clear(),this.remoteFilter){if(t)return;delete this.totalCount,this.buffered?(this.data.clear(),this.loadPage(1)):(this.currentPage=1,this.load())}else this.isFiltered()&&(this.data=this.snapshot,delete this.snapshot,this.constructGroups(),!0!==t&&(this.fireEvent("datachanged",this),this.fireEvent("refresh",this)));this.fireEvent("filterchange",this,this.filters.items)},removeFilter:function(t,e){!this.remoteFilter&&this.isFiltered()&&(t instanceof Ext.util.Filter?this.filters.remove(t):this.filters.removeAtKey(t),!1!==e&&(this.filters.getCount()?this.filter():this.clearFilter()),this.fireEvent("filterchange",this,this.filters.items))},addFilter:function(t,e){var i,n,s;for(s=(i=this.decodeFilters(t)).length,n=0;n<s;n++)this.filters.replace(i[n]);!1!==e&&this.filter(),this.fireEvent("filterchange",this,this.filters.items)},isFiltered:function(){var t=this.snapshot;return!(!t||t===this.data)},filterBy:function(t,e){this.snapshot=this.snapshot||this.data.clone(),this.data=this.queryBy(t,e||this),this.fireEvent("datachanged",this),this.fireEvent("refresh",this)},queryBy:function(t,e){return(this.snapshot||this.data).filterBy(t,e||this)},query:function(t,e,i,n,s){var r=this.createFilterFn(t,e,i,n,s),o=this.queryBy(r);return o||(o=new Ext.util.MixedCollection),o},loadData:function(t,e){var i,n=t.length,s=[];for(i=0;i<n;i++)s.push(this.createModel(t[i]));this.loadRecords(s,e?this.addRecordsOptions:void 0)},loadRawData:function(t,e){var i=this.proxy.reader.read(t),n=i.records;i.success&&(this.totalCount=i.total,this.loadRecords(n,e?this.addRecordsOptions:void 0))},loadRecords:function(t,e){var i,n,s=0,r=t.length,o=this.snapshot;if(e&&(i=e.start,n=e.addRecords),n?o&&o.addAll(t):(delete this.snapshot,this.clearData(!0)),this.data.addAll(t),void 0!==i)for(;s<r;s++)t[s].index=i+s,t[s].join(this);else for(;s<r;s++)t[s].join(this);this.suspendEvents(),this.filterOnLoad&&!this.remoteFilter&&this.filter(),this.sortOnLoad&&!this.remoteSort&&this.sort(void 0,void 0,void 0,!0),this.resumeEvents(),this.isGrouped()&&this.constructGroups(),this.fireEvent("datachanged",this),this.fireEvent("refresh",this)},loadPage:function(t,e){if(this.currentPage=t,e=Ext.apply({page:t,start:(t-1)*this.pageSize,limit:this.pageSize,addRecords:!this.clearOnPageLoad},e),this.buffered)return e.limit=this.viewSize||this.defaultViewSize,this.loadToPrefetch(e);this.read(e)},nextPage:function(t){this.loadPage(this.currentPage+1,t)},previousPage:function(t){this.loadPage(this.currentPage-1,t)},clearData:function(t){var e,i;if(!this.buffered)for(i=(e=this.data.items).length;i--;)e[i].unjoin(this);this.data.clear(),(!0!==t||this.clearRemovedOnLoad)&&(this.removed.length=0)},loadToPrefetch:function(t){var e,i,n,s=this,r=t,o=t.start,a=t.start+t.limit-1,l=Math.min(a,t.start+(s.viewSize||t.limit)-1),h=s.getPageFromRecordIndex(Math.max(o-s.trailingBufferZone,0)),d=s.getPageFromRecordIndex(a+s.leadingBufferZone),c=function(){s.rangeCached(o,l)&&(s.loading=!1,i=s.data.getRange(o,l),s.data.un("pageAdded",c),s.hasListeners.guaranteedrange&&s.guaranteeRange(o,l,t.callback,t.scope),t.callback&&t.callback.call(t.scope||s,i,o,a,t),s.fireEvent("datachanged",s),s.fireEvent("refresh",s),s.fireEvent("load",s,i,!0),t.groupChange&&s.fireGroupChange())};!1!==s.fireEvent("beforeload",s,t)&&(delete s.totalCount,s.loading=!0,t.callback&&(r=Ext.apply({},t),delete t.callback),s.on("prefetch",function(t,i,o){if(i)if(n=s.getTotalCount())for(s.data.on("pageAdded",c),l=Math.min(l,n-1),d=s.getPageFromRecordIndex(l),e=h+1;e<=d;++e)s.prefetchPage(e,r);else s.fireEvent("datachanged",s),s.fireEvent("refresh",s),s.fireEvent("load",s,t,!0);else s.fireEvent("load",s,t,!1)},null,{single:!0}),s.prefetchPage(h,r))},prefetch:function(t){var e,i,n=this.pageSize;return n?(this.lastPageSize&&n!=this.lastPageSize&&Ext.Error.raise("pageSize cannot be dynamically altered"),this.data.pageSize||(this.data.pageSize=n)):this.pageSize=this.data.pageSize=n=t.limit,this.lastPageSize=n,t.page||(t.page=this.getPageFromRecordIndex(t.start),t.start=(t.page-1)*n,t.limit=Math.ceil(t.limit/n)*n),this.pageRequests[t.page]||(t=Ext.apply({action:"read",filters:this.filters.items,sorters:this.sorters.items,groupers:this.groupers.items,generation:this.data.generation},t),i=new Ext.data.Operation(t),!1!==this.fireEvent("beforeprefetch",this,i)&&(e=this.proxy,this.pageRequests[t.page]=e.read(i,this.onProxyPrefetch,this),e.isSynchronous&&delete this.pageRequests[t.page])),this},onPageMapClear:function(){var t,e,i=this.wasLoading,n=this.pageRequests;this.data.events.pageadded&&this.data.events.pageadded.clearListeners(),this.loading=!0,this.totalCount=0;for(e in n)n.hasOwnProperty(e)&&(t=n[e],delete n[e],delete t.callback);this.fireEvent("clear",this),this.loading=i},prefetchPage:function(t,e){var i=this.pageSize||this.defaultPageSize,n=(t-1)*this.pageSize,s=this.totalCount;void 0!==s&&this.getCount()===s||this.prefetch(Ext.applyIf({page:t,start:n,limit:i},e))},onProxyPrefetch:function(t){var e=t.getResultSet(),i=t.getRecords(),n=t.wasSuccessful(),s=t.page;t.generation===this.data.generation&&(e&&(this.totalCount=e.total,this.fireEvent("totalcountchange",this.totalCount)),void 0!==s&&delete this.pageRequests[s],this.loading=!1,this.fireEvent("prefetch",this,i,n,t),n&&this.cachePage(i,t.page),Ext.callback(t.callback,t.scope||this,[i,t,n]))},cachePage:function(t,e){var i,n=t.length;for(Ext.isDefined(this.totalCount)||(this.totalCount=t.length,this.fireEvent("totalcountchange",this.totalCount)),i=0;i<n;i++)t[i].join(this);this.data.addPage(e,t)},rangeCached:function(t,e){return this.data&&this.data.hasRange(t,e)},pageCached:function(t){return this.data&&this.data.hasPage(t)},rangeSatisfied:function(t,e){return this.rangeCached(t,e)},getPageFromRecordIndex:function(t){return Math.floor(t/this.pageSize)+1},onGuaranteedRange:function(t){var e,i=this.getTotalCount(),n=t.prefetchStart,s=t.prefetchEnd>i-1?i-1:t.prefetchEnd;s=Math.max(0,s),e=this.data.getRange(n,s),!1!==t.fireEvent&&this.fireEvent("guaranteedrange",e,n,s,t),t.callback&&t.callback.call(t.scope||this,e,n,s,t)},guaranteeRange:function(t,e,i,n,s){s=Ext.apply({callback:i,scope:n},s),this.getRange(t,e,s)},prefetchRange:function(t,e){var i,n,s;if(!this.rangeCached(t,e))for(i=this.getPageFromRecordIndex(t),n=this.getPageFromRecordIndex(e),this.data.maxSize=this.purgePageCount?n-i+1+this.purgePageCount:0,s=i;s<=n;s++)this.pageCached(s)||this.prefetchPage(s)},primeCache:function(t,e,i){-1===i?(t=Math.max(t-this.leadingBufferZone,0),e=Math.min(e+this.trailingBufferZone,this.totalCount-1)):1===i?(t=Math.max(Math.min(t-this.trailingBufferZone,this.totalCount-this.pageSize),0),e=Math.min(e+this.leadingBufferZone,this.totalCount-1)):(t=Math.min(Math.max(Math.floor(t-(this.leadingBufferZone+this.trailingBufferZone)/2),0),this.totalCount-this.pageSize),e=Math.min(Math.max(Math.ceil(e+(this.leadingBufferZone+this.trailingBufferZone)/2),0),this.totalCount-1)),this.prefetchRange(t,e)},sort:function(){return this.buffered&&this.remoteSort&&this.data.clear(),this.callParent(arguments)},doSort:function(t){var e,i,n;if(this.remoteSort)this.buffered?(this.data.clear(),this.loadPage(1)):this.load();else{if(this.data.sortBy(t),!this.buffered)for(i=(e=this.getRange()).length,n=0;n<i;n++)e[n].index=n;this.fireEvent("datachanged",this),this.fireEvent("refresh",this)}},find:function(t,e,i,n,s,r){var o=this.createFilterFn(t,e,n,s,r);return o?this.data.findIndexBy(o,null,i):-1},findRecord:function(){var t=this.find.apply(this,arguments);return-1!==t?this.getAt(t):null},createFilterFn:function(t,e,i,n,s){return!Ext.isEmpty(e)&&(e=this.data.createValueMatcher(e,i,n,s),function(i){return e.test(i.data[t])})},findExact:function(t,e,i){return this.data.findIndexBy(function(i){return i.isEqual(i.get(t),e)},this,i)},findBy:function(t,e,i){return this.data.findIndexBy(t,e,i)},collect:function(t,e,i){return(!0===i&&this.snapshot?this.snapshot:this.data).collect(t,"data",e)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(t){return this.data.getAt(t)},getRange:function(t,e,i){var n,s,r,o,a=this,l=a.totalCount-1,h=a.lastRequestStart;return i=Ext.apply({prefetchStart:t,prefetchEnd:e},i),a.buffered?(e=e>=a.totalCount?l:e,n=0===t?0:t-1,s=e===l?e:e+1,a.lastRequestStart=t,a.rangeCached(n,s)?(a.onGuaranteedRange(i),o=a.data.getRange(t,e)):(a.fireEvent("cachemiss",a,t,e),r=function(o,l){a.rangeCached(n,s)&&(a.fireEvent("cachefilled",a,t,e),a.data.un("pageAdded",r),a.onGuaranteedRange(i))},a.data.on("pageAdded",r),a.prefetchRange(t,e)),a.primeCache(t,e,t<h?-1:1)):(o=a.data.getRange(t,e),i.callback&&i.callback.call(i.scope||a,o,t,e,i)),o},getById:function(t){return(this.snapshot||this.data).findBy(function(e){return e.getId()===t})},indexOf:function(t){return this.data.indexOf(t)},indexOfTotal:function(t){var e=t.index;return e||0===e?e:this.indexOf(t)},indexOfId:function(t){return this.indexOf(this.getById(t))},first:function(t){return t&&this.isGrouped()?this.aggregate(function(t){return t.length?t[0]:void 0},this,!0):this.data.first()},last:function(t){return t&&this.isGrouped()?this.aggregate(function(t){var e=t.length;return e?t[e-1]:void 0},this,!0):this.data.last()},sum:function(t,e){return e&&this.isGrouped()?this.aggregate(this.getSum,this,!0,[t]):this.getSum(this.data.items,t)},getSum:function(t,e){for(var i=0,n=0,s=t.length;n<s;++n)i+=t[n].get(e);return i},count:function(t){return t&&this.isGrouped()?this.aggregate(function(t){return t.length},this,!0):this.getCount()},min:function(t,e){return e&&this.isGrouped()?this.aggregate(this.getMin,this,!0,[t]):this.getMin(this.data.items,t)},getMin:function(t,e){var i,n,s=1,r=t.length;for(r>0&&(n=t[0].get(e));s<r;++s)(i=t[s].get(e))<n&&(n=i);return n},max:function(t,e){return e&&this.isGrouped()?this.aggregate(this.getMax,this,!0,[t]):this.getMax(this.data.items,t)},getMax:function(t,e){var i,n,s=1,r=t.length;for(r>0&&(n=t[0].get(e));s<r;++s)(i=t[s].get(e))>n&&(n=i);return n},average:function(t,e){return e&&this.isGrouped()?this.aggregate(this.getAverage,this,!0,[t]):this.getAverage(this.data.items,t)},getAverage:function(t,e){var i=0,n=t.length,s=0;if(t.length>0){for(;i<n;++i)s+=t[i].get(e);return s/n}return 0},aggregate:function(t,e,i,n){if(n=n||[],i&&this.isGrouped()){var s,r,o=this.getGroups(),a=o.length,l={};for(r=0;r<a;++r)l[(s=o[r]).name]=this.getAggregate(t,e||this,s.children,n);return l}return this.getAggregate(t,e,this.data.items,n)},getAggregate:function(t,e,i,n){return n=n||[],t.apply(e||this,[i].concat(n))},onIdChanged:function(t,e,i,n){this.data.updateKey(n,i),this.callParent(arguments)},commitChanges:function(){for(var t=this.getModifiedRecords(),e=t.length,i=0;i<e;i++)t[i].commit();this.removed.length=0},filterNewOnly:function(t){return!0===t.phantom},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){for(var t,e=this.getRejectRecords(),i=e.length,n=0;n<i;n++)(t=e[n]).reject(),t.phantom&&this.remove(t);for(i=(e=this.removed).length,n=0;n<i;n++)t=e[n],this.insert(t.removedFrom||0,t),t.reject();this.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"}),this.prototype.PageMap=new Ext.Class({extend:"Ext.util.LruCache",clear:function(t){this.generation=(this.generation||0)+1,this.callParent(arguments)},forEach:function(t,e){var i,n,s,r,o=Ext.Object.getKeys(this.map),a=o.length;for(i=0;i<a;i++)o[i]=Number(o[i]);for(Ext.Array.sort(o),e=e||this,i=0;i<a;i++)for(r=(s=this.getPage(o[i])).length,n=0;n<r;n++)if(!1===t.call(e,s[n]))return},findBy:function(t,e){var i=null;return e=e||this,this.forEach(function(n){if(t.call(e,n))return i=n,!1}),i},getPageFromRecordIndex:this.prototype.getPageFromRecordIndex,addAll:function(t){this.addPage(1,t)},addPage:function(t,e){var i,n,s=t+Math.floor((e.length-1)/this.pageSize);for(i=0;t<=s;t++,i+=this.pageSize)n=Ext.Array.slice(e,i,i+this.pageSize),this.add(t,n),this.fireEvent("pageAdded",t,n)},getCount:function(){var t=this.callParent();return t&&(t=(t-1)*this.pageSize+this.last.value.length),t},indexOf:function(t){return t?t.index:-1},insert:function(){},remove:function(){},removeAt:function(){},getPage:function(t){return this.get(t)},hasRange:function(t,e){for(var i=this.getPageFromRecordIndex(t),n=this.getPageFromRecordIndex(e);i<=n;i++)if(!this.hasPage(i))return!1;return!0},hasPage:function(t){return!!this.get(t)},getAt:function(t){return this.getRange(t,t)[0]},getRange:function(t,e){this.hasRange(t,e)||Ext.Error.raise("PageMap asked for range which it does not have");for(var i,n,s,r,o=this.getPageFromRecordIndex(t),a=this.getPageFromRecordIndex(e),l=(o-1)*this.pageSize,h=a*this.pageSize-1,d=o,c=[],u=0;d<=a;d++)d==o?(i=t-l,s=!0):(i=0,s=!1),d==a&&(n=this.pageSize-(h-e),s=!0),s?Ext.Array.push(c,Ext.Array.slice(this.getPage(d),i,n)):Ext.Array.push(c,this.getPage(d));for(r=c.length;u<r;u++)c[u].index=t++;return c}})}),Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:void 0,successProperty:void 0,createFieldAccessExpression:function(t,e,i){var n,s=null==t.mapping?t.originalIndex:t.mapping;return"function"==typeof s?n=e+".mapping("+i+", this)":(isNaN(s)&&(s='"'+s+'"'),n=i+"["+s+"]"),n}}),Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",constructor:function(t){t=Ext.apply({proxy:{type:"memory",reader:"array"}},t),this.callParent([t])},loadData:function(t,e){if(!0===this.expandData){for(var i=[],n=0,s=t.length;n<s;n++)i[i.length]=[t[n]];t=i}this.callParent([t,e])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore}),Ext.define("Ext.data.Batch",{mixins:{observable:Ext.util.Observable},autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(t){this.mixins.observable.constructor.call(this,t),this.operations=[],this.exceptions=[]},add:function(t){return this.total++,t.setBatch(this),this.operations.push(t),this},start:function(t){return this.isRunning?this:(this.exceptions.length=0,this.hasException=!1,this.isRunning=!0,this.runOperation(Ext.isDefined(t)?t:this.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){return this.isRunning=!1,this},runOperation:function(t){var e,i=this,n=i.operations,s=n[t];return void 0===s?(i.isRunning=!1,i.isComplete=!0,i.fireEvent("complete",i,n[n.length-1])):(i.current=t,e=function(t){var e=t.hasException();e&&(i.hasException=!0,i.exceptions.push(t),i.fireEvent("exception",i,t)),e&&i.pauseOnException?i.pause():(t.setCompleted(),i.fireEvent("operationcomplete",i,t),i.runNextOperation())},s.setStarted(),i.proxy[s.action](s,e,i)),i}}),Ext.define("Ext.data.BufferStore",{extend:Ext.data.Store,alias:"store.buffer",sortOnLoad:!1,filterOnLoad:!1,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}}),Ext.define("Ext.direct.Manager",{singleton:!0,mixins:{observable:Ext.util.Observable},exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception"),this.transactions=new Ext.util.MixedCollection,this.providers=new Ext.util.MixedCollection,this.mixins.observable.constructor.call(this)},addProvider:function(t){var e,i,n=arguments,s=this.relayers||(this.relayers={});{if(!(n.length>1))return t.isProvider||(t=Ext.create("direct."+t.type+"provider",t)),this.providers.add(t),t.on("data",this.onProviderData,this),t.relayedEvents&&(s[t.id]=this.relayEvents(t,t.relayedEvents)),t.isConnected()||t.connect(),t;for(e=0,i=n.length;e<i;++e)this.addProvider(n[e])}},getProvider:function(t){return t.isProvider?t:this.providers.get(t)},removeProvider:function(t){var e,i=this.providers,n=this.relayers;return(t=t.isProvider?t:i.get(t))?(t.un("data",this.onProviderData,this),e=t.id,n[e]&&(n[e].destroy(),delete n[e]),i.remove(t),t):null},addTransaction:function(t){return this.transactions.add(t),t},removeTransaction:function(t){return t=this.getTransaction(t),this.transactions.remove(t),t},getTransaction:function(t){return"object"==typeof t?t:this.transactions.get(t)},onProviderData:function(t,e){var i,n;if(Ext.isArray(e))for(i=0,n=e.length;i<n;++i)this.onProviderData(t,e[i]);else e.name&&"event"!=e.name&&"exception"!=e.name?this.fireEvent(e.name,e):!1===e.status&&this.fireEvent("exception",e),this.fireEvent("event",e,t)},parseMethod:function(t){if(Ext.isString(t)){for(var e=t.split("."),i=0,n=e.length,s=Ext.global;s&&i<n;)s=s[e[i]],++i;t=Ext.isFunction(s)?s:null}return t||null}},function(){Ext.Direct=Ext.direct.Manager}),Ext.define("Ext.data.proxy.Direct",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",paramOrder:void 0,paramsAsHash:!0,directFn:void 0,paramOrderRe:/[\s,|]/,constructor:function(t){var e;this.callParent(arguments),e=this.paramOrder,Ext.isString(e)&&(this.paramOrder=e.split(this.paramOrderRe))},resolveMethods:function(){var t,e=this.directFn,i=this.api,n=Ext.direct.Manager;if(e)t=this.directFn=n.parseMethod(e),Ext.isFunction(t)||Ext.Error.raise("Cannot resolve directFn "+e);else if(i)for(e in i)i.hasOwnProperty(e)&&(t=i[e],i[e]=n.parseMethod(t),Ext.isFunction(i[e])||Ext.Error.raise("Cannot resolve Direct api "+e+" method "+t));this.methodsResolved=!0},doRequest:function(t,e,i){var n,s=this.getWriter(),r=this.buildRequest(t),o=r.params,a=[];this.methodsResolved||this.resolveMethods(),n=this.api[r.action]||this.directFn,t.allowWrite()&&(r=s.write(r)),"read"==t.action?a=n.directCfg.method.getArgs(o,this.paramOrder,this.paramsAsHash):a.push(r.jsonData),Ext.apply(r,{args:a,directFn:n}),a.push(this.createRequestCallback(r,t,e,i),this),n.apply(window,a)},applyEncoding:Ext.identityFn,createRequestCallback:function(t,e,i,n){var s=this;return function(r,o){s.processResponse(o.status,e,t,o,i,n)}},extractResponseData:function(t){return Ext.isDefined(t.result)?t.result:t.data},setException:function(t,e){t.setException(e.message)},buildUrl:function(){return""}}),Ext.define("Ext.data.DirectStore",{extend:Ext.data.Store,alias:"store.direct",constructor:function(t){if(!(t=Ext.apply({},t)).proxy){var e={type:"direct",reader:{type:"json"}};Ext.copyTo(e,t,"paramOrder,paramsAsHash,directFn,api,simpleSortMode"),Ext.copyTo(e.reader,t,"totalProperty,root,idProperty"),t.proxy=e}this.callParent([t])}}),Ext.define("Ext.data.JsonP",{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(t){t=Ext.apply({},t);var e,i,n=Ext.isDefined(t.disableCaching)?t.disableCaching:this.disableCaching,s=t.disableCachingParam||this.disableCachingParam,r=++this.requestCount,o=t.callbackName||"callback"+r,a=t.callbackKey||this.callbackKey,l=Ext.isDefined(t.timeout)?t.timeout:this.timeout,h=t.params||{},d=t.url,c=Ext.name;return n&&!h[s]?h[s]=(new Date).getTime():h=t.params,h[a]=c+".data.JsonP."+o,i=this.createScript(d,h,t),this.requests[r]=e={url:d,params:h,script:i,id:r,scope:t.scope,success:t.success,failure:t.failure,callback:t.callback,callbackKey:a,callbackName:o},l>0&&(e.timeout=setTimeout(Ext.bind(this.handleTimeout,this,[e]),l)),this.setupErrorHandling(e),this[o]=Ext.bind(this.handleResponse,this,[e],!0),this.loadScript(e),e},abort:function(t){var e,i=this.requests;if(t)t.id||(t=i[t]),this.handleAbort(t);else for(e in i)i.hasOwnProperty(e)&&this.abort(i[e])},setupErrorHandling:function(t){t.script.onerror=Ext.bind(this.handleError,this,[t])},handleAbort:function(t){t.errorType="abort",this.handleResponse(null,t)},handleError:function(t){t.errorType="error",this.handleResponse(null,t)},cleanupErrorHandling:function(t){t.script.onerror=null},handleTimeout:function(t){t.errorType="timeout",this.handleResponse(null,t)},handleResponse:function(t,e){var i=!0;e.timeout&&clearTimeout(e.timeout),delete this[e.callbackName],delete this.requests[e.id],this.cleanupErrorHandling(e),Ext.fly(e.script).remove(),e.errorType?(i=!1,Ext.callback(e.failure,e.scope,[e.errorType])):Ext.callback(e.success,e.scope,[t]),Ext.callback(e.callback,e.scope,[i,t,e.errorType]),Ext.EventManager.idleEvent.fire()},createScript:function(t,e,i){var n=document.createElement("script");return n.setAttribute("src",Ext.urlAppend(t,Ext.Object.toQueryString(e))),n.setAttribute("async",!0),n.setAttribute("type","text/javascript"),n},loadScript:function(t){Ext.getHead().appendChild(t.script)}}),Ext.define("Ext.data.proxy.JsonP",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:!0,constructor:function(){this.addEvents("exception"),this.callParent(arguments)},doRequest:function(t,e,i){var n=this.buildRequest(t),s=n.params;return Ext.apply(n,{callbackKey:this.callbackKey,timeout:this.timeout,scope:this,disableCaching:!1,callback:this.createRequestCallback(n,t,e,i)}),this.autoAppendParams&&(n.params={}),n.jsonp=Ext.data.JsonP.request(n),n.params=s,t.setStarted(),this.lastRequest=n,n},createRequestCallback:function(t,e,i,n){var s=this;return function(r,o,a){delete s.lastRequest,s.processResponse(r,e,t,o,i,n)}},setException:function(t,e){t.setException(t.request.jsonp.errorType)},buildUrl:function(t){var e,i,n,s,r=this.callParent(arguments),o=t.records,a=this.getWriter();if(a&&t.operation.allowWrite()&&(t=a.write(t)),e=t.params,i=e.filters,delete e.filters,i&&i.length)for(s=0;s<i.length;s++)(n=i[s]).value&&(e[n.property]=n.value);return(!a||!a.encode)&&Ext.isArray(o)&&o.length>0&&(e[this.recordParam]=this.encodeRecords(o)),this.autoAppendParams&&(r=Ext.urlAppend(r,Ext.Object.toQueryString(e))),r},abort:function(){var t=this.lastRequest;t&&Ext.data.JsonP.abort(t.jsonp)},encodeRecords:function(t){for(var e=[],i=0,n=t.length;i<n;i++)e.push(Ext.encode(t[i].getData()));return e}}),Ext.define("Ext.data.JsonPStore",{extend:Ext.data.Store,alias:"store.jsonp",constructor:function(t){t=Ext.apply({proxy:{type:"jsonp",reader:"json"}},t),this.callParent([t])}}),Ext.define("Ext.data.JsonStore",{extend:Ext.data.Store,alias:"store.json",constructor:function(t){t=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},t),this.callParent([t])}}),Ext.define("Ext.data.NodeInterface",{statics:{decorate:function(t){var e,i,n;"string"==typeof t?t=Ext.ModelManager.getModel(t):t.isModel&&(t=Ext.ModelManager.getModel(t.modelName)),t.prototype.isNode||(e=t.prototype.idProperty,i=t.prototype.fields.get(e),n=t.prototype.fields.get(e).type.type,t.override(this.getPrototypeBody()),this.applyFields(t,[{name:"parentId",type:n,defaultValue:null,useNull:i.useNull},{name:"index",type:"int",defaultValue:0,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null}]))},applyFields:function(t,e){var i,n,s=t.prototype.fields,r=s.keys,o=e.length;for(n=0;n<o;n++)i=e[n],Ext.Array.contains(r,i.name)||s.add(new Ext.data.Field(i))},getPrototypeBody:function(){var t={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0,rootchange:!0};return{isNode:!0,constructor:function(){return this.callParent(arguments),this.firstChild=this.lastChild=this.parentNode=this.previousSibling=this.nextSibling=null,this.childNodes=[],this},createNode:function(t){return t.isModel||(t=Ext.ModelManager.create(t,this.modelName)),t.childNodes||(t.firstChild=t.lastChild=t.parentNode=t.previousSibling=t.nextSibling=null,t.childNodes=[]),t},isLeaf:function(){return!0===this.get("leaf")},setFirstChild:function(t){this.firstChild=t},setLastChild:function(t){this.lastChild=t},updateInfo:function(t,e){var i,n,s,r,o=this.data.depth,a={},l=this.childNodes,h=l.length,d=this.phantom,c=this[this.persistenceProperty];e||Ext.Error.raise("NodeInterface expects update info to be passed");for(n in e)r=this.fields.get(n),s=e[n],r&&r.persist&&(this.dirty=this.dirty||!this.isEqual(c[n],s)),c[n]=s;if(t&&(this.commit(),this.phantom=d),this.data.depth!==o)for(a={depth:this.data.depth+1},i=0;i<h;i++)l[i].updateInfo(t,a)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return!!this.get("expandable")&&!(this.isLeaf()||this.isLoaded()&&!this.hasChildNodes())},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(t,e,i){var n,s,r,o,a,l={isLast:!0,parentId:this.getId(),depth:(this.data.depth||0)+1};if(!Ext.isArray(t)){if(t=this.createNode(t),!0!==e&&!1===this.fireEventArgs("beforeappend",[this,t]))return!1;if(r=this.childNodes.length,o=t.parentNode){if(!0!==e&&!1===t.fireEventArgs("beforemove",[t,o,this,r]))return!1;o.removeChild(t,!1,!1,!0)}return Ext.suspendLayouts(),0===(r=this.childNodes.length)&&this.setFirstChild(t),this.childNodes[r]=t,t.parentNode=this,t.nextSibling=null,this.setLastChild(t),(a=this.childNodes[r-1])?(t.previousSibling=a,a.nextSibling=t,a.updateInfo(i,{isLast:!1}),a.triggerUIUpdate()):t.previousSibling=null,l.isFirst=0===r,l.index=r,t.updateInfo(i,l),this.isLoaded()?1===this.childNodes.length&&this.triggerUIUpdate():this.set("loaded",!0),r&&this.childNodes[r-1].isExpanded()&&this.childNodes[r-1].cascadeBy(this.triggerUIUpdate),!t.isLeaf()&&t.phantom&&t.set("loaded",!0),Ext.resumeLayouts(!0),!0!==e&&(this.fireEventArgs("append",[this,t,r]),o&&t.fireEventArgs("move",[t,o,this,r])),t}for(this.callStore("suspendAutoSync"),n=0,s=t.length-1;n<s;n++)this.appendChild(t[n],e,i);this.callStore("resumeAutoSync"),this.appendChild(t[s],e,i)},getOwnerTree:function(){for(var t,e=this;e.parentNode;)e=e.parentNode;if((t=e.store)&&(t.treeStore&&(t=t.treeStore),t.tree))return t.ownerTree},removeChild:function(t,e,i,n){var s,r,o,a=this.indexOf(t);if(-1===a||!0!==i&&!1===this.fireEventArgs("beforeremove",[this,t,!!n]))return!1;if(Ext.suspendLayouts(),Ext.Array.erase(this.childNodes,a,1),this.firstChild===t&&this.setFirstChild(t.nextSibling),this.lastChild===t&&this.setLastChild(t.previousSibling),(o=t.previousSibling)&&(t.previousSibling.nextSibling=t.nextSibling),t.nextSibling)for(t.nextSibling.previousSibling=t.previousSibling,0===a&&t.nextSibling.updateInfo(!1,{isFirst:!0}),s=a,r=this.childNodes.length;s<r;s++)this.childNodes[s].updateInfo(!1,{index:s});else o&&(o.updateInfo(!1,{isLast:!0}),o.isExpanded()?o.cascadeBy(this.triggerUIUpdate):o.triggerUIUpdate());return this.childNodes.length||this.triggerUIUpdate(),Ext.resumeLayouts(!0),!0!==i&&(t.removeContext={parentNode:t.parentNode,previousSibling:t.previousSibling,nextSibling:t.nextSibling},t.previousSibling=t.nextSibling=t.parentNode=null,this.fireEventArgs("remove",[this,t,!!n]),t.removeContext=null),e?t.destroy(!0):t.clear(),t},copy:function(t,e){var i,n=this.callParent(arguments),s=this.childNodes?this.childNodes.length:0;if(e)for(i=0;i<s;i++)n.appendChild(this.childNodes[i].copy(void 0,!0));return n},clear:function(t){this.parentNode=this.previousSibling=this.nextSibling=null,t&&(this.firstChild=this.lastChild=null)},destroy:function(t){var e,i=this.destroyOptions,n=this.childNodes,s=n.length;if(!0===t){for(this.clear(!0),e=0;e<s;e++)n[e].destroy(!0);this.childNodes=null,delete this.destroyOptions,this.callParent([i])}else this.destroyOptions=t,this.remove(!0)},insertBefore:function(t,e,i){var n,s,r,o=this.indexOf(e),a=t.parentNode,l=o;if(!e)return this.appendChild(t);if(t===e)return!1;if(t=this.createNode(t),!0!==i&&!1===this.fireEventArgs("beforeinsert",[this,t,e]))return!1;if(a===this&&this.indexOf(t)<o&&l--,a){if(!0!==i&&!1===t.fireEventArgs("beforemove",[t,a,this,o,e]))return!1;a.removeChild(t,!1,!1,!0)}for(0===l&&this.setFirstChild(t),Ext.Array.splice(this.childNodes,l,0,t),t.parentNode=this,t.nextSibling=e,e.previousSibling=t,(s=this.childNodes[l-1])?(t.previousSibling=s,s.nextSibling=t):t.previousSibling=null,t.updateInfo(!1,{parentId:this.getId(),index:l,isFirst:0===l,isLast:!1,depth:(this.data.depth||0)+1}),r=l+1,n=this.childNodes.length;r<n;r++)this.childNodes[r].updateInfo(!1,{index:r});return this.isLoaded()?1===this.childNodes.length&&this.triggerUIUpdate():this.set("loaded",!0),!t.isLeaf()&&t.phantom&&t.set("loaded",!0),!0!==i&&(this.fireEventArgs("insert",[this,t,e]),a&&t.fireEventArgs("move",[t,a,this,l,e])),t},insertChild:function(t,e){var i=this.childNodes[t];return i?this.insertBefore(e,i):this.appendChild(e)},remove:function(t,e){var i=this.parentNode;return i?i.removeChild(this,t,e):t&&this.destroy(!0),this},removeAll:function(t,e,i){var n,s,r=this.childNodes,o=0,a=r.length;if(a){for((i=!0===i)||(n=this.store&&this.store.treeStore)&&n.beginBulkRemove();o<a;++o)(s=r[o]).removeContext={parentNode:s.parentNode,previousSibling:s.previousSibling,nextSibling:s.nextSibling},s.previousSibling=s.nextSibling=s.parentNode=null,this.fireEventArgs("remove",[this,s,!1]),s.removeContext=null,t?s.destroy(!0):s.removeAll(!1,e,!0);return this.firstChild=this.lastChild=null,i?this.childNodes=null:this.childNodes.length=0,i||(this.triggerUIUpdate(),n&&n.endBulkRemove()),this}},getChildAt:function(t){return this.childNodes[t]},replaceChild:function(t,e,i){var n=e?e.nextSibling:null;return this.removeChild(e,!1,i),this.insertBefore(t,n,i),e},indexOf:function(t){return Ext.Array.indexOf(this.childNodes,t)},indexOfId:function(t){for(var e=this.childNodes,i=e.length,n=0;n<i;++n)if(e[n].getId()===t)return n;return-1},getPath:function(t,e){t=t||this.idProperty,e=e||"/";for(var i=[this.get(t)],n=this.parentNode;n;)i.unshift(n.get(t)),n=n.parentNode;return e+i.join(e)},getDepth:function(){return this.get("depth")},bubble:function(t,e,i){for(var n=this;n&&!1!==t.apply(e||n,i||[n]);)n=n.parentNode},cascade:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead."),this.cascadeBy.apply(this,arguments)},cascadeBy:function(t,e,i){if(!1!==t.apply(e||this,i||[this])){var n,s=this.childNodes,r=s.length;for(n=0;n<r;n++)s[n].cascadeBy(t,e,i)}},eachChild:function(t,e,i){var n,s=this.childNodes,r=s.length;for(n=0;n<r&&!1!==t.apply(e||this,i||[s[n]]);n++);},findChild:function(t,e,i){return this.findChildBy(function(){return this.get(t)==e},null,i)},findChildBy:function(t,e,i){for(var n,s,r=this.childNodes,o=r.length,a=0;a<o;a++){if(n=r[a],!0===t.call(e||n,n))return n;if(i&&null!==(s=n.findChildBy(t,e,i)))return s}return null},contains:function(t){return t.isAncestor(this)},isAncestor:function(t){for(var e=this.parentNode;e;){if(e===t)return!0;e=e.parentNode}return!1},sort:function(t,e,i){var n,s,r=this.childNodes,o=r.length,a={isFirst:!0};if(o>0){for(Ext.Array.sort(r,t),this.setFirstChild(r[0]),this.setLastChild(r[o-1]),n=0;n<o;n++)(s=r[n]).previousSibling=r[n-1],s.nextSibling=r[n+1],a.isLast=n===o-1,a.index=n,s.updateInfo(!1,a),a.isFirst=!1,e&&!s.isLeaf()&&s.sort(t,!0,!0);!0!==i&&this.fireEventArgs("sort",[this,r])}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var t=this.parentNode;t;){if(!t.isExpanded())return!1;t=t.parentNode}return!0},expand:function(t,e,i){var n=this;n.isLeaf()?Ext.callback(e,i||n):n.isLoading()?n.on("expand",function(){n.expand(t,e,i)},n,{single:!0}):n.isExpanded()?t?n.expandChildren(!0,n.getOwnerTree().singleExpand,e,i):Ext.callback(e,i||n,[n.childNodes]):n.fireEventArgs("beforeexpand",[n,n.onChildNodesAvailable,n,[t,e,i]])},onChildNodesAvailable:function(t,e,i,n){Ext.suspendLayouts(),this.set("expanded",!0),this.fireEventArgs("expand",[this,this.childNodes,!1]),e?this.expandChildren(!0,this.getOwnerTree().singleExpand,i,n):Ext.callback(i,n||this,[this.childNodes]),Ext.resumeLayouts(!0)},expandChildren:function(t,e,i,n){var s,r,o=this.childNodes,a=[],l=e?Math.min(o.length,1):o.length;for(s=0;s<l;++s)(r=o[s]).isLeaf()||a.push(r);for(l=a.length,s=0;s<l;++s)r=a[s],s===l-1?r.expand(t,i,n):r.expand(t);i&&Ext.callback(i,n||this,[this.childNodes])},collapse:function(t,e,i){var n,s,r=this,o=r.isExpanded(),a=r.childNodes.length;if(!r.isLeaf()&&(!o&&t||!1!==r.fireEventArgs("beforecollapse",[r]))){if(Ext.suspendLayouts(),r.isExpanded())t&&(s=function(){for(n=0;n<a;n++)r.childNodes[n].setCollapsed(!0)},e=e?Ext.Function.createSequence(s,e):s),r.set("expanded",!1),r.fireEventArgs("collapse",[r,r.childNodes,!1,e?Ext.Function.bind(e,i,[r.childNodes]):null,null]),e=null;else if(t)for(n=0;n<a;n++)r.childNodes[n].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(e,i||r,[r.childNodes])},setCollapsed:function(t){var e,i=this.childNodes.length;if(!this.isLeaf()&&!1!==this.fireEventArgs("beforecollapse",[this,Ext.emptyFn])&&(this.data.expanded=!1,this.fireEventArgs("collapse",[this,this.childNodes,!1,null,null]),t))for(e=0;e<i;e++)this.childNodes[e].setCollapsed(!0)},collapseChildren:function(t,e,i){var n,s,r=this.childNodes,o=r.length,a=[];for(n=0;n<o;++n)!(s=r[n]).isLeaf()&&s.isLoaded()&&s.isExpanded()&&a.push(s);for(o=a.length,n=0;n<o;++n)s=a[n],n===o-1?s.collapse(t,e,i):s.collapse(t)},fireEventArgs:function(e,i){var n,s,r,o=Ext.data.Model.prototype.fireEventArgs;if(t[e]){for(s=this;!1!==n&&s;s=(r=s).parentNode)s.hasListeners[e]&&(n=o.call(s,e,i));return s=r.rootOf,!1!==n&&s&&(s.hasListeners[e]&&(n=s.fireEventArgs.call(s,e,i)),s=s.treeStore,!1!==n&&s&&s.hasListeners[e]&&(n=s.fireEventArgs.call(s,e,i))),n}return o.apply(this,arguments)},serialize:function(){var t,e=Ext.data.writer.Json.prototype.getRecordData(this),i=this.childNodes,n=i.length;if(n>0)for(t=0;t<n;t++)(void 0).push(i[t].serialize());return e}}}}}),Ext.define("Ext.data.NodeStore",{extend:Ext.data.Store,alias:"store.node",isNodeStore:!0,node:null,recursive:!1,rootVisible:!1,isExpandingOrCollapsing:0,constructor:function(t){var e;t=t||{},Ext.apply(this,t),t.proxy={type:"proxy"},this.callParent([t]),(e=this.node)&&(this.node=null,this.setNode(e))},getTotalCount:function(){return this.getCount()},setNode:function(t){this.node&&this.node!=t&&(this.mun(this.node,{expand:this.onNodeExpand,collapse:this.onNodeCollapse,append:this.onNodeAppend,insert:this.onNodeInsert,remove:this.onNodeRemove,sort:this.onNodeSort,scope:this}),this.node=null),t&&(Ext.data.NodeInterface.decorate(t.self),this.removeAll(),this.rootVisible?this.add(t):t.isExpanded()||!1===this.treeStore.autoLoad||t.expand(),this.mon(t,{expand:this.onNodeExpand,collapse:this.onNodeCollapse,append:this.onNodeAppend,insert:this.onNodeInsert,remove:this.onNodeRemove,sort:this.onNodeSort,scope:this}),this.node=t,t.isExpanded()&&t.isLoaded()&&this.onNodeExpand(t,t.childNodes,!0))},onNodeSort:function(t,e){(-1!==this.indexOf(t)||t===this.node&&!this.rootVisible&&t.isExpanded())&&(Ext.suspendLayouts(),this.onNodeCollapse(t,e,!0),this.onNodeExpand(t,e,!0),Ext.resumeLayouts(!0))},onNodeExpand:function(t,e,i){var n=this.indexOf(t)+1,s=[];i||this.fireEvent("beforeexpand",t,e,n),this.handleNodeExpand(t,e,s),this.insert(n,s),i||this.fireEvent("expand",t,e)},handleNodeExpand:function(t,e,i){var n,s,r=e?e.length:0;if((this.recursive||t===this.node)&&(t===this.node||this.isVisible(t))&&r)for(n=0;n<r;n++)s=e[n],i.push(s),s.isExpanded()&&(s.isLoaded()?this.handleNodeExpand(s,s.childNodes,i):(s.set("expanded",!1),s.expand()))},onNodeCollapse:function(t,e,i,n,s){var r,o,a,l,h=this.indexOf(t)+1;if(this.recursive||t===this.node){if(i||this.fireEvent("beforecollapse",t,e,h,n,s),e.length&&this.data.contains(e[0])){for(r=t;r.parentNode;){if(a=r.nextSibling){l=!0,o=this.indexOf(a);break}r=r.parentNode}l||(o=this.getCount()),this.removeAt(h,o-h)}i||this.fireEvent("collapse",t,e,h)}},onNodeAppend:function(t,e,i){var n,s;if(this.isVisible(e)){if(0===i)n=t;else{for(s=e.previousSibling;s.isExpanded()&&s.lastChild;)s=s.lastChild;n=s}this.insert(this.indexOf(n)+1,e),!e.isLeaf()&&e.isExpanded()&&(e.isLoaded()?this.onNodeExpand(e,e.childNodes,!0):this.treeStore.fillCount||(e.set("expanded",!1),e.expand()))}},onNodeInsert:function(t,e,i){var n=this.indexOf(i);-1!=n&&this.isVisible(e)&&(this.insert(n,e),!e.isLeaf()&&e.isExpanded()&&(e.isLoaded()?this.onNodeExpand(e,e.childNodes,!0):(e.set("expanded",!1),e.expand())))},onNodeRemove:function(t,e,i){-1!=this.indexOf(e)&&(!e.isLeaf()&&e.isExpanded()&&(e.parentNode=e.removeContext.parentNode,e.nextSibling=e.removeContext.nextSibling,this.onNodeCollapse(e,e.childNodes,!0),e.parentNode=e.nextSibling=null),this.remove(e))},isVisible:function(t){for(var e=t.parentNode;e;){if(e===this.node&&e.data.expanded)return!0;if(!e.data.expanded)return!1;e=e.parentNode}return!1}}),Ext.define("Ext.data.Request",{action:void 0,params:void 0,method:"GET",url:void 0,constructor:function(t){Ext.apply(this,t)}}),Ext.define("Ext.data.SequentialIdGenerator",{extend:Ext.data.IdGenerator,alias:"idgen.sequential",constructor:function(){this.callParent(arguments),this.parts=[this.prefix,""]},prefix:"",seed:1,generate:function(){var t=this.parts;return t[1]=this.seed++,t.join("")}}),Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:Ext.util.Observable},root:null,constructor:function(t){this.mixins.observable.constructor.call(this),t&&this.setRootNode(t),this.on({scope:this,idchanged:this.onNodeIdChanged,insert:this.onNodeInsert,append:this.onNodeAppend,remove:this.onNodeRemove})},getRootNode:function(){return this.root},setRootNode:function(t){return this.root=t,t.rootOf?t.rootOf.removeRootNode():t.parentNode&&t.parentNode.removeChild(t),t.rootOf=this,!1!==t.fireEventArgs("beforeappend",[null,t])&&(t.set("root",!0),t.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null}),this.nodeHash={},t.fireEvent("append",null,t),t.fireEvent("rootchange",t)),t},removeRootNode:function(){var t=this.root;return t.set("root",!1),t.fireEvent("remove",null,t,!1),t.fireEvent("rootchange",null),t.rootOf=this.root=null,t},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(t,e){this.registerNode(e,!0)},onNodeAppend:function(t,e){this.registerNode(e,!0)},onNodeRemove:function(t,e){this.unregisterNode(e,!0)},onNodeIdChanged:function(t,e,i,n){var s=this.nodeHash;s[t.internalId]=t,delete s[n]},getNodeById:function(t){return this.nodeHash[t]},registerNode:function(t,e){var i,n,s;if(this.nodeHash[t.internalId]=t,!0===e)for(n=(i=t.childNodes).length,s=0;s<n;s++)this.registerNode(i[s],!0)},unregisterNode:function(t,e){var i,n,s;if(delete this.nodeHash[t.internalId],!0===e)for(n=(i=t.childNodes).length,s=0;s<n;s++)this.unregisterNode(i[s],!0)},sort:function(t,e){this.getRootNode().sort(t,e)},filter:function(t,e){this.getRootNode().filter(t,e)}}),Ext.define("Ext.data.TreeModel",{extend:Ext.data.Model},function(){Ext.data.NodeInterface.decorate(this)}),Ext.define("Ext.data.TreeStore",{extend:Ext.data.AbstractStore,alias:"store.tree",clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",defaultRootProperty:"children",rootProperty:"children",fillCount:0,folderSort:!1,constructor:function(t){var e,i;(t=Ext.apply({},t)).fields||this.fields||(t.fields=[{name:"text",type:"string"}],(i=t.defaultRootProperty||this.defaultRootProperty)!==this.defaultRootProperty&&t.fields.push({name:i,type:"auto",defaultValue:null,persist:!1})),this.callParent([t]),this.tree=new Ext.data.Tree,this.tree.treeStore=this,this.tree.on({scope:this,remove:this.onNodeRemove,beforeexpand:this.onBeforeNodeExpand,append:this.onNodeAdded,insert:this.onNodeAdded,sort:this.onNodeSort}),this.onBeforeSort(),(e=this.root)&&(delete this.root,this.setRootNode(e)),Ext.isDefined(this.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),this.nodeParam=this.nodeParameter,delete this.nodeParameter)},setProxy:function(t){var e,i;i=t instanceof Ext.data.proxy.Proxy?Ext.isEmpty(t.getReader().root):!!Ext.isString(t)||!((e=t.reader)&&!Ext.isEmpty(e.root)),(t=this.callParent(arguments)).idParam=this.nodeParam,i&&((e=t.getReader()).root=this.defaultRootProperty,e.buildExtractors(!0))},onBeforeSort:function(){this.folderSort&&this.sort({property:"leaf",direction:"ASC"},"prepend",!1)},onBeforeNodeExpand:function(t,e,i,n){var s,r,o,a,l=this;t.isLoaded()?(a=[t.childNodes],n&&a.push.apply(a,n),Ext.callback(e,i||t,a)):(r=o=(t.raw||t[t.persistenceProperty])[(s=l.getProxy().getReader()).root])?(l.fillNode(t,s.extractData(r)),delete o[s.root],a=[t.childNodes],n&&a.push.apply(a,n),Ext.callback(e,i||t,a)):t.isLoading()?l.on("load",function(){a=[t.childNodes],n&&a.push.apply(a,n),Ext.callback(e,i||t,a)},l,{single:!0}):l.read({node:t,callback:function(){delete l.lastOptions.callback,a=[t.childNodes],n&&a.push.apply(a,n),Ext.callback(e,i||t,a)}})},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onNodeRemove:function(t,e,i){e.unjoin(this),e.phantom||i||Ext.Array.include(this.removed,e),!this.autoSync||this.autoSyncSuspended||i||this.sync()},onNodeAdded:function(t,e){var i,n=this.getProxy().getReader(),s=e.raw||e[e.persistenceProperty];Ext.Array.remove(this.removed,e),e.join(this),e.isLeaf()||this.lazyFill||(i=n.getRoot(s))&&(this.fillNode(e,n.extractData(i)),delete s[n.root]),this.autoSync&&!this.autoSyncSuspended&&(e.phantom||e.dirty)&&this.sync()},onNodeSort:function(){this.autoSync&&!this.autoSyncSuspended&&this.sync()},setRootNode:function(t,e){var i=this.model,n=i.prototype.idProperty;return(t=t||{}).isModel?t.isModel&&!t.isNode&&Ext.data.NodeInterface.decorate(i):(t=Ext.apply({},t),Ext.applyIf(t,{id:this.defaultRootId,text:this.defaultRootText,allowDrag:!1}),void 0===t[n]&&(t[n]=this.defaultRootId),Ext.data.NodeInterface.decorate(i),t=Ext.ModelManager.create(t,i)),this.getProxy().getReader().buildExtractors(!0),this.tree.setRootNode(t),!0===e||t.isLoaded()||!0!==this.autoLoad&&!t.isExpanded()||(t.data.expanded=!1,t.expand()),t},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(t){return this.tree.getNodeById(t)},getById:function(t){return this.getNodeById(t)},load:function(t){(t=t||{}).params=t.params||{};var e=t.node||this.tree.getRootNode();return e||(e=this.setRootNode({expanded:!0},!0)),t.id=e.getId(),this.clearOnLoad&&(this.clearRemovedOnLoad&&this.clearRemoved(e),this.tree.un("remove",this.onNodeRemove,this),e.removeAll(!1),this.tree.on("remove",this.onNodeRemove,this)),Ext.applyIf(t,{node:e}),this.callParent([t]),this.loading&&e&&e.set("loading",!0),this},clearRemoved:function(t){var e,i,n,s=this.removed,r=t.getId(),o=s.length,a=o,l={},h=[],d={};if(t!==this.getRootNode()){for(;a--;)d[(e=s[a]).getId()]=e;for(a=o;a--;){for(i=e=s[a];i&&i.getId()!==r;)n=i.get("parentId"),i=i.parentNode||this.getNodeById(n)||d[n];i&&(l[e.getId()]=e)}for(a=0;a<o;a++)l[(e=s[a]).getId()]||h.push(e);this.removed=h}else this.removed=[]},fillNode:function(t,e){var i,n,s,r,o,a=e?e.length:0,l=this.sorters,h=!1,d=a&&this.sortOnLoad&&!this.remoteSort&&l&&l.items&&l.items.length;for(i=1;i<a&&(s=e[i],r=e[i-1],!(h=s[s.persistenceProperty].index!=r[r.persistenceProperty].index));i++);return d?(h&&this.sorters.insert(0,this.indexSorter),(n=new Ext.util.MixedCollection).addAll(e),n.sort(this.sorters.items),e=n.items,this.sorters.remove(this.indexSorter)):h&&Ext.Array.sort(e,this.sortByIndex),t.set("loaded",!0),(o=0===this.fillCount)&&this.fireEvent("beforefill",this,t,e),++this.fillCount,e.length&&t.appendChild(e,void 0,!0),o&&this.fireEvent("fillcomplete",this,t,e),--this.fillCount,e},beginBulkRemove:function(){this.fireEvent("beforebulkremove",this)},endBulkRemove:function(){this.fireEvent("bulkremovecomplete",this)},sortByIndex:function(t,e){return t[t.persistenceProperty].index-e[e.persistenceProperty].index},onIdChanged:function(t,e,i,n){this.tree.onNodeIdChanged(t,e,i,n),this.callParent(arguments)},onProxyLoad:function(t){var e=t.wasSuccessful(),i=t.getRecords(),n=t.node;this.loading=!1,n.set("loading",!1),e&&(this.clearOnLoad||(i=this.cleanRecords(n,i)),i=this.fillNode(n,i)),this.fireEvent("read",this,t.node,i,e),this.fireEvent("load",this,t.node,i,e),Ext.callback(t.callback,t.scope||this,[i,t,e])},cleanRecords:function(t,e){for(var i,n={},s=t.childNodes,r=0,o=s.length,a=[];r<o;++r)n[s[r].getId()]=!0;for(r=0,o=e.length;r<o;++r)n[(i=e[r]).getId()]||a.push(i);return a},removeAll:function(){var t=this.getRootNode();t&&t.destroy(!0),this.fireEvent("clear",this)},doSort:function(t){this.remoteSort?this.load():(this.tree.sort(t,!0),this.fireEvent("datachanged",this),this.fireEvent("refresh",this)),this.fireEvent("sort",this,this.sorters.getRange())}},function(){var t=this.prototype;t.indexSorter=new Ext.util.Sorter({sorterFn:t.sortByIndex})}),Ext.define("Ext.data.UuidGenerator",function(){function t(t,e){var i=t.toString(16);return i.length>e?i=i.substring(i.length-e):i.length<e&&(i=Ext.String.leftPad(i,e,"0")),i}function e(t,e){var i=Math.random()*(e-t+1);return Math.floor(i)+t}function i(t){if("number"==typeof t){var e=Math.floor(t/o);return{lo:Math.floor(t-e*o),hi:e}}return t}var n=Math.pow(2,14),s=Math.pow(2,16),r=Math.pow(2,28),o=Math.pow(2,32);return{extend:Ext.data.IdGenerator,alias:"idgen.uuid",id:"uuid",version:4,constructor:function(){this.callParent(arguments),this.parts=[],this.init()},generate:function(){var e=this.parts,i=this.timestamp;return e[0]=t(i.lo,8),e[1]=t(65535&i.hi,4),e[2]=t(i.hi>>>16&4095|this.version<<12,4),e[3]=t(128|this.clockSeq>>>8&63,2)+t(255&this.clockSeq,2),e[4]=t(this.salt.hi,4)+t(this.salt.lo,8),4==this.version?this.init():(++i.lo,i.lo>=o&&(i.lo=0,++i.hi)),e.join("-").toLowerCase()},getRecId:function(t){return t.getId()},init:function(){var t,a;4==this.version?(this.clockSeq=e(0,n-1),t=this.salt||(this.salt={}),a=this.timestamp||(this.timestamp={}),t.lo=e(0,o-1),t.hi=e(0,s-1),a.lo=e(0,o-1),a.hi=e(0,r-1)):(this.salt=i(this.salt),this.timestamp=i(this.timestamp),this.salt.hi|=256)},reconfigure:function(t){Ext.apply(this,t),this.init()}}}()),Ext.define("Ext.data.reader.Xml",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",createAccessor:function(t){var e=this;return Ext.isEmpty(t)?Ext.emptyFn:Ext.isFunction(t)?t:function(i){return e.getNodeValue(Ext.DomQuery.selectNode(t,i))}},getNodeValue:function(t){if(t&&("function"==typeof t.normalize&&t.normalize(),t=t.firstChild))return t.nodeValue},getResponseData:function(t){var e,i,n=t.responseXML;return n?this.readRecords(n):(i="XML data not found in the response",e=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:i}),this.fireEvent("exception",this,t,e),Ext.Logger.warn(i),e)},getData:function(t){return t.documentElement||t},getRoot:function(t){var e=t.nodeName,i=this.root;return!i||e&&e==i?t:Ext.DomQuery.isXml(t)?Ext.DomQuery.selectNode(i,t):void 0},extractData:function(t){var e=this.record;return t=e!=t.nodeName?Ext.DomQuery.select(e,t):[t],this.callParent([t])},getAssociatedDataRoot:function(t,e){return Ext.DomQuery.select(e,t)[0]},readRecords:function(t){return Ext.isArray(t)&&(t=t[0]),this.xmlData=t,this.callParent([t])},createFieldAccessExpression:function(t,e,i){var n,s=this.namespace;return n=t.mapping||(s?s+"|":"")+t.name,"function"==typeof n?e+".mapping("+i+", this)":'me.getNodeValue(Ext.DomQuery.selectNode("'+n+'", '+i+"))"}}),Ext.define("Ext.data.writer.Xml",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(t,e){var i,n,s=[],r=0,o=e.length,a=this.documentRoot,l=this.record,h=1!==e.length;for(s.push(this.header||""),!a&&h&&(a=this.defaultDocumentRoot),a&&s.push("<",a,">");r<o;++r){i=e[r],s.push("<",l,">");for(n in i)i.hasOwnProperty(n)&&s.push("<",n,">",i[n],"</",n,">");s.push("</",l,">")}return a&&s.push("</",a,">"),t.xmlData=s.join(""),t}}),Ext.define("Ext.data.XmlStore",{extend:Ext.data.Store,alias:"store.xml",constructor:function(t){t=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},t),this.callParent([t])}}),Ext.define("Ext.data.association.BelongsTo",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(t){this.callParent(arguments);var e=this.ownerModel.prototype,i=this.associatedName,n=this.getterName||"get"+i,s=this.setterName||"set"+i;Ext.applyIf(this,{name:i,foreignKey:i.toLowerCase()+"_id",instanceName:i+"BelongsToInstance",associationKey:i.toLowerCase()}),e[n]=this.createGetter(),e[s]=this.createSetter()},createSetter:function(){var t=this.foreignKey,e=this.instanceName;return function(i,n,s){var r=i&&i.isModel,o=r?i.getId():i;if(r?this[e]=i:this[e]instanceof Ext.data.Model&&!this.isEqual(this.get(t),o)&&delete this[e],this.set(t,o),Ext.isFunction(n)&&(n={callback:n,scope:s||this}),Ext.isObject(n))return this.save(n)}},createGetter:function(){var t=this.associatedName,e=this.associatedModel,i=this.foreignKey,n=this.primaryKey,s=this.instanceName;return function(r,o){r=r||{};var a,l,h,d=this,c=d.get(i);return!0===r.reload||void 0===d[s]?((l=Ext.ModelManager.create({},t)).set(n,c),"function"==typeof r&&(r={callback:r,scope:o||d}),a=r.success,r.success=function(t){d[s]=t,a&&a.apply(this,arguments)},e.load(c,r),d[s]=l,l):(l=d[s],h=[l],o=o||r.scope||d,Ext.callback(r,o,h),Ext.callback(r.success,o,h),Ext.callback(r.failure,o,h),Ext.callback(r.callback,o,h),l)}},read:function(t,e,i){t[this.instanceName]=e.read([i]).records[0]}}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(t,e){this.singulars.unshift([t,e])},plural:function(t,e){this.plurals.unshift([t,e])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(t){return-1!=Ext.Array.indexOf(this.uncountable,t)},pluralize:function(t){if(this.isTransnumeral(t))return t;var e,i,n,s=this.plurals,r=s.length;for(n=0;n<r;n++)if(e=s[n],(i=e[0])==t||i.test&&i.test(t))return t.replace(i,e[1]);return t},singularize:function(t){if(this.isTransnumeral(t))return t;var e,i,n,s=this.singulars,r=s.length;for(n=0;n<r;n++)if(e=s[n],(i=e[0])==t||i.test&&i.test(t))return t.replace(i,e[1]);return t},classify:function(t){return Ext.String.capitalize(this.singularize(t))},ordinalize:function(t){var e=parseInt(t,10),i=e%10,n=e%100;if(11<=n&&n<=13)return t+"th";switch(i){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd";default:return t+"th"}}},function(){var t,e={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(t in e)this.plural(t,e[t]),this.singular(e[t],t)}),Ext.define("Ext.data.association.HasMany",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasManyAssociation",alias:"association.hasmany",constructor:function(t){var e,i;this.callParent(arguments),this.name=this.name||Ext.util.Inflector.pluralize(this.associatedName.toLowerCase()),e=this.ownerModel.prototype,i=this.name,Ext.applyIf(this,{storeName:i+"Store",foreignKey:this.ownerName.toLowerCase()+"_id"}),e[i]=this.createStore()},createStore:function(){var t=this.associatedModel,e=this.storeName,i=this.foreignKey,n=this.primaryKey,s=this.filterProperty,r=this.autoLoad,o=this.storeConfig||{};return function(){var a,l,h={};return void 0===this[e]&&(l=s?{property:s,value:this.get(s),exactMatch:!0}:{property:i,value:this.get(n),exactMatch:!0},h[i]=this.get(n),a=Ext.apply({},o,{model:t,filters:[l],remoteFilter:!1,modelDefaults:h}),this[e]=Ext.data.AbstractStore.create(a),r&&this[e].load()),this[e]}},read:function(t,e,i){var n,s,r,o,a=t[this.name]();if(a.add(e.read(i).records),n=this.associatedModel.prototype.associations.findBy(function(e){return"belongsTo"===e.type&&e.associatedName===t.$className}))for(r=(s=a.data.items).length,o=0;o<r;o++)s[o][n.instanceName]=t}}),Ext.define("Ext.data.association.HasOne",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(t){this.callParent(arguments);var e=this.ownerModel.prototype,i=this.associatedName,n=this.getterName||"get"+i,s=this.setterName||"set"+i;Ext.applyIf(this,{name:i,foreignKey:i.toLowerCase()+"_id",instanceName:i+"HasOneInstance",associationKey:i.toLowerCase()}),e[n]=this.createGetter(),e[s]=this.createSetter()},createSetter:function(){var t=this.foreignKey,e=this.instanceName;return function(i,n,s){var r=i&&i.isModel,o=r?i.getId():i;if(r?this[e]=i:this[e]instanceof Ext.data.Model&&!this.isEqual(this.get(t),o)&&delete this[e],this.set(t,o),Ext.isFunction(n)&&(n={callback:n,scope:s||this}),Ext.isObject(n))return this.save(n)}},createGetter:function(){this.ownerModel;var t=this.associatedName,e=this.associatedModel,i=this.foreignKey,n=this.primaryKey,s=this.instanceName;return function(r,o){r=r||{};var a,l,h,d=this,c=d.get(i);return!0===r.reload||void 0===d[s]?((l=Ext.ModelManager.create({},t)).set(n,c),"function"==typeof r&&(r={callback:r,scope:o||d}),a=r.success,r.success=function(t){d[s]=t,a&&a.apply(this,arguments)},e.load(c,r),d[s]=l,l):(l=d[s],h=[l],o=o||r.scope||d,Ext.callback(r,o,h),Ext.callback(r.success,o,h),Ext.callback(r.failure,o,h),Ext.callback(r.callback,o,h),l)}},read:function(t,e,i){var n=this.associatedModel.prototype.associations.findBy(function(e){return"belongsTo"===e.type&&e.associatedName===t.$className}),s=e.read([i]).records[0];t[this.instanceName]=s,n&&(s[n.instanceName]=t)}}),Ext.define("Ext.data.proxy.WebStorage",{extend:Ext.data.proxy.Client,alternateClassName:"Ext.data.WebStorageProxy",id:void 0,constructor:function(t){this.callParent(arguments),this.cache={},this.id=this.id||(this.store?this.store.storeId:void 0),this.initialize()},create:function(t,e,i){var n,s,r,o=t.records,a=o.length,l=this.getIds();for(t.setStarted(),void 0===this.isHierarchical&&(this.isHierarchical=!!o[0].isNode,this.isHierarchical&&this.getStorageObject().setItem(this.getTreeKey(),!0)),r=0;r<a;r++)(s=o[r]).phantom?(s.phantom=!1,n=this.getNextId()):n=s.getId(),this.setRecord(s,n),s.commit(),l.push(n);this.setIds(l),t.setCompleted(),t.setSuccessful(),"function"==typeof e&&e.call(i||this,t)},read:function(t,e,i){var n,s,r,o,a,l=[],h=0,d=!0,c=this.model;if(t.setStarted(),this.isHierarchical)l=this.getTreeData();else if(n=this.getIds(),s=n.length,a=t.id)null!==(o=this.getRecord(a))&&(r=new c(o,a,o)),r?l.push(r):d=!1;else for(;h<s;h++)a=n[h],o=this.getRecord(a),l.push(new c(o,a,o));d&&t.setSuccessful(),t.setCompleted(),t.resultSet=Ext.create("Ext.data.ResultSet",{records:l,total:l.length,loaded:!0}),"function"==typeof e&&e.call(i||this,t)},update:function(t,e,i){var n,s,r,o=t.records,a=o.length,l=this.getIds();for(t.setStarted(),r=0;r<a;r++)n=o[r],this.setRecord(n),n.commit(),void 0!==(s=n.getId())&&-1==Ext.Array.indexOf(l,s)&&l.push(s);this.setIds(l),t.setCompleted(),t.setSuccessful(),"function"==typeof e&&e.call(i||this,t)},destroy:function(t,e,i){var n,s=t.records,r=this.getIds(),o=r.length,a=[],l={},h=s.length;for(t.setStarted();h--;)Ext.apply(l,this.removeRecord(s[h]));for(h=0;h<o;h++)l[n=r[h]]||a.push(n);this.setIds(a),t.setCompleted(),t.setSuccessful(),"function"==typeof e&&e.call(i||this,t)},getRecord:function(t){var e=this.cache,i=e[t]?e[t]:Ext.decode(this.getStorageObject().getItem(this.getRecordKey(t)));return i?(e[t]=i,i[this.model.prototype.idProperty]=t,i):null},setRecord:function(t,e){e?t.setId(e):e=t.getId();for(var i,n,s,r,o=t.data,a={},l=this.model.prototype.fields.items,h=l.length,d=0;d<h;d++)n=(i=l[d]).name,i.persist&&(a[n]=o[n]);delete a[this.model.prototype.idProperty],t.isNode&&1===t.get("depth")&&delete a.parentId,s=this.getStorageObject(),r=this.getRecordKey(e),this.cache[e]=a,s.removeItem(r),s.setItem(r,Ext.encode(a))},removeRecord:function(t){var e,i,n=t.getId(),s={};if(s[n]=t,this.getStorageObject().removeItem(this.getRecordKey(n)),delete this.cache[n],t.childNodes)for(e=(i=t.childNodes).length;e--;)Ext.apply(s,this.removeRecord(i[e]));return s},getRecordKey:function(t){return t.isModel&&(t=t.getId()),Ext.String.format("{0}-{1}",this.id,t)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var t,e=(this.getStorageObject().getItem(this.id)||"").split(","),i=this.model,n=e.length,s="string"===i.prototype.fields.get(i.prototype.idProperty).type.type;if(1==n&&""===e[0])e=[];else for(t=0;t<n;t++)e[t]=s?e[t]:+e[t];return e},setIds:function(t){var e=this.getStorageObject(),i=t.join(",");e.removeItem(this.id),Ext.isEmpty(i)||e.setItem(this.id,i)},getNextId:function(){var t,e=this.getStorageObject(),i=this.getRecordCounterKey(),n=this.model,s="string"===n.prototype.fields.get(n.prototype.idProperty).type.type;return t=this.idGenerator.generate(),e.setItem(i,t),s||(t=+t),t},getTreeData:function(){for(var t,e,i,n,s,r,o=this.getIds(),a=o.length,l=[],h={},d=[],c=0,u=this.model,f=u.prototype.idProperty;c<a;c++)r=o[c],e=this.getRecord(r),l.push(e),h[r]=e,e.parentId||d.push(e);for(t=d.length,Ext.Array.sort(l,this.sortByParentId),c=t;c<a;c++)n=(e=l[c]).parentId,i&&i[f]===n||((i=h[n]).children=s=[]),s.push(e);for(c=a;c--;)(e=l[c]).children||e.leaf||(e.loaded=!0);for(c=t;c--;)e=d[c],d[c]=new u(e,e[f],e);return d},sortByParentId:function(t,e){return(t.parentId||0)-(e.parentId||0)},initialize:function(){var t=this.getStorageObject(),e=+t.getItem(this.getRecordCounterKey());t.setItem(this.id,t.getItem(this.id)||""),t.getItem(this.getTreeKey())&&(this.isHierarchical=!0),this.idGenerator=new Ext.data.SequentialIdGenerator({seed:e?e+1:1})},clear:function(){var t,e=this.getStorageObject(),i=this.getIds(),n=i.length;for(t=0;t<n;t++)e.removeItem(this.getRecordKey(i[t]));e.removeItem(this.getRecordCounterKey()),e.removeItem(this.getTreeKey()),e.removeItem(this.id),this.cache={}},getStorageObject:function(){}}),Ext.define("Ext.data.proxy.LocalStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}}),Ext.define("Ext.data.proxy.Rest",{extend:Ext.data.proxy.Ajax,alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},appendId:!0,batchActions:!1,buildUrl:function(t){var e=t.operation,i=(e.records||[])[0],n=this.format,s=this.getUrl(t),r=i?i.getId():e.id;return this.appendId&&null!=r&&(s.match(/\/$/)||(s+="/"),s+=r),n&&(s.match(/\.$/)||(s+="."),s+=n),t.url=s,this.callParent(arguments)}}),Ext.define("Ext.data.proxy.SessionStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}}),Ext.define("Ext.dd.DDTarget",{extend:Ext.dd.DragDrop,constructor:function(t,e,i){t&&this.initTarget(t,e,i)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.define("Ext.dd.DragTracker",{mixins:{observable:Ext.util.Observable},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(t){Ext.apply(this,t),this.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag"),this.dragRegion=new Ext.util.Region(0,0,0,0),this.el&&this.initEl(this.el),this.mixins.observable.constructor.call(this),this.disabled&&this.disable()},initEl:function(t){this.el=Ext.get(t),this.handle=Ext.get(this.delegate),this.delegate=this.handle?void 0:this.delegate,this.handle||(this.handle=this.el),this.handleListeners={scope:this,delegate:this.delegate,mousedown:this.onMouseDown},(this.trackOver||this.overCls)&&Ext.apply(this.handleListeners,{mouseover:this.onMouseOver,mouseout:this.onMouseOut}),this.mon(this.handle,this.handleListeners)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.active&&this.endDrag({}),this.clearListeners(),this.mun(this.handle,this.handleListeners),this.el=this.handle=null},onMouseOver:function(t,e){this.disabled||(Ext.EventManager.contains(t)||this.delegate)&&(this.mouseIsOut=!1,this.overCls&&this.el.addCls(this.overCls),this.fireEvent("mouseover",this,t,this.delegate?t.getTarget(this.delegate,e):this.handle))},onMouseOut:function(t){this.mouseIsDown?this.mouseIsOut=!0:(this.overCls&&this.el.removeCls(this.overCls),this.fireEvent("mouseout",this,t))},onMouseDown:function(t,e){var i;this.disabled||t.dragTracked||(this.dragTarget=this.delegate?e:this.handle.dom,this.startXY=this.lastXY=t.getXY(),this.startRegion=Ext.fly(this.dragTarget).getRegion(),!1!==this.fireEvent("mousedown",this,t)&&!1!==this.fireEvent("beforedragstart",this,t)&&!1!==this.onBeforeStart(t)&&(this.mouseIsDown=!0,t.dragTracked=!0,i=this.el.dom,Ext.isIE&&i.setCapture&&i.setCapture(),!1!==this.preventDefault&&t.preventDefault(),Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect}),this.autoStart&&(this.timer=Ext.defer(this.triggerStart,!0===this.autoStart?1e3:this.autoStart,this,[t]))))},onMouseMove:function(t,e){var i=t.getXY(),n=this.startXY;if(t.preventDefault(),this.lastXY=i,!this.active){if(!(Math.max(Math.abs(n[0]-i[0]),Math.abs(n[1]-i[1]))>this.tolerance))return;this.triggerStart(t)}!1===this.fireEvent("mousemove",this,t)?this.onMouseUp(t):(this.onDrag(t),this.fireEvent("drag",this,t))},onMouseUp:function(t){this.mouseIsDown=!1,this.mouseIsOut&&(this.mouseIsOut=!1,this.onMouseOut(t)),t.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),this.fireEvent("mouseup",this,t),this.endDrag(t)},endDrag:function(t){var e=Ext.getDoc(),i=this.active;e.un("mousemove",this.onMouseMove,this),e.un("mouseup",this.onMouseUp,this),e.un("selectstart",this.stopSelect,this),this.clearStart(),this.active=!1,i&&(this.onEnd(t),this.fireEvent("dragend",this,t)),delete this._constrainRegion,delete Ext.EventObject.dragTracked},triggerStart:function(t){this.clearStart(),this.active=!0,this.onStart(t),this.fireEvent("dragstart",this,t)},clearStart:function(){var t=this.timer;t&&(clearTimeout(t),delete this.timer)},stopSelect:function(t){return t.stopEvent(),!1},onBeforeStart:function(t){},onStart:function(t){},onDrag:function(t){},onEnd:function(t){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){if(this.constrainTo){if(this.constrainTo instanceof Ext.util.Region)return this.constrainTo;this._constrainRegion||(this._constrainRegion=Ext.fly(this.constrainTo).getViewRegion())}else this._constrainRegion||(this._constrainRegion=this.getDragCt().getViewRegion());return this._constrainRegion},getXY:function(t){return t?this.constrainModes[t](this,this.lastXY):this.lastXY},getOffset:function(t){var e=this.getXY(t),i=this.startXY;return[e[0]-i[0],e[1]-i[1]]},constrainModes:{point:function(t,e){var i=t.dragRegion,n=t.getConstrainRegion();return n?(i.x=i.left=i[0]=i.right=e[0],i.y=i.top=i[1]=i.bottom=e[1],i.constrainTo(n),[i.left,i.top]):e},dragTarget:function(t,e){var i,n=t.startXY,s=t.startRegion.copy(),r=t.getConstrainRegion();return r?(s.translateBy(e[0]-n[0],e[1]-n[1]),s.right>r.right&&(e[0]+=i=r.right-s.right,s.left+=i),s.left<r.left&&(e[0]+=r.left-s.left),s.bottom>r.bottom&&(e[1]+=i=r.bottom-s.bottom,s.top+=i),s.top<r.top&&(e[1]+=r.top-s.top),e):e}}}),Ext.define("Ext.dd.DragZone",{extend:Ext.dd.DragSource,constructor:function(t,e){var i=this.containerScroll;this.callParent([t,e]),i&&(t=this.scrollEl||t,t=Ext.get(t),Ext.isObject(i)&&(t.ddScrollConfig=i),Ext.dd.ScrollManager.register(t))},getDragData:function(t){return Ext.dd.Registry.getHandleFromEvent(t)},onInitDrag:function(t,e){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(t,e),!0},getRepairXY:function(t){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}),Ext.define("Ext.dd.ScrollManager",{singleton:!0,constructor:function(){var t=Ext.dd.DragDropManager;t.fireEvents=Ext.Function.createSequence(t.fireEvents,this.onFire,this),t.stopDrag=Ext.Function.createSequence(t.stopDrag,this.onStop,this),this.doScroll=Ext.Function.bind(this.doScroll,this),this.ddmInstance=t,this.els={},this.dragEl=null,this.proc={}},onStop:function(t){var e=Ext.dd.ScrollManager;e.dragEl=null,e.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){if(this.ddmInstance.dragCurrent){var t=this.proc,e=t.el,i=t.el.ddScrollConfig,n=i?i.increment:this.increment;this.animate?e.scroll(t.dir,n,!0,this.animDuration,this.triggerRefresh):e.scroll(t.dir,n)&&this.triggerRefresh()}},clearProc:function(){var t=this.proc;t.id&&clearInterval(t.id),t.id=0,t.el=null,t.dir=""},startProc:function(t,e){this.clearProc(),this.proc.el=t,this.proc.dir=e;var i=t.ddScrollConfig?t.ddScrollConfig.ddGroup:void 0,n=t.ddScrollConfig&&t.ddScrollConfig.frequency?t.ddScrollConfig.frequency:this.frequency;void 0!==i&&this.ddmInstance.dragCurrent.ddGroup!=i||(this.proc.id=setInterval(this.doScroll,n))},onFire:function(t,e){if(!e&&this.ddmInstance.dragCurrent){this.dragEl&&this.dragEl==this.ddmInstance.dragCurrent||(this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache());t.getXY();var i,n,s,r,o=t.getPoint(),a=this.proc,l=this.els;for(i in l)if(n=l[i],s=n._region,r=n.ddScrollConfig?n.ddScrollConfig:this,s&&s.contains(o)&&n.isScrollable()){if(s.bottom-o.y<=r.vthresh)return void(a.el!=n&&this.startProc(n,"down"));if(s.right-o.x<=r.hthresh)return void(a.el!=n&&this.startProc(n,"left"));if(o.y-s.top<=r.vthresh)return void(a.el!=n&&this.startProc(n,"up"));if(o.x-s.left<=r.hthresh)return void(a.el!=n&&this.startProc(n,"right"))}this.clearProc()}},register:function(t){if(Ext.isArray(t))for(var e=0,i=t.length;e<i;e++)this.register(t[e]);else t=Ext.get(t),this.els[t.id]=t},unregister:function(t){if(Ext.isArray(t))for(var e=0,i=t.length;e<i;e++)this.unregister(t[e]);else t=Ext.get(t),delete this.els[t.id]},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var t,e=this.els;for(t in e)"object"==typeof e[t]&&(e[t]._region=e[t].getRegion())}}),Ext.define("Ext.dd.DropTarget",{extend:Ext.dd.DDTarget,constructor:function(t,e){this.el=Ext.get(t),Ext.apply(this,e),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(t,e,i){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(t,e,i){return this.dropAllowed},notifyOut:function(t,e,i){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(t,e,i){return!1},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}}),Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(t,e){if("string"==typeof t)return t;var i=t.id;return i||!1===e||(i="extdd-"+ ++this.autoIdSeed,t.id=i),i},register:function(t,e){if(e=e||{},"string"==typeof t&&(t=document.getElementById(t)),e.ddel=t,this.elements[this.getId(t)]=e,!1!==e.isHandle&&(this.handles[e.ddel.id]=e),e.handles){var i,n,s=e.handles;for(i=0,n=s.length;i<n;i++)this.handles[this.getId(s[i])]=e}},unregister:function(t){var e,i,n,s=this.getId(t,!1),r=this.elements[s];if(r&&(delete this.elements[s],r.handles))for(i=0,n=(e=r.handles).length;i<n;i++)delete this.handles[this.getId(e[i],!1)]},getHandle:function(t){return"string"!=typeof t&&(t=t.id),this.handles[t]},getHandleFromEvent:function(t){var e=t.getTarget();return e?this.handles[e.id]:null},getTarget:function(t){return"string"!=typeof t&&(t=t.id),this.elements[t]},getTargetFromEvent:function(t){var e=t.getTarget();return e?this.elements[e.id]||this.handles[e.id]:null}}),Ext.define("Ext.dd.DropZone",{extend:Ext.dd.DropTarget,getTargetFromEvent:function(t){return Ext.dd.Registry.getTargetFromEvent(t)},onNodeEnter:function(t,e,i,n){},onNodeOver:function(t,e,i,n){return this.dropAllowed},onNodeOut:function(t,e,i,n){},onNodeDrop:function(t,e,i,n){return!1},onContainerOver:function(t,e,i){return this.dropNotAllowed},onContainerDrop:function(t,e,i){return!1},notifyEnter:function(t,e,i){return this.dropNotAllowed},notifyOver:function(t,e,i){var n=this.getTargetFromEvent(e);return n?(this.lastOverNode!=n&&(this.lastOverNode&&this.onNodeOut(this.lastOverNode,t,e,i),this.onNodeEnter(n,t,e,i),this.lastOverNode=n),this.onNodeOver(n,t,e,i)):(this.lastOverNode&&(this.onNodeOut(this.lastOverNode,t,e,i),this.lastOverNode=null),this.onContainerOver(t,e,i))},notifyOut:function(t,e,i){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,t,e,i),this.lastOverNode=null)},notifyDrop:function(t,e,i){var n=this.getTargetFromEvent(e),s=n?this.onNodeDrop(n,t,e,i):this.onContainerDrop(t,e,i);return this.lastOverNode&&(this.onNodeOut(this.lastOverNode,t,e,i),this.lastOverNode=null),s},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.define("Ext.direct.Event",{alias:"direct.event",status:!0,constructor:function(t){Ext.apply(this,t)},getName:function(){return this.name},getData:function(){return this.data}}),Ext.define("Ext.direct.RemotingEvent",{extend:Ext.direct.Event,alias:"direct.rpc",getTransaction:function(){return this.transaction||Ext.direct.Manager.getTransaction(this.tid)}}),Ext.define("Ext.direct.ExceptionEvent",{extend:Ext.direct.RemotingEvent,alias:"direct.exception",status:!1}),Ext.define("Ext.direct.JsonProvider",{extend:Ext.direct.Provider,alias:"direct.jsonprovider",parseResponse:function(t){return Ext.isEmpty(t.responseText)?null:Ext.isObject(t.responseText)?t.responseText:Ext.decode(t.responseText)},createEvents:function(t){var e,i,n,s=null,r=[];try{s=this.parseResponse(t)}catch(i){return e=new Ext.direct.ExceptionEvent({data:i,xhr:t,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+i}),[e]}if(Ext.isArray(s))for(i=0,n=s.length;i<n;++i)r.push(this.createEvent(s[i]));else Ext.isObject(s)&&r.push(this.createEvent(s));return r},createEvent:function(t){return Ext.create("direct."+t.type,t)}}),Ext.define("Ext.direct.PollingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.pollingprovider",interval:3e3,constructor:function(t){this.callParent(arguments),this.addEvents("beforepoll","poll")},isConnected:function(){return!!this.pollTask},connect:function(){this.url&&!this.pollTask&&(this.pollTask=Ext.TaskManager.start({run:this.runPoll,interval:this.interval,scope:this}),this.fireEvent("connect",this))},disconnect:function(){this.pollTask&&(Ext.TaskManager.stop(this.pollTask),delete this.pollTask,this.fireEvent("disconnect",this))},runPoll:function(){var t=this.url;!1!==this.fireEvent("beforepoll",this)&&(Ext.isFunction(t)?t(this.baseParams):Ext.Ajax.request({url:t,callback:this.onData,scope:this,params:this.baseParams}),this.fireEvent("poll",this))},onData:function(t,e,i){var n,s,r;if(e)for(n=0,s=(r=this.createEvents(i)).length;n<s;++n)this.fireEvent("data",this,r[n]);else r=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}),this.fireEvent("data",this,r)}}),Ext.define("Ext.direct.RemotingMethod",{constructor:function(t){var e,i,n,s,r=Ext.isDefined(t.params)?t.params:t.len;if(this.name=t.name,this.formHandler=t.formHandler,Ext.isNumeric(r))this.len=r,this.ordered=!0;else for(this.params={},i=r.length,n=0;n<i;n++)s=r[n],e=Ext.isObject(s)?s.name:s,this.params[e]=!0},getArgs:function(t,e,i){var n,s,r=[];if(this.ordered){if(this.len>0)if(e)for(n=0,s=e.length;n<s;n++)r.push(t[e[n]]);else i&&r.push(t)}else r.push(t);return r},getCallData:function(t){var e,i,n,s,r=null,o=this.len,a=this.params;if(this.ordered)e=t[o],i=t[o+1],s=t[o+2],0!==o&&(r=t.slice(0,o));else{r=Ext.apply({},t[0]),e=t[1],i=t[2],s=t[3];for(n in r)r.hasOwnProperty(n)&&!a[n]&&delete r[n]}return{data:r,callback:e,scope:i,options:s}}}),Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(t){Ext.apply(this,t),this.id=this.tid=++this.self.TRANSACTION_ID,this.retryCount=0},send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++,this.send()},getProvider:function(){return this.provider}}),Ext.define("Ext.direct.RemotingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.remotingprovider",enableBuffer:10,maxRetries:1,constructor:function(t){this.callParent(arguments),this.addEvents("beforecall","call","beforecallback"),this.namespace=Ext.isString(this.namespace)?Ext.ns(this.namespace):this.namespace||Ext.global,this.transactions=new Ext.util.MixedCollection,this.callBuffer=[]},getNamespace:function(t,e){var i,n,s,r;for(t=t||Ext.global,s=0,r=(i=e.toString().split(".")).length;s<r;s++)if(n=i[s],void 0===(t=t[n]))return t;return t},createNamespaces:function(t,e){var i,n;t=t||Ext.global;for(var s=0,r=(i=e.toString().split(".")).length;s<r;s++)t[n=i[s]]=t[n]||{},t=t[n];return t},initAPI:function(){var t,e,i,n,s,r,o=this.actions,a=this.namespace;for(t in o)if(o.hasOwnProperty(t))for(this.disableNestedActions?(e=a[t])||(e=a[t]={}):(e=this.getNamespace(a,t))||(e=this.createNamespaces(a,t)),n=0,s=(i=o[t]).length;n<s;++n)e[(r=new Ext.direct.RemotingMethod(i[n])).name]=this.createHandler(t,r)},createHandler:function(t,e){var i,n=this,s=Array.prototype.slice;return i=e.formHandler?function(i,s,r){n.configureFormRequest(t,e,i,s,r)}:function(){n.configureRequest(t,e,s.call(arguments,0))},i.directCfg={action:t,method:e},i},isConnected:function(){return!!this.connected},connect:function(){this.url&&(this.initAPI(),this.connected=!0,this.fireEvent("connect",this))},disconnect:function(){this.connected&&(this.connected=!1,this.fireEvent("disconnect",this))},runCallback:function(t,e){var i,n,s,r=!!e.status,o=r?"success":"failure";t&&t.callback&&(i=t.callback,n=t.callbackOptions,s=void 0!==e.result?e.result:e.data,Ext.isFunction(i)?i(s,e,r,n):(Ext.callback(i[o],i.scope,[s,e,r,n]),Ext.callback(i.callback,i.scope,[s,e,r,n])))},onData:function(t,e,i){var n,s,r,o,a,l;if(e)for(n=0,s=(r=this.createEvents(i)).length;n<s;++n)o=r[n],a=this.getTransaction(o),this.fireEvent("data",this,o),a&&!1!==this.fireEvent("beforecallback",this,o,a)&&(this.runCallback(a,o,!0),Ext.direct.Manager.removeTransaction(a));else for(n=0,s=(l=[].concat(t.transaction)).length;n<s;++n)(a=this.getTransaction(l[n]))&&a.retryCount<this.maxRetries?a.retry():(o=new Ext.direct.ExceptionEvent({data:null,transaction:a,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}),this.fireEvent("data",this,o),a&&!1!==this.fireEvent("beforecallback",this,a)&&(this.runCallback(a,o,!1),Ext.direct.Manager.removeTransaction(a)))},getTransaction:function(t){return t&&t.tid?Ext.direct.Manager.getTransaction(t.tid):null},configureRequest:function(t,e,i){var n,s,r,o,a,l,h;s=(n=e.getCallData(i)).data,r=n.callback,o=n.scope,a=n.options||{},h=Ext.apply({},{provider:this,args:i,action:t,method:e.name,data:s,callbackOptions:a,callback:o&&Ext.isFunction(r)?Ext.Function.bind(r,o):r}),a.timeout&&Ext.applyIf(h,{timeout:a.timeout}),l=new Ext.direct.Transaction(h),!1!==this.fireEvent("beforecall",this,l,e)&&(Ext.direct.Manager.addTransaction(l),this.queueTransaction(l),this.fireEvent("call",this,l,e))},getCallData:function(t){return{action:t.action,method:t.method,data:t.data,type:"rpc",tid:t.id}},sendRequest:function(t){var e,i,n,s,r,o=this.enableUrlEncode;if(e={url:this.url,callback:this.onData,scope:this,transaction:t,timeout:this.timeout},t.timeout&&(e.timeout=t.timeout),Ext.isArray(t))for(i=[],s=0,r=t.length;s<r;++s)i.push(this.getCallData(t[s]));else i=this.getCallData(t);o?((n={})[Ext.isString(o)?o:"data"]=Ext.encode(i),e.params=n):e.jsonData=i,Ext.Ajax.request(e)},queueTransaction:function(t){var e=this.enableBuffer;t.form?this.sendFormRequest(t):void 0===t.timeout?e?(this.callBuffer.push(t),this.callTask||(this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this)),this.callTask.delay(Ext.isNumber(e)?e:10)):this.combineAndSend():this.sendRequest(t)},combineAndSend:function(){var t=this.callBuffer,e=t.length;e>0&&(this.sendRequest(1==e?t[0]:t),this.callBuffer=[])},configureFormRequest:function(t,e,i,n,s){var r,o,a;r=new Ext.direct.Transaction({provider:this,action:t,method:e.name,args:[i,n,s],callback:s&&Ext.isFunction(n)?Ext.Function.bind(n,s):n,isForm:!0}),!1!==this.fireEvent("beforecall",this,r,e)&&(Ext.direct.Manager.addTransaction(r),o="multipart/form-data"==String(i.getAttribute("enctype")).toLowerCase(),a={extTID:r.id,extAction:t,extMethod:e.name,extType:"rpc",extUpload:String(o)},Ext.apply(r,{form:Ext.getDom(i),isUpload:o,params:n&&Ext.isObject(n.params)?Ext.apply(a,n.params):a}),this.fireEvent("call",this,r,e),this.sendFormRequest(r))},sendFormRequest:function(t){Ext.Ajax.request({url:this.url,params:t.params,callback:this.onData,scope:this,form:t.form,isUpload:t.isUpload,transaction:t})}}),Ext.define("Ext.dom.Layer",{extend:Ext.Element,alternateClassName:"Ext.Layer",statics:{shims:[]},isLayer:!0,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(t,e){t=t||{};var i=Ext.DomHelper,n=t.parentEl,s=n?Ext.getDom(n):document.body,r=t.hideMode,o=Ext.baseCSSPrefix+(!t.fixed||Ext.isIE6||Ext.isIEQuirks?"layer":"fixed-layer");this.el=this,e&&(this.dom=Ext.getDom(e)),this.dom?(this.addCls(o),this.dom.parentNode||s.appendChild(this.dom)):this.dom=i.append(s,t.dh||{tag:"div",cls:o}),t.id?this.id=this.dom.id=t.id:this.id=Ext.id(this.dom),Ext.Element.addToCache(this),t.cls&&this.addCls(t.cls),this.constrain=!1!==t.constrain,r?(this.setVisibilityMode(Ext.Element[r.toUpperCase()]),this.visibilityMode==Ext.Element.ASCLASS&&(this.visibilityCls=t.visibilityCls)):t.useDisplay?this.setVisibilityMode(Ext.Element.DISPLAY):this.setVisibilityMode(Ext.Element.VISIBILITY),t.shadow?(this.shadowOffset=t.shadowOffset||4,this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:t.shadow,fixed:t.fixed}),this.disableShadow()):this.shadowOffset=0,this.useShim=!1!==t.shim&&Ext.useShims,!0===t.hidden?this.hide():this.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var t,e;return this.useShim?(this.shim||((t=this.self.shims.shift())||((t=this.createShim()).enableDisplayMode("block"),t.hide()),e=this.dom.parentNode,t.dom.parentNode!=e&&e.insertBefore(t.dom,this.dom),this.shim=t),this.shim):null},hideShim:function(){this.shim&&(this.shim.setDisplayed(!1),this.self.shims.push(this.shim),delete this.shim)},disableShadow:function(){this.shadow&&!this.shadowDisabled&&(this.shadowDisabled=!0,this.shadow.hide(),this.lastShadowOffset=this.shadowOffset,this.shadowOffset=0)},enableShadow:function(t){this.shadow&&this.shadowDisabled&&(this.shadowDisabled=!1,this.shadowOffset=this.lastShadowOffset,delete this.lastShadowOffset,t&&this.sync(!0))},sync:function(t){var e,i,n,s,r,o,a,l,h,d=this.shadow;return!this.updating&&this.isVisible()&&(d||this.useShim)&&(s=this.getShim(),o=(r=this[this.localXYNames.get]())[0],a=r[1],l=this.dom.offsetWidth,h=this.dom.offsetHeight,d&&!this.shadowDisabled?(t&&!d.isVisible()?d.show(this):d.realign(o,a,l,h),s&&(s.getStyle("z-index")>this.zindex&&this.shim.setStyle("z-index",this.zindex-2),s.show(),d.isVisible()?(e=d.el.getXY(),i=s.dom.style,n=d.el.getSize(),Ext.supports.CSS3BoxShadow&&(n.height+=6,n.width+=4,e[0]-=2,e[1]-=4),i.left=e[0]+"px",i.top=e[1]+"px",i.width=n.width+"px",i.height=n.height+"px"):(s.setSize(l,h),s[this.localXYNames.set](o,a)))):s&&(s.getStyle("z-index")>this.zindex&&this.shim.setStyle("z-index",this.zindex-2),s.show(),s.setSize(l,h),s[this.localXYNames.set](o,a))),this},remove:function(){this.hideUnders(),this.callParent()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide(),this.hideShim()},constrainXY:function(){if(this.constrain){var t=Ext.Element.getViewWidth(),e=Ext.Element.getViewHeight(),i=Ext.getDoc().getScroll(),n=this.getXY(),s=n[0],r=n[1],o=this.shadowOffset,a=this.dom.offsetWidth+o,l=this.dom.offsetHeight+o,h=!1;s+a>t+i.left&&(s=t-a-o,h=!0),r+l>e+i.top&&(r=e-l-o,h=!0),s<i.left&&(s=i.left,h=!0),r<i.top&&(r=i.top,h=!0),h&&(Ext.Layer.superclass.setXY.call(this,[s,r]),this.sync())}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(t,e,i,n,s){var r,o=this;return r=function(){t&&o.sync(!0),n&&n()},t||o.hideUnders(!0),o.callParent([t,e,i,n,s]),e||r(),o},beforeFx:function(){return this.beforeAction(),this.callParent(arguments)},afterFx:function(){this.callParent(arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(t){return this.callParent(arguments),this.sync()},setTop:function(t){return this.callParent(arguments),this.sync()},setLeftTop:function(t,e){return this.callParent(arguments),this.sync()},setLocalX:function(){return this.callParent(arguments),this.sync()},setLocalXY:function(){return this.callParent(arguments),this.sync()},setLocalY:function(){return this.callParent(arguments),this.sync()},setXY:function(t,e,i,n,s){return n=this.createCB(n),this.fixDisplay(),this.beforeAction(),this.callParent([t,e,i,n,s]),e||n(),this},createCB:function(t){var e=this,i=e.shadow&&e.shadow.isVisible();return function(){e.constrainXY(),e.sync(i),t&&t()}},setX:function(t,e,i,n,s){return this.setXY([t,this.getY()],e,i,n,s),this},setY:function(t,e,i,n,s){return this.setXY([this.getX(),t],e,i,n,s),this},setSize:function(t,e,i,n,s,r){return s=this.createCB(s),this.beforeAction(),this.callParent([t,e,i,n,s,r]),i||s(),this},setWidth:function(t,e,i,n,s){return n=this.createCB(n),this.beforeAction(),this.callParent([t,e,i,n,s]),e||n(),this},setHeight:function(t,e,i,n,s){return n=this.createCB(n),this.beforeAction(),this.callParent([t,e,i,n,s]),e||n(),this},setBounds:function(t,e,i,n,s,r,o,a){return o=this.createCB(o),this.beforeAction(),s?this.callParent([t,e,i,n,s,r,o,a]):(Ext.Layer.superclass.setXY.call(this,[t,e]),Ext.Layer.superclass.setSize.call(this,i,n),o()),this},setZIndex:function(t){return this.zindex=t,this.getShim()&&this.shim.setStyle("z-index",t++),this.shadow&&this.shadow.setZIndex(t++),this.setStyle("z-index",t)},onOpacitySet:function(t){var e=this.shadow;e&&e.setOpacity(t)}}),Ext.define("Ext.draw.Matrix",{constructor:function(t,e,i,n,s,r){this.matrix=null!=t?[[t,i,s],[e,n,r],[0,0,1]]:[[1,0,0],[0,1,0],[0,0,1]]},add:function(t,e,i,n,s,r){var o,a,l,h,d=[[],[],[]],c=[[t,i,s],[e,n,r],[0,0,1]];for(o=0;o<3;o++)for(a=0;a<3;a++){for(h=0,l=0;l<3;l++)h+=this.matrix[o][l]*c[l][a];d[o][a]=h}this.matrix=d},prepend:function(t,e,i,n,s,r){var o,a,l,h,d=[[],[],[]],c=[[t,i,s],[e,n,r],[0,0,1]];for(o=0;o<3;o++)for(a=0;a<3;a++){for(h=0,l=0;l<3;l++)h+=c[o][l]*this.matrix[l][a];d[o][a]=h}this.matrix=d},invert:function(){var t=this.matrix,e=t[0][0],i=t[1][0],n=t[0][1],s=t[1][1],r=t[0][2],o=t[1][2],a=e*s-i*n;return new Ext.draw.Matrix(s/a,-i/a,-n/a,e/a,(n*o-s*r)/a,(i*r-e*o)/a)},clone:function(){var t=this.matrix,e=t[0][0],i=t[1][0],n=t[0][1],s=t[1][1],r=t[0][2],o=t[1][2];return new Ext.draw.Matrix(e,i,n,s,r,o)},translate:function(t,e){this.prepend(1,0,0,1,t,e)},scale:function(t,e,i,n){null==e&&(e=t),this.add(t,0,0,e,i*(1-t),n*(1-e))},rotate:function(t,e,i){t=Ext.draw.Draw.rad(t);var n=+Math.cos(t).toFixed(9),s=+Math.sin(t).toFixed(9);this.add(n,s,-s,n,e-n*e+s*i,-s*e+i-n*i)},x:function(t,e){var i=this.matrix;return t*i[0][0]+e*i[0][1]+i[0][2]},y:function(t,e){var i=this.matrix;return t*i[1][0]+e*i[1][1]+i[1][2]},get:function(t,e){return+this.matrix[t][e].toFixed(4)},toString:function(){return[this.get(0,0),this.get(0,1),this.get(1,0),this.get(1,1),0,0].join()},toSvg:function(){return"matrix("+[this.get(0,0),this.get(1,0),this.get(0,1),this.get(1,1),this.get(0,2),this.get(1,2)].join()+")"},toFilter:function(t,e){return t=t||0,e=e||0,"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+this.get(0,0)+", M12="+this.get(0,1)+", M21="+this.get(1,0)+", M22="+this.get(1,1)+", Dx="+(this.get(0,2)+t)+", Dy="+(this.get(1,2)+e)+")"},offset:function(){var t=this.matrix;return[(t[0][2]||0).toFixed(4),(t[1][2]||0).toFixed(4)]},split:function(){function t(t){return t[0]*t[0]+t[1]*t[1]}function e(e){var i=Math.sqrt(t(e));e[0]/=i,e[1]/=i}var i,n=this.matrix,s={translateX:n[0][2],translateY:n[1][2]};return i=[[n[0][0],n[0][1]],[n[1][1],n[1][1]]],s.scaleX=Math.sqrt(t(i[0])),e(i[0]),s.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*s.shear,i[1][1]-i[0][1]*s.shear],s.scaleY=Math.sqrt(t(i[1])),e(i[1]),s.shear/=s.scaleY,s.rotate=Math.asin(-i[0][1]),s.isSimple=!(+s.shear.toFixed(9)||s.scaleX.toFixed(9)!=s.scaleY.toFixed(9)&&s.rotate),s}}),Ext.define("Ext.draw.SpriteDD",{extend:Ext.dd.DragSource,constructor:function(t,e){var i=t.el;this.sprite=t,this.el=i,this.dragData={el:i,sprite:t},this.callParent([i,e]),this.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(t){return this.el},getRegion:function(){var t,e,i,n,s,r,o=this.el;r=this.sprite.getBBox();try{t=Ext.Element.getXY(o)}catch(t){}return t?(e=t[0],i=e+r.width,n=t[1],s=n+r.height,new Ext.util.Region(n,i,s,e)):null},startDrag:function(t,e){this.sprite.attr;this.prev=this.sprite.surface.transformToViewBox(t,e)},onDrag:function(t){var e,i,n=t.getXY(),s=this.sprite,r=s.attr;e=(n=this.sprite.surface.transformToViewBox(n[0],n[1]))[0]-this.prev[0],i=n[1]-this.prev[1],s.setAttributes({translate:{x:r.translation.x+e,y:r.translation.y+i}},!0),this.prev=n},setDragElPos:function(){return!1}}),Ext.define("Ext.draw.Sprite",{mixins:{observable:Ext.util.Observable,animate:Ext.util.Animate},dirty:!1,dirtyHidden:!1,dirtyTransform:!1,dirtyPath:!0,dirtyFont:!0,zIndexDirty:!0,isSprite:!0,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(t){t=Ext.merge({},t||{}),this.id=Ext.id(null,"ext-sprite-"),this.transformations=[],Ext.copyTo(this,t,"surface,group,type,draggable"),this.bbox={},this.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}},delete t.surface,delete t.group,delete t.type,delete t.draggable,this.setAttributes(t),this.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click"),this.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){this.el||this.surface.createSpriteElement(this),this.dd=new Ext.draw.SpriteDD(this,Ext.isBoolean(this.draggable)?null:this.draggable),this.on("beforedestroy",this.dd.destroy,this.dd)},setAttributes:function(t,e){var i,n,s,r,o,a,l,h,d=this.fontProperties,c=d.length,u=this.pathProperties,f=u.length,p=!!this.surface,g=p&&this.surface.customAttributes||{},m=this.attr,x=!1;t=Ext.apply({},t);for(i in g)t.hasOwnProperty(i)&&"function"==typeof g[i]&&Ext.apply(t,g[i].apply(this,[].concat(t[i])));for(!!t.hidden!=!!m.hidden&&(this.dirtyHidden=!0),n=0;n<f;n++)if((i=u[n])in t&&t[i]!==m[i]){this.dirtyPath=!0,x=!0;break}"zIndex"in t&&(this.zIndexDirty=!0),"text"in t&&(this.dirtyFont=!0,x=!0);for(n=0;n<c;n++)if((i=d[n])in t&&t[i]!==m[i]){this.dirtyFont=!0,x=!0;break}return s=t.translation||t.translate,delete t.translate,delete t.translation,r=m.translation,s&&("x"in s&&s.x!==r.x||"y"in s&&s.y!==r.y)&&(this.dirtyTransform=!0,r.x=s.x,r.y=s.y),o=t.rotation||t.rotate,a=m.rotation,delete t.rotate,delete t.rotation,o&&("x"in o&&o.x!==a.x||"y"in o&&o.y!==a.y||"degrees"in o&&o.degrees!==a.degrees)&&(this.dirtyTransform=!0,a.x=o.x,a.y=o.y,a.degrees=o.degrees),l=t.scaling||t.scale,h=m.scaling,delete t.scale,delete t.scaling,l&&("x"in l&&l.x!==h.x||"y"in l&&l.y!==h.y||"cx"in l&&l.cx!==h.cx||"cy"in l&&l.cy!==h.cy)&&(this.dirtyTransform=!0,h.x=l.x,h.y=l.y,h.cx=l.cx,h.cy=l.cy),!this.dirtyTransform&&x&&(null!==m.scaling.x&&null!==m.scaling.y&&null!==m.rotation.y&&null!==m.rotation.y||(this.dirtyTransform=!0)),Ext.apply(m,t),this.dirty=!0,!0===e&&p&&this.redraw(),this},getBBox:function(){return this.surface.getBBox(this)},setText:function(t){return this.surface.setText(this,t)},hide:function(t){return this.setAttributes({hidden:!0},t),this},show:function(t){return this.setAttributes({hidden:!1},t),this},remove:function(){return!!this.surface&&(this.surface.remove(this),!0)},onRemove:function(){this.surface.onRemove(this)},destroy:function(){!1!==this.fireEvent("beforedestroy",this)&&(this.remove(),this.surface.onDestroy(this),this.clearListeners(),this.fireEvent("destroy"))},redraw:function(){return this.surface.renderItem(this),this},setStyle:function(){return this.el.setStyle.apply(this.el,arguments),this},addCls:function(t){return this.surface.addCls(this,t),this},removeCls:function(t){return this.surface.removeCls(this,t),this}}),Ext.define("Ext.draw.Text",{extend:Ext.draw.Component,alias:"widget.text",text:"",focusable:!1,viewBox:!1,autoSize:!0,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){this.textConfig=Ext.apply({type:"text",text:this.text,rotate:{degrees:this.degrees||0}},this.textStyle),Ext.apply(this.textConfig,this.getStyles(this.styleSelectors||this.styleSelector)),this.initialConfig.items=[this.textConfig],this.callParent(arguments)},getStyles:function(t){for(var e,i,n=0,s=(t=Ext.Array.from(t)).length,r={};n<s;n++)(e=Ext.util.CSS.getRule(t[n]))&&(i=e.style)&&Ext.apply(r,{"font-family":i.fontFamily,"font-weight":i.fontWeight,"line-height":i.lineHeight,"font-size":i.fontSize,fill:i.color});return r},setAngle:function(t){var e;this.rendered?(e=this.surface.items.items[0],this.degrees=t,e.setAttributes({rotate:{degrees:t}},!0),(this.autoSize||this.viewBox)&&this.updateLayout()):this.degrees=t},setText:function(t){var e,i,n=this;n.rendered?(i=(e=n.surface).items.items[0],n.text=t||"",e.remove(i),n.textConfig.type="text",n.textConfig.text=n.text,(i=e.add(n.textConfig)).setAttributes({rotate:{degrees:n.degrees}},!0),(n.autoSize||n.viewBox)&&n.updateLayout()):n.on({render:function(){n.setText(t)},single:!0})}}),Ext.define("Ext.draw.engine.ImageExporter",{singleton:!0,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(t,e){var i,n=(e=e||{}).type;return-1!==Ext.Array.indexOf(this.supportedTypes,n)&&(i=Ext.getBody().createChild({tag:"form",method:"POST",action:e.url||this.defaultUrl,cls:this.formCls,children:[{tag:"input",type:"hidden",name:e.widthParam||this.widthParam,value:e.width||t.width},{tag:"input",type:"hidden",name:e.heightParam||this.heightParam,value:e.height||t.height},{tag:"input",type:"hidden",name:e.typeParam||this.typeParam,value:n},{tag:"input",type:"hidden",name:e.svgParam||this.svgParam}]}),i.last(null,!0).value=Ext.draw.engine.SvgExporter.generate(t),i.dom.submit(),i.remove(),!0)}}),Ext.define("Ext.draw.engine.Svg",{extend:Ext.draw.Surface,engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(t,e){var i,n=this.domRef.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(i in e)n.setAttribute(i,String(e[i]));return n},createSpriteElement:function(t){var e=this.createSvgElement(t.type);return e.id=t.id,e.style&&(e.style.webkitTapHighlightColor="rgba(0,0,0,0)"),t.el=Ext.get(e),this.applyZIndex(t),t.matrix=new Ext.draw.Matrix,t.bbox={plain:0,transform:0},this.applyAttrs(t),this.applyTransformations(t),t.fireEvent("render",t),e},getBBoxText:function(t){var e,i,n,s,r,o,a={};if(t&&t.el){o=t.el.dom;try{return a=o.getBBox()}catch(t){}for(a={x:a.x,y:1/0,width:0,height:0},r=o.getNumberOfChars(),s=0;s<r;s++)e=o.getExtentOfChar(s),a.y=Math.min(e.y,a.y),i=e.y+e.height-a.y,a.height=Math.max(a.height,i),n=e.x+e.width-a.x,a.width=Math.max(a.width,n);return a}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(t){this.addCls(t,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(t){this.removeCls(t,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(t,e){for(var i,n,s=new Ext.draw.Matrix,r=t.transformations,o=r.length,a=0;a<o;a++)"translate"==(n=(i=r[a]).type)?s.translate(i.x,i.y):"rotate"==n?s.rotate(i.degrees,i.x,i.y):"scale"==n&&s.scale(i.x,i.y,i.centerX,i.centerY);t.matrix=s,e||t.el.set({transform:s.toSvg()})},setSize:function(t,e){var i=this.el;t=+t||this.width,e=+e||this.height,this.width=t,this.height=e,i.setSize(t,e),i.set({width:t,height:e}),this.callParent([t,e])},getRegion:function(){var t=this.el.getXY(),e=this.bgRect.getXY(),i=Math.max,n=i(t[0],e[0]),s=i(t[1],e[1]);return{left:n,top:s,right:n+this.width,bottom:s+this.height}},onRemove:function(t){t.el&&(t.el.destroy(),delete t.el),this.callParent(arguments)},setViewBox:function(t,e,i,n){isFinite(t)&&isFinite(e)&&isFinite(i)&&isFinite(n)&&(this.callParent(arguments),this.el.dom.setAttribute("viewBox",[t,e,i,n].join(" ")))},render:function(t){var e,i,n,s,r,o;this.el||(e=this.width||0,i=this.height||0,n=this.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:e,height:i}),s=this.getDefs(),r=this.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0}),Ext.isSafari3&&(o=this.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})),n.appendChild(s),Ext.isSafari3&&n.appendChild(o),n.appendChild(r),t.appendChild(n),this.el=Ext.get(n),this.bgRect=Ext.get(r),Ext.isSafari3&&(this.webkitRect=Ext.get(o),this.webkitRect.hide()),this.el.on({scope:this,mouseup:this.onMouseUp,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousemove:this.onMouseMove,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,click:this.onClick,dblclick:this.onDblClick})),this.renderAll()},onMouseEnter:function(t){this.el.parent().getRegion().contains(t.getPoint())&&this.fireEvent("mouseenter",t)},onMouseLeave:function(t){this.el.parent().getRegion().contains(t.getPoint())||this.fireEvent("mouseleave",t)},processEvent:function(t,e){var i,n=e.getTarget();this.surface;this.fireEvent(t,e),"tspan"==n.nodeName&&n.parentNode&&(n=n.parentNode),(i=this.items.get(n.id))&&i.fireEvent(t,i,e)},tuneText:function(t,e){t.el.dom;var i,n,s,r,o,a,l=[];if(e.hasOwnProperty("text")&&(n=t.tspans&&Ext.Array.map(t.tspans,function(t){return t.textContent}).join(""),t.tspans&&e.text==n?l=t.tspans||[]:(l=this.setText(t,e.text),t.tspans=l)),l.length){for(i=this.getBBoxText(t).height,a=t.el.dom.getAttribute("x"),s=0,r=l.length;s<r;s++)o=Ext.isFF3_0||Ext.isFF3_5?2:4,l[s].setAttribute("x",a),l[s].setAttribute("dy",s?1.2*i:i/o);t.dirty=!0}},setText:function(t,e){for(var i,n,s,r,o,a=t.el.dom,l=[];a.firstChild;)a.removeChild(a.firstChild);for(s=0,r=(o=String(e).split("\n")).length;s<r;s++)(n=o[s])&&((i=this.createSvgElement("tspan")).appendChild(document.createTextNode(Ext.htmlDecode(n))),a.appendChild(i),l[s]=i);return l},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(t){this.el&&(t.el||this.createSpriteElement(t),t.zIndexDirty&&this.applyZIndex(t),t.dirty&&(this.applyAttrs(t),t.dirtyTransform&&this.applyTransformations(t)))},redraw:function(t){t.dirty=t.zIndexDirty=!0,this.renderItem(t)},applyAttrs:function(t){var e,i,n,s,r,o,a=this,l=t.el,h=t.group,d=t.attr,c=a.parsers,u=a.gradientsMap||{},f=Ext.isSafari&&!Ext.isStrict;if(h){for(n=(e=[].concat(h)).length,i=0;i<n;i++)h=e[i],a.getGroup(h).add(t);delete t.group}s=a.scrubAttrs(t)||{},t.bbox.plain=0,t.bbox.transform=0,"circle"==t.type||"ellipse"==t.type?(s.cx=s.cx||s.x,s.cy=s.cy||s.y):"rect"==t.type?s.rx=s.ry=s.r:"path"==t.type&&s.d&&(s.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(s.d))),t.dirtyPath=!1,s["clip-rect"]&&(a.setClip(t,s),delete s["clip-rect"]),"text"==t.type&&s.font&&t.dirtyFont&&l.set({style:"font: "+s.font}),"image"==t.type&&l.dom.setAttributeNS(a.xlink,"href",s.src),Ext.applyIf(s,a.minDefaults[t.type]),t.dirtyHidden&&(d.hidden?a.hidePrim(t):a.showPrim(t),t.dirtyHidden=!1);for(r in s)if(s.hasOwnProperty(r)&&null!=s[r]){if(f&&"color|stroke|fill".indexOf(r)>-1&&s[r]in u&&(s[r]=u[s[r]]),"hidden"==r&&"text"==t.type)continue;r in c?l.dom.setAttribute(r,c[r](s[r],t,a)):l.dom.setAttribute(r,s[r])}"text"==t.type&&a.tuneText(t,s),t.dirtyFont=!1,(o=d.style)&&l.setStyle(o),t.dirty=!1,Ext.isSafari3&&(a.webkitRect.show(),setTimeout(function(){a.webkitRect.hide()}))},setClip:function(t,e){var i,n,s=e["clip-rect"];s&&(t.clip&&t.clip.parentNode.parentNode.removeChild(t.clip.parentNode),i=this.createSvgElement("clipPath"),n=this.createSvgElement("rect"),i.id=Ext.id(null,"ext-clip-"),n.setAttribute("x",s.x),n.setAttribute("y",s.y),n.setAttribute("width",s.width),n.setAttribute("height",s.height),i.appendChild(n),this.getDefs().appendChild(i),t.el.dom.setAttribute("clip-path","url(#"+i.id+")"),t.clip=n)},applyZIndex:function(t){var e,i=this.items,n=i.indexOf(t),s=t.el;if(this.el.dom.childNodes[n+2]!==s.dom){if(n>0)do{e=i.getAt(--n).el}while(!e&&n>0);s.insertAfter(e||this.bgRect)}t.zIndexDirty=!1},createItem:function(t){var e=new Ext.draw.Sprite(t);return e.surface=this,e},addGradient:function(t){var e,i,n,s,r,o=(t=Ext.draw.Draw.parseGradient(t)).stops.length,a=t.vector,l=Ext.isSafari&&!Ext.isStrict;if(r=this.gradientsMap||{},l)r["url(#"+t.id+")"]=t.stops[0].color;else for("linear"==t.type?((e=this.createSvgElement("linearGradient")).setAttribute("x1",a[0]),e.setAttribute("y1",a[1]),e.setAttribute("x2",a[2]),e.setAttribute("y2",a[3])):((e=this.createSvgElement("radialGradient")).setAttribute("cx",t.centerX),e.setAttribute("cy",t.centerY),e.setAttribute("r",t.radius),Ext.isNumber(t.focalX)&&Ext.isNumber(t.focalY)&&(e.setAttribute("fx",t.focalX),e.setAttribute("fy",t.focalY))),e.id=t.id,this.getDefs().appendChild(e),s=0;s<o;s++)i=t.stops[s],(n=this.createSvgElement("stop")).setAttribute("offset",i.offset+"%"),n.setAttribute("stop-color",i.color),n.setAttribute("stop-opacity",i.opacity),e.appendChild(n);this.gradientsMap=r},hasCls:function(t,e){return e&&-1!=(" "+(t.el.dom.getAttribute("class")||"")+" ").indexOf(" "+e+" ")},addCls:function(t,e){var i,n,s,r=t.el,o=[],a=r.getAttribute("class")||"";if(Ext.isArray(e)){for(i=0,n=e.length;i<n;i++)"string"==typeof(s=e[i])&&-1==(" "+a+" ").indexOf(" "+s+" ")&&o.push(s);o.length&&r.set({class:" "+o.join(" ")})}else"string"!=typeof e||this.hasCls(t,e)||r.set({class:a+" "+e})},removeCls:function(t,e){var i,n,s,r,o,a=t.el,l=a.getAttribute("class")||"";if(Ext.isArray(e)||(e=[e]),l){for(o=l.replace(this.trimRe," ").split(this.spacesRe),i=0,s=e.length;i<s;i++)"string"==typeof(r=e[i])&&(r=r.replace(this.trimRe,""),-1!=(n=Ext.Array.indexOf(o,r))&&Ext.Array.erase(o,n,1));a.set({class:o.join(" ")})}},destroy:function(){this.callParent(),this.el&&this.el.remove(),this._defs&&Ext.get(this._defs).destroy(),this.bgRect&&Ext.get(this.bgRect).destroy(),this.webkitRect&&Ext.get(this.webkitRect).destroy(),delete this.el}}),Ext.define("Ext.draw.engine.SvgExporter",function(){var t,e,i,n=/,/g,s=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,r=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,o=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,a={path:function(t){var e,i,s=t.attr,r=s.path,o="";if(Ext.isArray(r[0]))for(i=r.length,e=0;e<i;e++)o+=r[e].join(" ");else o=Ext.isArray(r)?r.join(" "):r.replace(n," ");return"<path "+l({d:o,fill:s.fill||"none",stroke:s.stroke,"fill-opacity":s.opacity,"stroke-width":s["stroke-width"],"stroke-opacity":s["stroke-opacity"],"z-index":s.zIndex,transform:t.matrix.toSvg()})+"/>"},text:function(t){var e=t.attr,i=s.exec(e.font),n=i&&i[1]||"12",r=i&&i[3]||"Arial",o=e.text,a=Ext.isFF3_0||Ext.isFF3_5?2:4,h="";return t.getBBox(),h+='<tspan x="'+(e.x||"")+'" dy="',h+=n/a+'">',h+=Ext.htmlEncode(o)+"</tspan>","<text "+l({x:e.x,y:e.y,"font-size":n,"font-family":r,"font-weight":e["font-weight"],"text-anchor":e["text-anchor"],fill:e.fill||"#000","fill-opacity":e.opacity,transform:t.matrix.toSvg()})+">"+h+"</text>"},rect:function(t){var e=t.attr;return"<rect "+l({x:e.x,y:e.y,rx:e.rx,ry:e.ry,width:e.width,height:e.height,fill:e.fill||"none","fill-opacity":e.opacity,stroke:e.stroke,"stroke-opacity":e["stroke-opacity"],"stroke-width":e["stroke-width"],transform:t.matrix&&t.matrix.toSvg()})+"/>"},circle:function(t){var e=t.attr;return"<circle "+l({cx:e.x,cy:e.y,r:e.radius,fill:e.translation.fill||e.fill||"none","fill-opacity":e.opacity,stroke:e.stroke,"stroke-opacity":e["stroke-opacity"],"stroke-width":e["stroke-width"],transform:t.matrix.toSvg()})+" />"},image:function(t){var e=t.attr;return"<image "+l({x:e.x-(e.width/2>>0),y:e.y-(e.height/2>>0),width:e.width,height:e.height,"xlink:href":e.src,transform:t.matrix.toSvg()})+" />"}},l=function(t){var e,i="";for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(i+=e+'="'+t[e]+'" ');return i};return{singleton:!0,generate:function(n,s){return s=s||{},function(n){(t=n).length,e=t.width,i=t.height}(n),function(){var t='<?xml version="1.0" standalone="yes"?>';return t+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'}()+function(){var n,s,l,h,d,c,u,f,p,g,m,x,E,y,v,b,C,w='<svg width="'+e+'px" height="'+i+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',S="";if(l=t.items.items,s=l.length,h=function(t){for(var e,i,n,s,r,o,a=t.childNodes,l=a.length,d=0,c="";d<l;d++){for(s=(n=a[d]).attributes,c+="<"+(r=n.tagName),i=0,e=s.length;i<e;i++)c+=" "+(o=s.item(i)).name+'="'+o.value+'"';c+=">",n.childNodes.length>0&&(c+=h(n)),c+="</"+r+">"}return c},t.getDefs)S=h(t.getDefs());else for((u=t.gradientsColl)&&(f=u.keys,p=u.items,g=0,m=f.length);g<m;g++){x=f[g],p[g],S+='<linearGradient id="'+x+'" x1="0" y1="0" x2="1" y2="1">';var T=t.gradientsColl.getByKey(x).colors.replace(r,"rgb($1|$2|$3)");for(E=0,y=(d=(T=T.replace(o,"rgba($1|$2|$3|$4)")).split(",")).length;E<y;E++)c=d[E].split(" "),T=Ext.draw.Color.fromString(c[1].replace(/\|/g,",")),S+='<stop offset="'+c[0]+'" stop-color="'+T.toString()+'" stop-opacity="1"></stop>';S+="</linearGradient>"}for(w+="<defs>"+S+"</defs>",w+=a.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}}),v=new Array(s),E=0;E<s;E++)v[E]=E;for(v.sort(function(t,e){return b=l[t].attr.zIndex||0,C=l[e].attr.zIndex||0,b==C?t-e:b-C}),E=0;E<s;E++)(n=l[v[E]]).attr.hidden||(w+=a[n.type](n));return w+="</svg>"}()}}}),Ext.define("Ext.draw.engine.Vml",{extend:Ext.draw.Surface,engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/gi,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1e3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:!1,path2vml:function(t){var e,i,n,s,r,o,a,l,h=this.NonVmlPathRe,d=this.map,c=this.valRe,u=this.zoom,f=this.bitesRe,p=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw);if(String(t).match(h))p=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw);else if(!String(t).match(this.partialPathRe))return e=String(t).replace(f,function(t,e,i){var n=[],s="m"==e.toLowerCase(),r=d[e];return i.replace(c,function(t){s&&2===n.length&&(r+=n+d["m"==e?"l":"L"],n=[]),n.push(Math.round(t*u))}),r+n});for(e=[],r=0,o=(i=p(t)).length;r<o;r++){for(n=i[r],"z"==(s=i[r][0].toLowerCase())&&(s="x"),a=1,l=n.length;a<l;a++)s+=Math.round(n[a]*this.zoom)+(a!=l-1?",":"");e.push(s)}return e.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(t){this.fireEvent("mouseenter",t)},onMouseLeave:function(t){this.fireEvent("mouseleave",t)},processEvent:function(t,e){var i,n=e.getTarget();this.surface;this.fireEvent(t,e),(i=this.items.get(n.id))&&i.fireEvent(t,i,e)},createSpriteElement:function(t){var e,i,n,s=t.attr,r=t.type,o=this.zoom,a=t.vml||(t.vml={}),l=(Math.round,"image"===r?this.createNode("image"):this.createNode("shape"));return l.coordsize=o+" "+o,l.coordorigin=s.coordorigin||"0 0",Ext.get(l).addCls(this.spriteCls),"text"==r&&(a.path=e=this.createNode("path"),e.textpathok=!0,a.textpath=n=this.createNode("textpath"),n.on=!0,l.appendChild(n),l.appendChild(e)),l.id=t.id,t.el=Ext.get(l),t.el.setStyle("zIndex",-this.zIndexShift),this.el.appendChild(l),"image"!==r&&((i=this.createNode("skew")).on=!0,l.appendChild(i),t.skew=i),t.matrix=new Ext.draw.Matrix,t.bbox={plain:null,transform:null},this.applyAttrs(t),this.applyTransformations(t),t.fireEvent("render",t),t.el},getBBoxText:function(t){var e=t.vml;return{x:e.X+(e.bbx||0)-e.W/2,y:e.Y-e.H/2,width:e.W,height:e.H}},applyAttrs:function(t){t.vml;var e,i,n,s,r,o,a,l,h,d=t.group,c=t.attr,u=t.el,f=u.dom;if(d){for(s=(i=[].concat(d)).length,n=0;n<s;n++)d=i[n],this.getGroup(d).add(t);delete t.group}r=this.scrubAttrs(t)||{},t.zIndexDirty&&this.setZIndex(t),Ext.applyIf(r,this.minDefaults[t.type]),"image"==t.type&&(Ext.apply(t.attr,{x:r.x,y:r.y,width:r.width,height:r.height}),u.setStyle({width:r.width+"px",height:r.height+"px"}),f.src=r.src),f.href&&(f.href=r.href),f.title&&(f.title=r.title),f.target&&(f.target=r.target),f.cursor&&(f.cursor=r.cursor),t.dirtyHidden&&(r.hidden?this.hidePrim(t):this.showPrim(t),t.dirtyHidden=!1),t.dirtyPath&&("circle"==t.type||"ellipse"==t.type?(o=r.x,a=r.y,l=r.rx||r.r||0,h=r.ry||r.r||0,f.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((o-l)*this.zoom),Math.round((a-h)*this.zoom),Math.round((o+l)*this.zoom),Math.round((a+h)*this.zoom),Math.round(o*this.zoom)),t.dirtyPath=!1):"text"!==t.type&&"image"!==t.type&&(t.attr.path=r.path=this.setPaths(t,r)||r.path,f.path=this.path2vml(r.path),t.dirtyPath=!1)),"clip-rect"in r&&this.setClip(t,r),"text"==t.type&&this.setTextAttributes(t,r),(r.opacity||r["stroke-opacity"]||r.fill)&&this.setFill(t,r),(r.stroke||r["stroke-opacity"]||r.fill)&&this.setStroke(t,r),(e=c.style)&&u.setStyle(e),t.dirty=!1},setZIndex:function(t){var e,i,n,s,r=t.attr.zIndex,o=this.zIndexShift;if(r<o){for(i=(e=this.items.items).length,s=0;s<i;s++)(r=e[s].attr.zIndex)&&r<o&&(o=r);for(this.zIndexShift=o,s=0;s<i;s++)(n=e[s]).el&&n.el.setStyle("zIndex",n.attr.zIndex-o),n.zIndexDirty=!1}else t.el&&(t.el.setStyle("zIndex",r-o),t.zIndexDirty=!1)},setPaths:function(t,e){var i=t.attr;t.attr["stroke-width"];return t.bbox.plain=null,t.bbox.transform=null,"circle"==t.type?(i.rx=i.ry=e.r,Ext.draw.Draw.ellipsePath(t)):"ellipse"==t.type?(i.rx=e.rx,i.ry=e.ry,Ext.draw.Draw.ellipsePath(t)):"rect"==t.type?(i.rx=i.ry=e.r,Ext.draw.Draw.rectPath(t)):!("path"!=t.type||!i.path)&&Ext.draw.Draw.pathToAbsolute(i.path)},setFill:function(t,e){var i,n,s,r,o=t.el.dom,a=o.fill,l=!1;a||(a=o.fill=this.createNode("fill"),l=!0),Ext.isArray(e.fill)&&(e.fill=e.fill[0]),"none"==e.fill?a.on=!1:("number"==typeof e.opacity&&(a.opacity=e.opacity),"number"==typeof e["fill-opacity"]&&(a.opacity=e["fill-opacity"]),a.on=!0,"string"==typeof e.fill&&((n=e.fill.match(this.fillUrlRe))?("#"==(n=n[1]).charAt(0)&&(i=this.gradientsColl.getByKey(n.substring(1))),i?(s=e.rotation,0===(r=-(i.angle+270+(s?s.degrees:0))%360)&&(r=180),a.angle=r,a.type="gradient",a.method="sigma",a.colors?a.colors.value=i.colors:a.colors=i.colors):(a.src=n,a.type="tile")):(a.color=Ext.draw.Color.toHex(e.fill),a.src="",a.type="solid"))),l&&o.appendChild(a)},setStroke:function(t,e){var i,n,s=t.el.dom,r=t.strokeEl,o=!1;r||(r=t.strokeEl=this.createNode("stroke"),o=!0),Ext.isArray(e.stroke)&&(e.stroke=e.stroke[0]),e.stroke&&"none"!=e.stroke&&0!=e.stroke&&0!=e["stroke-width"]?(r.on=!0,e.stroke&&!e.stroke.match(this.fillUrlRe)&&(r.color=Ext.draw.Color.toHex(e.stroke)),r.dashstyle=e["stroke-dasharray"]?"dash":"solid",r.joinstyle=e["stroke-linejoin"],r.endcap=e["stroke-linecap"]||"round",r.miterlimit=e["stroke-miterlimit"]||8,i=.75*parseFloat(e["stroke-width"]||1),n=e["stroke-opacity"]||1,Ext.isNumber(i)&&i<1?(r.weight=1,r.opacity=n*i):(r.weight=i,r.opacity=n)):r.on=!1,o&&s.appendChild(r)},setClip:function(t,e){t.el;var i=t.clipEl,n=String(e["clip-rect"]).split(this.separatorRe);i||(i=t.clipEl=this.el.insertFirst(Ext.getDoc().dom.createElement("div"))).addCls(Ext.baseCSSPrefix+"vml-sprite"),4==n.length?(n[2]=+n[2]+ +n[0],n[3]=+n[3]+ +n[1],i.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",n[0],n[1],n[2],n[3])),i.setSize(this.el.width,this.el.height)):i.setStyle("clip","")},setTextAttributes:function(t,e){var i,n,s=t.vml,r=s.textpath.style,o=this.span.style,a=this.zoom,l=(Math.round,{fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"});if(t.dirtyFont){e.font&&(r.font=o.font=e.font),e["font-family"]&&(r.fontFamily='"'+e["font-family"].split(",")[0].replace(this.fontFamilyRe,"")+'"',o.fontFamily=e["font-family"]);for(i in l)(n=e[l[i]])&&(r[i]=o[i]=n);this.setText(t,e.text),s.textpath.string&&(this.span.innerHTML=String(s.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>")),s.W=this.span.offsetWidth,s.H=this.span.offsetHeight+2,"middle"==e["text-anchor"]?r["v-text-align"]="center":"end"==e["text-anchor"]?(r["v-text-align"]="right",s.bbx=-Math.round(s.W/2)):(r["v-text-align"]="left",s.bbx=Math.round(s.W/2))}s.X=e.x,s.Y=e.y,s.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(s.X*a),Math.round(s.Y*a),Math.round(s.X*a)+1),t.bbox.plain=null,t.bbox.transform=null,t.dirtyFont=!1},setText:function(t,e){t.vml.textpath.string=Ext.htmlDecode(e)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(t){t.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(t){t.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(t,e){t=t||this.width,e=e||this.height,this.width=t,this.height=e,this.el&&(void 0!=t&&this.el.setWidth(t),void 0!=e&&this.el.setHeight(e)),this.callParent(arguments)},applyViewBox:function(){var t,e,i,n=this.viewBox,s=this.width,r=this.height;if(this.callParent(),n&&(s||r))for(e=(t=this.items.items).length,i=0;i<e;i++)this.applyTransformations(t[i])},onAdd:function(t){this.callParent(arguments),this.el&&this.renderItem(t)},onRemove:function(t){t.el&&(t.el.remove(),delete t.el),this.callParent(arguments)},render:function(t){var e,i=this,n=Ext.getDoc().dom;if(!i.createNode)try{n.namespaces.rvml||n.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),i.createNode=function(t){return n.createElement("<rvml:"+t+' class="rvml">')}}catch(t){i.createNode=function(t){return n.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}i.el||(e=n.createElement("div"),i.el=Ext.get(e),i.el.addCls(i.baseVmlCls),i.span=n.createElement("span"),Ext.get(i.span).addCls(i.measureSpanCls),e.appendChild(i.span),i.el.setSize(i.width||0,i.height||0),t.appendChild(e),i.el.on({scope:i,mouseup:i.onMouseUp,mousedown:i.onMouseDown,mouseover:i.onMouseOver,mouseout:i.onMouseOut,mousemove:i.onMouseMove,mouseenter:i.onMouseEnter,mouseleave:i.onMouseLeave,click:i.onClick,dblclick:i.onDblClick})),i.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(t){t.dirty=!0,this.renderItem(t)},renderItem:function(t){this.el&&(t.el||this.createSpriteElement(t),t.dirty&&(this.applyAttrs(t),t.dirtyTransform&&this.applyTransformations(t)))},rotationCompensation:function(t,e,i){var n=new Ext.draw.Matrix;return n.rotate(-t,.5,.5),{x:n.x(e,i),y:n.y(e,i)}},transform:function(t,e){for(var i,n,s,r=this.getBBox(t,!0),o=(r.x,r.width,r.y,r.height,new Ext.draw.Matrix),a=t.transformations,l=a.length,h=0,d=t.el.dom.style,c=(this.zoom,t.skew),u=this.viewBoxShift;h<l;h++)"translate"==(n=(i=a[h]).type)?o.translate(i.x,i.y):"rotate"==n?(o.rotate(i.degrees,i.x,i.y),i.degrees):"scale"==n&&(o.scale(i.x,i.y,i.centerX,i.centerY),i.x,i.y);t.matrix=o.clone(),e||(u&&o.prepend(u.scale,0,0,u.scale,u.dx*u.scale,u.dy*u.scale),"image"!=t.type&&c?(c.origin="0,0",c.matrix=o.toString(),(s=o.offset())[0]>32767?s[0]=32767:s[0]<-32768&&(s[0]=-32768),s[1]>32767?s[1]=32767:s[1]<-32768&&(s[1]=-32768),c.offset=s):(d.filter=o.toFilter(),d.left=Math.min(o.x(r.x,r.y),o.x(r.x+r.width,r.y),o.x(r.x,r.y+r.height),o.x(r.x+r.width,r.y+r.height))+"px",d.top=Math.min(o.y(r.x,r.y),o.y(r.x+r.width,r.y),o.y(r.x,r.y+r.height),o.y(r.x+r.width,r.y+r.height))+"px"))},createItem:function(t){return Ext.create("Ext.draw.Sprite",t)},getRegion:function(){return this.el.getRegion()},addCls:function(t,e){t&&t.el&&t.el.addCls(e)},removeCls:function(t,e){t&&t.el&&t.el.removeCls(e)},addGradient:function(t){var e,i,n,s,r,o,a=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),l=[],h=Ext.create("Ext.util.MixedCollection");for(h.addAll(t.stops),h.sortByKey("ASC",function(t,e){return t=parseInt(t,10),e=parseInt(e,10),t>e?1:t<e?-1:0}),e=h.keys,i=h.items,n=e.length,o=0;o<n;o++)s=e[o],r=i[o],l.push(s+"% "+r.color);a.add(t.id,{colors:l.join(","),angle:t.angle})},destroy:function(){this.callParent(arguments),this.el&&this.el.remove(),delete this.el}}),Ext.define("Ext.flash.Component",{extend:Ext.Component,alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent(),this.addEvents("success","failure")},beforeRender:function(){this.callParent(),Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var t=Ext.apply({},this.flashParams),e=Ext.apply({},this.flashVars);this.callParent(),t=Ext.apply({allowScriptAccess:"always",bgcolor:this.backgroundColor,wmode:this.wmode},t),e=Ext.apply({allowedDomain:document.location.hostname},e),new swfobject.embedSWF(this.url,this.getSwfId(),this.swfWidth,this.swfHeight,this.flashVersion,this.expressInstall?this.statics.EXPRESS_INSTALL_URL:void 0,e,t,this.flashAttributes,Ext.bind(this.swfCallback,this))},swfCallback:function(t){t.success?(this.swf=Ext.get(t.ref),this.onSuccess(),this.fireEvent("success",this)):(this.onFailure(),this.fireEvent("failure",this))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var t=this.swf;t&&(swfobject.removeSWF(this.getSwfId()),Ext.destroy(t),delete this.swf),this.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}}),Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(t){t&&Ext.apply(this,t);var e=t.params;Ext.isString(e)&&(this.params=Ext.Object.fromQueryString(e))},run:Ext.emptyFn,onFailure:function(t){this.response=t,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,this.form.afterAction(this,!1)},processResponse:function(t){return this.response=t,!t.responseText&&!t.responseXML||(this.result=this.handleResponse(t))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var t=this.form;return{success:this.onSuccess,failure:this.onFailure,scope:this,timeout:1e3*this.timeout||1e3*t.timeout,upload:t.fileUpload?this.onSuccess:void 0}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}}),Ext.define("Ext.form.action.Load",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(t){var e=this.processResponse(t),i=this.form;if(!0===e||!e.success||!e.data)return this.failureType=Ext.form.action.Action.LOAD_FAILURE,void i.afterAction(this,!1);i.clearInvalid(),i.setValues(e.data),i.afterAction(this,!0)},handleResponse:function(t){var e,i,n=this.form.reader;return n?(e=n.read(t),i=e.records&&e.records[0]?e.records[0].data:null,{success:e.success,data:i}):Ext.decode(t.responseText)}}),Ext.define("Ext.form.action.Submit",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var t=this.form;!1===this.clientValidation||t.isValid()?this.doSubmit():(this.failureType=Ext.form.action.Action.CLIENT_INVALID,t.afterAction(this,!1))},doSubmit:function(){var t,e=Ext.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers}),i=this.form,n=this.jsonSubmit||i.jsonSubmit,s=n?"jsonData":"params";i.hasUpload()?(t=this.buildForm(),e.form=t.formEl,e.isUpload=!0):e[s]=this.getParams(n),Ext.Ajax.request(e),t&&this.cleanup(t)},cleanup:function(t){var e,i,n=t.formEl,s=t.uploadEls,r=t.uploadFields,o=r.length;for(e=0;e<o;++e)(i=r[e]).clearOnSubmit||i.restoreInput(s[e]);n&&Ext.removeNode(n)},getParams:function(t){var e=this.callParent(),i=this.form.getValues(!1,!1,!1!==this.submitEmptyText,t);return Ext.apply({},i,e)},buildForm:function(){var t,e,i,n,s,r,o,a,l,h=[],d=this.form,c=this.getParams(),u=[],f=[],p=d.getFields().items,g=p.length;for(i=0;i<g;++i)(n=p[i]).rendered&&n.isFileUpload()&&u.push(n);for(s in c)if(c.hasOwnProperty(s))if(r=c[s],Ext.isArray(r))for(a=r.length,o=0;o<a;o++)h.push(this.getFieldConfig(s,r[o]));else h.push(this.getFieldConfig(s,r));for(t={tag:"form",action:this.getUrl(),method:this.getMethod(),target:this.target||"_self",style:"display:none",cn:h},u.length&&(t.encoding=t.enctype="multipart/form-data"),e=Ext.DomHelper.append(Ext.getBody(),t),g=u.length,i=0;i<g;++i)l=u[i].extractFileInput(),e.appendChild(l),f.push(l);return{formEl:e,uploadFields:u,uploadEls:f}},getFieldConfig:function(t,e){return{tag:"input",type:"hidden",name:t,value:Ext.String.htmlEncode(e)}},onSuccess:function(t){var e=this.form,i=!0,n=this.processResponse(t);!0===n||n.success||(n.errors&&e.markInvalid(n.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,i=!1),e.afterAction(this,i)},handleResponse:function(t){var e,i,n,s,r,o=this.form.errorReader;if(o){if(e=o.read(t),r=e.records,i=[],r)for(n=0,s=r.length;n<s;n++)i[n]=r[n].data;return i.length<1&&(i=null),{success:e.success,errors:i}}return Ext.decode(t.responseText)}}),Ext.define("Ext.util.ComponentDragger",{extend:Ext.dd.DragTracker,autoStart:500,constructor:function(t,e){this.comp=t,this.initialConstrainTo=e.constrainTo,this.callParent([e])},onStart:function(t){var e=this.comp;this.startPosition=e.getXY(),e.ghost&&!e.liveDrag&&(this.proxy=e.ghost(),this.dragTarget=this.proxy.header.el),(this.constrain||this.constrainDelegate)&&(this.constrainTo=this.calculateConstrainRegion()),e.beginDrag&&e.beginDrag()},calculateConstrainRegion:function(){var t,e,i,n=this.comp,s=this.initialConstrainTo,r=this.proxy?this.proxy.el:n.el,o=this.constrainDelegate||!r.shadow||r.shadowDisabled?0:r.shadow.getShadowSize();return s instanceof Ext.util.Region||((s=(t=Ext.fly(s)).getViewRegion()).right=s.left+t.dom.clientWidth),o&&s.adjust(o[0],-o[1],-o[2],o[3]),this.constrainDelegate||(e=Ext.fly(this.dragTarget).getRegion(),i=r.getRegion(),s.adjust(e.top-i.top,e.right-i.right,e.bottom-i.bottom,e.left-i.left)),s},onDrag:function(t){var e=this.proxy&&!this.comp.liveDrag?this.proxy:this.comp,i=this.getOffset(this.constrain||this.constrainDelegate?"dragTarget":null);e.setPagePosition(this.startPosition[0]+i[0],this.startPosition[1]+i[1])},onEnd:function(t){var e=this.comp;e.isDestroyed||e.destroying||(this.proxy&&!e.liveDrag&&e.unghost(),e.endDrag&&e.endDrag())}}),Ext.define("Ext.window.Window",{extend:Ext.panel.Panel,alternateClassName:"Ext.Window",alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,ariaRole:"alertdialog",itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,initComponent:function(){this.frame=!1,this.callParent(),this.addEvents("resize","maximize","minimize","restore"),this.plain&&this.addClsWithUI("plain"),this.modal&&(this.ariaRole="dialog"),this.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var t;return t=this.callParent(),t.tabIndex=-1,t},getState:function(){var t,e=this.callParent()||{},i=!!this.maximized,n=this.ghostBox;return e.maximized=i,t=i?this.restorePos:n?[n.x,n.y]:this.getPosition(),Ext.apply(e,{size:i?this.restoreSize:this.getSize(),pos:t}),e},applyState:function(t){t&&(this.maximized=t.maximized,this.maximized?(this.hasSavedRestore=!0,this.restoreSize=t.size,this.restorePos=t.pos):Ext.apply(this,{width:t.size.width,height:t.size.height,x:t.pos[0],y:t.pos[1]}))},onRender:function(t,e){this.callParent(arguments),this.focusEl=this.el,this.maximizable&&this.header.on({scope:this,dblclick:this.toggleMaximize})},afterRender:function(){var t,e=this.header;this.callParent(),this.maximized&&(this.maximized=!1,this.maximize(),e&&e.removeCls(e.indicateDragCls)),this.closable?(t=this.getKeyMap()).on(27,this.onEsc,this):t=this.keyMap,t&&this.hidden&&t.disable()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments),this.maximized&&this.resizer.disable()},onEsc:function(t,e){Ext.FocusManager&&Ext.FocusManager.enabled&&Ext.FocusManager.focusedCmp!==this||(e.stopEvent(),this.close())},beforeDestroy:function(){this.rendered&&(delete this.animateTarget,this.hide(),Ext.destroy(this.keyMap)),this.callParent()},addTools:function(){this.callParent(),this.minimizable&&this.addTool({type:"minimize",handler:Ext.Function.bind(this.minimize,this,[])}),this.maximizable&&(this.addTool({type:"maximize",handler:Ext.Function.bind(this.maximize,this,[])}),this.addTool({type:"restore",handler:Ext.Function.bind(this.restore,this,[]),hidden:!0}))},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var t,e,i=this.defaultButton||this.defaultFocus;return void 0!==i&&(Ext.isNumber(i)?t=this.query("button")[i]:Ext.isString(i)?((e=i).match(this.initialAlphaNum)&&(t=this.down("#"+e)),t||(t=this.down(e))):i.focus&&(t=i)),t||this.el},onFocus:function(){var t;Ext.FocusManager&&Ext.FocusManager.enabled||(t=this.getDefaultFocus())===this?this.callParent(arguments):t.focus()},beforeLayout:function(){var t=this.el.shadow;this.callParent(),t&&t.hide()},onShow:function(){this.callParent(arguments),this.expandOnShow&&this.expand(!1),this.syncMonitorWindowResize(),this.keyMap&&this.keyMap.enable()},doClose:function(){this.hidden?(this.fireEvent("close",this),"destroy"==this.closeAction&&this.destroy()):this.hide(this.animateTarget,this.doClose,this)},afterHide:function(){this.syncMonitorWindowResize(),this.keyMap&&this.keyMap.disable(),this.callParent(arguments)},onWindowResize:function(){var t;this.maximized?this.fitContainer():(((t=this.getSizeModel()).width.natural||t.height.natural)&&this.updateLayout(),this.doConstrain())},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(t){this.header.resumeLayouts(t?this.isRootCfg:null)},afterCollapse:function(){var t=this.header,e=this.tools;t&&this.maximizable&&(t.suspendLayouts(),e.maximize.hide(),e.restore.hide(),this.resumeHeaderLayout(!0)),this.resizer&&this.resizer.disable(),this.callParent(arguments)},afterExpand:function(){var t,e=this.header,i=this.tools;e&&(e.suspendLayouts(),this.maximized?(i.restore.show(),t=!0):this.maximizable&&(i.maximize.show(),t=!0),this.resumeHeaderLayout(t)),this.resizer&&this.resizer.enable(),this.callParent(arguments)},maximize:function(t){var e,i=this,n=i.header,s=i.tools;return i.maximized||(i.expand(!1),i.hasSavedRestore||(i.restoreSize=i.getSize(),i.restorePos=i.getPosition(!0)),n&&(n.suspendLayouts(),s.maximize&&(s.maximize.hide(),e=!0),s.restore&&(s.restore.show(),e=!0),i.collapseTool&&(i.collapseTool.hide(),e=!0),i.resumeHeaderLayout(e)),i.maximized=!0,i.el.disableShadow(),i.dd&&(i.dd.disable(),n&&n.removeCls(n.indicateDragCls)),i.resizer&&i.resizer.disable(),i.el.addCls(Ext.baseCSSPrefix+"window-maximized"),i.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),i.syncMonitorWindowResize(),i.fitContainer(t=t||i.animateTarget?{callback:function(){i.fireEvent("maximize",i)}}:null),t||i.fireEvent("maximize",i)),i},restore:function(t){var e,i=this,n=i.tools,s=i.header,r=i.restoreSize;return i.maximized&&(i.hasSavedRestore=null,i.removeCls(Ext.baseCSSPrefix+"window-maximized"),s&&(s.suspendLayouts(),n.restore&&(n.restore.hide(),e=!0),n.maximize&&(n.maximize.show(),e=!0),i.collapseTool&&(i.collapseTool.show(),e=!0),i.resumeHeaderLayout(e)),i.maximized=!1,r.x=i.restorePos[0],r.y=i.restorePos[1],i.setBox(r,t=t||i.animateTarget?{callback:function(){i.el.enableShadow(!0),i.fireEvent("restore",i)}}:null),i.restorePos=i.restoreSize=null,i.dd&&(i.dd.enable(),s&&s.addCls(s.indicateDragCls)),i.resizer&&i.resizer.enable(),i.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),i.syncMonitorWindowResize(),t||(i.el.enableShadow(!0),i.fireEvent("restore",i))),i},syncMonitorWindowResize:function(){var t=this._monitoringResize,e=this.monitorResize||this.constrain||this.constrainHeader||this.maximized,i=this.hidden||this.destroying||this.isDestroyed;e&&!i?t||(Ext.EventManager.onWindowResize(this.onWindowResize,this,{delay:1}),this._monitoringResize=!0):t&&(Ext.EventManager.removeResizeListener(this.onWindowResize,this),this._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}}),Ext.define("Ext.form.Labelable",{autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow"],labelableRenderTpl:['<tr id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl>>','<tpl if="labelOnLeft">','<td id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td class="{baseBodyCls} {fieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}"><tpl for="errors"><li>{.}</li></tpl></ul>',"</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",noWrap:!0,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget"],initLabelable:function(){var t=this.padding;t&&(this.padding=void 0,this.extraMargins=Ext.Element.parseBox(t)),this.activeErrorsTpl||("title"==this.msgTarget?this.activeErrorsTpl=this.plaintextActiveErrorsTpl:this.activeErrorsTpl=this.htmlActiveErrorsTpl),this.addCls(Ext.plainTableCls),this.addCls(this.formItemCls),this.lastActiveError="",this.addEvents("errorchange"),this.enableBubble("errorchange")},trimLabelSeparator:function(){var t=this.labelSeparator,e=this.fieldLabel||"";return e.substr(e.length-1)===t?e.slice(0,-1):e},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(t){t=t||"";var e=this.labelSeparator,i=this.labelEl;this.fieldLabel=t,this.rendered&&(Ext.isEmpty(t)&&this.hideEmptyLabel?i.parent().setDisplayed("none"):(e&&(t=this.trimLabelSeparator()+e),i.update(t),i.parent().setDisplayed("")),this.updateLayout())},getInsertionRenderData:function(t,e){for(var i,n,s=e.length;s--;)(n=this[i=e[s]])&&"string"!=typeof n&&(n.isTemplate||(n=Ext.XTemplate.getTpl(this,i)),n=n.apply(t)),t[i]=n||"";return t},getLabelableRenderData:function(){var t,e,i="top"===this.labelAlign;return Ext.form.Labelable.errorIconWidth||(e=Ext.getBody().createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"}),Ext.form.Labelable.errorIconWidth=e.getWidth()+e.getMargin("l"),e.remove()),t=Ext.copyTo({inFormLayout:this.ownerLayout&&"form"===this.ownerLayout.type,inputId:this.getInputId(),labelOnLeft:!i,hideLabel:!this.hasVisibleLabel(),fieldLabel:this.getFieldLabel(),labelCellStyle:this.getLabelCellStyle(),labelCellAttrs:this.getLabelCellAttrs(),labelCls:this.getLabelCls(),labelStyle:this.getLabelStyle(),bodyColspan:this.getBodyColspan(),externalError:!this.autoFitErrors,errorMsgCls:this.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},this,this.labelableRenderProps,!0),this.getInsertionRenderData(t,this.labelableInsertions),t},xhooks:{beforeRender:function(){this.setFieldDefaults(this.getHierarchyState().fieldDefaults),this.ownerLayout&&this.addCls(Ext.baseCSSPrefix+this.ownerLayout.type+"-form-item")},onRender:function(){var t,e,i={};if(this.extraMargins){t=this.el.getMargin();for(e in t)t.hasOwnProperty(e)&&(i["margin-"+e]=t[e]+this.extraMargins[e]+"px");this.el.setStyle(i)}}},hasVisibleLabel:function(){return!this.hideLabel&&!(this.hideEmptyLabel&&!this.getFieldLabel())},getLabelWidth:function(){return this.hasVisibleLabel()?this.labelWidth+this.labelPad:0},getBodyColspan:function(){var t;return t="side"!==this.msgTarget||this.autoFitErrors&&!this.hasActiveError()?2:1,"top"===this.labelAlign||this.hasVisibleLabel()||t++,t},getLabelCls:function(){var t=this.labelCls+" "+Ext.dom.Element.unselectableCls,e=this.labelClsExtra;return e?t+" "+e:t},getLabelCellStyle:function(){return this.hideLabel||!this.fieldLabel&&this.hideEmptyLabel?"display:none;":""},getErrorMsgCls:function(){var t=this.hideLabel||!this.fieldLabel&&this.hideEmptyLabel;return this.errorMsgCls+(t||"top"!==this.labelAlign?"":" "+Ext.baseCSSPrefix+"lbl-top-err-icon")},getLabelCellAttrs:function(){var t=this.labelAlign,e="";return"top"!==t&&(e='valign="top" halign="'+t+'" width="'+(this.labelWidth+this.labelPad)+'"'),e+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var t=this.labelPad,e="";return"top"!==this.labelAlign&&(this.labelWidth&&(e="width:"+this.labelWidth+"px;"),t&&(e+="margin-right:"+t+"px;")),e+(this.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(t){this.setActiveErrors(t)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(t){t=Ext.Array.from(t),this.activeError=t[0],this.activeErrors=t,this.activeError=this.getTpl("activeErrorsTpl").apply({errors:t,listCls:Ext.plainListCls}),this.renderActiveError()},unsetActiveError:function(){delete this.activeError,delete this.activeErrors,this.renderActiveError()},renderActiveError:function(){var t=this.getActiveError(),e=!!t;t!==this.lastActiveError&&(this.fireEvent("errorchange",this,t),this.lastActiveError=t),!this.rendered||this.isDestroyed||this.preventMark||(this.el[e?"addCls":"removeCls"](this.invalidCls),this.getActionEl().dom.setAttribute("aria-invalid",e),this.errorEl&&(this.errorEl.dom.innerHTML=t))},setFieldDefaults:function(t){var e;for(e in t)this.hasOwnProperty(e)||(this[e]=t[e])}}),Ext.define("Ext.form.field.Field",{isFormField:!0,disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange"),this.initValue()},initValue:function(){this.value=this.transformOriginalValue(this.value),this.originalValue=this.lastValue=this.value,this.suspendCheckChange++,this.setValue(this.value),this.suspendCheckChange--},transformOriginalValue:Ext.identityFn,getName:function(){return this.name},getValue:function(){return this.value},setValue:function(t){return this.value=t,this.checkChange(),this},isEqual:function(t,e){return String(t)===String(e)},isEqualAsString:function(t,e){return String(Ext.value(t,""))===String(Ext.value(e,""))},getSubmitData:function(){var t=null;return this.disabled||!this.submitValue||this.isFileUpload()||((t={})[this.getName()]=""+this.getValue()),t},getModelData:function(){var t=null;return this.disabled||this.isFileUpload()||((t={})[this.getName()]=this.getValue()),t},reset:function(){this.beforeReset(),this.setValue(this.originalValue),this.clearInvalid(),delete this.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var t=this.getValue(),e=this.lastValue;this.isEqual(t,e)||this.isDestroyed||(this.lastValue=t,this.fireEvent("change",this,t,e),this.onChange(t,e))}},onChange:function(t,e){this.validateOnChange&&this.validate(),this.checkDirty()},isDirty:function(){return!this.disabled&&!this.isEqual(this.getValue(),this.originalValue)},checkDirty:function(){var t=this.isDirty();t!==this.wasDirty&&(this.fireEvent("dirtychange",this,t),this.onDirtyChange(t),this.wasDirty=t)},onDirtyChange:Ext.emptyFn,getErrors:function(t){return[]},isValid:function(){return this.disabled||Ext.isEmpty(this.getErrors())},validate:function(){var t=this.isValid();return t!==this.wasValid&&(this.wasValid=t,this.fireEvent("validitychange",this,t)),t},batchChanges:function(t){try{this.suspendCheckChange++,t()}catch(t){throw t}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.layout.component.field.Field",{extend:Ext.layout.component.Auto,alias:"layout.field",type:"field",naturalSizingProp:"size",beginLayout:function(t){var e=this.owner;this.callParent(arguments),t.labelStrategy=this.getLabelStrategy(),t.errorStrategy=this.getErrorStrategy(),t.labelContext=t.getEl("labelEl"),t.bodyCellContext=t.getEl("bodyEl"),t.inputContext=t.getEl("inputEl"),t.errorContext=t.getEl("errorEl"),Ext.isIE7m&&Ext.isStrict&&t.inputContext&&(this.ieInputWidthAdjustment=t.inputContext.getPaddingInfo().width+t.inputContext.getBorderInfo().width),t.labelStrategy.prepare(t,e),t.errorStrategy.prepare(t,e)},beginLayoutCycle:function(t){var e,i=this.owner,n=t.widthModel,s=i[this.naturalSizingProp];this.callParent(arguments),n.shrinkWrap?this.beginLayoutShrinkWrap(t):n.natural?("number"!=typeof s||i.inputWidth?this.beginLayoutShrinkWrap(t):this.beginLayoutFixed(t,e=6.5*s+20,"px"),t.setWidth(e,!1)):this.beginLayoutFixed(t,"100","%")},beginLayoutFixed:function(t,e,i){var n=t.target,s=n.inputEl,r=n.inputWidth;n.el.setStyle("table-layout","fixed"),n.bodyEl.setStyle("width",e+i),s&&(r?s.setStyle("width",r+"px"):s.setStyle("width",n.stretchInputElFixed?"100%":"")),t.isFixed=!0},beginLayoutShrinkWrap:function(t){var e=t.target,i=e.inputEl,n=e.inputWidth;i&&i.dom&&(i.dom.removeAttribute("size"),n?i.setStyle("width",n+"px"):i.setStyle("width","")),e.el.setStyle("table-layout","auto"),e.bodyEl.setStyle("width","")},finishedLayout:function(t){var e=this.owner;this.callParent(arguments),t.labelStrategy.finishedLayout(t,e),t.errorStrategy.finishedLayout(t,e)},calculateOwnerHeightFromContentHeight:function(t,e){return e},measureContentHeight:function(t){return t.el.getHeight()},measureContentWidth:function(t){return t.el.getWidth()},measureLabelErrorHeight:function(t){return t.labelStrategy.getHeight(t)+t.errorStrategy.getHeight(t)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var t=this.labelStrategies;return t[this.owner.labelAlign]||t.base},getErrorStrategy:function(){var t=this.owner,e=this.errorStrategies,i=t.msgTarget;return!t.preventMark&&Ext.isString(i)?e[i]||e.elementId:e.none},labelStrategies:function(){var t={prepare:function(t,e){var i=e.labelCls+"-"+e.labelAlign,n=e.labelEl;n&&n.addCls(i)},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:t,top:Ext.applyIf({getHeight:function(t){var e=t.labelContext,i=e.props,n=i.height;return void 0===n&&(i.height=n=e.el.getHeight()),n}},t),left:t,right:t}}(),errorStrategies:function(){function t(t){var e,i=Ext.layout.component.field.Field.tip;i&&i.isVisible()&&(e=i.activeTarget)&&e.el===t.getActionEl().dom&&i.toFront(!0)}var e,i=Ext.applyIf,n=Ext.emptyFn,s=Ext.baseCSSPrefix+"form-invalid-icon",r={prepare:function(t,e){var i=e.errorEl;i&&i.setDisplayed(!1)},getHeight:function(){return 0},onFocus:n,finishedLayout:n};return{none:r,side:i({prepare:function(t,i){var n,r=i.errorEl,o=i.sideErrorCell,a=i.hasActiveError();e||(e=(n=Ext.getBody().createChild({style:"position:absolute",cls:s})).getWidth(),n.remove()),r.addCls(s),r.set({"data-errorqtip":i.getActiveError()||""}),i.autoFitErrors?r.setDisplayed(a):r.setVisible(a),o&&i.autoFitErrors&&o.setDisplayed(a),i.bodyEl.dom.colSpan=i.getBodyColspan(),Ext.layout.component.field.Field.initTip()},onFocus:t},r),under:i({prepare:function(t,e){var i=e.errorEl,n=Ext.baseCSSPrefix+"form-invalid-under";i.addCls(n),i.setDisplayed(e.hasActiveError())},getHeight:function(t){var e,i,n=0;return t.target.hasActiveError()&&void 0===(n=(i=(e=t.errorContext).props).height)&&(i.height=n=e.el.getHeight()),n}},r),qtip:i({prepare:function(t,e){Ext.layout.component.field.Field.initTip(),e.getActionEl().dom.setAttribute("data-errorqtip",e.getActiveError()||"")},onFocus:t},r),title:i({prepare:function(t,e){e.getActionEl().dom.setAttribute("title",e.getActiveError()||"")}},r),elementId:i({prepare:function(t,e){var i=Ext.fly(e.msgTarget);i&&(i.dom.innerHTML=e.getActiveError()||"",i.setDisplayed(e.hasActiveError()))}},r)}}(),statics:{initTip:function(){var t=this.tip;t||((t=this.tip=Ext.create("Ext.tip.QuickTip",{ui:"form-invalid"})).tagConfig=Ext.apply({},{attribute:"errorqtip"},t.tagConfig))},destroyTip:function(){var t=this.tip;t&&(t.destroy(),delete this.tip)}}}),Ext.define("Ext.form.field.Base",{extend:Ext.Component,mixins:{labelable:Ext.form.Labelable,field:Ext.form.field.Field},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:!1,stretchInputElFixed:!0,initComponent:function(){this.callParent(),this.subTplData=this.subTplData||{},this.addEvents("specialkey","writeablechange"),this.initLabelable(),this.initField(),this.name||(this.name=this.getInputId()),this.readOnly&&this.addCls(this.readOnlyCls)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var t,e=this.inputType,i=this.getInputId();return t=Ext.apply({id:i,cmpId:this.id,name:this.name||i,disabled:this.disabled,readOnly:this.readOnly,value:this.getRawValue(),type:e,fieldCls:this.fieldCls,fieldStyle:this.getFieldStyle(),tabIdx:this.tabIndex,inputCls:this.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+("password"===e?"text":e)},this.subTplData),this.getInsertionRenderData(t,this.subTplInsertions),t},applyRenderSelectors:function(){this.callParent(),this.addChildEls("inputEl"),this.inputEl=this.el.getById(this.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){return this.hasOwnProperty("renderTpl")||(this.renderTpl=this.getTpl("labelableRenderTpl")),this.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(t){var e=this.inputEl;e&&e.applyStyles(t),this.fieldStyle=t},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},onRender:function(){this.callParent(arguments),this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var t,e=null;return this.disabled||!this.submitValue||this.isFileUpload()||null!==(t=this.getSubmitValue())&&((e={})[this.getName()]=t),e},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var t=this.inputEl?this.inputEl.getValue():Ext.value(this.rawValue,"");return this.rawValue=t,t},setRawValue:function(t){return t=Ext.value(this.transformRawValue(t),""),this.rawValue=t,this.inputEl&&(this.inputEl.dom.value=t),t},transformRawValue:Ext.identityFn,valueToRaw:function(t){return""+Ext.value(t,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var t=this.rawToValue(this.processRawValue(this.getRawValue()));return this.value=t,t},setValue:function(t){return this.setRawValue(this.valueToRaw(t)),this.mixins.field.setValue.call(this,t)},onBoxReady:function(){this.callParent(),this.setReadOnlyOnBoxReady&&this.setReadOnly(this.readOnly)},onDisable:function(){var t=this.inputEl;this.callParent(),t&&(t.dom.disabled=!0,this.hasActiveError()&&(this.clearInvalid(),this.needsValidateOnEnable=!0))},onEnable:function(){var t=this.inputEl;this.callParent(),t&&(t.dom.disabled=!1,this.needsValidateOnEnable&&(delete this.needsValidateOnEnable,this.forceValidation=!0,this.isValid(),delete this.forceValidation))},setReadOnly:function(t){var e=this.inputEl;this[(t=!!t)?"addCls":"removeCls"](this.readOnlyCls),this.readOnly=t,e?e.dom.readOnly=t:this.rendering&&(this.setReadOnlyOnBoxReady=!0),this.fireEvent("writeablechange",this,t)},fireKey:function(t){t.isSpecialKey()&&this.fireEvent("specialkey",this,new Ext.EventObjectImpl(t))},initEvents:function(){var t,e,i,n,s=this,r=s.inputEl,o=s.checkChangeEvents,a=o.length;if(s.inEditor&&(s.onBlur=Ext.Function.createBuffered(s.onBlur,10)),r)for(s.mon(r,Ext.EventManager.getKeyEvent(),s.fireKey,s),t=new Ext.util.DelayedTask(s.checkChange,s),s.onChangeEvent=e=function(){t.delay(s.checkChangeBuffer)},i=0;i<a;i++)"propertychange"===(n=o[i])&&(s.usesPropertychange=!0),s.mon(r,n,e);s.callParent()},doComponentLayout:function(){var t=this.inputEl,e=this.usesPropertychange,i=this.onChangeEvent;e&&this.mun(t,"propertychange",i),this.callParent(arguments),e&&this.mon(t,"propertychange",i)},onDirtyChange:function(t){this[t?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var t=this.disabled;return this.forceValidation||!t?this.validateValue(this.processRawValue(this.getRawValue())):t},validateValue:function(t){var e=this.getErrors(t),i=Ext.isEmpty(e);return this.preventMark||(i?this.clearInvalid():this.markInvalid(e)),i},markInvalid:function(t){var e,i=this.getActiveError();this.setActiveErrors(Ext.Array.from(t)),i!==(e=this.getActiveError())&&this.setError(e)},clearInvalid:function(){var t=this.hasActiveError();delete this.needsValidateOnEnable,this.unsetActiveError(),t&&this.setError("")},setError:function(t){var e,i=this.msgTarget;this.rendered&&("title"==i||"qtip"==i?(this.rendered&&(e="qtip"==i?"data-errorqtip":"title"),this.getActionEl().dom.setAttribute(e,t||"")):this.updateLayout())},renderActiveError:function(){var t=this.hasActiveError();this.inputEl&&this.inputEl[t?"addCls":"removeCls"](this.invalidCls+"-field"),this.mixins.labelable.renderActiveError.call(this)},getActionEl:function(){return this.inputEl||this.el}}),Ext.define("Ext.form.field.VTypes",function(){var t=/^[a-zA-Z_]+$/,e=/^[a-zA-Z0-9_]+$/,i=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,n=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(t){return i.test(t)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(t){return n.test(t)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(e){return t.test(e)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(t){return e.test(t)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),Ext.define("Ext.layout.component.field.Text",{extend:Ext.layout.component.field.Field,alias:"layout.textfield",type:"textfield",canGrowWidth:!0,beginLayoutCycle:function(t){this.callParent(arguments),t.heightModel.shrinkWrap&&t.inputContext.el.setStyle("height","")},measureContentWidth:function(t){var e,i,n,s,r,o=this.owner,a=this.callParent(arguments),l=t.inputContext;return o.grow&&this.canGrowWidth&&!t.state.growHandled&&(e=o.inputEl,i=Ext.util.Format.htmlEncode(e.dom.value||(o.hasFocus?"":o.emptyText)||""),i+=o.growAppend,n=e.getTextWidth(i)+l.getFrameInfo().width,s=o.growMax,r=Math.min(s,a),s=Math.max(o.growMin,s,r),n=Ext.Number.constrain(n,o.growMin,s),l.setWidth(n),t.state.growHandled=!0,l.domBlock(this,"width"),a=NaN),a},publishInnerHeight:function(t,e){t.inputContext.setHeight(e-this.measureLabelErrorHeight(t))},beginLayoutFixed:function(t,e,i){var n=this.ieInputWidthAdjustment;n&&this.adjustIEInputPadding(t),this.callParent(arguments)},adjustIEInputPadding:function(t){this.owner.bodyEl.setStyle("padding-right",this.ieInputWidthAdjustment+"px")}}),Ext.define("Ext.form.field.Text",{extend:Ext.form.field.Base,alias:"widget.textfield",alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:!1,initComponent:function(){!1===this.allowOnlyWhitespace&&(this.allowBlank=!1),this.callParent(),this.addEvents("autosize","keydown","keyup","keypress"),this.addStateEvents("change"),this.setGrowSizePolicy()},setGrowSizePolicy:function(){this.grow&&(this.shrinkWrap|=1)},initEvents:function(){var t=this.inputEl;this.callParent(),(this.selectOnFocus||this.emptyText)&&this.mon(t,"mousedown",this.onMouseDown,this),(this.maskRe||this.vtype&&!0!==this.disableKeyFilter&&(this.maskRe=Ext.form.field.VTypes[this.vtype+"Mask"]))&&this.mon(t,"keypress",this.filterKeys,this),this.enableKeyEvents&&this.mon(t,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})},isEqual:function(t,e){return this.isEqualAsString(t,e)},onChange:function(){this.callParent(),this.autoSize()},getSubTplData:function(){var t,e=this.getRawValue(),i=this.emptyText&&e.length<1,n=this.maxLength;return this.enforceMaxLength?n===Number.MAX_VALUE&&(n=void 0):n=void 0,i&&(Ext.supports.Placeholder?t=this.emptyText:(e=this.emptyText,this.valueContainsPlaceholder=!0)),Ext.apply(this.callParent(),{maxLength:n,readOnly:this.readOnly,placeholder:t,value:e,fieldCls:this.fieldCls+(i&&(t||e)?" "+this.emptyCls:"")+(this.allowBlank?"":" "+this.requiredCls)})},afterRender:function(){this.autoSize(),this.callParent()},onMouseDown:function(t){this.hasFocus||this.mon(this.inputEl,"mouseup",Ext.emptyFn,this,{single:!0,preventDefault:!0})},processRawValue:function(t){var e,i=this.stripCharsRe;return i&&(e=t.replace(i,""))!==t&&(this.setRawValue(e),t=e),t},onDisable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(t){this.fireEvent("keydown",this,t)},onKeyUp:function(t){this.fireEvent("keyup",this,t)},onKeyPress:function(t){this.fireEvent("keypress",this,t)},reset:function(){this.callParent(),this.applyEmptyText()},applyEmptyText:function(){var t,e=this.emptyText;this.rendered&&e&&(t=this.getRawValue().length<1&&!this.hasFocus,Ext.supports.Placeholder?this.inputEl.dom.placeholder=e:t&&(this.setRawValue(e),this.valueContainsPlaceholder=!0),t&&this.inputEl.addCls(this.emptyCls),this.autoSize())},afterFirstLayout:function(){if(this.callParent(),Ext.isIE&&this.disabled){var t=this.inputEl;t&&(t.dom.unselectable="on")}},beforeFocus:function(){var t,e=this.inputEl,i=this.emptyText;this.callParent(arguments),i&&!Ext.supports.Placeholder&&e.dom.value===this.emptyText&&this.valueContainsPlaceholder?(this.setRawValue(""),t=!0,e.removeCls(this.emptyCls),this.valueContainsPlaceholder=!1):Ext.supports.Placeholder&&this.inputEl.removeCls(this.emptyCls),(this.selectOnFocus||t)&&(Ext.isWebKit?(this.inputFocusTask||(this.inputFocusTask=new Ext.util.DelayedTask(this.focusInput,this)),this.inputFocusTask.delay(1)):e.dom.select())},focusInput:function(){var t=this.inputEl;t&&(t=t.dom)&&t.select()},onFocus:function(){this.callParent(arguments),this.emptyText&&this.autoSize()},postBlur:function(){this.callParent(arguments),this.applyEmptyText()},filterKeys:function(t){if(!t.ctrlKey||t.altKey){var e=t.getKey(),i=String.fromCharCode(t.getCharCode());(Ext.isGecko||Ext.isOpera)&&(t.isNavKeyPress()||e===t.BACKSPACE||e===t.DELETE&&-1===t.button)||(Ext.isGecko||Ext.isOpera||!t.isSpecialKey()||i)&&(this.maskRe.test(i)||t.stopEvent())}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(t){this.callParent(arguments),t.hasOwnProperty("value")&&this.setValue(t.value)},getRawValue:function(){var t=this.callParent();return t===this.emptyText&&this.valueContainsPlaceholder&&(t=""),t},setValue:function(t){var e=this.inputEl;return e&&this.emptyText&&!Ext.isEmpty(t)&&(e.removeCls(this.emptyCls),this.valueContainsPlaceholder=!1),this.callParent(arguments),this.applyEmptyText(),this},getErrors:function(t){var e,i,n=this.callParent(arguments),s=this.validator,r=this.vtype,o=Ext.form.field.VTypes,a=this.regex,l=Ext.String.format;if(t=t||this.processRawValue(this.getRawValue()),Ext.isFunction(s)&&!0!==(e=s.call(this,t))&&n.push(e),(this.allowOnlyWhitespace?t:Ext.String.trim(t)).length<1||t===this.emptyText&&this.valueContainsPlaceholder){if(this.allowBlank||n.push(this.blankText),!this.validateBlank)return n;i=!0}return!i&&t.length<this.minLength&&n.push(l(this.minLengthText,this.minLength)),t.length>this.maxLength&&n.push(l(this.maxLengthText,this.maxLength)),r&&(o[r](t,this)||n.push(this.vtypeText||o[r+"Text"])),a&&!a.test(t)&&n.push(this.regexText||this.invalidText),n},selectText:function(t,e){var i,n=this.getRawValue(),s=!0,r=this.inputEl.dom;n.length>0&&(t=void 0===t?0:t,e=void 0===e?n.length:e,r.setSelectionRange?r.setSelectionRange(t,e):r.createTextRange&&((i=r.createTextRange()).moveStart("character",t),i.moveEnd("character",e-n.length),i.select()),s=Ext.isGecko||Ext.isOpera),s&&this.focus()},autoSize:function(){this.grow&&this.rendered&&(this.autoSizing=!0,this.updateLayout())},afterComponentLayout:function(){var t;this.callParent(arguments),this.autoSizing&&(t=this.inputEl.getWidth())!==this.lastInputWidth&&(this.fireEvent("autosize",this,t),this.lastInputWidth=t,delete this.autoSizing)},onDestroy:function(){this.callParent(),this.inputFocusTask&&(this.inputFocusTask.cancel(),this.inputFocusTask=null)}}),Ext.define("Ext.layout.component.field.TextArea",{extend:Ext.layout.component.field.Text,alias:"layout.textareafield",type:"textareafield",canGrowWidth:!1,naturalSizingProp:"cols",beginLayout:function(t){this.callParent(arguments),t.target.inputEl.setStyle("height","")},measureContentHeight:function(t){var e,i,n,s,r,o=this.owner,a=this.callParent(arguments);return o.grow&&!t.state.growHandled&&(e=t.inputContext,s=(i=o.inputEl).getWidth(!0),n=Ext.util.Format.htmlEncode(i.dom.value)||"&#160;",n=(n+=o.growAppend).replace(/\n/g,"<br/>"),r=Ext.util.TextMetrics.measure(i,n,s).height+e.getBorderInfo().height+e.getPaddingInfo().height,r=Ext.Number.constrain(r,o.growMin,o.growMax),e.setHeight(r),t.state.growHandled=!0,e.domBlock(this,"height"),a=NaN),a}}),Ext.define("Ext.form.field.TextArea",{extend:Ext.form.field.Text,alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:!1,preventScrollbars:!1,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",getSubTplData:function(){var t=this.getFieldStyle(),e=this.callParent();return this.grow&&this.preventScrollbars&&(e.fieldStyle=(t||"")+";overflow:hidden;height:"+this.growMin+"px"),Ext.applyIf(e,{cols:this.cols,rows:this.rows}),e},afterRender:function(){this.callParent(arguments),this.needsMaxCheck=this.enforceMaxLength&&this.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,this.needsMaxCheck&&this.inputEl.on("paste",this.onPaste,this)},transformRawValue:function(t){return this.stripReturns(t)},transformOriginalValue:function(t){return this.stripReturns(t)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(t){return t=this.stripReturns(t),this.callParent([t])},stripReturns:function(t){return t&&(t=t.replace(this.returnRe,"")),t},onPaste:function(t){this.pasteTask||(this.pasteTask=new Ext.util.DelayedTask(this.pasteCheck,this)),this.pasteTask.delay(1)},pasteCheck:function(){var t=this.getValue(),e=this.maxLength;t.length>e&&(t=t.substr(0,e),this.setValue(t))},fireKey:function(t){var e=t.getKey();t.isSpecialKey()&&(this.enterIsSpecial||e!==t.ENTER||t.hasModifier())&&this.fireEvent("specialkey",this,t),!this.needsMaxCheck||e===t.BACKSPACE||e===t.DELETE||t.isNavKeyPress()||this.isCutCopyPasteSelectAll(t,e)||this.getValue().length>=this.maxLength&&t.stopEvent()},isCutCopyPasteSelectAll:function(t,e){return!!t.ctrlKey&&(e===t.A||e===t.C||e===t.V||e===t.X)},autoSize:function(){var t;this.grow&&this.rendered&&(this.updateLayout(),(t=this.inputEl.getHeight())!==this.lastInputHeight&&(this.fireEvent("autosize",this,t),this.lastInputHeight=t))},initAria:function(){this.callParent(arguments),this.getActionEl().dom.setAttribute("aria-multiline",!0)},beforeDestroy:function(){var t=this.pasteTask;t&&(t.cancel(),this.pasteTask=null),this.callParent()}}),Ext.define("Ext.form.field.Display",{extend:Ext.form.field.Base,alias:"widget.displayfield",alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}"','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:!0,disableFormats:!0}],fieldCls:Ext.baseCSSPrefix+"form-display-field",htmlEncode:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,isDirty:function(){return!1},isValid:function(){return!0},validate:function(){return!0},getRawValue:function(){return this.rawValue},setRawValue:function(t){return t=Ext.value(t,""),this.rawValue=t,this.rendered&&(this.inputEl.dom.innerHTML=this.getDisplayValue(),this.updateLayout()),t},getDisplayValue:function(){var t=this.getRawValue();return this.renderer?this.renderer.call(this.scope||this,t,this):this.htmlEncode?Ext.util.Format.htmlEncode(t):t},getSubTplData:function(){var t=this.callParent(arguments);return t.value=this.getDisplayValue(),t}}),Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:Ext.layout.container.Auto,alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,beginLayoutCycle:function(t){var e,i,n,s,r,o=0;for(this.callParent(arguments),r=(n=t.childItems).length,s=0;s<r&&(i=n[s],!(e=i.target.anchorSpec)||(i.widthModel.calculated&&e.right&&(o|=1),i.heightModel.calculated&&e.bottom&&(o|=2),3!=o));++s);t.anchorDimensions=o},calculateItems:function(t,e){var i,n,s,r,o,a,l=t.childItems,h=l.length,d=e.gotHeight,c=e.gotWidth,u=e.height,f=e.width,p=(c?1:0)|(d?2:0),g=t.anchorDimensions;if(!g)return!0;for(o=0;o<h;o++)s=(n=l[o]).getMarginInfo(),i=n.target.anchorSpec,c&&n.widthModel.calculated&&(a=i.right(f)-s.width,a=this.adjustWidthAnchor(a,n),n.setWidth(a)),d&&n.heightModel.calculated&&(r=i.bottom(u)-s.height,r=this.adjustHeightAnchor(r,n),n.setHeight(r));return(p&g)===g},anchorFactory:{offset:function(t){return function(e){return e+t}},ratio:function(t){return function(e){return Math.floor(e*t)}},standard:function(t){return function(e){return e-t}}},parseAnchor:function(t,e,i){if(t&&"none"!=t){var n,s=this.anchorFactory;if(this.parseAnchorRE.test(t))return s.standard(i-e);if(-1!=t.indexOf("%"))return s.ratio(.01*parseFloat(t.replace("%","")));if(n=parseInt(t,10),!isNaN(n))return s.offset(n)}return null},adjustWidthAnchor:function(t,e){return t},adjustHeightAnchor:function(t,e){return t},configureItem:function(t){var e,i,n,s=this.owner,r=t.anchor;this.callParent(arguments),t.anchor||!t.items||Ext.isNumber(t.width)||Ext.isIE6&&Ext.isStrict||(t.anchor=r=this.defaultAnchor),s.anchorSize?"number"==typeof s.anchorSize?i=s.anchorSize:(i=s.anchorSize.width,n=s.anchorSize.height):(i=s.initialConfig.width,n=s.initialConfig.height),r&&(e=r.split(" "),t.anchorSpec={right:this.parseAnchor(e[0],t.initialConfig.width,i),bottom:this.parseAnchor(e[1],t.initialConfig.height,n)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(t){var e,i=t.anchorSpec,n="$",s=this.sizePolicy;return i&&(e=this.owner.getSizeModel(),i.right&&!e.width.shrinkWrap&&(s=s.r),i.bottom&&!e.height.shrinkWrap&&(n="b")),s[n]}}),Ext.define("Ext.window.MessageBox",{extend:Ext.window.Window,alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hide-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,iconWidth:50,makeButton:function(t){var e=this.buttonIds[t];return new Ext.button.Button({handler:this.btnCallback,itemId:e,scope:this,text:this.buttonText[e],minWidth:75})},btnCallback:function(t){var e,i;(this.cfg.prompt||this.cfg.multiline)&&(e=(i=this.cfg.multiline?this.textArea:this.textField).getValue(),i.reset()),t.blur(),this.hide(),this.userCallback(t.itemId,e,this.cfg)},hide:function(){var t=this.cfg.cls;this.dd.endDrag(),this.progressBar.reset(),t&&this.removeCls(t),this.callParent(arguments)},initComponent:function(){var t,e,i=this.id;for(this.title="&#160;",this.minWidth=this.defaultMinWidth,this.maxWidth=this.defaultMaxWidth,this.minHeight=this.defaultMinHeight,this.maxHeight=this.defaultMaxHeight,this.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[this.iconComponent=new Ext.Component({width:this.iconWidth,height:this.iconHeight}),this.promptContainer=new Ext.container.Container({flex:1,layout:"anchor",items:[this.msg=new Ext.form.field.Display({id:i+"-displayfield",cls:this.baseCls+"-text"}),this.textField=new Ext.form.field.Text({id:i+"-textfield",anchor:"100%",enableKeyEvents:!0,listeners:{keydown:this.onPromptKey,scope:this}}),this.textArea=new Ext.form.field.TextArea({id:i+"-textarea",anchor:"100%",height:75})]})]}),this.progressBar=new Ext.ProgressBar({id:i+"-progressbar",margins:"0 10 10 10"}),this.items=[this.topContainer,this.progressBar],this.msgButtons=[],t=0;t<4;t++)e=this.makeButton(t),this.msgButtons[e.itemId]=e,this.msgButtons.push(e);this.bottomTb=new Ext.toolbar.Toolbar({id:i+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[this.msgButtons[0],this.msgButtons[1],this.msgButtons[2],this.msgButtons[3]]}),this.dockedItems=[this.bottomTb],this.on("close",this.onClose,this),this.callParent()},onClose:function(){var t=this.header.child("[type=close]");t.itemId="cancel",this.btnCallback(t),delete t.itemId},onPromptKey:function(t,e){var i;e.keyCode!==Ext.EventObject.RETURN&&10!==e.keyCode||(this.msgButtons.ok.isVisible()?(i=!0,this.msgButtons.ok.handler.call(this,this.msgButtons.ok)):this.msgButtons.yes.isVisible()&&(this.msgButtons.yes.handler.call(this,this.msgButtons.yes),i=!0),i&&this.textField.blur())},reconfigure:function(t){var e,i,n,s,r,o,a,l,h=0,d=!0,c=this.buttonText;for(this.updateButtonText(),t=t||{},this.cfg=t,t.width&&(e=t.width),t.height&&(i=t.height),this.minWidth=t.minWidth||this.defaultMinWidth,this.maxWidth=t.maxWidth||this.defaultMaxWidth,this.minHeight=t.minHeight||this.defaultMinHeight,this.maxHeight=t.maxHeight||this.defaultMaxHeight,delete this.defaultFocus,t.defaultFocus&&(this.defaultFocus=t.defaultFocus),this.animateTarget=t.animateTarget||void 0,this.modal=!1!==t.modal,this.setTitle(t.title||""),this.setIconCls(t.iconCls||""),Ext.isObject(t.buttons)?(this.buttonText=t.buttons,h=0):(this.buttonText=t.buttonText||this.buttonText,h=Ext.isNumber(t.buttons)?t.buttons:0),h|=this.updateButtonText(),this.buttonText=c,Ext.suspendLayouts(),delete this.width,delete this.height,(e||i)&&(e&&this.setWidth(e),i&&this.setHeight(i)),this.hidden=!1,this.rendered||this.render(Ext.getBody()),this.closable=!1!==t.closable&&!t.wait,this.header.child("[type=close]").setVisible(this.closable),t.title||this.closable||t.iconCls?this.header.show():this.header.hide(),this.liveDrag=!t.proxyDrag,this.userCallback=Ext.Function.bind(t.callback||t.fn||Ext.emptyFn,t.scope||Ext.global),this.setIcon(t.icon,t.iconWidth,t.iconHeight),o=this.msg,t.msg?(o.setValue(t.msg),o.show()):o.hide(),s=this.textArea,r=this.textField,t.prompt||t.multiline?(this.multiline=t.multiline,t.multiline?(s.setValue(t.value),s.setHeight(t.defaultTextHeight||this.defaultTextHeight),s.show(),r.hide(),this.defaultFocus=s):(r.setValue(t.value),s.hide(),r.show(),this.defaultFocus=r)):(s.hide(),r.hide()),a=this.progressBar,t.progress||t.wait?(a.show(),this.updateProgress(0,t.progressText),!0===t.wait&&a.wait(t.waitConfig)):a.hide(),l=this.msgButtons,n=0;n<4;n++)h&Math.pow(2,n)?(this.defaultFocus||(this.defaultFocus=l[n]),l[n].show(),d=!1):l[n].hide();d?this.bottomTb.hide():this.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var t,e,i=this.buttonText,n=0;for(t in i)i.hasOwnProperty(t)&&(e=this.msgButtons[t])&&(this.cfg&&this.cfg.buttonText&&(n|=Math.pow(2,Ext.Array.indexOf(this.buttonIds,t))),e.text!=i[t]&&e.setText(i[t]));return n},show:function(t){var e,i=this;return Ext.AbstractComponent.layoutSuspendCount?(Ext.on({resumelayouts:function(){i.show(t)},single:!0}),i):(i.reconfigure(t),t.cls&&i.addCls(t.cls),e=i.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])"),i.preventFocusOnActivate=!e.length,i.hidden=!0,i.callParent(),i)},onShow:function(){this.callParent(arguments),this.center()},updateText:function(t){this.msg.setValue(t)},setIcon:function(t,e,i){var n=this.iconComponent,s=this.messageIconCls;return s&&n.removeCls(s),t?(n.show(),n.setSize(e||this.iconWidth,i||this.iconHeight),n.addCls(Ext.baseCSSPrefix+"dlg-icon"),n.addCls(this.messageIconCls=t)):(n.removeCls(Ext.baseCSSPrefix+"dlg-icon"),n.hide()),this},updateProgress:function(t,e,i){return this.progressBar.updateProgress(t,e),i&&this.updateText(i),this},onEsc:function(){!1!==this.closable&&this.callParent(arguments)},confirm:function(t,e,i,n){return Ext.isString(t)&&(t={title:t,icon:this.QUESTION,msg:e,buttons:this.YESNO,callback:i,scope:n}),this.show(t)},prompt:function(t,e,i,n,s,r){return Ext.isString(t)&&(t={prompt:!0,title:t,minWidth:this.minPromptWidth,msg:e,buttons:this.OKCANCEL,callback:i,scope:n,multiline:s,value:r}),this.show(t)},wait:function(t,e,i){return Ext.isString(t)&&(t={title:e,msg:t,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:i}),this.show(t)},alert:function(t,e,i,n){return Ext.isString(t)&&(t={title:t,msg:e,buttons:this.OK,fn:i,scope:n,minWidth:this.minWidth}),this.show(t)},progress:function(t,e,i){return Ext.isString(t)&&(t={title:t,msg:e,progress:!0,progressText:i}),this.show(t)}},function(){Ext.MessageBox=Ext.Msg=new this}),Ext.define("Ext.form.Basic",{extend:Ext.util.Observable,alternateClassName:"Ext.form.BasicForm",constructor:function(t,e){var i,n,s;if(this.owner=t,this.checkValidityTask=new Ext.util.DelayedTask(this.checkValidity,this),this.checkDirtyTask=new Ext.util.DelayedTask(this.checkDirty,this),this.monitor=new Ext.container.Monitor({selector:"[isFormField]",scope:this,addHandler:this.onFieldAdd,removeHandler:this.onFieldRemove}),this.monitor.bind(t),Ext.apply(this,e),Ext.isString(this.paramOrder)&&(this.paramOrder=this.paramOrder.split(/[\s,|]/)),this.api){n=this.api=Ext.apply({},this.api);for(s in n)n.hasOwnProperty(s)&&(n[s]=Ext.direct.Manager.parseMethod(n[s]))}(i=this.reader)&&!i.isReader&&("string"==typeof i&&(i={type:i}),this.reader=Ext.createByAlias("reader."+i.type,i)),(i=this.errorReader)&&!i.isReader&&("string"==typeof i&&(i={type:i}),this.errorReader=Ext.createByAlias("reader."+i.type,i)),this.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"),this.callParent()},initialize:function(){this.initialized=!0,this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var t=this.monitor;t&&(t.unbind(),this.monitor=null),this.clearListeners(),this.checkValidityTask.cancel(),this.checkDirtyTask.cancel()},onFieldAdd:function(t){this.mon(t,"validitychange",this.checkValidityDelay,this),this.mon(t,"dirtychange",this.checkDirtyDelay,this),this.initialized&&this.checkValidityDelay()},onFieldRemove:function(t){this.mun(t,"validitychange",this.checkValidityDelay,this),this.mun(t,"dirtychange",this.checkDirtyDelay,this),this.initialized&&this.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var t=this._boundItems;return t&&0!==t.getCount()||(t=this._boundItems=new Ext.util.MixedCollection).addAll(this.owner.query("[formBind]")),t},hasInvalidField:function(){return!!this.getFields().findBy(function(t){var e,i=t.preventMark;return t.preventMark=!0,e=t.isValid(),t.preventMark=i,!e})},isValid:function(){var t;return Ext.suspendLayouts(),t=this.getFields().filterBy(function(t){return!t.validate()}),Ext.resumeLayouts(!0),t.length<1},checkValidity:function(){var t=!this.hasInvalidField();t!==this.wasValid&&(this.onValidityChange(t),this.fireEvent("validitychange",this,t),this.wasValid=t)},checkValidityDelay:function(){this.checkValidityTask.delay(10)},onValidityChange:function(t){var e,i,n,s,r=this.getBoundItems();if(r)for(n=(e=r.items).length,i=0;i<n;i++)(s=e[i]).disabled===t&&s.setDisabled(!t)},isDirty:function(){return!!this.getFields().findBy(function(t){return t.isDirty()})},checkDirtyDelay:function(){this.checkDirtyTask.delay(10)},checkDirty:function(){var t=this.isDirty();t!==this.wasDirty&&(this.fireEvent("dirtychange",this,t),this.wasDirty=t)},hasUpload:function(){return!!this.getFields().findBy(function(t){return t.isFileUpload()})},doAction:function(t,e){return Ext.isString(t)&&(t=Ext.ClassManager.instantiateByAlias("formaction."+t,Ext.apply({},e,{form:this}))),!1!==this.fireEvent("beforeaction",this,t)&&(this.beforeAction(t),Ext.defer(t.run,100,t)),this},submit:function(t){var e;return e=(t=t||{}).standardSubmit||this.standardSubmit?"standardsubmit":this.api?"directsubmit":"submit",this.doAction(e,t)},load:function(t){return this.doAction(this.api?"directload":"load",t)},updateRecord:function(t){if(!(t=t||this._record))return this;for(var e,i=t.fields.items,n=this.getFieldValues(),s={},r=0,o=i.length;r<o;++r)e=i[r].name,n.hasOwnProperty(e)&&(s[e]=n[e]);return t.beginEdit(),t.set(s),t.endEdit(),this},loadRecord:function(t){return this._record=t,this.setValues(t.getData())},getRecord:function(){return this._record},beforeAction:function(t){var e,i,n,s=t.waitMsg,r=Ext.baseCSSPrefix+"mask-loading",o=this.getFields().items,a=o.length;for(e=0;e<a;e++)(i=o[e]).isFormField&&i.syncValue&&i.syncValue();s&&(!0===(n=this.waitMsgTarget)?this.owner.el.mask(s,r):n?(n=this.waitMsgTarget=Ext.get(n)).mask(s,r):(this.floatingAncestor=this.owner.up("[floating]"),this.floatingAncestor&&(this.savePreventFocusOnActivate=this.floatingAncestor.preventFocusOnActivate,this.floatingAncestor.preventFocusOnActivate=!0),Ext.MessageBox.wait(s,t.waitTitle||this.waitTitle)))},afterAction:function(t,e){if(t.waitMsg){var i=Ext.MessageBox,n=this.waitMsgTarget;!0===n?this.owner.el.unmask():n?n.unmask():i.hide()}this.floatingAncestor&&(this.floatingAncestor.preventFocusOnActivate=this.savePreventFocusOnActivate),e?(t.reset&&this.reset(),Ext.callback(t.success,t.scope||t,[this,t]),this.fireEvent("actioncomplete",this,t)):(Ext.callback(t.failure,t.scope||t,[this,t]),this.fireEvent("actionfailed",this,t))},findField:function(t){return this.getFields().findBy(function(e){return e.id===t||e.getName()===t})},markInvalid:function(t){function e(t,e){var i=o.findField(t);i&&i.markInvalid(e)}var i,n,s,r,o=this;if(Ext.isArray(t))for(n=t.length,i=0;i<n;i++)e((s=t[i]).id,s.msg);else if(t instanceof Ext.data.Errors)for(n=t.items.length,i=0;i<n;i++)e((s=t.items[i]).field,s.message);else for(r in t)t.hasOwnProperty(r)&&e(r,t[r]);return this},setValues:function(t){function e(t,e){var i=r.findField(t);i&&(i.setValue(e),r.trackResetOnLoad&&i.resetOriginalValue())}var i,n,s,r=this;if(Ext.suspendLayouts(),Ext.isArray(t))for(n=t.length,i=0;i<n;i++)e((s=t[i]).id,s.value);else Ext.iterate(t,e);return Ext.resumeLayouts(!0),this},getValues:function(t,e,i,n){var s,r,o,a,l,h,d={},c=this.getFields().items,u=c.length,f=Ext.isArray;for(s=0;s<u;s++)if(r=c[s],(!e||r.isDirty())&&(o=r[n?"getModelData":"getSubmitData"](i),Ext.isObject(o)))for(h in o)o.hasOwnProperty(h)&&(a=o[h],i&&""===a&&(a=r.emptyText||""),d.hasOwnProperty(h)?(f(l=d[h])||(l=d[h]=[l]),f(a)?d[h]=l.concat(a):l.push(a)):d[h]=a);return t&&(d=Ext.Object.toQueryString(d)),d},getFieldValues:function(t){return this.getValues(!1,t,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var t,e=this.getFields().items,i=e.length;for(t=0;t<i;t++)e[t].clearInvalid();return Ext.resumeLayouts(!0),this},reset:function(t){Ext.suspendLayouts();var e,i=this.getFields().items,n=i.length;for(e=0;e<n;e++)i[e].reset();return Ext.resumeLayouts(!0),!0===t&&delete this._record,this},applyToFields:function(t){var e,i=this.getFields().items,n=i.length;for(e=0;e<n;e++)Ext.apply(i[e],t);return this},applyIfToFields:function(t){var e,i=this.getFields().items,n=i.length;for(e=0;e<n;e++)Ext.applyIf(i[e],t);return this}}),Ext.define("Ext.form.FieldAncestor",{xhooks:{initHierarchyState:function(t){this.fieldDefaults&&(t.fieldDefaults?t.fieldDefaults=Ext.apply(Ext.Object.chain(t.fieldDefaults),this.fieldDefaults):t.fieldDefaults=this.fieldDefaults)}},initFieldAncestor:function(){this.addEvents("fieldvaliditychange","fielderrorchange"),this.monitor=new Ext.container.Monitor({scope:this,addHandler:this.onChildFieldAdd,removeHandler:this.onChildFieldRemove}),this.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},onChildFieldAdd:function(t){this.mon(t,"errorchange",this.handleFieldErrorChange,this),this.mon(t,"validitychange",this.handleFieldValidityChange,this)},onChildFieldRemove:function(t){this.mun(t,"errorchange",this.handleFieldErrorChange,this),this.mun(t,"validitychange",this.handleFieldValidityChange,this)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(t,e){t!==this&&(this.fireEvent("fieldvaliditychange",this,t,e),this.onFieldValidityChange(t,e))},handleFieldErrorChange:function(t,e){t!==this&&(this.fireEvent("fielderrorchange",this,t,e),this.onFieldErrorChange(t,e))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind(),this.callParent()}}),Ext.define("Ext.layout.component.field.FieldContainer",{extend:Ext.layout.component.field.Field,alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(t){var e=this.owner;this.callParent(arguments),t.hasRawContent=!0,e.bodyEl.setStyle("height",""),e.containerEl.setStyle("height",""),t.containerElContext=t.getEl("containerEl")},measureContentHeight:function(t){return t.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(t){return t.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerWidth:function(t,e){var i=t.bodyCellContext,n=i.el.getWidth();i.setWidth(n,!1),t.containerElContext.setWidth(n,!1)},publishInnerHeight:function(t,e){var i=t.bodyCellContext,n=t.containerElContext;e-=this.measureLabelErrorHeight(t),i.setHeight(e),n.setHeight(e)}}),Ext.define("Ext.form.FieldContainer",{extend:Ext.container.Container,mixins:{labelable:Ext.form.Labelable,fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,fieldSubTpl:'<div id="{id}-containerEl" class="{containerElCls}">{%this.renderContainer(out,values)%}</div>',initComponent:function(){this.initLabelable(),this.initFieldAncestor(),this.callParent(),this.initMonitor()},getOverflowEl:function(){return this.containerEl},onAdd:function(t){Ext.isGecko&&"absolute"===this.layout.type&&!this.hideLabel&&"top"!==this.labelAlign&&(t.x+=this.labelWidth+this.labelPad),this.callParent(arguments),this.updateLabel()},onRemove:function(t,e){this.callParent(arguments),e||this.updateLabel()},initRenderTpl:function(){return this.hasOwnProperty("renderTpl")||(this.renderTpl=this.getTpl("labelableRenderTpl")),this.callParent()},initRenderData:function(){var t=this.callParent();return t.containerElCls=this.containerElCls,Ext.applyIf(t,this.getLabelableRenderData())},getFieldLabel:function(){var t=this.fieldLabel||"";return!t&&this.combineLabels&&(t=Ext.Array.map(this.query("[isFieldLabelable]"),function(t){return t.getFieldLabel()}).join(this.labelConnector)),t},getSubTplData:function(){var t=this.initRenderData();return Ext.apply(t,this.subTplData),t},getSubTplMarkup:function(){var t=this.getTpl("fieldSubTpl");return t.renderContent||this.setupRenderTpl(t),t.apply(this.getSubTplData())},updateLabel:function(){this.labelEl&&this.setFieldLabel(this.getFieldLabel())},onFieldErrorChange:function(t,e){if(this.combineErrors){var i=this.getActiveError(),n=Ext.Array.filter(this.query("[isFormField]"),function(t){return t.hasActiveError()}),s=this.getCombinedErrors(n);s?this.setActiveErrors(s):this.unsetActiveError(),i!==this.getActiveError()&&this.doComponentLayout()}},getCombinedErrors:function(t){var e,i,n,s,r,o,a,l=[],h=t.length;for(e=0;e<h;e++)for(r=(n=(i=t[e]).getActiveErrors()).length,s=0;s<r;s++)o=n[s],a=i.getFieldLabel(),l.push((a?a+": ":"")+o);return l},getTargetEl:function(){return this.containerEl},applyTargetCls:function(t){var e=this.containerElCls;this.containerElCls=e?e+" "+t:t}}),Ext.define("Ext.layout.container.CheckboxGroup",{extend:Ext.layout.container.Container,alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" class="'+Ext.baseCSSPrefix+'table-plain" cellpadding="0"','role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],lastOwnerItemsGeneration:null,beginLayout:function(t){var e,i,n,s,r,o=0,a=0,l=this.autoFlex,h=this.innerCt.dom.style;if(this.callParent(arguments),e=this.columnNodes,t.innerCtContext=t.getEl("innerCt",this),t.widthModel.shrinkWrap)h.tableLayout="auto",h.width="";else{if(i=e.length,this.columnsArray){for(n=0;n<i;n++)(s=this.owner.columns[n])<1&&(o+=s,a++);for(n=0;n<i;n++)r=(s=this.owner.columns[n])<1?s/o*100+"%":s+"px",e[n].style.width=r}else for(n=0;n<i;n++)r=l?1/i*100+"%":"",e[n].style.width=r,a++;a?a<i?(h.tableLayout="fixed",h.width="100%"):(h.tableLayout="auto",h.width=l?"100%":""):(h.tableLayout="fixed",h.width="")}},cacheElements:function(){this.callParent(),this.rowEl=this.innerCt.down("tr"),this.columnNodes=this.rowEl.dom.childNodes},calculate:function(t){var e,i,n,s,r,o;t.getDomProp("containerChildrenSizeDone")?(e=t.innerCtContext,i=t.widthModel.shrinkWrap,s=(n=t.heightModel.shrinkWrap)||i,r=e.el.dom,o=s&&e.getPaddingInfo(),i&&t.setContentWidth(r.offsetWidth+o.width,!0),n&&t.setContentHeight(r.offsetHeight+o.height,!0)):this.done=!1},doRenderColumn:function(t,e,i){var n,s,r,o,a,l=e.$layout,h=l.owner,d=e.columnCount,c=h.items.items,u=c.length;for(h.vertical?(s=i*(r=Math.ceil(u/d)),u=Math.min(u,s+r),o=1):(s=i,o=d);s<u;s+=o)n=c[s],l.configureItem(n),a=n.getRenderTree(),Ext.DomHelper.generateMarkup(a,t)},getColumnCount:function(){var t=this.owner,e=t.columns;return this.columnsArray?e.length:Ext.isNumber(e)?e:t.items.length},getItemSizePolicy:function(t){return this.autoSizePolicy},getRenderData:function(){var t,e,i,n,s=this.callParent(),r=this.owner,o=this.getColumnCount(),a=this.autoFlex,l=0,h=0;if(this.columnsArray)for(t=0;t<o;t++)(e=this.owner.columns[t])<1&&(l+=e,h++);for(s.colCls=r.groupCls,s.columnCount=o,s.columns=[],t=0;t<o;t++)i=s.columns[t]={},this.columnsArray?(n=(e=this.owner.columns[t])<1?e/l*100+"%":e+"px",i.style="width:"+n):(i.style="width:"+1/o*100+"%",h++);return s.tableStyle=h?h<o?"table-layout:fixed;width:100%":a?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",s},initLayout:function(){var t=this.owner;this.columnsArray=Ext.isArray(t.columns),this.autoColumns=!t.columns||"auto"===t.columns,this.vertical=t.vertical,this.callParent()},isValidParent:function(){return!0},setupRenderTpl:function(t){this.callParent(arguments),t.renderColumn=this.doRenderColumn},renderChildren:function(){var t=this.owner.items.generation;this.lastOwnerItemsGeneration!==t&&(this.lastOwnerItemsGeneration=t,this.renderItems(this.getLayoutItems()))},renderItems:function(t){var e,i,n,s,r,o,a=t.length;if(a){for(Ext.suspendLayouts(),this.autoColumns&&this.addMissingColumns(a),s=this.columnNodes.length,n=Math.ceil(a/s),e=0;e<a;e++)i=t[e],r=this.getRenderRowIndex(e,n,s),o=this.getRenderColumnIndex(e,n,s),i.rendered?this.isItemAtPosition(i,r,o)||this.moveItem(i,r,o):this.renderItem(i,r,o);this.autoColumns&&this.removeExceedingColumns(a),Ext.resumeLayouts(!0)}},isItemAtPosition:function(t,e,i){return t.el.dom===this.getNodeAt(e,i)},getRenderColumnIndex:function(t,e,i){return this.vertical?Math.floor(t/e):t%i},getRenderRowIndex:function(t,e,i){return this.vertical?t%e:Math.floor(t/i)},getNodeAt:function(t,e){return this.columnNodes[e].childNodes[t]},addMissingColumns:function(t){var e,i,n,s,r=this.columnNodes.length;if(r<t)for(e=t-r,i=this.rowEl,n=this.owner.groupCls,s=0;s<e;s++)i.createChild({cls:n,tag:"td",vAlign:"top"})},removeExceedingColumns:function(t){var e,i,n,s=this.columnNodes.length;if(s>t)for(e=s-t,i=this.rowEl,n=0;n<e;n++)i.last().remove()},renderItem:function(t,e,i){this.configureItem(t),t.render(Ext.get(this.columnNodes[i]),e),this.afterRenderItem(t)},moveItem:function(t,e,i){var n=this.columnNodes[i],s=n.childNodes[e];n.insertBefore(t.el.dom,s||null)}}),Ext.define("Ext.form.CheckboxGroup",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.checkboxgroup",columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",fieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",initComponent:function(){this.callParent(),this.initField()},initValue:function(){var t=this.value;this.originalValue=this.lastValue=t||this.getValue(),t&&this.setValue(t)},onAdd:function(t){var e,i,n;if(t.isCheckbox)this.mon(t,"change",this.checkChange,this);else if(t.isContainer)for(n=0,i=(e=t.items.items).length;n<i;n++)this.onAdd(e[n]);this.callParent(arguments)},onRemove:function(t){var e,i,n;if(t.isCheckbox)this.mun(t,"change",this.checkChange,this);else if(t.isContainer)for(n=0,i=(e=t.items.items).length;n<i;n++)this.onRemove(e[n]);this.callParent(arguments)},isEqual:function(t,e){var i=Ext.Object.toQueryString;return i(t)===i(e)},getErrors:function(){var t=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&t.push(this.blankText),t},getBoxes:function(t){return this.query("[isCheckbox]"+(t||""))},eachBox:function(t,e){Ext.Array.forEach(this.getBoxes(),t,e||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var t,e=this.getBoxes(),i=e.length;for(t=0;t<i;t++)if(e[t].isDirty())return!0},setReadOnly:function(t){var e,i=this.getBoxes(),n=i.length;for(e=0;e<n;e++)i[e].setReadOnly(t);this.readOnly=t},reset:function(){var t=this,e=t.hasActiveError(),i=t.preventMark;t.preventMark=!0,t.batchChanges(function(){var e,i=t.getBoxes(),n=i.length;for(e=0;e<n;e++)i[e].reset()}),t.preventMark=i,t.unsetActiveError(),e&&t.updateLayout()},resetOriginalValue:function(){var t,e=this.getBoxes(),i=e.length;for(t=0;t<i;t++)e[t].resetOriginalValue();this.originalValue=this.getValue(),this.checkDirty()},setValue:function(t){var e,i,n,s,r=this.getBoxes(),o=r.length;return this.batchChanges(function(){for(e=0;e<o;e++)i=r[e],n=i.getName(),s=!1,t&&t.hasOwnProperty(n)&&(s=Ext.isArray(t[n])?Ext.Array.contains(t[n],i.inputValue):t[n]),i.setValue(s)}),this},getValue:function(){var t,e,i,n,s,r={},o=this.getBoxes(),a=o.length;for(t=0;t<a;t++)i=(e=o[t]).getName(),n=e.inputValue,e.getValue()&&(r.hasOwnProperty(i)?(s=r[i],Ext.isArray(s)||(s=r[i]=[s]),s.push(n)):r[i]=n);return r},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var t,e,i;return this.disabled?e=!0:(t=this.getErrors(),e=Ext.isEmpty(t),i=this.wasValid,e?this.unsetActiveError():this.setActiveError(t)),e!==i&&(this.wasValid=e,this.fireEvent("validitychange",this,e),this.updateLayout()),e}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid"])}),Ext.define("Ext.form.CheckboxManager",{extend:Ext.util.MixedCollection,singleton:!0,getByName:function(t,e){return this.filterBy(function(i){return i.name==t&&i.getFormId()==e})}}),Ext.define("Ext.form.FieldSet",{extend:Ext.container.Container,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldset",collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",border:1,componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body {bodyTargetCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var t=this.legend;t&&(delete t.ownerCt,t.destroy(),this.legend=null),this.callParent()},initComponent:function(){var t=this.baseCls;this.callParent(),this.layout.managePadding=this.layout.manageOverflow=!1,this.addEvents("beforeexpand","beforecollapse","expand","collapse"),this.collapsed&&(this.addCls(t+"-collapsed"),this.collapse()),(this.title||this.checkboxToggle||this.collapsible)&&(this.addTitleClasses(),this.legend=Ext.widget(this.createLegendCt()))},initPadding:function(t){var e,i=Ext.Element,n=this.getProtoBody(),s=this.padding;void 0!==s&&((Ext.isIEQuirks||Ext.isIE8m)&&(s=i.parseBox(s),(e=i.parseBox(0)).top=s.top,s.top=0,n.setStyle("padding",i.unitizeBox(e))),t.setStyle("padding",i.unitizeBox(s)))},getProtoBody:function(){var t=this.protoBody;return t||(this.protoBody=t=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0})),t},initRenderData:function(){var t=this.callParent();return t.bodyTargetCls=this.bodyTargetCls,this.protoBody.writeTo(t),delete this.protoBody,t},getState:function(){var t=this.callParent();return t=this.addPropertyToState(t,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var t=[],e={xtype:"container",baseCls:this.baseCls+"-header",id:this.id+"-legend",autoEl:"legend",items:t,ownerCt:this,shrinkWrap:!0,ownerLayout:this.componentLayout};return this.checkboxToggle?t.push(this.createCheckboxCmp()):this.collapsible&&t.push(this.createToggleCmp()),t.push(this.createTitleCmp()),e},createTitleCmp:function(){var t={xtype:"component",html:this.title,cls:this.baseCls+"-header-text",id:this.id+"-legendTitle"};return this.collapsible&&this.toggleOnTitleClick&&(t.listeners={click:{element:"el",scope:this,fn:this.toggle}},t.cls+=" "+this.baseCls+"-header-text-collapsible"),this.titleCmp=Ext.widget(t)},createCheckboxCmp:function(){return this.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:!0,name:this.checkboxName||this.id+"-checkbox",cls:this.baseCls+"-header-checkbox",id:this.id+"-legendChk",checked:!this.collapsed,listeners:{change:this.onCheckChange,scope:this}}),this.checkboxCmp},createToggleCmp:function(){return this.toggleCmp=Ext.widget({xtype:"tool",height:15,width:15,type:"toggle",handler:this.toggle,id:this.id+"-legendToggle",scope:this}),this.toggleCmp},doRenderLegend:function(t,e){var i,n=e.$comp.legend;n&&(n.ownerLayout.configureItem(n),i=n.getRenderTree(),Ext.DomHelper.generateMarkup(i,t))},finishRender:function(){var t=this.legend;this.callParent(),t&&t.finishRender()},getCollapsed:function(){return!!this.collapsed&&"top"},getCollapsedDockedItems:function(){var t=this.legend;return t?[t]:[]},setTitle:function(t){var e=this.legend;this.baseCls;return this.title=t,this.rendered?(e||(this.legend=e=Ext.widget(this.createLegendCt()),this.addTitleClasses(),e.ownerLayout.configureItem(e),e.render(this.el,0)),this.titleCmp.update(t)):e?this.titleCmp.update(t):(this.addTitleClasses(),this.legend=Ext.widget(this.createLegendCt())),this},addTitleClasses:function(){var t=this.title,e=this.baseCls;t&&this.addCls(e+"-with-title"),(t||this.checkboxToggle||this.collapsible)&&this.addCls(e+"-with-header")},applyTargetCls:function(t){this.bodyTargetCls=t},getTargetEl:function(){return this.body||this.frameBody||this.el},getDefaultContentTarget:function(){return this.body},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setExpanded:function(t){var e=this.checkboxCmp,i=t?"expand":"collapse";return this.rendered&&!1===this.fireEvent("before"+i,this)||(t=!!t,e&&e.setValue(t),t?this.removeCls(this.baseCls+"-collapsed"):this.addCls(this.baseCls+"-collapsed"),this.collapsed=!t,this.rendered&&(this.updateLayout({isRoot:!1}),this.fireEvent(i,this))),this},getRefItems:function(t){var e=this.callParent(arguments),i=this.legend;return i&&(e.unshift(i),t&&e.unshift.apply(e,i.getRefItems(!0))),e},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(t,e){this.setExpanded(e)},setupRenderTpl:function(t){this.callParent(arguments),t.renderLegend=this.doRenderLegend}}),Ext.define("Ext.form.Label",{extend:Ext.Component,alias:"widget.label",autoEl:"label",maskOnDisable:!1,getElConfig:function(){return this.html=this.text?Ext.util.Format.htmlEncode(this.text):this.html||"",Ext.apply(this.callParent(),{htmlFor:this.forId||""})},setText:function(t,e){return(e=!1!==e)?(this.text=t,delete this.html):(this.html=t,delete this.text),this.rendered&&(this.el.dom.innerHTML=!1!==e?Ext.util.Format.htmlEncode(t):t,this.updateLayout()),this}}),Ext.define("Ext.form.Panel",{extend:Ext.panel.Panel,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){this.frame&&(this.border=!1),this.initFieldAncestor(),this.callParent(),this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),this.pollForChanges&&this.startPolling(this.pollInterval||500)},initItems:function(){this.callParent(),this.initMonitor(),this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments),this.form.initialize()},createForm:function(){for(var t,e={},i=this.basicFormConfigs,n=i.length,s=0;s<n;++s)e[t=i[s]]=this[t];return new Ext.form.Basic(this,e)},getForm:function(){return this.form},loadRecord:function(t){return this.getForm().loadRecord(t)},getRecord:function(){return this.getForm().getRecord()},getValues:function(t,e,i,n){return this.getForm().getValues(t,e,i,n)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling(),this.form.destroy(),this.callParent()},load:function(t){this.form.load(t)},submit:function(t){this.form.submit(t)},startPolling:function(t){this.stopPolling();var e=new Ext.util.TaskRunner(t);e.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=e},stopPolling:function(){var t=this.pollTask;t&&(t.stopAll(),delete this.pollTask)},checkChange:function(){var t,e=this.form.getFields().items,i=e.length;for(t=0;t<i;t++)e[t].checkChange()}}),Ext.define("Ext.form.RadioGroup",{extend:Ext.form.CheckboxGroup,alias:"widget.radiogroup",allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(t){return this.query("[isRadio]"+(t||""))},checkChange:function(){var t=this.getValue(),e=Ext.Object.getKeys(t)[0];Ext.isArray(t[e])||this.callParent(arguments)},setValue:function(t){var e,i,n,s,r,o,a;if(Ext.isObject(t))for(a in t)if(t.hasOwnProperty(a))for(e=t[a],n=(i=this.items.first())?i.getFormId():null,o=(s=Ext.form.RadioManager.getWithValue(a,e,n).items).length,r=0;r<o;++r)s[r].setValue(!0);return this}}),Ext.define("Ext.form.RadioManager",{extend:Ext.util.MixedCollection,singleton:!0,getByName:function(t,e){return this.filterBy(function(i){return i.name==t&&i.getFormId()==e})},getWithValue:function(t,e,i){return this.filterBy(function(n){return n.name==t&&n.inputValue==e&&n.getFormId()==i})},getChecked:function(t,e){return this.findBy(function(i){return i.name==t&&i.checked&&i.getFormId()==e})}}),Ext.define("Ext.form.action.DirectLoad",{extend:Ext.form.action.Load,alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var t=this.form,e=t.api.load,i=e.directCfg.method.getArgs(this.getParams(),t.paramOrder,t.paramsAsHash);i.push(this.onComplete,this),e.apply(window,i)},processResponse:function(t){return this.result=t},onComplete:function(t,e){t?this.onSuccess(t):this.onFailure(null)}}),Ext.define("Ext.form.action.DirectSubmit",{extend:Ext.form.action.Submit,alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var t=Ext.Function.bind(this.onComplete,this),e=this.buildForm();this.form.api.submit(e.formEl,t,this),this.cleanup(e)},processResponse:function(t){return this.result=t},onComplete:function(t,e){t?this.onSuccess(t):this.onFailure(null)}}),Ext.define("Ext.form.action.StandardSubmit",{extend:Ext.form.action.Submit,alias:"formaction.standardsubmit",doSubmit:function(){var t=this.buildForm();t.formEl.submit(),this.cleanup(t)}}),Ext.define("Ext.form.field.Checkbox",{extend:Ext.form.field.Base,alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",componentLayout:"field",stretchInputElFixed:!1,childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="button" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:!0,compiled:!0}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-checkbox-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){this.callParent(arguments),this.getManager().add(this)},initValue:function(){var t=!!this.checked;this.originalValue=this.lastValue=t,this.setValue(t)},getElConfig:function(){return this.isChecked(this.rawValue,this.inputValue)&&this.addCls(this.checkedCls),this.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){return Ext.apply(this.callParent(),{disabled:this.readOnly||this.disabled,boxLabel:this.boxLabel,boxLabelCls:this.boxLabelCls,boxLabelAlign:this.boxLabelAlign})},initEvents:function(){this.callParent(),this.mon(this.inputEl,"click",this.onBoxClick,this)},setBoxLabel:function(t){this.boxLabel=t,this.rendered&&this.boxLabelEl.update(t)},onBoxClick:function(t){this.disabled||this.readOnly||this.setValue(!this.checked)},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var t=this.uncheckedValue,e=Ext.isDefined(t)?t:null;return this.checked?this.inputValue:e},isChecked:function(t,e){return!0===t||"true"===t||"1"===t||1===t||((Ext.isString(t)||Ext.isNumber(t))&&e?t==e:this.onRe.test(t))},setRawValue:function(t){var e=this.inputEl,i=this.isChecked(t,this.inputValue);return e&&this[i?"addCls":"removeCls"](this.checkedCls),this.checked=this.rawValue=i,i},setValue:function(t){var e,i,n,s;if(Ext.isArray(t))for(n=(e=this.getManager().getByName(this.name,this.getFormId()).items).length,i=0;i<n;++i)(s=e[i]).setValue(Ext.Array.contains(t,s.inputValue));else this.callParent(arguments);return this},valueToRaw:function(t){return t},onChange:function(t,e){var i=this.handler;i&&i.call(this.scope||this,this,t),this.callParent(arguments)},resetOriginalValue:function(t){var e,i,n;if(!t)for(i=(e=this.getManager().getByName(this.name,this.getFormId()).items).length,n=0;n<i;++n)e[n]!==this&&e[n].resetOriginalValue(!0);this.callParent()},beforeDestroy:function(){this.callParent(),this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var t=this.inputEl;this.callParent(),t&&(t.dom.disabled=this.readOnly)},setReadOnly:function(t){var e=this.inputEl;e&&(e.dom.disabled=!!t||this.disabled),this.callParent(arguments)},getFormId:function(){var t;return this.formId||(t=this.up("form"))&&(this.formId=t.id),this.formId}}),Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:Ext.layout.component.field.Field,type:"triggerfield",borderWidths:{},beginLayout:function(t){var e,i=this.owner;t.triggerWrap=t.getEl("triggerWrap"),this.callParent(arguments),(e=i.getTriggerStateFlags())!=i.lastTriggerStateFlags&&(i.lastTriggerStateFlags=e,this.updateEditState())},beginLayoutCycle:function(t){this.callParent(arguments),t.widthModel.shrinkWrap&&!this.owner.inputWidth&&t.inputContext.el.setStyle("width","")},beginLayoutFixed:function(t,e,i){var n=t.target,s=this.ieInputWidthAdjustment||0,r="100%",o=n.triggerWrap;this.callParent(arguments),n.inputCell.setStyle("width","100%"),s&&(this.adjustIEInputPadding(t),"px"===i&&(r=n.inputWidth?n.inputWidth-this.getExtraWidth(t):e-s-this.getExtraWidth(t),r+="px")),n.inputEl.setStyle("width",r),(r=n.inputWidth)?o.setStyle("width",r+s+"px"):o.setStyle("width",e+i),o.setStyle("table-layout","fixed")},adjustIEInputPadding:function(t){this.owner.inputCell.setStyle("padding-right",this.ieInputWidthAdjustment+"px")},getExtraWidth:function(t){var e=this.owner,i=this.borderWidths,n=e.ui+e.triggerEl.getCount();return n in i||(i[n]=t.triggerWrap.getBorderInfo().width),i[n]+e.getTriggerWidth()},beginLayoutShrinkWrap:function(t){var e=t.target,i=e.inputWidth,n=e.triggerWrap;this.callParent(arguments),i?(n.setStyle("width",i+"px"),i=i-this.getExtraWidth(t)+"px",e.inputEl.setStyle("width",i),e.inputCell.setStyle("width",i)):(e.inputCell.setStyle("width",""),e.inputEl.setStyle("width",""),n.setStyle("width",""),n.setStyle("table-layout","auto"))},getTextWidth:function(){var t,e=this.owner,i=e.inputEl;return t=(i.dom.value||(e.hasFocus?"":e.emptyText)||"")+e.growAppend,i.getTextWidth(t)},publishOwnerWidth:function(t,e){var i=this.owner;this.callParent(arguments),i.grow||i.inputWidth||(e-=this.getExtraWidth(t),"top"!=i.labelAlign&&(e-=i.getLabelWidth()),t.inputContext.setWidth(e))},measureContentWidth:function(t){var e,i,n,s=this.owner,r=this.callParent(arguments),o=t.inputContext;return s.grow&&!t.state.growHandled?(e=this.getTextWidth()+t.inputContext.getFrameInfo().width,i=s.growMax,n=Math.min(i,r),i=Math.max(s.growMin,i,n),e=Ext.Number.constrain(e,s.growMin,i),o.setWidth(e),t.state.growHandled=!0,o.domBlock(this,"width"),r=NaN):s.inputWidth||(r-=this.getExtraWidth(t)),r},updateEditState:function(){var t,e,i=this.owner,n=i.inputEl,s=Ext.baseCSSPrefix+"trigger-noedit";this.owner.readOnly?(n.addCls(s),e=!0,t=!1):(this.owner.editable?(n.removeCls(s),e=!1):(n.addCls(s),e=!0),t=!this.owner.hideTrigger),i.triggerCell.setDisplayed(t),n.dom.readOnly=e}}),Ext.define("Ext.form.field.Trigger",{extend:Ext.form.field.Text,alias:["widget.triggerfield","widget.trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:!1,editable:!0,readOnly:!1,repeatTriggerClick:!1,autoSize:Ext.emptyFn,monitorTab:!0,mimicing:!1,triggerIndexRe:/trigger-index-(\d+)/,extraTriggerCls:"",componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus",this.callParent(arguments)},getSubTplMarkup:function(t){var e=t.childElCls,i=this.callParent(arguments);return'<table id="'+this.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+e+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+this.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+e+'">'+i+"</td>"+this.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var t=this.callParent(),e=!0===this.readOnly,i=!1!==this.editable;return Ext.apply(t,{editableCls:e||!i?" "+this.triggerNoEditCls:"",readOnly:!i||e})},getLabelableRenderData:function(){var t=this.triggerWrapCls,e=this.callParent(arguments);return Ext.applyIf(e,{triggerWrapCls:t,triggerMarkup:this.getTriggerMarkup()})},getTriggerMarkup:function(){var t,e=0,i=this.readOnly||this.hideTrigger,n=this.triggerBaseCls,s=[],r=Ext.dom.Element.unselectableCls,o="width:"+this.triggerWidth+"px;"+(i?"display:none;":""),a=this.extraTriggerCls+" "+Ext.baseCSSPrefix+"trigger-cell "+r;for(this.trigger1Cls||(this.trigger1Cls=this.triggerCls),e=0;(t=this["trigger"+(e+1)+"Cls"])||e<1;e++)s.push({tag:"td",valign:"top",cls:a,style:o,cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+e,n,t].join(" "),role:"button"}});return s[0].cn.cls+=" "+n+"-first",Ext.DomHelper.markup(s)},disableCheck:function(){return!this.disabled},beforeRender:function(){var t,e=this.triggerBaseCls;this.triggerWidth||(t=Ext.getBody().createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"}),Ext.form.field.Trigger.prototype.triggerWidth=t.getWidth(),t.remove()),this.callParent(),e!=Ext.baseCSSPrefix+"form-trigger"&&this.addChildEls({name:"triggerEl",select:"."+e}),this.lastTriggerStateFlags=this.getTriggerStateFlags()},onRender:function(){this.callParent(arguments),this.doc=Ext.getDoc(),this.initTrigger()},getTriggerWidth:function(){var t=0;return!this.triggerWrap||this.hideTrigger||this.readOnly||(t=this.triggerEl.getCount()*this.triggerWidth),t},setHideTrigger:function(t){t!=this.hideTrigger&&(this.hideTrigger=t,this.updateLayout())},setEditable:function(t){t!=this.editable&&(this.editable=t,this.updateLayout())},setReadOnly:function(t){var e=this.readOnly;this.callParent(arguments),t!=e&&this.updateLayout()},initTrigger:function(){var t,e,i,n,s,r=this.triggerWrap,o=this.triggerEl,a=this.disableCheck;for(this.repeatTriggerClick?this.triggerRepeater=new Ext.util.ClickRepeater(r,{preventDefault:!0,handler:this.onTriggerWrapClick,listeners:{mouseup:this.onTriggerWrapMouseup,scope:this},scope:this}):this.mon(r,{click:this.onTriggerWrapClick,mouseup:this.onTriggerWrapMouseup,scope:this}),o.setVisibilityMode(Ext.Element.DISPLAY),o.addClsOnOver(this.triggerBaseCls+"-over",a,this),e=(t=o.elements).length,n=0;n<e;n++)s=n+1,(i=t[n]).addClsOnOver(this["trigger"+s+"Cls"]+"-over",a,this),i.addClsOnClick(this["trigger"+s+"Cls"]+"-click",a,this);o.addClsOnClick(this.triggerBaseCls+"-click",a,this)},onDestroy:function(){Ext.destroyMembers(this,"triggerRepeater","triggerWrap","triggerEl"),delete this.doc,this.callParent()},onFocus:function(){this.callParent(arguments),this.mimicing||(this.bodyEl.addCls(this.wrapFocusCls),this.mimicing=!0,this.mon(this.doc,"mousedown",this.mimicBlur,this,{delay:10}),this.monitorTab&&this.on("specialkey",this.checkTab,this))},checkTab:function(t,e){this.ignoreMonitorTab||e.getKey()!=e.TAB||this.triggerBlur()},getTriggerStateFlags:function(){var t=0;return this.readOnly&&(t+=1),this.editable&&(t+=2),this.hideTrigger&&(t+=4),t},onBlur:Ext.emptyFn,mimicBlur:function(t){this.isDestroyed||this.bodyEl.contains(t.target)||!this.validateBlur(t)||this.triggerBlur(t)},triggerBlur:function(t){this.mimicing=!1,this.mun(this.doc,"mousedown",this.mimicBlur,this),this.monitorTab&&this.inputEl&&this.un("specialkey",this.checkTab,this),Ext.form.field.Trigger.superclass.onBlur.call(this,t),this.bodyEl&&this.bodyEl.removeCls(this.wrapFocusCls)},validateBlur:function(t){return!0},onTriggerWrapClick:function(){var t,e,i,n;!(n=arguments[this.triggerRepeater?1:0])||this.readOnly||this.disabled||(e=(t=n.getTarget("."+this.triggerBaseCls,null))&&t.className.match(this.triggerIndexRe))&&(i=this["onTrigger"+(parseInt(e[1],10)+1)+"Click"]||this.onTriggerClick)&&i.call(this,n)},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn}),Ext.define("Ext.form.field.Picker",{extend:Ext.form.field.Trigger,alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:!0,initComponent:function(){this.callParent(),this.addEvents("expand","collapse","select")},initEvents:function(){this.callParent(),this.keyNav=new Ext.util.KeyNav(this.inputEl,{down:this.onDownArrow,esc:{handler:this.onEsc,scope:this,defaultEventAction:!1},scope:this,forceKeyDown:!0}),this.editable||this.mon(this.inputEl,"click",this.onTriggerClick,this),Ext.isGecko&&this.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(t){Ext.isIE&&t.preventDefault(),this.isExpanded&&(this.collapse(),t.stopEvent())},onDownArrow:function(t){this.isExpanded||this.onTriggerClick()},expand:function(){var t,e,i;!this.rendered||this.isExpanded||this.isDestroyed||(t=this.bodyEl,e=this.getPicker(),i=this.collapseIf,e.show(),this.isExpanded=!0,this.alignPicker(),t.addCls(this.openCls),this.mon(Ext.getDoc(),{mousewheel:i,mousedown:i,scope:this}),Ext.EventManager.onWindowResize(this.alignPicker,this),this.fireEvent("expand",this),this.onExpand())},onExpand:Ext.emptyFn,alignPicker:function(){var t=this.getPicker();this.isExpanded&&(this.matchFieldWidth&&t.setWidth(this.bodyEl.getWidth()),t.isFloating()&&this.doAlign())},doAlign:function(){var t,e=this.picker;this.picker.alignTo(this.bodyEl,this.pickerAlign,this.pickerOffset),t=e.el.getY()<this.inputEl.getY(),this.bodyEl[t?"addCls":"removeCls"](this.openCls+"-above"),e[t?"addCls":"removeCls"](e.baseCls+"-above")},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var t=this.openCls,e=this.picker,i=Ext.getDoc(),n=this.collapseIf;e.hide(),this.isExpanded=!1,this.bodyEl.removeCls([t,t+"-above"]),e.el.removeCls(e.baseCls+"-above"),i.un("mousewheel",n,this),i.un("mousedown",n,this),Ext.EventManager.removeResizeListener(this.alignPicker,this),this.fireEvent("collapse",this),this.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(t){this.isDestroyed||t.within(this.bodyEl,!1,!0)||t.within(this.picker.el,!1,!0)||this.isEventWithinPickerLoadMask(t)||this.collapse()},getPicker:function(){return this.picker||(this.picker=this.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){this.readOnly||this.disabled||(this.isExpanded?this.collapse():this.expand(),this.inputEl.focus())},triggerBlur:function(){var t=this.picker;this.callParent(arguments),t&&t.isVisible()&&t.hide()},mimicBlur:function(t){var e=this.picker;e&&(t.within(e.el,!1,!0)||this.isEventWithinPickerLoadMask(t))||this.callParent(arguments)},onDestroy:function(){var t=this.picker;Ext.EventManager.removeResizeListener(this.alignPicker,this),Ext.destroy(this.keyNav),t&&(delete t.pickerField,t.destroy()),this.callParent()},isEventWithinPickerLoadMask:function(t){var e=this.picker.loadMask;return!!e&&(t.within(e.maskEl,!1,!0)||t.within(e.el,!1,!0))}}),Ext.define("Ext.selection.Model",{extend:Ext.util.Observable,alternateClassName:"Ext.AbstractSelectionModel",mixins:{bindable:Ext.util.Bindable},allowDeselect:!1,selected:null,pruneRemoved:!0,constructor:function(t){t=t||{},Ext.apply(this,t),this.addEvents("selectionchange","focuschange"),this.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},this.setSelectionMode(t.mode||this.mode),this.selected=new Ext.util.MixedCollection(null,this.getSelectionId),this.callParent(arguments)},bindStore:function(t,e){this.mixins.bindable.bindStore.apply(this,arguments),this.store&&!e&&this.refresh()},getStoreListeners:function(){return{add:this.onStoreAdd,clear:this.onStoreClear,bulkremove:this.onStoreRemove,update:this.onStoreUpdate,load:this.onStoreLoad,idchanged:this.onModelIdChanged,refresh:this.onStoreRefresh}},selectAll:function(t){var e=this.store.getRange(),i=0,n=e.length,s=this.getSelection().length;for(this.bulkChange=!0;i<n;i++)this.doSelect(e[i],!0,t);delete this.bulkChange,this.maybeFireSelectionChange(this.getSelection().length!==s)},deselectAll:function(t){var e=this.getSelection(),i=0,n=e.length,s=this.getSelection().length;for(this.bulkChange=!0;i<n;i++)this.doDeselect(e[i],t);delete this.bulkChange,this.maybeFireSelectionChange(this.getSelection().length!==s)},selectWithEvent:function(t,e,i){var n=this.isSelected(t);switch(this.selectionMode){case"MULTI":e.shiftKey&&this.selectionStart?this.selectRange(this.selectionStart,t,e.ctrlKey):e.ctrlKey&&n?this.doDeselect(t,!1):e.ctrlKey?this.doSelect(t,!0,!1):n&&!e.shiftKey&&!e.ctrlKey&&this.selected.getCount()>1?this.doSelect(t,i,!1):n||this.doSelect(t,!1);break;case"SIMPLE":n?this.doDeselect(t):this.doSelect(t,!0);break;case"SINGLE":this.allowDeselect&&n?this.doDeselect(t):this.doSelect(t,!1)}e.shiftKey||(this.isSelected(t)?this.selectionStart=t:this.selectionStart=null)},afterKeyNavigate:function(t,e){var i,n,s=this.isSelected(e),r=this.selectionStart&&this.isSelected(this.lastFocused)?this.selectionStart:this.selectionStart=this.lastFocused,o=t.getCharCode(),a=o===t.SPACE,l=o===t.UP||o===t.PAGE_UP?"up":o===t.DOWN||o===t.DOWN?"down":null;switch(this.selectionMode){case"MULTI":a?t.shiftKey?this.selectRange(r,e,t.ctrlKey):s?(this.doDeselect(e,t.ctrlKey),this.setLastFocused(null),this.setLastFocused(e)):this.doSelect(e,t.ctrlKey):t.shiftKey&&r?(n=this.store.indexOf(r),i=this.store.indexOf(e),"up"===l&&n<=i?this.deselectRange(this.lastFocused,i+1):"down"===l&&n>=i?this.deselectRange(this.lastFocused,i-1):r!==e&&this.selectRange(r,e,t.ctrlKey),this.lastSelected=e,this.setLastFocused(e)):t.ctrlKey&&s?this.setLastFocused(e):t.ctrlKey?this.setLastFocused(e):this.doSelect(e,!1);break;case"SIMPLE":s?this.doDeselect(e):this.doSelect(e,!0);break;case"SINGLE":a?s?(this.doDeselect(e),this.setLastFocused(e)):this.doSelect(e):t.ctrlKey?this.setLastFocused(e):this.allowDeselect&&s?this.doDeselect(e):this.doSelect(e,!1)}t.shiftKey||this.isSelected(e)&&(this.selectionStart=e)},selectRange:function(t,e,i){var n,s=this.store,r=[];if(!this.isLocked()){for(i||this.deselectAll(!0),Ext.isNumber(t)||(t=s.indexOf(t)),Ext.isNumber(e)||(e=s.indexOf(e)),t>e&&(n=e,e=t,t=n),n=t;n<=e;n++)this.isSelected(s.getAt(n))||r.push(s.getAt(n));this.doMultiSelect(r,!0)}},deselectRange:function(t,e){var i,n,s,r=this.store;if(!this.isLocked())for(Ext.isNumber(t)||(t=r.indexOf(t)),Ext.isNumber(e)||(e=r.indexOf(e)),t>e&&(n=e,e=t,t=n),i=t;i<=e;i++)s=r.getAt(i),this.isSelected(s)&&this.deselect(s)},onModelIdChanged:function(t,e,i,n,s){this.selected.updateKey(s,n)},select:function(t,e,i){Ext.isDefined(t)&&this.doSelect(t,e,i)},deselect:function(t,e){this.doDeselect(t,e)},doSelect:function(t,e,i){var n;if(!this.locked&&this.store){if("number"==typeof t){if(!(n=this.store.getAt(t)))return;t=[n]}"SINGLE"==this.selectionMode&&t?(n=t.length?t[0]:t,this.doSingleSelect(n,i)):this.doMultiSelect(t,e,i)}},doMultiSelect:function(t,e,i){function n(){o.add(r),a=!0}var s,r,o=this.selected,a=!1,l=0;if(!this.locked&&(t=Ext.isArray(t)?t:[t],s=t.length,e||!(o.getCount()>0)||!1!==this.doDeselect(this.getSelection(),i))){for(;l<s;l++)r=t[l],e&&this.isSelected(r)||(this.lastSelected=r,this.onSelectChange(r,!0,i,n));this.preventFocus||this.setLastFocused(r,i),this.maybeFireSelectionChange(a&&!i)}},doDeselect:function(t,e){function i(){++l,r.remove(s)}var n,s,r=this.selected,o=0,a=0,l=0;if(this.locked||!this.store)return!1;if("number"==typeof t){if(!(s=this.store.getAt(t)))return!1;t=[s]}else Ext.isArray(t)||(t=[t]);for(n=t.length;o<n;o++)s=t[o],this.isSelected(s)&&(this.lastSelected===s&&(this.lastSelected=r.last(),this.lastFocused===s&&this.setLastFocused(null)),++a,this.onSelectChange(s,!1,e,i));return this.maybeFireSelectionChange(l>0&&!e),l===a},doSingleSelect:function(t,e){var i=this,n=!1,s=i.selected;i.locked||i.isSelected(t)||(i.onSelectChange(t,!0,e,function(){if(i.bulkChange=!0,s.getCount()>0&&!1===i.doDeselect(i.lastSelected,e))return delete i.bulkChange,!1;delete i.bulkChange,s.add(t),i.lastSelected=t,n=!0}),n&&(e||i.preventFocus||i.setLastFocused(t),i.maybeFireSelectionChange(!e)))},setLastFocused:function(t,e){var i=this.lastFocused;this.lastFocused=t,t!==i&&this.onLastFocusChanged(i,t,e)},isFocused:function(t){return t===this.getLastFocused()},maybeFireSelectionChange:function(t){t&&!this.bulkChange&&this.fireEvent("selectionchange",this,this.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(t){t=t?t.toUpperCase():"SINGLE",this.selectionMode=this.modes[t]?t:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(t){this.locked=!!t},isRangeSelected:function(t,e){var i,n=this.store,s=n.indexOf(t),r=n.indexOf(e);for(r<s&&(i=r,r=s,s=i),i=s;i<=r;i++)if(!this.isSelected(n.getAt(i)))return!1;return!0},isSelected:function(t){return t=Ext.isNumber(t)?this.store.getAt(t):t,this.selected.contains(t)},hasSelection:function(){return this.selected.getCount()>0},getSelectionId:function(t){return t.internalId},pruneIf:function(){var t,e,i=this.selected,n=[],s=i.length;if(this.pruneRemoved){for(t=0;t<s;t++)e=i.getAt(t),this.storeHasSelected(e)||n.push(e);if(n.length){for(t=0,s=n.length;t<s;t++)i.remove(n[t]);this.maybeFireSelectionChange(!0)}}},storeHasSelected:function(t){var e,i,n,s,r=this.store;if(t.hasId()&&r.getById(t))return!0;for(i=(e=r.data.items).length,n=t.internalId,s=0;s<i;++s)if(n===e[s].internalId)return!0;return!1},refresh:function(){var t,e,i,n=this.store,s=[],r=[],o=this.getSelection(),a=o.length,l=0,h=this.getLastFocused();if(n){for(;l<a&&(e=o[l],-1!==n.indexOf(e)?s.push(e):this.pruneRemoved||((t=n.getById(e.getId()))?s.push(t):r.push(e)),"SINGLE"!==this.mode||!r.length);l++);this.selected.getCount()!=s.length+r.length&&(i=!0),this.clearSelections(),-1!==n.indexOf(h)&&this.setLastFocused(h,!0),s.length&&this.doSelect(s,!1,!0),r.length&&(this.selected.addAll(r),this.lastSelected||(this.lastSelected=r[r.length-1])),this.maybeFireSelectionChange(i)}},clearSelections:function(){this.selected.clear(),this.lastSelected=null,this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.selected.getCount()>0&&(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(t,e,i,n){this.selectionStart&&Ext.Array.contains(e,this.selectionStart)&&(this.selectionStart=null),n||this.locked||!this.pruneRemoved||this.deselectDeletedRecords(e)},deselectDeletedRecords:function(t){var e,i,n=this.selected,s=t.length,r=0;for(e=0;e<s;e++)i=t[e],n.remove(i)&&(this.lastSelected==i&&(this.lastSelected=null),this.getLastFocused()==i&&this.setLastFocused(null),++r);r&&this.maybeFireSelectionChange(!0)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:Ext.emptyFn,onStoreUpdate:Ext.emptyFn,onStoreRefresh:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:Ext.emptyFn,onLastFocusChanged:function(t,e){this.fireEvent("focuschange",this,t,e)},onEditorKey:Ext.emptyFn,bindComponent:Ext.emptyFn,beforeViewRender:Ext.emptyFn}),Ext.define("Ext.selection.DataViewModel",{extend:Ext.selection.Model,deselectOnContainerClick:!0,enableKeyNav:!0,constructor:function(t){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.callParent(arguments)},bindComponent:function(t){var e={refresh:this.refresh,scope:this};this.view=t,this.bindStore(t.getStore()),e[t.triggerEvent]=this.onItemClick,e[t.triggerCtEvent]=this.onContainerClick,t.on(e),this.enableKeyNav&&this.initKeyNav(t)},onUpdate:function(t){var e=this.view;e&&this.isSelected(t)&&e.onItemSelect(t)},onItemClick:function(t,e,i,n,s){this.selectWithEvent(e,s)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(t){t.rendered?(t.el.set({tabIndex:-1}),this.keyNav=new Ext.util.KeyNav({target:t.el,ignoreInputFields:!0,down:Ext.pass(this.onNavKey,[1],this),right:Ext.pass(this.onNavKey,[1],this),left:Ext.pass(this.onNavKey,[-1],this),up:Ext.pass(this.onNavKey,[-1],this),scope:this})):t.on({render:Ext.Function.bind(this.initKeyNav,this,[t]),single:!0})},onNavKey:function(t){t=t||1;var e,i=this.view,n=this.getSelection()[0],s=this.view.store.getCount();(e=n?i.indexOf(i.getNode(n))+t:0)<0?e=s-1:e>=s&&(e=0),this.select(e)},onSelectChange:function(t,e,i,n){var s=this.view,r=e?"select":"deselect";!1!==(i||this.fireEvent("before"+r,this,t))&&!1!==n()&&(s&&(e?s.onItemSelect(t):s.onItemDeselect(t)),i||this.fireEvent(r,this,t))},onLastFocusChanged:function(t,e,i){var n=this.view;n&&!i&&e&&(n.focusNode(e),this.fireEvent("focuschange",this,t,e))},destroy:function(){Ext.destroy(this.keyNav),this.callParent()}}),Ext.define("Ext.view.AbstractView",{extend:Ext.Component,mixins:{bindable:Ext.util.Bindable},inheritableStatics:{getRecord:function(t){return this.getBoundView(t).getRecord(t)},getBoundView:function(t){return Ext.getCmp(t.boundView)}},deferInitialRefresh:!0,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,last:!1,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){Ext.isDefined;var t=this.itemTpl,e={};t&&(Ext.isArray(t)?t=t.join(""):Ext.isObject(t)&&(e=Ext.apply(e,t.initialConfig),t=t.html),this.itemSelector||(this.itemSelector="."+this.itemCls),t=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',this.itemCls,t),this.tpl=new Ext.XTemplate(t,e)),this.callParent(),this.tpl=this.getTpl("tpl"),this.overItemCls&&(this.trackOver=!0),this.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove"),this.addCmpEvents(),this.store=Ext.data.StoreManager.lookup(this.store||"ext-empty-store"),this.dataSource||(this.dataSource=this.store),this.bindStore(this.dataSource,!0,"dataSource"),this.all||(this.all=new Ext.CompositeElementLite),this.scrollState={top:0,left:0},this.on({scroll:this.onViewScroll,element:"el",scope:this})},onRender:function(){var t=this.loadMask,e={target:this,msg:this.loadingText,msgCls:this.loadingCls,useMsg:this.loadingUseMsg,store:this.getMaskStore()};this.callParent(arguments),t&&(Ext.isObject(t)&&(e=Ext.apply(e,t)),this.loadMask=new Ext.LoadMask(e),this.loadMask.on({scope:this,beforeshow:this.onMaskBeforeShow,hide:this.onMaskHide}))},finishRender:function(){this.callParent(arguments),this.up("[collapsed],[hidden]")||this.doFirstRefresh(this.dataSource)},onBoxReady:function(){this.callParent(arguments),this.firstRefreshDone||this.doFirstRefresh(this.dataSource)},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var t=this.loadingHeight;t&&t>this.getHeight()&&(this.hasLoadingHeight=!0,this.oldMinHeight=this.minHeight,this.minHeight=t,this.updateLayout())},onMaskHide:function(){!this.destroying&&this.hasLoadingHeight&&(this.minHeight=this.oldMinHeight,this.updateLayout(),delete this.hasLoadingHeight)},beforeRender:function(){this.callParent(arguments),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments),this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var t="SINGLE";return this.simpleSelect?t="SIMPLE":this.multiSelect&&(t="MULTI"),this.selModel&&this.selModel.events||(this.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:this.allowDeselect,mode:t},this.selModel))),this.selModel.hasRelaySetup||(this.relayEvents(this.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),this.selModel.hasRelaySetup=!0),this.disableSelection&&(this.selModel.locked=!0),this.selModel},refresh:function(){var t,e,i,n,s,r;this.rendered&&!this.isDestroyed&&(this.hasListeners.beforerefresh&&!1===this.fireEvent("beforerefresh",this)||(t=this.getTargetEl(),r=this.getViewRange(),s=t.dom,this.preserveScrollOnRefresh||(e=s.parentNode,i=s.style.display,s.style.display="none",n=s.nextSibling,e.removeChild(s)),this.refreshCounter?this.clearViewEl():(this.fixedNodes=t.dom.childNodes.length,this.refreshCounter=1),this.tpl.append(t,this.collectData(r,this.all.startIndex)),r.length<1?(this.store.loading||this.deferEmptyText&&!this.hasFirstRefresh||Ext.core.DomHelper.insertHtml("beforeEnd",t.dom,this.emptyText),this.all.clear()):(this.collectNodes(t.dom),this.updateIndexes(0)),this.hasFirstRefresh&&(!1!==this.refreshSelmodelOnRefresh?this.selModel.refresh():this.selModel.pruneIf()),this.hasFirstRefresh=!0,this.preserveScrollOnRefresh||(e.insertBefore(s,n),s.style.display=i),this.refreshSize(),this.fireEvent("refresh",this),this.viewReady||(this.viewReady=!0,this.fireEvent("viewready",this))))},collectNodes:function(t){this.all.fill(Ext.query(this.getItemSelector(),Ext.getDom(t)),this.all.startIndex)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var t=this.getSizeModel();(t.height.shrinkWrap||t.width.shrinkWrap)&&this.updateLayout()},clearViewEl:function(){var t=this.getTargetEl();if(this.fixedNodes)for(;t.dom.childNodes[this.fixedNodes];)t.dom.removeChild(t.dom.childNodes[this.fixedNodes]);else t.update("");this.refreshCounter++},onViewScroll:Ext.emptyFn,onIdChanged:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var t=this.el.dom,e=this.scrollState;e.left=t.scrollLeft,e.top=t.scrollTop}},restoreScrollState:function(){if(this.rendered){var t=this.el.dom,e=this.scrollState;t.scrollLeft=e.left,t.scrollTop=e.top}},prepareData:function(t,e,i){var n,s,r;if(i){n=i.getAssociatedData();for(s in n)n.hasOwnProperty(s)&&(r||(t=Ext.Object.chain(t),r=!0),t[s]=n[s])}return t},collectData:function(t,e){for(var i,n=[],s=0,r=t.length;s<r;s++)i=t[s],n[s]=this.prepareData(i.data,e+s,i);return n},bufferRender:function(t,e){var i=this.renderBuffer||(this.renderBuffer=document.createElement("div"));return this.tpl.overwrite(i,this.collectData(t,e)),Ext.DomQuery.select(this.getItemSelector(),i)},getNodeContainer:function(){return this.getTargetEl()},onUpdate:function(t,e){var i,n;if(this.viewReady&&(i=this.dataSource.indexOf(e))>-1&&(n=this.bufferRender([e],i)[0],this.getNode(e)))return this.all.replaceElement(i,n,!0),this.updateIndexes(i,i),this.selModel.onUpdate(e),this.hasListeners.itemupdate&&this.fireEvent("itemupdate",e,i,n),n},onAdd:function(t,e,i){var n;this.rendered&&(0===this.all.getCount()?(this.refresh(),n=this.all.slice()):(n=this.doAdd(e,i),!1!==this.refreshSelmodelOnRefresh&&this.selModel.refresh(),this.updateIndexes(i),this.refreshSize()),this.hasListeners.itemadd&&this.fireEvent("itemadd",e,i,n))},doAdd:function(t,e){var i,n,s=this.bufferRender(t,e,!0),r=this.all,o=r.getCount();if(0===o)for(i=0,n=s.length;i<n;i++)this.getNodeContainer().appendChild(s[i]);else e<o?0===e?r.item(e).insertSibling(s,"before",!0):r.item(e-1).insertSibling(s,"after",!0):r.last().insertSibling(s,"after",!0);return r.insert(e,s),s},onRemove:function(t,e,i){var n,s,r,o=this.hasListeners.itemremove;if(this.all.getCount()){if(0===this.dataSource.getCount()){if(o)for(n=i.length-1;n>=0;--n)this.fireEvent("itemremove",e[n],i[n]);this.refresh()}else{for(n=i.length-1;n>=0;--n)s=e[n],r=i[n],this.doRemove(s,r),o&&this.fireEvent("itemremove",s,r);this.updateIndexes(i[0])}this.refreshSize()}},doRemove:function(t,e){this.all.removeElement(e,!0)},refreshNode:function(t){this.onUpdate(this.dataSource,this.dataSource.getAt(t))},updateIndexes:function(t,e){var i,n=this.all.elements,s=this.getViewRange();for(t=t||0,e=e||(0===e?0:n.length-1),i=t;i<=e;i++)n[i].viewIndex=i,n[i].viewRecordId=s[i].internalId,n[i].boundView||(n[i].boundView=this.id)},getStore:function(){return this.store},bindStore:function(t,e,i){this.mixins.bindable.bindStore.apply(this,arguments),e||this.getSelectionModel().bindStore(t),this.componentLayoutCounter&&this.doFirstRefresh(t)},doFirstRefresh:function(t){this.firstRefreshDone=!0,t&&!t.loading&&(this.deferInitialRefresh?this.applyFirstRefresh():this.refresh())},applyFirstRefresh:function(){var t=this;t.isDestroyed||(t.up("[isCollapsingOrExpanding]")?Ext.Function.defer(t.applyFirstRefresh,100,t):Ext.Function.defer(function(){t.isDestroyed||t.refresh()},1))},onUnbindStore:function(t){this.setMaskBind(null)},onBindStore:function(t,e,i){this.setMaskBind(t),e||"store"!==i||this.bindStore(t,!1,"dataSource")},setMaskBind:function(t){var e=this.loadMask;e&&e.bindStore&&e.bindStore(t)},getStoreListeners:function(){return{idchanged:this.onIdChanged,refresh:this.onDataRefresh,add:this.onAdd,bulkremove:this.onRemove,update:this.onUpdate,clear:this.refresh}},onDataRefresh:function(){!this.firstRefreshDone&&(!this.rendered||this.up("[collapsed],[isCollapsingOrExpanding],[hidden]"))?this.deferInitialRefresh=!1:!0!==this.blockRefresh&&(this.firstRefreshDone=!0,this.refresh.apply(this,arguments))},findItemByChild:function(t){return Ext.fly(t).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(t){return t.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var t=[],e=this.selModel.getSelection(),i=e.length,n=0;n<i;n++)t.push(this.getNode(e[n]));return t},getRecords:function(t){for(var e=[],i=0,n=t.length,s=this.dataSource.data;i<n;i++)e[e.length]=s.getByKey(t[i].viewRecordId);return e},getRecord:function(t){return this.dataSource.data.getByKey(Ext.getDom(t).viewRecordId)},isSelected:function(t){var e=this.getRecord(t);return this.selModel.isSelected(e)},select:function(t,e,i){this.selModel.select(t,e,i)},deselect:function(t,e){this.selModel.deselect(t,e)},getNode:function(t){return!t&&0!==t||!this.rendered?null:Ext.isString(t)?document.getElementById(t):Ext.isNumber(t)?this.all.elements[t]:t.isModel?this.getNodeByRecord(t):t},getNodeByRecord:function(t){for(var e=this.all.elements,i=e.length,n=0;n<i;n++)if(e[n].viewRecordId===t.internalId)return e[n];return null},getNodes:function(t,e){var i=this.all;return void 0===e?e=i.getCount():e++,i.slice(t||0,e)},indexOf:function(t){return(t=this.getNode(t))||0===t?Ext.isNumber(t.viewIndex)?t.viewIndex:this.all.indexOf(t):-1},onDestroy:function(){this.all.clear(),this.callParent(),this.bindStore(null),this.selModel.destroy()},onItemSelect:function(t){var e=this.getNode(t);e&&Ext.fly(e).addCls(this.selectedItemCls)},onItemDeselect:function(t){var e=this.getNode(t);e&&Ext.fly(e).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(t,e,i){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var n=this.getSelectionModel();return n.select.apply(n,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");return this.getSelectionModel().deselectAll()}})})}),Ext.define("Ext.view.View",{extend:Ext.view.AbstractView,alternateClassName:"Ext.DataView",alias:"widget.dataview",deferHighlight:Ext.isIE7m?100:0,mouseOverOutBuffer:20,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){this.callParent(),this.mouseOverOutBuffer?(this.handleMouseOverOrOut=Ext.Function.createBuffered(this.handleMouseOverOrOut,this.mouseOverOutBuffer,this),this.lastMouseOverOutEvent=new Ext.EventObjectImpl):this.deferHighlight&&(this.setHighlightedItem=Ext.Function.createBuffered(this.setHighlightedItem,this.deferHighlight,this))},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var t=this.mouseOverOutBuffer?this.onMouseOverOut:this.handleMouseOverOrOut;this.callParent(),this.mon(this.getTargetEl(),{scope:this,freezeEvent:!0,click:this.handleEvent,mousedown:this.handleEvent,mouseup:this.handleEvent,dblclick:this.handleEvent,contextmenu:this.handleEvent,keydown:this.handleEvent,mouseover:t,mouseout:t})},onMouseOverOut:function(t){this.lastMouseOverOutEvent.setEvent(t.browserEvent,!0),this.handleMouseOverOrOut(this.lastMouseOverOutEvent)},handleMouseOverOrOut:function(t){var e=t["mouseout"===t.type?"getRelatedTarget":"getTarget"](this.dataRowSelector||this.itemSelector);this.mouseOverItem&&e===this.mouseoverItem||(this.mouseOverItem&&(t.item=this.mouseOverItem,t.newType="mouseleave",this.handleEvent(t)),this.mouseOverItem=e,this.mouseOverItem&&(t.item=this.mouseOverItem,t.newType="mouseenter",this.handleEvent(t)))},handleEvent:function(t){var e="keydown"==t.type&&t.getKey();!1!==this.processUIEvent(t)&&this.processSpecialEvent(t),e===t.SPACE&&(this.inputTagRe.test(t.getTarget().tagName)||t.stopEvent())},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(t){if(Ext.getBody().isAncestor(t.target)){var e,i,n,s=t.getTarget(this.getItemSelector(),this.getTargetEl()),r=this.statics().EventMap,o=t.type,a=t.type;if(t.newType&&(a=t.newType,s=t.item),s||"keydown"!=o||(i=(n=this.getSelectionModel()).lastFocused||n.getLastSelected())&&(s=this.getNode(i,!0)),s){if(i||(i=this.getRecord(s)),e=this.indexInStore?this.indexInStore(i):this.indexOf(s),!i||!1===this.processItemEvent(i,s,e,t))return!1;if(!1===this["onBeforeItem"+r[a]](i,s,e,t)||!1===this.fireEvent("beforeitem"+a,this,i,s,e,t)||!1===this["onItem"+r[a]](i,s,e,t))return!1;this.fireEvent("item"+a,this,i,s,e,t)}else{if(!1===this.processContainerEvent(t)||!1===this["onBeforeContainer"+r[o]](t)||!1===this.fireEvent("beforecontainer"+o,this,t)||!1===this["onContainer"+r[o]](t))return!1;this.fireEvent("container"+o,this,t)}return!0}},onItemMouseEnter:function(t,e,i,n){this.trackOver&&this.highlightItem(e)},onItemMouseLeave:function(t,e,i,n){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(t){var e=this.highlightedItem;e!=t&&(e&&(Ext.fly(e).removeCls(this.overItemCls),this.fireEvent("unhighlightitem",this,e)),this.highlightedItem=t,t&&(Ext.fly(t).addCls(this.overItemCls),this.fireEvent("highlightitem",this,t)))},highlightItem:function(t){this.setHighlightedItem(t)},clearHighlight:function(){this.setHighlightedItem(void 0)},onUpdate:function(t,e){var i,n,s;this.viewReady&&(i=this.getNode(e),n=this.callParent(arguments),(s=this.highlightedItem)&&s===i&&(delete this.highlightedItem,n&&this.highlightItem(n)))},refresh:function(){this.clearHighlight(),this.callParent(arguments)},focusNode:function(t){var e,i=this.getNode(t,!0),n=this.el,s=0,r=0,o=n.getRegion();o.bottom=o.top+n.dom.clientHeight,o.right=o.left+n.dom.clientWidth,i&&((e=Ext.fly(i).getRegion()).top<o.top?s=e.top-o.top:e.bottom>o.bottom&&(s=e.bottom-o.bottom),e.left<o.left?r=e.left-o.left:e.right>o.right&&(r=e.right-o.right),(r||s)&&this.scrollBy(r,s,!1),n.focus())}}),Ext.define("Ext.layout.component.BoundList",{extend:Ext.layout.component.Auto,alias:"layout.boundlist",type:"component",beginLayout:function(t){var e=this.owner,i=e.pagingToolbar;this.callParent(arguments),e.floating&&(t.savedXY=e.getXY(),e.setXY([0,-9999])),i&&(t.toolbarContext=t.context.getCmp(i)),t.listContext=t.getEl("listEl")},beginLayoutCycle:function(t){var e=this.owner;this.callParent(arguments),t.heightModel.auto&&(e.el.setHeight("auto"),e.listEl.setHeight("auto"))},getLayoutItems:function(){var t=this.owner.pagingToolbar;return t?[t]:[]},isValidParent:function(){return!0},finishedLayout:function(t){var e=t.savedXY;this.callParent(arguments),e&&this.owner.setXY(e)},measureContentWidth:function(t){return this.owner.listEl.getWidth()},measureContentHeight:function(t){return this.owner.listEl.getHeight()},publishInnerHeight:function(t,e){var i=t.toolbarContext,n=0;i&&(n=i.getProp("height")),void 0===n?this.done=!1:t.listContext.setHeight(e-t.getFrameInfo().height-n)},calculateOwnerHeightFromContentHeight:function(t){var e=this.callParent(arguments),i=t.toolbarContext;return i&&(e+=i.getProp("height")),e}}),Ext.define("Ext.toolbar.TextItem",{extend:Ext.toolbar.Item,alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){this.callParent(),Ext.apply(this.renderData,{text:this.text})},setText:function(t){this.text=t,this.rendered&&(this.el.update(t),this.updateLayout())}}),Ext.define("Ext.form.field.Spinner",{extend:Ext.form.field.Trigger,alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}" class="{triggerCls}"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up {spinnerUpCls} {childElCls}" role="button"></div><div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down {spinnerDownCls} {childElCls}" role="button"></div></td></tr>',initComponent:function(){this.callParent(),this.addEvents("spin","spinup","spindown")},onRender:function(){var t;this.callParent(arguments),t=this.triggerEl,this.spinUpEl=t.item(0),this.spinDownEl=t.item(1),this.triggerCell=this.spinUpEl.parent(),this.keyNavEnabled&&(this.spinnerKeyNav=new Ext.util.KeyNav(this.inputEl,{scope:this,up:this.spinUp,down:this.spinDown})),this.mouseWheelEnabled&&this.mon(this.bodyEl,"mousewheel",this.onMouseWheel,this)},getSubTplMarkup:function(t){var e=t.childElCls,i=Ext.form.field.Base.prototype.getSubTplMarkup.apply(this,arguments);return'<table id="'+this.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+e+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+this.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+e+'">'+i+"</td>"+this.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){return this.getTpl("triggerTpl").apply(this.getTriggerData())},getTriggerData:function(){var t=this.readOnly||this.hideTrigger;return{triggerCls:Ext.baseCSSPrefix+"trigger-cell",triggerStyle:t?"display:none":"",spinnerUpCls:this.spinUpEnabled?"":this.trigger1Cls+"-disabled",spinnerDownCls:this.spinDownEnabled?"":this.trigger2Cls+"-disabled"}},getTriggerWidth:function(){var t=0;return!this.triggerWrap||this.hideTrigger||this.readOnly||(t=this.triggerWidth),t},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){this.spinUpEnabled&&!this.disabled&&(this.fireEvent("spin",this,"up"),this.fireEvent("spinup",this),this.onSpinUp())},spinDown:function(){this.spinDownEnabled&&!this.disabled&&(this.fireEvent("spin",this,"down"),this.fireEvent("spindown",this),this.onSpinDown())},setSpinUpEnabled:function(t){var e=this.spinUpEnabled;this.spinUpEnabled=t,e!==t&&this.rendered&&this.spinUpEl[t?"removeCls":"addCls"](this.trigger1Cls+"-disabled")},setSpinDownEnabled:function(t){var e=this.spinDownEnabled;this.spinDownEnabled=t,e!==t&&this.rendered&&this.spinDownEl[t?"removeCls":"addCls"](this.trigger2Cls+"-disabled")},onMouseWheel:function(t){var e;this.hasFocus&&((e=t.getWheelDelta())>0?this.spinUp():e<0&&this.spinDown(),t.stopEvent())},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl"),this.callParent()}}),Ext.define("Ext.form.field.Number",{extend:Ext.form.field.Spinner,alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowDecimals:!0,decimalSeparator:".",submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){this.callParent(),this.setMinValue(this.minValue),this.setMaxValue(this.maxValue)},getErrors:function(t){var e,i=this.callParent(arguments),n=Ext.String.format;return(t=Ext.isDefined(t)?t:this.processRawValue(this.getRawValue())).length<1?i:(t=String(t).replace(this.decimalSeparator,"."),isNaN(t)&&i.push(n(this.nanText,t)),e=this.parseValue(t),0===this.minValue&&e<0?i.push(this.negativeText):e<this.minValue&&i.push(n(this.minText,this.minValue)),e>this.maxValue&&i.push(n(this.maxText,this.maxValue)),i)},rawToValue:function(t){var e=this.fixPrecision(this.parseValue(t));return null===e&&(e=t||null),e},valueToRaw:function(t){var e=this.decimalSeparator;return t=this.parseValue(t),t=this.fixPrecision(t),t=Ext.isNumber(t)?t:parseFloat(String(t).replace(e,".")),t=isNaN(t)?"":String(t).replace(".",e)},getSubmitValue:function(){var t=this.callParent();return this.submitLocaleSeparator||(t=t.replace(this.decimalSeparator,".")),t},onChange:function(){this.toggleSpinners(),this.callParent(arguments)},toggleSpinners:function(){var t,e=this.getValue(),i=null===e;(this.spinUpEnabled||this.spinUpDisabledByToggle)&&(t=i||e<this.maxValue,this.setSpinUpEnabled(t,!0)),(this.spinDownEnabled||this.spinDownDisabledByToggle)&&(t=i||e>this.minValue,this.setSpinDownEnabled(t,!0))},setMinValue:function(t){var e;this.minValue=Ext.Number.from(t,Number.NEGATIVE_INFINITY),this.toggleSpinners(),!0!==this.disableKeyFilter&&(e=this.baseChars+"",this.allowDecimals&&(e+=this.decimalSeparator),this.minValue<0&&(e+="-"),e=Ext.String.escapeRegex(e),this.maskRe=new RegExp("["+e+"]"),this.autoStripChars&&(this.stripCharsRe=new RegExp("[^"+e+"]","gi")))},setMaxValue:function(t){this.maxValue=Ext.Number.from(t,Number.MAX_VALUE),this.toggleSpinners()},parseValue:function(t){return t=parseFloat(String(t).replace(this.decimalSeparator,".")),isNaN(t)?null:t},fixPrecision:function(t){var e=isNaN(t),i=this.decimalPrecision;return e||!t?e?"":t:((!this.allowDecimals||i<=0)&&(i=0),parseFloat(Ext.Number.toFixed(parseFloat(t),i)))},beforeBlur:function(){var t=this.parseValue(this.getRawValue());Ext.isEmpty(t)||this.setValue(t)},setSpinUpEnabled:function(t,e){this.callParent(arguments),e?this.spinUpDisabledByToggle=!t:delete this.spinUpDisabledByToggle},onSpinUp:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()+this.step,this.minValue,this.maxValue))},setSpinDownEnabled:function(t,e){this.callParent(arguments),e?this.spinDownDisabledByToggle=!t:delete this.spinDownDisabledByToggle},onSpinDown:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()-this.step,this.minValue,this.maxValue))},setSpinValue:function(t){this.enforceMaxLength&&this.fixPrecision(t).toString().length>this.maxLength||this.setValue(t)}}),Ext.define("Ext.toolbar.Paging",{extend:Ext.toolbar.Toolbar,alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",mixins:{bindable:Ext.util.Bindable},displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){return[{itemId:"first",tooltip:this.firstText,overflowText:this.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:!0,handler:this.moveFirst,scope:this},{itemId:"prev",tooltip:this.prevText,overflowText:this.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:!0,handler:this.movePrevious,scope:this},"-",this.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:this.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(this.afterPageText,1)},"-",{itemId:"next",tooltip:this.nextText,overflowText:this.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:!0,handler:this.moveNext,scope:this},{itemId:"last",tooltip:this.lastText,overflowText:this.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:!0,handler:this.moveLast,scope:this},"-",{itemId:"refresh",tooltip:this.refreshText,overflowText:this.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:this.doRefresh,scope:this}]},initComponent:function(){var t=this.getPagingItems(),e=this.items||this.buttons||[];this.prependButtons?this.items=e.concat(t):this.items=t.concat(e),delete this.buttons,this.displayInfo&&(this.items.push("->"),this.items.push({xtype:"tbtext",itemId:"displayItem"})),this.callParent(),this.addEvents("change","beforechange"),this.on("beforerender",this.onLoad,this,{single:!0}),this.bindStore(this.store||"ext-empty-store",!0)},updateInfo:function(){var t,e=this.child("#displayItem"),i=this.store,n=this.getPageData();e&&(t=0===i.getCount()?this.emptyMsg:Ext.String.format(this.displayMsg,n.fromRecord,n.toRecord,n.total),e.setText(t))},onLoad:function(){var t,e,i,n,s;(s=0===this.store.getCount())?(e=0,i=0,n=Ext.String.format(this.afterPageText,0)):(e=(t=this.getPageData()).currentPage,i=t.pageCount,n=Ext.String.format(this.afterPageText,isNaN(i)?1:i)),Ext.suspendLayouts(),this.child("#afterTextItem").setText(n),this.child("#inputItem").setDisabled(s).setValue(e),this.child("#first").setDisabled(1===e||s),this.child("#prev").setDisabled(1===e||s),this.child("#next").setDisabled(e===i||s),this.child("#last").setDisabled(e===i||s),this.child("#refresh").enable(),this.updateInfo(),Ext.resumeLayouts(!0),this.rendered&&this.fireEvent("change",this,t)},getPageData:function(){var t=this.store,e=t.getTotalCount();return{total:e,currentPage:t.currentPage,pageCount:Math.ceil(e/t.pageSize),fromRecord:(t.currentPage-1)*t.pageSize+1,toRecord:Math.min(t.currentPage*t.pageSize,e)}},onLoadError:function(){this.rendered&&this.child("#refresh").enable()},readPageFromInput:function(t){var e=this.child("#inputItem").getValue(),i=parseInt(e,10);return!e||isNaN(i)?(this.child("#inputItem").setValue(t.currentPage),!1):i},onPagingFocus:function(){this.child("#inputItem").select()},onPagingBlur:function(t){var e=this.getPageData().currentPage;this.child("#inputItem").setValue(e)},onPagingKeyDown:function(t,e){var i,n=e.getKey(),s=this.getPageData(),r=e.shiftKey?10:1;n==e.RETURN?(e.stopEvent(),!1!==(i=this.readPageFromInput(s))&&(i=Math.min(Math.max(1,i),s.pageCount),!1!==this.fireEvent("beforechange",this,i)&&this.store.loadPage(i))):n==e.HOME||n==e.END?(e.stopEvent(),i=n==e.HOME?1:s.pageCount,t.setValue(i)):n!=e.UP&&n!=e.PAGE_UP&&n!=e.DOWN&&n!=e.PAGE_DOWN||(e.stopEvent(),(i=this.readPageFromInput(s))&&(n!=e.DOWN&&n!=e.PAGE_DOWN||(r*=-1),(i+=r)>=1&&i<=s.pageCount&&t.setValue(i)))},beforeLoad:function(){this.rendered&&this.refresh&&this.refresh.disable()},moveFirst:function(){!1!==this.fireEvent("beforechange",this,1)&&this.store.loadPage(1)},movePrevious:function(){var t=this.store.currentPage-1;t>0&&!1!==this.fireEvent("beforechange",this,t)&&this.store.previousPage()},moveNext:function(){var t=this.getPageData().pageCount,e=this.store.currentPage+1;e<=t&&!1!==this.fireEvent("beforechange",this,e)&&this.store.nextPage()},moveLast:function(){var t=this.getPageData().pageCount;!1!==this.fireEvent("beforechange",this,t)&&this.store.loadPage(t)},doRefresh:function(){var t=this.store.currentPage;!1!==this.fireEvent("beforechange",this,t)&&this.store.loadPage(t)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(t){this.bindStore(null)},bind:function(t){this.bindStore(t)},onDestroy:function(){this.unbind(),this.callParent()}}),Ext.define("Ext.view.BoundList",{extend:Ext.view.View,alias:"widget.boundlist",alternateClassName:"Ext.BoundList",pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,refreshed:0,deferInitialRefresh:!1,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],initComponent:function(){var t=this.baseCls,e=this.itemCls;this.selectedItemCls=t+"-selected",this.overItemCls=t+"-item-over",this.itemSelector="."+e,this.floating&&this.addCls(t+"-floating"),this.tpl?Ext.isString(this.tpl)&&(this.tpl=new Ext.XTemplate(this.tpl)):this.tpl=new Ext.XTemplate('<ul class="'+Ext.plainListCls+'"><tpl for=".">','<li role="option" unselectable="on" class="'+e+'">'+this.getInnerTpl(this.displayField)+"</li>","</tpl></ul>"),this.pageSize&&(this.pagingToolbar=this.createPagingToolbar()),this.callParent()},beforeRender:function(){this.callParent(arguments),this.up("menu")&&this.addCls(Ext.baseCSSPrefix+"menu")},getRefOwner:function(){return this.pickerField},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var t=this.pagingToolbar;this.callParent(arguments),t&&t.finishRender()},refresh:function(){var t=this.pagingToolbar,e=this.rendered;this.callParent(),e&&t&&t.rendered&&!this.preserveScrollOnRefresh&&this.el.appendChild(t.el),e&&Ext.isIE6&&Ext.isStrict&&this.listEl.repaint()},bindStore:function(t,e){var i=this.pagingToolbar;this.callParent(arguments),i&&i.bindStore(t,e)},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(t){return"{"+t+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl"),this.callParent()}}),Ext.define("Ext.view.BoundListKeyNav",{extend:Ext.util.KeyNav,constructor:function(t,e){this.boundList=e.boundList,this.callParent([t,Ext.apply({},e,this.defaultHandlers)])},defaultHandlers:{up:function(){var t=this.boundList,e=t.all,i=t.highlightedItem,n=i?t.indexOf(i):-1,s=n>0?n-1:e.getCount()-1;this.highlightAt(s)},down:function(){var t=this.boundList,e=t.all,i=t.highlightedItem,n=i?t.indexOf(i):-1,s=n<e.getCount()-1?n+1:0;this.highlightAt(s)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){this.highlightAt(this.boundList.all.getCount()-1)},enter:function(t){this.selectHighlighted(t)}},highlightAt:function(t){var e=this.boundList,i=e.all.item(t);i&&(i=i.dom,e.highlightItem(i),e.getTargetEl().scrollChildIntoView(i,!1))},selectHighlighted:function(t){var e=this.boundList,i=e.highlightedItem,n=e.getSelectionModel();i&&n.selectWithEvent(e.getRecord(i),t)}}),Ext.define("Ext.layout.component.field.ComboBox",{extend:Ext.layout.component.field.Trigger,alias:"layout.combobox",type:"combobox",startingWidth:null,getTextWidth:function(){for(var t,e,i,n=this.owner,s=n.store,r=n.displayField,o=s.data.length,a="",l=0,h=0;l<o;l++)(t=(e=s.getAt(l).data[r]).length)>h&&(h=t,a=e);return i=Math.max(this.callParent(arguments),n.inputEl.getTextWidth(a+n.growAppend)),this.startingWidth&&!n.removingRecords||(this.startingWidth=i,i<n.growMin&&(n.defaultListConfig.minWidth=n.growMin),n.removingRecords=!1),i<this.startingWidth?this.startingWidth:i}}),Ext.define("Ext.form.field.ComboBox",{extend:Ext.form.field.Picker,alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:{bindable:Ext.util.Bindable},componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:!0,disableFormats:!0}],getSubTplData:function(){return Ext.applyIf(this.subTplData,{hiddenDataCls:this.hiddenDataCls}),this.callParent(arguments)},afterRender:function(){this.callParent(arguments),this.setHiddenValue(this.value)},multiSelect:!1,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,pageSize:0,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){return this.grow&&this.growToLongestValue},initComponent:function(){var t,e,i=Ext.isDefined,n=this.store,s=this.transform;Ext.applyIf(this.renderSelectors,{hiddenDataEl:"."+this.hiddenDataCls.split(" ").join(".")}),this.addEvents("beforequery","select","beforeselect","beforedeselect"),s&&(t=Ext.getDom(s))&&(this.store||(n=Ext.Array.map(Ext.Array.from(t.options),function(t){return[t.value,t.text]})),this.name||(this.name=t.name),"value"in this||(this.value=t.value)),this.bindStore(n||"ext-empty-store",!0),(n=this.store).autoCreated&&(this.queryMode="local",this.valueField=this.displayField="field1",n.expanded||(this.displayField="field2")),this.queryFilter=new Ext.util.Filter({id:this.id+"-query-filter",disabled:!0,root:"data",property:this.displayField}),n.filter(this.queryFilter),i(this.valueField)||(this.valueField=this.displayField),e="local"===this.queryMode,i(this.queryDelay)||(this.queryDelay=e?10:500),i(this.minChars)||(this.minChars=e?0:4),this.displayTpl?Ext.isString(this.displayTpl)&&(this.displayTpl=new Ext.XTemplate(this.displayTpl)):this.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+this.displayField+'"]]}<tpl if="xindex < xcount">'+this.delimiter+"</tpl></tpl>"),this.callParent(),this.doQueryTask=new Ext.util.DelayedTask(this.doRawQuery,this),this.store.getCount()>0&&this.setValue(this.value),t&&(this.render(t.parentNode,t),Ext.removeNode(t),delete this.renderTo)},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel(),this.assertValue()},assertValue:function(){var t,e,i=this.getRawValue();this.forceSelection&&(this.multiSelect?i!==this.getDisplayValue()&&this.setValue(this.lastSelection):(t=this.findRecordByDisplay(i))?(e=this.value,this.findRecordByValue(e)||this.select(t,!0)):this.setValue(this.lastSelection)),this.collapse()},onTypeAhead:function(){var t,e,i,n=this.displayField,s=this.store.findRecord(n,this.getRawValue()),r=this.getPicker();s&&(e=(t=s.get(n)).length,i=this.getRawValue().length,r.highlightItem(r.getNode(s)),0!==i&&i!==e&&(this.setRawValue(t),this.selectText(i,t.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent(),this.queryFilter.disabled||(this.queryFilter.disabled=!0,this.store.filter())},onUnbindStore:function(t){var e=this.picker;this.store.removeFilter(this.queryFilter),!t&&e&&e.bindStore(null)},onBindStore:function(t,e){var i=this.picker;e||(this.resetToDefault(),t.filter(this.queryFilter)),i&&i.bindStore(t)},getStoreListeners:function(){return{beforeload:this.onBeforeLoad,clear:this.onClear,datachanged:this.onDataChanged,load:this.onLoad,exception:this.onException,remove:this.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){this.resizeComboToGrow()&&this.updateLayout()},onClear:function(){this.resizeComboToGrow()&&(this.removingRecords=!0,this.onDataChanged())},onRemove:function(){this.resizeComboToGrow()&&(this.removingRecords=!0)},onException:function(){this.ignoreSelection>0&&--this.ignoreSelection,this.collapse()},onLoad:function(){this.value;this.ignoreSelection>0&&--this.ignoreSelection,this.rawQuery?(this.rawQuery=!1,this.syncSelection(),this.picker&&!this.picker.getSelectionModel().hasSelection()&&this.doAutoSelect()):this.value||0===this.value?this.setValue(this.value):this.store.getCount()?this.doAutoSelect():this.setValue(this.value)},doRawQuery:function(){this.doQuery(this.getRawValue(),!1,!0)},doQuery:function(t,e,i){var n={query:t=t||"",forceAll:e,combo:this,cancel:!1},s=this.store,r="local"===this.queryMode;return!1!==this.fireEvent("beforequery",n)&&!n.cancel&&(t=n.query,((e=n.forceAll)||t.length>=this.minChars)&&(this.expand(),this.queryCaching&&this.lastQuery===t||(this.lastQuery=t,r?(t||!e?(this.queryFilter.disabled=!1,this.queryFilter.setValue(this.enableRegEx?new RegExp(t):t)):this.queryFilter.disabled=!0,s.filter()):(this.rawQuery=i,this.pageSize?this.loadPage(1):s.load({params:this.getParams(t)}))),this.getRawValue()!==this.getDisplayValue()&&(this.ignoreSelection++,this.picker.getSelectionModel().deselectAll(),this.ignoreSelection--),r&&this.doAutoSelect(),this.typeAhead&&this.doTypeAhead()),!0)},loadPage:function(t){this.store.loadPage(t,{params:this.getParams(this.lastQuery)})},onPageChange:function(t,e){return this.loadPage(e),!1},getParams:function(t){var e={},i=this.queryParam;return i&&(e[i]=t),e},doAutoSelect:function(){var t,e,i=this.picker;i&&this.autoSelect&&this.store.getCount()>0&&(t=i.getSelectionModel().lastSelected,(e=i.getNode(t||0))&&(i.highlightItem(e),i.listEl.scrollChildIntoView(e,!1)))},doTypeAhead:function(){this.typeAheadTask||(this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)),this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(){this.readOnly||this.disabled||(this.isExpanded?this.collapse():(this.onFocus({}),"all"===this.triggerAction?this.doQuery(this.allQuery,!0):this.doQuery(this.getRawValue(),!1,!0)),this.inputEl.focus())},onPaste:function(){this.readOnly||this.disabled||!this.editable||this.doQueryTask.delay(this.queryDelay)},onKeyUp:function(t,e){var i=t.getKey();this.readOnly||this.disabled||!this.editable||(this.lastKey=i,t.isSpecialKey()&&i!=t.BACKSPACE&&i!=t.DELETE||this.doQueryTask.delay(this.queryDelay)),this.enableKeyEvents&&this.callParent(arguments)},initEvents:function(){this.callParent(),this.enableKeyEvents||this.mon(this.inputEl,"keyup",this.onKeyUp,this),this.mon(this.inputEl,"paste",this.onPaste,this)},onDestroy:function(){this.bindStore(null),this.callParent()},onAdded:function(){this.callParent(arguments),this.picker&&(this.picker.ownerCt=this.up("[floating]"),this.picker.registerWithOwnerCt())},createPicker:function(){var t,e=Ext.apply({xtype:"boundlist",pickerField:this,selModel:{mode:this.multiSelect?"SIMPLE":"SINGLE"},floating:!0,hidden:!0,store:this.store,displayField:this.displayField,focusOnToFront:!1,pageSize:this.pageSize,tpl:this.tpl},this.listConfig,this.defaultListConfig);return t=this.picker=Ext.widget(e),this.pageSize&&t.pagingToolbar.on("beforechange",this.onPageChange,this),this.mon(t,{itemclick:this.onItemClick,refresh:this.onListRefresh,scope:this}),this.mon(t.getSelectionModel(),{beforeselect:this.onBeforeSelect,beforedeselect:this.onBeforeDeselect,selectionchange:this.onListSelectionChange,scope:this}),t},alignPicker:function(){var t=this.getPicker(),e=this.getPosition()[1]-Ext.getBody().getScroll().top,i=Ext.Element.getViewHeight()-e-this.getHeight(),n=Math.max(e,i);t.height&&(delete t.height,t.updateLayout()),t.getHeight()>n-5&&t.setHeight(n-5),this.callParent()},onListRefresh:function(){this.alignPicker(),this.syncSelection()},onItemClick:function(t,e){var i=this.picker.getSelectionModel().getSelection(),n=this.valueField;!this.multiSelect&&i.length&&e.get(n)===i[0].get(n)&&(this.displayTplData=[e.data],this.setRawValue(this.getDisplayValue()),this.collapse())},onBeforeSelect:function(t,e){return this.fireEvent("beforeselect",this,e,e.index)},onBeforeDeselect:function(t,e){return this.fireEvent("beforedeselect",this,e,e.index)},onListSelectionChange:function(t,e){var i=this.multiSelect,n=e.length>0;!this.ignoreSelection&&this.isExpanded&&(i||Ext.defer(this.collapse,1,this),(i||n)&&this.setValue(e,!1),n&&this.fireEvent("select",this,e),this.inputEl.focus())},onExpand:function(){var t=this,e=t.listKeyNav,i=t.selectOnTab,n=t.getPicker();e?e.enable():e=t.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:n,forceKeyDown:!0,tab:function(e){return i&&(this.selectHighlighted(e),t.triggerBlur()),!0},enter:function(e){var i=n.getSelectionModel(),s=i.getCount();this.selectHighlighted(e),t.multiSelect||s!==i.getCount()||t.collapse()}}),i&&(t.ignoreMonitorTab=!0),Ext.defer(e.enable,1,e),t.inputEl.focus()},onCollapse:function(){var t=this.listKeyNav;t&&(t.disable(),this.ignoreMonitorTab=!1)},select:function(t,e){var i=this.picker,n=!0;t&&t.isModel&&!0===e&&(i&&(n=!i.getSelectionModel().isSelected(t)),n&&this.fireEvent("select",this,t)),this.setValue(t,!0)},findRecord:function(t,e){var i=this.store,n=i.findExact(t,e);return-1!==n&&i.getAt(n)},findRecordByValue:function(t){return this.findRecord(this.valueField,t)},findRecordByDisplay:function(t){return this.findRecord(this.displayField,t)},setValue:function(t,e){var i,n,s,r,o=this.valueNotFoundText,a=this.inputEl,l=[],h=[],d=[];if(this.store.loading)return this.value=t,this.setHiddenValue(this.value),this;for(i=0,n=(t=Ext.Array.from(t)).length;i<n;i++)(s=t[i])&&s.isModel||(s=this.findRecordByValue(s)),s?(l.push(s),h.push(s.data),d.push(s.get(this.valueField))):this.forceSelection?Ext.isDefined(o)&&h.push(o):(d.push(t[i]),(r={})[this.displayField]=t[i],h.push(r));return this.setHiddenValue(d),this.value=this.multiSelect?d:d[0],Ext.isDefined(this.value)||(this.value=null),this.displayTplData=h,this.lastSelection=this.valueModels=l,a&&this.emptyText&&!Ext.isEmpty(t)&&a.removeCls(this.emptyCls),this.setRawValue(this.getDisplayValue()),this.checkChange(),!1!==e&&this.syncSelection(),this.applyEmptyText(),this},setHiddenValue:function(t){var e,i,n,s,r,o,a=this.hiddenName;if(this.hiddenDataEl&&a){for(t=Ext.Array.from(t),s=(n=(i=this.hiddenDataEl.dom).childNodes)[0],r=t.length,o=n.length,!s&&r>0&&(this.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:a})),o=1,s=i.firstChild);o>r;)i.removeChild(n[0]),--o;for(;o<r;)i.appendChild(s.cloneNode(!0)),++o;for(e=0;e<r;e++)n[e].value=t[e]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var t=this.picker,e=this.getRawValue(),i=this.value;return this.getDisplayValue()!==e&&(i=e,this.value=this.displayTplData=this.valueModels=null,t&&(this.ignoreSelection++,t.getSelectionModel().deselectAll(),this.ignoreSelection--)),i},getSubmitValue:function(){var t=this.getValue();return Ext.isEmpty(t)&&(t=""),t},isEqual:function(t,e){var i,n,s=Ext.Array.from;if(t=s(t),e=s(e),(n=t.length)!==e.length)return!1;for(i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0},clearValue:function(){this.setValue([])},syncSelection:function(){var t,e,i,n,s=this.picker,r=this.valueModels||[],o=r.length;if(s){for(t=[],i=0;i<o;i++)(n=r[i])&&n.isModel&&this.store.indexOf(n)>=0&&t.push(n);this.ignoreSelection++,(e=s.getSelectionModel()).deselectAll(),t.length&&e.select(t,void 0,!0),this.ignoreSelection--}},onEditorTab:function(t){var e=this.listKeyNav;this.selectOnTab&&e&&e.selectHighlighted(t)}}),Ext.define("Ext.picker.Month",{extend:Ext.Component,alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" href="#" hidefocus="on" ></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" href="#" hidefocus="on" ></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){this.selectedCls=this.baseCls+"-selected",this.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick"),this.small&&this.addCls(this.smallCls),this.setValue(this.value),this.activeYear=this.getYear((new Date).getFullYear()-4,-4),this.showButtons&&(this.okBtn=new Ext.button.Button({text:this.okText,handler:this.onOkClick,scope:this}),this.cancelBtn=new Ext.button.Button({text:this.cancelText,handler:this.onCancelClick,scope:this})),this.callParent()},beforeRender:function(){var t=0,e=[],i=Ext.Date.getShortMonthName,n=this.monthOffset,s=this.monthMargin,r="";for(this.callParent();t<n;++t)e.push(i(t),i(t+n));Ext.isDefined(s)&&(r="margin: 0 "+s+"px;"),Ext.apply(this.renderData,{months:e,years:this.getYears(),showButtons:this.showButtons,monthStyle:r})},afterRender:function(){var t=this.bodyEl;this.buttonsEl;this.callParent(),this.mon(t,"click",this.onBodyClick,this),this.mon(t,"dblclick",this.onBodyClick,this),this.years=t.select("."+this.baseCls+"-year a"),this.months=t.select("."+this.baseCls+"-month a"),this.backRepeater=new Ext.util.ClickRepeater(this.prevEl,{handler:Ext.Function.bind(this.adjustYear,this,[-this.totalYears])}),this.prevEl.addClsOnOver(this.baseCls+"-yearnav-prev-over"),this.nextRepeater=new Ext.util.ClickRepeater(this.nextEl,{handler:Ext.Function.bind(this.adjustYear,this,[this.totalYears])}),this.nextEl.addClsOnOver(this.baseCls+"-yearnav-next-over"),this.updateBody(),Ext.isDefined(this.monthMargin)||(Ext.picker.Month.prototype.monthMargin=this.calculateMonthMargin())},calculateMonthMargin:function(){this.monthEl;for(var t=this.months,e=t.first().getMargin("l");e&&this.getLargest()>this.measureMaxHeight;)--e,t.setStyle("margin","0 "+e+"px");return e},getLargest:function(t){var e=0;return this.months.each(function(t){var i=t.getHeight();i>e&&(e=i)}),e},setValue:function(t){var e,i=this.activeYear;this.monthOffset;return t?Ext.isDate(t)?this.value=[t.getMonth(),t.getFullYear()]:this.value=[t[0],t[1]]:this.value=[null,null],this.rendered&&(null!==(e=this.value[1])&&(e<i||e>i+this.yearOffset)&&(this.activeYear=e-this.yearOffset+1),this.updateBody()),this},getValue:function(){return this.value},hasSelection:function(){var t=this.value;return null!==t[0]&&null!==t[1]},getYears:function(){for(var t=this.yearOffset,e=this.activeYear,i=e+t,n=e,s=[];n<i;++n)s.push(n,n+t);return s},updateBody:function(){var t,e,i,n,s,r=this.years,o=this.months,a=this.getYears(),l=this.selectedCls,h=this.getYear(null),d=this.value[0],c=this.monthOffset;if(this.rendered){for(r.removeCls(l),o.removeCls(l),n=(e=r.elements).length,i=0;i<n;i++)s=Ext.fly(e[i]),t=a[i],s.dom.innerHTML=t,t==h&&s.addCls(l);null!==d&&(d<c?d*=2:d=2*(d-c)+1,o.item(d).addCls(l))}},getYear:function(t,e){var i=this.value[1];return e=e||0,null===i?t:i+e},onBodyClick:function(t,e){var i="dblclick"==t.type;t.getTarget("."+this.baseCls+"-month")?(t.stopEvent(),this.onMonthClick(e,i)):t.getTarget("."+this.baseCls+"-year")&&(t.stopEvent(),this.onYearClick(e,i))},adjustYear:function(t){"number"!=typeof t&&(t=this.totalYears),this.activeYear+=t,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(t,e){this.value[0]=this.resolveOffset(this.months.indexOf(t),this.monthOffset),this.updateBody(),this.fireEvent("month"+(e?"dbl":"")+"click",this,this.value),this.fireEvent("select",this,this.value)},onYearClick:function(t,e){this.value[1]=this.activeYear+this.resolveOffset(this.years.indexOf(t),this.yearOffset),this.updateBody(),this.fireEvent("year"+(e?"dbl":"")+"click",this,this.value),this.fireEvent("select",this,this.value)},resolveOffset:function(t,e){return t%2==0?t/2:e+Math.floor(t/2)},beforeDestroy:function(){this.years=this.months=null,Ext.destroyMembers(this,"backRepeater","nextRepeater","okBtn","cancelBtn"),this.callParent()},finishRenderChildren:function(){this.callParent(arguments),this.showButtons&&(this.okBtn.finishRender(),this.cancelBtn.finishRender())},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn"),this.callParent()}}),Ext.define("Ext.picker.Date",{extend:Ext.Component,alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" class="{baseCls}-prev {baseCls}-arrow" href="#" role="button" title="{prevText}" hidefocus="on" ></a>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" class="{baseCls}-next {baseCls}-arrow" href="#" role="button" title="{nextText}" hidefocus="on" ></a>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="presentation">','<thead role="presentation"><tr role="presentation">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="presentation">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" hidefocus="on" class="{parent.baseCls}-date" href="#"></a>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(t){return Ext.picker.Date.prototype.getDayInitial(t)},isEndOfWeek:function(t){return--t%7==0&&0!==t?'</tr><tr role="row">':""},renderTodayBtn:function(t,e){Ext.DomHelper.generateMarkup(t.$comp.todayBtn.getRenderTree(),e)},renderMonthBtn:function(t,e){Ext.DomHelper.generateMarkup(t.$comp.monthBtn.getRenderTree(),e)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:!1,focusOnSelect:!0,initHour:12,numDays:42,initComponent:function(){var t=Ext.Date.clearTime;this.selectedCls=this.baseCls+"-selected",this.disabledCellCls=this.baseCls+"-disabled",this.prevCls=this.baseCls+"-prevday",this.activeCls=this.baseCls+"-active",this.cellCls=this.baseCls+"-cell",this.nextCls=this.baseCls+"-prevday",this.todayCls=this.baseCls+"-today",this.dayNames=this.dayNames.slice(this.startDay).concat(this.dayNames.slice(0,this.startDay)),this.callParent(),this.value=this.value?t(this.value,!0):t(new Date),this.addEvents("select"),this.initDisabledDays()},beforeRender:function(){var t=new Array(this.numDays),e=Ext.Date.format(new Date,this.format);this.up("menu")&&this.addCls(Ext.baseCSSPrefix+"menu"),this.monthBtn=new Ext.button.Split({ownerCt:this,ownerLayout:this.getComponentLayout(),text:"",tooltip:this.monthYearText,listeners:{click:this.showMonthPicker,arrowclick:this.showMonthPicker,scope:this}}),this.showToday&&(this.todayBtn=new Ext.button.Button({ownerCt:this,ownerLayout:this.getComponentLayout(),text:Ext.String.format(this.todayText,e),tooltip:Ext.String.format(this.todayTip,e),tooltipType:"title",handler:this.selectToday,scope:this})),this.callParent(),Ext.applyIf(this,{renderData:{}}),Ext.apply(this.renderData,{dayNames:this.dayNames,showToday:this.showToday,prevText:this.prevText,nextText:this.nextText,days:t}),this.protoEl.unselectable()},finishRenderChildren:function(){this.callParent(),this.monthBtn.finishRender(),this.showToday&&this.todayBtn.finishRender()},onRender:function(t,e){this.callParent(arguments),this.cells=this.eventEl.select("tbody td"),this.textNodes=this.eventEl.query("tbody td a"),this.mon(this.eventEl,{scope:this,mousewheel:this.handleMouseWheel,click:{fn:this.handleDateClick,delegate:"a."+this.baseCls+"-date"}})},initEvents:function(){var t=this,e=Ext.Date,i=e.DAY;t.callParent(),t.prevRepeater=new Ext.util.ClickRepeater(t.prevEl,{handler:t.showPrevMonth,scope:t,preventDefault:!0,stopDefault:!0}),t.nextRepeater=new Ext.util.ClickRepeater(t.nextEl,{handler:t.showNextMonth,scope:t,preventDefault:!0,stopDefault:!0}),t.keyNav=new Ext.util.KeyNav(t.eventEl,Ext.apply({scope:t,left:function(n){n.ctrlKey?t.showPrevMonth():t.update(e.add(t.activeDate,i,-1))},right:function(n){n.ctrlKey?t.showNextMonth():t.update(e.add(t.activeDate,i,1))},up:function(n){n.ctrlKey?t.showNextYear():t.update(e.add(t.activeDate,i,-7))},down:function(n){n.ctrlKey?t.showPrevYear():t.update(e.add(t.activeDate,i,7))},pageUp:t.showNextMonth,pageDown:t.showPrevMonth,enter:function(t){return t.stopPropagation(),!0}},t.keyNavConfig)),t.showToday&&(t.todayKeyListener=t.eventEl.addKeyListener(Ext.EventObject.SPACE,t.selectToday,t)),t.update(t.value)},initDisabledDays:function(){var t,e,i,n,s=this.disabledDates,r="(?:";if(!this.disabledDatesRE&&s){for(t=s.length-1,i=s.length,e=0;e<i;e++)n=s[e],r+=Ext.isDate(n)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(n,this.format))+"$":n,e!=t&&(r+="|");this.disabledDatesRE=new RegExp(r+")")}},setDisabledDates:function(t){return Ext.isArray(t)?(this.disabledDates=t,this.disabledDatesRE=null):this.disabledDatesRE=t,this.initDisabledDays(),this.update(this.value,!0),this},setDisabledDays:function(t){return this.disabledDays=t,this.update(this.value,!0)},setMinDate:function(t){return this.minDate=t,this.update(this.value,!0)},setMaxDate:function(t){return this.maxDate=t,this.update(this.value,!0)},setValue:function(t){return this.value=Ext.Date.clearTime(t,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(t){return t.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent(),this.setDisabledStatus(!1),this.update(this.activeDate)},onDisable:function(){this.callParent(),this.setDisabledStatus(!0)},setDisabledStatus:function(t){this.keyNav.setDisabled(t),this.prevRepeater.setDisabled(t),this.nextRepeater.setDisabled(t),this.showToday&&(this.todayKeyListener.setDisabled(t),this.todayBtn.setDisabled(t))},getActive:function(){return this.activeDate||this.value},runAnimation:function(t){var e=this.monthPicker,i={duration:200,callback:function(){t?e.hide():e.show()}};t?e.el.slideOut("t",i):e.el.slideIn("t",i)},hideMonthPicker:function(t){var e=this.monthPicker;return e&&(this.shouldAnimate(t)?this.runAnimation(!0):e.hide()),this},showMonthPicker:function(t){var e;return this.rendered&&!this.disabled&&((e=this.createMonthPicker()).setValue(this.getActive()),e.setSize(this.getSize()),e.setPosition(-1,-1),this.shouldAnimate(t)?this.runAnimation(!1):e.show()),this},shouldAnimate:function(t){return Ext.isDefined(t)?t:!this.disableAnim},createMonthPicker:function(){var t=this.monthPicker;return t||(this.monthPicker=t=new Ext.picker.Month({renderTo:this.el,floating:!0,shadow:!1,small:!1===this.showToday,listeners:{scope:this,cancelclick:this.onCancelClick,okclick:this.onOkClick,yeardblclick:this.onOkClick,monthdblclick:this.onOkClick}}),this.disableAnim||t.el.setStyle("display","none"),this.on("beforehide",Ext.Function.bind(this.hideMonthPicker,this,[!1]))),t},onOkClick:function(t,e){var i=e[0],n=e[1],s=new Date(n,i,this.getActive().getDate());s.getMonth()!==i&&(s=Ext.Date.getLastDateOfMonth(new Date(n,i,1))),this.setValue(s),this.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(t){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(t){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(t){if(t.stopEvent(),!this.disabled){var e=t.getWheelDelta();e>0?this.showPrevMonth():e<0&&this.showNextMonth()}},handleDateClick:function(t,e){var i=this.handler;t.stopEvent(),this.disabled||!e.dateValue||Ext.fly(e.parentNode).hasCls(this.disabledCellCls)||(this.doCancelFocus=!1===this.focusOnSelect,this.setValue(new Date(e.dateValue)),delete this.doCancelFocus,this.fireEvent("select",this,this.value),i&&i.call(this.scope||this,this,this.value),this.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var t=this.todayBtn,e=this.handler;return t&&!t.disabled&&(this.setValue(Ext.Date.clearTime(new Date)),this.fireEvent("select",this,this.value),e&&e.call(this.scope||this,this,this.value),this.onSelect()),this},selectedUpdate:function(t){var e,i,n=t.getTime(),s=this.cells,r=this.selectedCls,o=s.elements,a=o.length;for(s.removeCls(r),e=0;e<a;e++)if((i=Ext.fly(o[e])).dom.firstChild.dateValue==n){this.fireEvent("highlightitem",this,i),i.addCls(r),this.isVisible()&&!this.doCancelFocus&&Ext.fly(i.dom.firstChild).focus(50);break}},fullUpdate:function(t){var e,i,n,s,r,o,a,l,h,d,c=this,u=c.cells.elements,f=c.textNodes,p=c.disabledCellCls,g=Ext.Date,m=0,x=0,E=c.isVisible(),y=+g.clearTime(t,!0),v=+g.clearTime(new Date),b=c.minDate?g.clearTime(c.minDate,!0):Number.NEGATIVE_INFINITY,C=c.maxDate?g.clearTime(c.maxDate,!0):Number.POSITIVE_INFINITY,w=c.disabledDatesRE,S=c.disabledDatesText,T=!!c.disabledDays&&c.disabledDays.join(""),k=c.disabledDaysText,D=c.format,I=g.getDaysInMonth(t),P=g.getFirstDateOfMonth(t).getDay()-c.startDay,M=g.add(t,g.MONTH,-1),A=c.longDayFormat;for(P<0&&(P+=7),I+=P,i=g.getDaysInMonth(M)-P,n=new Date(M.getFullYear(),M.getMonth(),i,c.initHour),c.showToday&&(s=(r=g.clearTime(new Date))<b||r>C||w&&D&&w.test(g.dateFormat(r,D))||T&&-1!=T.indexOf(r.getDay()),c.disabled||(c.todayBtn.setDisabled(s),c.todayKeyListener.setDisabled(s))),o=function(t,i){e=!1,d=+g.clearTime(n,!0),t.title=g.format(n,A),t.firstChild.dateValue=d,d==v&&(i+=" "+c.todayCls,t.title=c.todayText),d==y&&(i+=" "+c.selectedCls,c.fireEvent("highlightitem",c,t),E&&c.floating&&Ext.fly(t.firstChild).focus(50)),d<b&&(i+=" "+p,t.title=c.minText,e=!0),!e&&d>C&&(i+=" "+p,t.title=c.maxText,e=!0),!e&&T&&-1!==T.indexOf(n.getDay())&&(t.title=k,i+=" "+p,e=!0),!e&&w&&D&&(h=g.dateFormat(n,D),w.test(h)&&(t.title=S.replace("%0",h),i+=" "+p)),t.className=i+" "+c.cellCls};m<c.numDays;++m)m<P?(a=++i,l=c.prevCls):m>=I?(a=++x,l=c.nextCls):(a=m-P+1,l=c.activeCls),f[m].innerHTML=a,n.setDate(n.getDate()+1),o(u[m],l);c.monthBtn.setText(Ext.Date.format(t,c.monthYearFormat))},update:function(t,e){var i=this.activeDate;return this.rendered&&(this.activeDate=t,!e&&i&&this.el&&i.getMonth()==t.getMonth()&&i.getFullYear()==t.getFullYear()?this.selectedUpdate(t,i):this.fullUpdate(t,i),this.innerEl.dom.title=Ext.String.format(this.ariaTitle,Ext.Date.format(this.activeDate,this.ariaTitleDateFormat))),this},beforeDestroy:function(){this.rendered&&(Ext.destroy(this.todayKeyListener,this.keyNav,this.monthPicker,this.monthBtn,this.nextRepeater,this.prevRepeater,this.todayBtn),delete this.textNodes,delete this.cells.elements),this.callParent()},onShow:function(){this.callParent(arguments),this.focusOnShow&&this.focus()}},function(){var t=this.prototype,e=Ext.Date;t.monthNames=e.monthNames,t.dayNames=e.dayNames,t.format=e.defaultFormat}),Ext.define("Ext.form.field.Date",{extend:Ext.form.field.Picker,alias:"widget.datefield",alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,initComponent:function(){var t,e,i=Ext.isString;t=this.minValue,e=this.maxValue,i(t)&&(this.minValue=this.parseDate(t)),i(e)&&(this.maxValue=this.parseDate(e)),this.disabledDatesRE=null,this.initDisabledDays(),this.callParent()},initValue:function(){var t=this.value;Ext.isString(t)&&(this.value=this.rawToValue(t)),this.callParent()},initDisabledDays:function(){if(this.disabledDates){var t,e,i=this.disabledDates,n=i.length-1,s="(?:",r=i.length;for(t=0;t<r;t++)e=i[t],s+=Ext.isDate(e)?"^"+Ext.String.escapeRegex(e.dateFormat(this.format))+"$":e,t!==n&&(s+="|");this.disabledDatesRE=new RegExp(s+")")}},setDisabledDates:function(t){var e=this.picker;this.disabledDates=t,this.initDisabledDays(),e&&e.setDisabledDates(this.disabledDatesRE)},setDisabledDays:function(t){var e=this.picker;this.disabledDays=t,e&&e.setDisabledDays(t)},setMinValue:function(t){var e=this.picker,i=Ext.isString(t)?this.parseDate(t):t;this.minValue=i,e&&(e.minText=Ext.String.format(this.minText,this.formatDate(this.minValue)),e.setMinDate(i))},setMaxValue:function(t){var e=this.picker,i=Ext.isString(t)?this.parseDate(t):t;this.maxValue=i,e&&(e.maxText=Ext.String.format(this.maxText,this.formatDate(this.maxValue)),e.setMaxDate(i))},getErrors:function(t){var e,i,n,s,r=Ext.String.format,o=Ext.Date.clearTime,a=this.callParent(arguments),l=this.disabledDays,h=this.disabledDatesRE,d=this.minValue,c=this.maxValue,u=l?l.length:0,f=0;if(null===(t=this.formatDate(t||this.processRawValue(this.getRawValue())))||t.length<1)return a;if(e=t,!(t=this.parseDate(t)))return a.push(r(this.invalidText,e,Ext.Date.unescapeFormat(this.format))),a;if(s=t.getTime(),d&&s<o(d).getTime()&&a.push(r(this.minText,this.formatDate(d))),c&&s>o(c).getTime()&&a.push(r(this.maxText,this.formatDate(c))),l)for(n=t.getDay();f<u;f++)if(n===l[f]){a.push(this.disabledDaysText);break}return i=this.formatDate(t),h&&h.test(i)&&a.push(r(this.disabledDatesText,i)),a},rawToValue:function(t){return this.parseDate(t)||t||null},valueToRaw:function(t){return this.formatDate(this.parseDate(t))},safeParse:function(t,e){var i,n=Ext.Date,s=null,r=this.useStrict;return n.formatContainsHourInfo(e)?s=n.parse(t,e,r):(i=n.parse(t+" "+this.initTime,e+" "+this.initTimeFormat,r))&&(s=n.clearTime(i)),s},getSubmitValue:function(){var t=this.submitFormat||this.format,e=this.getValue();return e?Ext.Date.format(e,t):""},parseDate:function(t){if(!t||Ext.isDate(t))return t;var e,i=this.safeParse(t,this.format),n=this.altFormats,s=this.altFormatsArray,r=0;if(!i&&n)for(e=(s=s||n.split("|")).length;r<e&&!i;++r)i=this.safeParse(t,s[r]);return i},formatDate:function(t){return Ext.isDate(t)?Ext.Date.dateFormat(t,this.format):t},createPicker:function(){var t=this,e=Ext.String.format;return new Ext.picker.Date({pickerField:t,ownerCt:t.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,minDate:t.minValue,maxDate:t.maxValue,disabledDatesRE:t.disabledDatesRE,disabledDatesText:t.disabledDatesText,disabledDays:t.disabledDays,disabledDaysText:t.disabledDaysText,format:t.format,showToday:t.showToday,startDay:t.startDay,minText:e(t.minText,t.formatDate(t.minValue)),maxText:e(t.maxText,t.formatDate(t.maxValue)),listeners:{scope:t,select:t.onSelect},keyNavConfig:{esc:function(){t.collapse()}}})},onDownArrow:function(t){this.callParent(arguments),this.isExpanded&&this.getPicker().focus()},onSelect:function(t,e){this.setValue(e),this.fireEvent("select",this,e),this.collapse()},onExpand:function(){var t=this.getValue();this.picker.setValue(Ext.isDate(t)?t:new Date)},onCollapse:function(){this.focus(!1,60)},beforeBlur:function(){var t=this.parseDate(this.getRawValue()),e=this.focusTask;e&&e.cancel(),t&&this.setValue(t)}}),Ext.define("Ext.form.field.FileButton",{extend:Ext.button.Button,alias:"widget.filebutton",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,renderTpl:['<div id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<a id="{id}-btnEl" class="{baseCls}-button" role="button" hidefocus="on" unselectable="on"','<tpl if="tabIndex != null>',' tabIndex="{tabIndex}"',"</tpl>",">",'<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</a>","</div>",'<input id="{id}-fileInputEl" class="{inputCls}" type="file" size="1" name="{inputName}">'],getTemplateArgs:function(){var t=this.callParent();return t.inputCls=this.inputCls,t.inputName=this.inputName,t},afterRender:function(){this.callParent(arguments),this.fileInputEl.on("change",this.fireChange,this)},fireChange:function(t){this.fireEvent("change",this,t,this.fileInputEl.dom.value)},createFileInput:function(t){this.fileInputEl=this.el.createChild({name:this.inputName,id:t?void 0:this.id+"-fileInputEl",cls:this.inputCls,tag:"input",type:"file",size:1}),this.fileInputEl.on("change",this.fireChange,this)},reset:function(t){t&&this.fileInputEl.remove(),this.createFileInput(!t)},restoreInput:function(t){this.fileInputEl.remove(),t=Ext.get(t),this.el.appendChild(t),this.fileInputEl=t},onDisable:function(){this.callParent(),this.fileInputEl.dom.disabled=!0},onEnable:function(){this.callParent(),this.fileInputEl.dom.disabled=!1}}),Ext.define("Ext.form.field.File",{extend:Ext.form.field.Trigger,alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,fieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:!0,triggerNoEditCls:"",componentLayout:"triggerfield",childEls:["browseButtonWrap"],onRender:function(){var t=this.id;this.callParent(arguments),this.inputEl.dom.name="",this.button=new Ext.form.field.FileButton(Ext.apply({renderTo:t+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:t+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":"margin-left:"+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,change:this.onFileChange}},this.buttonConfig)),this.fileInputEl=this.button.fileInputEl,this.buttonOnly&&this.inputCell.setDisplayed(!1),this.browseButtonWrap.dom.style.width=this.browseButtonWrap.dom.lastChild.offsetWidth+this.button.getEl().getMargin("lr")+"px",Ext.isIE&&this.button.getEl().repaint()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"></td>'},onFileChange:function(t,e,i){this.lastValue=null,Ext.form.field.File.superclass.setValue.call(this,i)},setValue:Ext.emptyFn,reset:function(){var t=this.clearOnSubmit;this.rendered&&(this.button.reset(t),this.fileInputEl=this.button.fileInputEl,t&&(this.inputEl.dom.value="")),this.callParent()},onShow:function(){this.callParent(),this.button.updateLayout()},onDisable:function(){this.callParent(),this.button.disable()},onEnable:function(){this.callParent(),this.button.enable()},isFileUpload:function(){return!0},extractFileInput:function(){var t=this.button.fileInputEl.dom;return this.reset(),t},restoreInput:function(t){var e=this.button;e.restoreInput(t),this.fileInputEl=e.fileInputEl},onDestroy:function(){Ext.destroyMembers(this,"button"),delete this.fileInputEl,this.callParent()}}),Ext.define("Ext.form.field.Hidden",{extend:Ext.form.field.Base,alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:!0,initComponent:function(){this.formItemCls+="-hidden",this.callParent()},isEqual:function(t,e){return this.isEqualAsString(t,e)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.picker.Color",{extend:Ext.Component,alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){this.callParent(arguments),this.addEvents("select"),this.handler&&this.on("select",this.handler,this.scope,!0)},initRenderData:function(){return Ext.apply(this.callParent(),{itemCls:this.itemCls,colors:this.colors})},onRender:function(){var t=this.clickEvent;this.callParent(arguments),this.mon(this.el,t,this.handleClick,this,{delegate:"a"}),"click"!=t&&this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",stopEvent:!0})},afterRender:function(){var t;this.callParent(arguments),this.value&&(t=this.value,this.value=null,this.select(t,!0))},handleClick:function(t,e){var i;t.stopEvent(),this.disabled||(i=e.className.match(this.colorRe)[1],this.select(i.toUpperCase()))},select:function(t,e){var i,n=this.selectedCls,s=this.value;t=t.replace("#",""),this.rendered?(t!=s||this.allowReselect)&&(i=this.el,this.value&&i.down("a.color-"+s).removeCls(n),i.down("a.color-"+t).addCls(n),this.value=t,!0!==e&&this.fireEvent("select",this,t)):this.value=t},getValue:function(){return this.value||null}}),Ext.define("Ext.layout.component.field.HtmlEditor",{extend:Ext.layout.component.field.FieldContainer,alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(t){var e=this.owner;this.callParent(arguments),t.toolbarContext=t.context.getCmp(e.toolbar),t.inputCmpContext=t.context.getCmp(e.inputCmp),t.textAreaContext=t.getEl("textareaEl"),t.iframeContext=t.getEl("iframeEl")},beginLayoutCycle:function(t){var e=t.widthModel,i=t.heightModel,n=this.owner,s=n.iframeEl,r=n.textareaEl;this.callParent(arguments),e.shrinkWrap?(s.setStyle("width",""),r.setStyle("width","")):e.natural&&t.bodyCellContext.setWidth(this.naturalWidth),(i.natural||i.shrinkWrap)&&(s.setHeight(this.naturalHeight),r.setHeight(this.naturalHeight))},finishedLayout:function(){this.callParent(arguments),Ext.isIE9m&&Ext.isIEQuirks&&this.owner.el.repaint()},publishOwnerWidth:function(t,e){this.callParent(arguments),e-=t.inputCmpContext.getBorderInfo().width,t.textAreaContext.setWidth(e),t.iframeContext.setWidth(e)},publishInnerWidth:function(t,e){var i=t.inputCmpContext.getBorderInfo().width,n=Ext.isStrict&&Ext.isIE8m,s=t.widthModel.natural;this.callParent(arguments),e=t.bodyCellContext.props.width-i,s?(n&&(e-=2),t.textAreaContext.setWidth(e),t.iframeContext.setWidth(e)):n&&t.textAreaContext.setWidth(e)},publishInnerHeight:function(t,e){var i=t.toolbarContext.getProp("height");this.owner.sourceEditMode;this.callParent(arguments),e=t.bodyCellContext.props.height,void 0!==i?(e-=i+t.inputCmpContext.getFrameInfo().height,Ext.isIE8&&Ext.isStrict?e-=2:Ext.isIEQuirks&&(Ext.isIE8||Ext.isIE9)&&(e-=4),t.iframeContext.setHeight(e),t.textAreaContext.setHeight(e)):this.done=!1}}),Ext.define("Ext.form.field.HtmlEditor",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",componentLayout:"htmleditor",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",fieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:Ext.baseCSSPrefix+"html-editor-container",initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange"),this.items=[this.createToolbar(),this.createInputCmp()],this.layout={type:"vbox",align:"stretch"},this.callParent(arguments),this.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg()),this.inputCmp},getInputCmpCfg:function(){var t=this.id+"-inputCmp",e={id:t,name:this.name,textareaCls:Ext.baseCSSPrefix+"hidden",value:this.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};return this.getInsertionRenderData(e,this.subTplInsertions),{flex:1,xtype:"component",tpl:this.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:t,cls:Ext.baseCSSPrefix+"html-editor-input",data:e}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg()),this.toolbar},getToolbarCfg:function(){function t(t,e,i){return{itemId:t,cls:a+"btn-icon",iconCls:a+"edit-"+t,enableToggle:!1!==e,scope:s,handler:i||s.relayBtnCmd,clickEvent:"mousedown",tooltip:o?s.buttonTips[t]||n:n,overflowText:s.buttonTips[t].title||n,tabIndex:-1}}var e,i,n,s=this,r=[],o=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),a=Ext.baseCSSPrefix;for(s.enableFont&&!Ext.isSafari2&&(i=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" class="'+a+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){s.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var t=this.selectEl;t&&(t.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var t=this.selectEl;t&&(t.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){s.win.focus(),s.relayCmd("fontName",s.fontSelect.dom.value),s.deferFocus()},element:"selectEl"}}),r.push(i,"-")),s.enableFormat&&r.push(t("bold"),t("italic"),t("underline")),s.enableFontSize&&r.push("-",t("increasefontsize",!1,s.adjustFont),t("decreasefontsize",!1,s.adjustFont)),s.enableColors&&r.push("-",{itemId:"forecolor",cls:a+"btn-icon",iconCls:a+"edit-forecolor",overflowText:s.buttonTips.forecolor.title,tooltip:o?s.buttonTips.forecolor||n:n,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(t,e){s.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+e:e),this.up("menu").hide()}}]})},{itemId:"backcolor",cls:a+"btn-icon",iconCls:a+"edit-backcolor",overflowText:s.buttonTips.backcolor.title,tooltip:o?s.buttonTips.backcolor||n:n,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(t,e){Ext.isGecko?(s.execCmd("useCSS",!1),s.execCmd("hilitecolor","#"+e),s.execCmd("useCSS",!0),s.deferFocus()):s.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+e:e),this.up("menu").hide()}}]})}),s.enableAlignments&&r.push("-",t("justifyleft"),t("justifycenter"),t("justifyright")),Ext.isSafari2||(s.enableLinks&&r.push("-",t("createlink",!1,s.createLink)),s.enableLists&&r.push("-",t("insertorderedlist"),t("insertunorderedlist")),s.enableSourceEdit&&r.push("-",t("sourceedit",!0,function(t){s.toggleSourceEdit(!s.sourceEditMode)}))),e=0;e<r.length;e++)"sourceedit"!==r[e].itemId&&(r[e].disabled=!0);return{xtype:"toolbar",defaultButtonUI:s.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:r,listeners:{click:function(t){t.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(t){var e,i=this.textareaEl,n=this.iframeEl;this.readOnly=t,i&&(i.dom.readOnly=t),this.initialized&&(e=this.getEditorBody(),Ext.isIE?(n.setDisplayed(!1),e.contentEditable=!t,n.setDisplayed(!0)):this.setDesignMode(!t),e&&(e.style.cursor=t?"default":"text"),this.disableItems(t))},getDocMarkup:function(){var t=this.iframeEl.getHeight()-2*this.iframePad,e=Ext.isIE8m;return Ext.String.format((e?"":"<!DOCTYPE html>")+'<html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(this.rtl?"rtl;":"ltr;")+(e?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",this.iframePad,t,this.defaultFont)},getEditorBody:function(){var t=this.getDoc();return t.body||t.documentElement},getDoc:function(){return!Ext.isIE&&this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var t,e,i,n,s,r,o,a=0;if(!this.defaultFont){for(e=this.textareaEl.getStyle("font-family"),e=Ext.String.capitalize(e.split(",")[0]),t=Ext.Array.clone(this.fontFamilies),Ext.Array.include(t,e),t.sort(),this.defaultFont=e,i=this.down("#fontSelect").selectEl.dom,s=0,r=t.length;s<r;++s)o=(e=t[s]).toLowerCase(),n=new Option(e,o),e==this.defaultFont&&(a=s),n.style.fontFamily=o,i.add(n);i.options[a].selected=!0}},afterRender:function(){var t=this.inputCmp;this.callParent(arguments),this.iframeEl=t.iframeEl,this.textareaEl=t.textareaEl,this.inputEl=this.iframeEl,this.initDefaultFont(),this.monitorTask=Ext.TaskManager.start({run:this.checkDesignMode,scope:this,interval:100}),this.relayCmd("fontName",this.defaultFont)},initFrameDoc:function(){var t,e,i=this;Ext.TaskManager.stop(i.monitorTask),t=i.getDoc(),i.win=i.getWin(),t.open(),t.write(i.getDocMarkup()),t.close(),e={run:function(){var t=i.getDoc();(t.body||"complete"===t.readyState)&&(Ext.TaskManager.stop(e),i.setDesignMode(!0),Ext.defer(i.initEditor,10,i))},interval:10,duration:1e4,scope:i},Ext.TaskManager.start(e)},checkDesignMode:function(){var t=this.getDoc();!t||t.editorInitialized&&"on"===this.getDesignMode()||this.initFrameDoc()},setDesignMode:function(t){var e=this.getDoc();e&&(this.readOnly&&(t=!1),e.designMode=/on|true/i.test(String(t).toLowerCase())?"on":"off")},getDesignMode:function(){var t=this.getDoc();return t?String(t.designMode).toLowerCase():""},disableItems:function(t){var e,i,n=this.getToolbar().items.items,s=n.length;for(e=0;e<s;e++)"sourceedit"!==(i=n[e]).getItemId()&&i.setDisabled(t)},toggleSourceEdit:function(t){var e=this.iframeEl,i=this.textareaEl,n=Ext.baseCSSPrefix+"hidden",s=this.getToolbar().getComponent("sourceedit");Ext.isBoolean(t)||(t=!this.sourceEditMode),this.sourceEditMode=t,s.pressed!==t&&s.toggle(t),t?(this.disableItems(!0),this.syncValue(),e.addCls(n),i.removeCls(n),i.dom.removeAttribute("tabIndex"),i.focus(),this.inputEl=i):(this.initialized&&this.disableItems(this.readOnly),this.pushValue(),e.removeCls(n),i.addCls(n),i.dom.setAttribute("tabIndex",-1),this.deferFocus(),this.inputEl=e),this.fireEvent("editmodechange",this,t),this.updateLayout()},createLink:function(){var t=prompt(this.createLinkText,this.defaultLinkValue);t&&"http://"!==t&&this.relayCmd("createlink",t)},clearInvalid:Ext.emptyFn,setValue:function(t){var e=this.textareaEl;return this.mixins.field.setValue.call(this,t),null!==t&&void 0!==t||(t=""),e&&(e.dom.value=t),this.pushValue(),this},cleanHtml:function(t){return t=String(t),Ext.isWebKit&&(t=t.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")),t.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)&&(t=t.substring(1)),t},syncValue:function(){var t,e,i,n;this.initialized&&(i=(t=this.getEditorBody()).innerHTML,Ext.isWebKit&&(n=t.getAttribute("style").match(/text-align:(.*?);/i))&&n[1]&&(i='<div style="'+n[0]+'">'+i+"</div>"),i=this.cleanHtml(i),!1!==this.fireEvent("beforesync",this,i)&&(this.textareaEl.dom.value!=i&&(this.textareaEl.dom.value=i,e=!0),this.fireEvent("sync",this,i),e&&this.checkChange()))},getValue:function(){var t;return this.sourceEditMode||this.syncValue(),t=this.rendered?this.textareaEl.dom.value:this.value,this.value=t,t},pushValue:function(){var t;this.initialized&&(t=this.textareaEl.dom.value||"",!this.activated&&t.length<1&&(t=this.defaultValue),!1!==this.fireEvent("beforepush",this,t)&&(this.getEditorBody().innerHTML=t,Ext.isGecko&&(this.setDesignMode(!1),this.setDesignMode(!0)),this.fireEvent("push",this,t)))},deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){var t=this.win;return t&&!this.sourceEditMode?t:this.textareaEl},focus:function(t,e){var i,n;return e?(this.focusTask||(this.focusTask=new Ext.util.DelayedTask(this.focus)),this.focusTask.delay(Ext.isNumber(e)?e:10,null,this,[t,!1])):(t&&(this.textareaEl&&this.textareaEl.dom&&(i=this.textareaEl.dom.value),i&&i.length&&this.execCmd("selectall",!0)),(n=this.getFocusEl())&&(n.isComponent||n.dom)&&n.focus()),this},initEditor:function(){try{var t,e,i=this,n=i.getEditorBody(),s=i.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color");if(s["background-attachment"]="fixed",n.bgProperties="fixed",Ext.DomHelper.applyStyles(n,s),t=i.getDoc())try{Ext.EventManager.removeAll(t)}catch(t){}e=Ext.Function.bind(i.onEditorEvent,i),Ext.EventManager.on(t,{mousedown:e,dblclick:e,click:e,keyup:e,buffer:100}),e=i.onRelayedEvent,Ext.EventManager.on(t,{mousedown:e,mousemove:e,mouseup:e,click:e,dblclick:e,scope:i}),Ext.isGecko&&Ext.EventManager.on(t,"keypress",i.applyCommand,i),i.fixKeys&&Ext.EventManager.on(t,"keydown",i.fixKeys,i),(Ext.isIE8m||Ext.isIE9&&!Ext.isStrict)&&(Ext.EventManager.on(t,"focusout",function(){i.savedSelection="None"!==t.selection.type?t.selection.createRange():null},i),Ext.EventManager.on(t,"focusin",function(){i.savedSelection&&i.savedSelection.select()},i)),Ext.EventManager.onWindowUnload(i.beforeDestroy,i),t.editorInitialized=!0,i.initialized=!0,i.pushValue(),i.setReadOnly(i.readOnly),i.fireEvent("initialize",i)}catch(t){}},beforeDestroy:function(){var t,e,i=this.monitorTask;if(i&&Ext.TaskManager.stop(i),this.rendered){Ext.EventManager.removeUnloadListener(this.beforeDestroy,this);try{if(t=this.getDoc()){Ext.EventManager.removeAll(Ext.fly(t));for(e in t)t.hasOwnProperty&&t.hasOwnProperty(e)&&delete t[e]}}catch(t){}delete this.iframeEl,delete this.textareaEl,delete this.toolbar,delete this.inputCmp}this.callParent()},onRelayedEvent:function(t){var e=this.iframeEl,i=Ext.Element.getTrueXY(e),n=t.getXY(),s=Ext.EventManager.getPageXY(t.browserEvent);t.xy=[i[0]+s[0],i[1]+s[1]],t.injectEvent(e),t.xy=n},onFirstFocus:function(){var t,e;if(this.activated=!0,this.disableItems(this.readOnly),Ext.isGecko){this.win.focus(),(t=this.win.getSelection()).focusNode&&3===t.focusNode.nodeType||((e=t.getRangeAt(0)).selectNodeContents(this.getEditorBody()),e.collapse(!0),this.deferFocus());try{this.execCmd("useCSS",!0),this.execCmd("styleWithCSS",!1)}catch(t){}}this.fireEvent("activate",this)},adjustFont:function(t){var e,i="increasefontsize"===t.getItemId()?1:-1,n=this.getDoc().queryCommandValue("FontSize")||"2",s=Ext.isString(n)&&-1!==n.indexOf("px");n=parseInt(n,10),s?(n=n<=10?1+i:n<=13?2+i:n<=16?3+i:n<=18?4+i:n<=24?5+i:6+i,n=Ext.Number.constrain(n,1,6)):((e=Ext.isSafari)&&(i*=2),n=Math.max(1,n+i)+(e?"px":0)),this.relayCmd("FontSize",n)},onEditorEvent:function(t){this.updateToolbar()},updateToolbar:function(){function t(){for(e=0,i=arguments.length;e<i;e++)r=arguments[e],n[r].toggle(s.queryCommandState(r))}var e,i,n,s,r,o,a,l;if(!this.readOnly)if(this.activated){for(n=this.getToolbar().items.map,s=this.getDoc(),this.enableFont&&!Ext.isSafari2&&(o=s.queryCommandValue("fontName"),r=(o?o.split(",")[0].replace(/^'/,"").replace(/'$/,""):this.defaultFont).toLowerCase(),a=this.fontSelect.dom,r===a.value&&r==o||(a.value=r)),this.enableFormat&&t("bold","italic","underline"),this.enableAlignments&&t("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&this.enableLists&&t("insertorderedlist","insertunorderedlist"),l=this.toolbar.query("menu"),e=0;e<l.length;e++)l[e].hide();this.syncValue()}else this.onFirstFocus()},relayBtnCmd:function(t){this.relayCmd(t.getItemId())},relayCmd:function(t,e){Ext.defer(function(){this.isDestroyed||(this.win.focus(),this.execCmd(t,e),this.updateToolbar())},10,this)},execCmd:function(t,e){this.getDoc().execCommand(t,!1,void 0==e?null:e),this.syncValue()},applyCommand:function(t){if(t.ctrlKey){var e,i=t.getCharCode();if(i>0){switch(i=String.fromCharCode(i)){case"b":e="bold";break;case"i":e="italic";break;case"u":e="underline"}e&&(this.win.focus(),this.execCmd(e),this.deferFocus(),t.preventDefault())}}},insertAtCursor:function(t){var e;this.activated&&(this.win.focus(),Ext.isIE?(e=this.getDoc().selection.createRange())&&(e.pasteHTML(t),this.syncValue(),this.deferFocus()):(this.execCmd("InsertHTML",t),this.deferFocus()))},fixKeys:Ext.isIE?function(t){var e,i,n=t.getKey(),s=this.getDoc(),r=this.readOnly;n===t.TAB?(t.stopEvent(),r||(e=s.selection.createRange())&&(e.collapse(!0),e.pasteHTML("&#160;&#160;&#160;&#160;"),this.deferFocus())):n===t.ENTER&&(r||(e=s.selection.createRange())&&((i=e.parentElement())&&"li"===i.tagName.toLowerCase()||(t.stopEvent(),e.pasteHTML("<br />"),e.collapse(!1),e.select())))}:Ext.isOpera?function(t){var e=t.getKey(),i=this.readOnly;e===t.TAB&&(t.stopEvent(),i||(this.win.focus(),this.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),this.deferFocus()))}:null,getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}}),Ext.define("Ext.form.field.Radio",{extend:Ext.form.field.Checkbox,alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",isRadio:!0,focusCls:"form-radio-focus",inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var t=this.getManager().getChecked(this.name,this.getFormId());return t?t.inputValue:null},onBoxClick:function(t){this.disabled||this.readOnly||this.setValue(!0)},onRemoved:function(){this.callParent(arguments),this.formId=null},setValue:function(t){var e;return Ext.isBoolean(t)?this.callParent(arguments):(e=this.getManager().getWithValue(this.name,t,this.getFormId()).getAt(0))&&e.setValue(!0),this},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(t,e){var i,n,s,r;if(this.callParent(arguments),t)for(n=(r=this.getManager().getByName(this.name,this.getFormId()).items).length,i=0;i<n;i++)(s=r[i])!==this&&s.setValue(!1)},getManager:function(){return Ext.form.RadioManager}}),Ext.define("Ext.picker.Time",{extend:Ext.view.BoundList,alias:"widget.timepicker",increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:!1,initComponent:function(){var t=Ext.Date,e=t.clearTime,i=this.initDate;this.absMin=e(new Date(i[0],i[1],i[2])),this.absMax=t.add(e(new Date(i[0],i[1],i[2])),"mi",1439),this.store=this.createStore(),this.store.addFilter(this.rangeFilter=new Ext.util.Filter({id:"time-picker-filter"}),!1),this.updateList(),this.callParent()},setMinValue:function(t){this.minValue=t,this.updateList()},setMaxValue:function(t){this.maxValue=t,this.updateList()},normalizeDate:function(t){var e=this.initDate;return t.setFullYear(e[0],e[1],e[2]),t},updateList:function(){var t=this.normalizeDate(this.minValue||this.absMin),e=this.normalizeDate(this.maxValue||this.absMax);this.rangeFilter.setFilterFn(function(i){var n=i.get("date");return n>=t&&n<=e}),this.store.filter()},createStore:function(){for(var t=Ext.Date,e=[],i=this.absMin,n=this.absMax;i<=n;)e.push({disp:t.dateFormat(i,this.format),date:i}),i=t.add(i,"mi",this.increment);return new Ext.data.Store({fields:["disp","date"],data:e})},focusNode:function(t){return!1}}),Ext.define("Ext.form.field.Time",{extend:Ext.form.field.ComboBox,alias:"widget.timefield",alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,initDate:"1/1/2008",initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var t=this.minValue,e=this.maxValue;t&&this.setMinValue(t),e&&this.setMaxValue(e),this.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+this.displayField+'"])]}<tpl if="xindex < xcount">'+this.delimiter+"</tpl></tpl>",{formatDate:Ext.Function.bind(this.formatDate,this)}),this.callParent()},transformOriginalValue:function(t){return Ext.isString(t)?this.rawToValue(t):t},isEqual:function(t,e){return Ext.Date.isEqual(t,e)},setMinValue:function(t){var e=this.picker;this.setLimit(t,!0),e&&e.setMinValue(this.minValue)},setMaxValue:function(t){var e=this.picker;this.setLimit(t,!1),e&&e.setMaxValue(this.maxValue)},setLimit:function(t,e){var i,n;Ext.isString(t)?i=this.parseDate(t):Ext.isDate(t)&&(i=t),i?(n=Ext.Date.clearTime(new Date(this.initDate))).setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()):n=null,this[e?"minValue":"maxValue"]=n},rawToValue:function(t){return this.parseDate(t)||t||null},valueToRaw:function(t){return this.formatDate(this.parseDate(t))},getErrors:function(t){var e,i=Ext.String.format,n=this.callParent(arguments),s=this.minValue,r=this.maxValue;return null===(t=this.formatDate(t||this.processRawValue(this.getRawValue())))||t.length<1?n:(e=this.parseDate(t))?(s&&e<s&&n.push(i(this.minText,this.formatDate(s))),r&&e>r&&n.push(i(this.maxText,this.formatDate(r))),n):(n.push(i(this.invalidText,t,Ext.Date.unescapeFormat(this.format))),n)},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(t){var e,i=t,n=this.altFormats,s=this.altFormatsArray,r=0;if(t&&!Ext.isDate(t)&&!(i=this.safeParse(t,this.format))&&n)for(e=(s=s||n.split("|")).length;r<e&&!i;++r)i=this.safeParse(t,s[r]);return i&&this.snapToIncrement&&(i=new Date(Ext.Number.snap(i.getTime(),60*this.increment*1e3))),i},safeParse:function(t,e){var i,n=Ext.Date,s=null;return n.formatContainsDateInfo(e)?s=n.parse(t,e):(i=n.parse(this.initDate+" "+t,this.initDateFormat+" "+e))&&(s=i),s},getSubmitValue:function(){var t=this.submitFormat||this.format,e=this.getValue();return e?Ext.Date.format(e,t):null},createPicker:function(){var t;return this.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:"SINGLE"},cls:void 0,minValue:this.minValue,maxValue:this.maxValue,increment:this.increment,format:this.format,maxHeight:this.pickerMaxHeight},this.listConfig),t=this.callParent(),this.bindStore(t.store),t},onItemClick:function(t,e){var i=t.getSelectionModel().getSelection();i.length>0&&(i=i[0])&&Ext.Date.isEqual(e.get("date"),i.get("date"))&&this.collapse()},onListSelectionChange:function(t,e){if(e.length){var i=e[0].get("date");this.ignoreSelection||(this.skipSync=!0,this.setValue(i),this.skipSync=!1,this.fireEvent("select",this,i),this.picker.clearHighlight(),this.collapse(),this.inputEl.focus())}},syncSelection:function(){var t,e,i,n,s,r,o,a=this.picker;if(a&&!this.skipSync){if(a.clearHighlight(),i=this.getValue(),e=a.getSelectionModel(),this.ignoreSelection++,null===i)e.deselectAll();else if(Ext.isDate(i)){for(r=(n=a.store.data.items).length,s=0;s<r;s++)if(o=n[s],Ext.Date.isEqual(o.get("date"),i)){t=o;break}e.select(t)}this.ignoreSelection--}},postBlur:function(){var t=this.getValue();this.callParent(arguments),this.wasValid&&t&&this.setRawValue(this.formatDate(t))},setValue:function(){return this.getPicker(),this.callParent(arguments)},getValue:function(){return this.parseDate(this.callParent(arguments))}}),Ext.define("Ext.grid.CellEditor",{extend:Ext.Editor,constructor:function(t){(t=Ext.apply({},t)).field&&(t.field.monitorTab=!1),this.callParent([t])},onShow:function(){var t,e,i=this.boundEl.first();i&&(this.isForTree?(t=i.child("."+Ext.baseCSSPrefix+"tree-node-text",!0))&&(e=t.firstChild):e=i.dom.lastChild,e&&3===e.nodeType&&(this.cellTextNode=e,this.cellTextValue=e.nodeValue,e.nodeValue=this.emptyText)),this.callParent(arguments)},onHide:function(){var t=this.boundEl.first(),e=this.cellTextNode;t&&e&&(e.nodeValue==this.emptyText&&(e.nodeValue=this.cellTextValue),delete this.cellTextNode,delete this.cellTextValue),this.callParent(arguments)},afterRender:function(){var t=this.field;this.callParent(arguments),t.isXType("checkboxfield")&&t.mon(t.inputEl,{mousedown:this.onCheckBoxMouseDown,click:this.onCheckBoxClick,scope:this})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(t){var e,i,n=this.boundEl,s=n.first(),r=s.dom.childNodes,o=r.length,a=Ext.Array.clone(this.offsets);this.isForTree&&(o>1||1===o&&3!==r[0].nodeType)?(e=s.child("."+Ext.baseCSSPrefix+"tree-node-text"),a[0]=e.getOffsetsTo(s)[0],i=s.getWidth()-a[0],this.addCls(Ext.baseCSSPrefix+"grid-cell-editor-on-text-node")):i=n.getWidth()-1,!0===t&&this.field.setWidth(i),this.alignTo(n,this.alignment,a)},onEditorTab:function(t){var e=this.field;e.onEditorTab&&e.onEditorTab(t)},emptyText:"",alignment:"tl-tl",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",shim:!1,shadow:!1}),Ext.define("Ext.grid.ColumnComponentLayout",{extend:Ext.layout.component.Auto,alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,getContentHeight:function(t){return this.owner.isGroupHeader?t.getProp("contentHeight"):this.callParent(arguments)},calculateOwnerHeightFromContentHeight:function(t,e){var i=this.callParent(arguments);return this.owner.isGroupHeader&&(i+=this.owner.titleEl.dom.offsetHeight),i},getContentWidth:function(t){return this.owner.isGroupHeader?t.getProp("contentWidth"):this.callParent(arguments)},calculateOwnerWidthFromContentWidth:function(t,e){return e+t.getPaddingInfo().width}}),Ext.define("Ext.grid.ColumnLayout",{extend:Ext.layout.container.HBox,alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.grid=this.owner.up("[scrollerOwner]"),this.callParent()},beginLayout:function(t){var e,i,n=this.owner,s=this.grid,r=s.view,o=this.getVisibleItems(),a=o.length,l=this.firstHeaderCls,h=this.lastHeaderCls;for(s.lockable&&(r=n.up("tablepanel")===r.normalGrid?r.normalGrid.getView():null),e=0;e<a;e++)(i=o[e]).removeCls([l,h]),0===e&&i.addCls(l),e===a-1&&i.addCls(h);this.callParent(arguments),!n.isHeader&&Ext.getScrollbarSize().width&&!s.collapsed&&r&&r.rendered&&(t.viewTable=r.body.dom)&&(t.viewContext=t.context.getCmp(r))},beginLayoutCycle:function(t){this.callParent(arguments);for(var e,i=this.getVisibleItems(),n=i.length,s=0;s<n;s++)(e=i[s]).el.setStyle({height:"auto"}),e.titleEl.setStyle({paddingTop:"",paddingBottom:""})},roundFlex:function(t){return Math.floor(t)},calculate:function(t){this.callParent(arguments),t.state.parallelDone&&t.setProp("columnWidthsDone",!0),t.viewContext&&(t.state.tableHeight=t.viewTable.offsetHeight)},completeLayout:function(t){var e=this.owner,i=t.state;this.callParent(arguments),t.flexedItems.length||i.flexesCalculated||!e.forceFit||e.isHeader||this.convertWidthsToFlexes(t)&&(this.cacheFlexes(t),t.invalidate({state:{flexesCalculated:!0}}))},convertWidthsToFlexes:function(t){var e,i,n,s,r,o=0,a=this.sizeModels.calculated;for(i=(e=t.childItems).length,n=0;n<i;n++)r=(s=e[n]).target,o+=s.props.width,r.flex=t.childItems[n].flex=s.props.width,r.width=null,s.widthModel=a;return o!==t.props.width},finalizeLayout:function(t){var e,i=0,n=this.getVisibleItems(),s=n.length;for(e=t.props.height,this.owner.isGroupHeader&&(e-=this.owner.titleEl.dom.offsetHeight);i<s;i++)n[i].setPadding(t.childItems[i],e)},getContainerSize:function(t){var e,i=this.callParent(arguments),n=t.viewContext;return n&&!n.heightModel.shrinkWrap&&n.target.componentLayout.ownerContext&&(e=n.getProp("height"),isNaN(e)?this.done=!1:t.state.tableHeight>e&&(i.width-=Ext.getScrollbarSize().width,t.state.parallelDone=!1,n.invalidate())),i},publishInnerCtSize:function(t){var e=t.state.boxPlan.targetSize,i=t.peek("contentWidth");return this.owner.tooNarrow=t.state.boxPlan.tooNarrow,null==i||this.owner.isHeader||(e.width=i,this.owner.ownerCt.view.scrollFlags.y&&(e.width+=Ext.getScrollbarSize().width)),this.callParent(arguments)}}),Ext.define("Ext.layout.container.Fit",{extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(t,e){var i=e||this.owner.getSizeModel(),n=(i.width.shrinkWrap?0:1)|(i.height.shrinkWrap?0:2);return this.sizePolicies[n]},beginLayoutCycle:function(t,e){var i,n,s,r,o,a,l,h,d,c=this.lastHeightModel&&this.lastHeightModel.calculated,u=this.lastWidthModel&&this.lastWidthModel.calculated,f=u||c,p=0,g=0;for(this.callParent(arguments),f&&"TD"!=t.targetContext.el.dom.tagName.toUpperCase()&&(f=u=c=!1),o=(n=t.childItems).length,s=0;s<o;++s)r=n[s],e&&(l=(i=r.target).minHeight,((h=i.minWidth)||l)&&(l+=(a=r.marginInfo||r.getMarginInfo()).height,h+=a.height,p<l&&(p=l),g<h&&(g=h))),f&&(d=r.el.dom.style,c&&(d.height=""),u&&(d.width=""));e&&(t.maxChildMinHeight=p,t.maxChildMinWidth=g),i=t.target,t.overflowX=!t.widthModel.shrinkWrap&&t.maxChildMinWidth&&i.scrollFlags.x||void 0,t.overflowY=!t.heightModel.shrinkWrap&&t.maxChildMinHeight&&i.scrollFlags.y||void 0},calculate:function(t){var e,i,n,s,r,o,a=t.childItems,l=a.length,h=this.getContainerSize(t),d={length:l,ownerContext:t,targetSize:h},c=t.widthModel.shrinkWrap,u=t.heightModel.shrinkWrap,f=t.overflowX,p=t.overflowY;for((f||p)&&(e=this.getScrollbarsNeeded(f&&h.width,p&&h.height,t.maxChildMinWidth,t.maxChildMinHeight))&&(i=Ext.getScrollbarSize(),1&e&&(h.height-=i.height),2&e&&(h.width-=i.width)),s=0;s<l;++s)d.index=s,this.fitItem(a[s],d);(u||c)&&(n=t.targetContext.getPaddingInfo(),c&&(p&&!h.gotHeight?this.done=!1:(r=d.contentWidth+n.width,2&e&&(r+=i.width),t.setContentWidth(r)||(this.done=!1))),u&&(f&&!h.gotWidth?this.done=!1:(o=d.contentHeight+n.height,1&e&&(o+=i.height),t.setContentHeight(o)||(this.done=!1))))},fitItem:function(t,e){t.invalid?this.done=!1:(e.margins=t.getMarginInfo(),e.needed=e.got=0,this.fitItemWidth(t,e),this.fitItemHeight(t,e),e.got!=e.needed&&(this.done=!1))},fitItemWidth:function(t,e){var i,n;e.ownerContext.widthModel.shrinkWrap?(n=t.getProp("width")+e.margins.width,i=e.contentWidth,e.contentWidth=void 0===i?n:Math.max(i,n)):t.widthModel.calculated&&(++e.needed,e.targetSize.gotWidth&&(++e.got,this.setItemWidth(t,e))),this.positionItemX(t,e)},fitItemHeight:function(t,e){var i,n;e.ownerContext.heightModel.shrinkWrap?(n=t.getProp("height")+e.margins.height,i=e.contentHeight,e.contentHeight=void 0===i?n:Math.max(i,n)):t.heightModel.calculated&&(++e.needed,e.targetSize.gotHeight&&(++e.got,this.setItemHeight(t,e))),this.positionItemY(t,e)},positionItemX:function(t,e){var i=e.margins;(e.index||i.left)&&t.setProp("x",i.left),i.width&&t.setProp("margin-right",i.width)},positionItemY:function(t,e){var i=e.margins;(e.index||i.top)&&t.setProp("y",i.top),i.height&&t.setProp("margin-bottom",i.height)},setItemHeight:function(t,e){t.setHeight(e.targetSize.height-e.margins.height)},setItemWidth:function(t,e){t.setWidth(e.targetSize.width-e.margins.width)}}),Ext.define("Ext.panel.Table",{extend:Ext.panel.Panel,alias:"widget.tablepanel",extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!0,sortableColumns:!0,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",initComponent:function(){var t,e,i,n=this.columns||this.colModel,s=this.store=Ext.data.StoreManager.lookup(this.store||"ext-empty-store");if(this.columnLines&&this.addCls(this.colLinesCls),this.rowLines&&this.addCls(this.rowLinesCls),n instanceof Ext.grid.header.Container?(this.headerCt=n,this.headerCt.isRootHeader=!0,this.columns=this.headerCt.items.items):(Ext.isArray(n)&&(n={items:n}),Ext.apply(n,{forceFit:this.forceFit,sortable:this.sortableColumns,enableColumnMove:this.enableColumnMove,enableColumnResize:this.enableColumnResize,sealed:this.sealedColumns,isRootHeader:!0}),Ext.isDefined(this.enableColumnHide)&&(n.enableColumnHide=this.enableColumnHide),this.columns=n.items,(this.enableLocking||this.hasLockedColumns(this.columns))&&(this.self.mixin("lockable",Ext.grid.locking.Lockable),this.injectLockable())),this.scrollTask=new Ext.util.DelayedTask(this.syncHorizontalScroll,this),this.addEvents("reconfigure","viewready"),this.bodyCls=this.bodyCls||"",this.bodyCls+=" "+this.extraBodyCls,this.cls=this.cls||"",this.cls+=" "+this.extraBaseCls,delete this.autoScroll,!this.hasView){if(this.headerCt||(this.headerCt=new Ext.grid.header.Container(n)),this.columns=this.headerCt.items.items,s.buffered&&!s.remoteSort)for(e=0,i=this.columns.length;e<i;e++)this.columns[e].sortable=!1;this.hideHeaders&&(this.headerCt.height=0,this.headerCt.hiddenHeaders=!0,this.headerCt.addCls(this.hiddenHeaderCtCls),this.addCls(this.hiddenHeaderCls),Ext.isIEQuirks&&(this.headerCt.style={display:"none"})),this.relayHeaderCtEvents(this.headerCt),this.features=this.features||[],Ext.isArray(this.features)||(this.features=[this.features]),this.dockedItems=[].concat(this.dockedItems||[]),this.dockedItems.unshift(this.headerCt),this.viewConfig=this.viewConfig||{},t=this.getView(),this.items=[t],this.hasView=!0,this.hideHeaders||t.on({scroll:{fn:this.onHorizontalScroll,element:"el",scope:this}}),this.bindStore(s,!0),this.mon(t,{viewready:this.onViewReady,refresh:this.onRestoreHorzScroll,scope:this})}this.relayEvents(this.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]),this.callParent(arguments),this.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange"]),!this.lockable&&this.headerCt&&this.headerCt.on("afterlayout",this.onRestoreHorzScroll,this)},hasLockedColumns:function(t){var e,i,n=t.length;for(e=0;e<n;e++)if(!(i=t[e]).processed&&i.locked)return!0},relayHeaderCtEvents:function(t){this.relayEvents(t,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var t=this.callParent(),e=this.store.getState();return t=this.addPropertyToState(t,"columns",this.headerCt.getColumnsState()),e&&(t.storeState=e),t},applyState:function(t){var e=t.sort,i=t.storeState,n=this.store,s=t.columns;delete t.columns,this.callParent(arguments),s&&this.headerCt.applyColumnsState(s),e?n.remoteSort?n.sort({property:e.property,direction:e.direction,root:e.root},null,!1):n.sort(e.property,e.direction):i&&n.applyState(i)},getStore:function(){return this.store},getView:function(){var t;return this.view||(t=this.getSelectionModel(),Ext.widget(Ext.apply({grid:this,deferInitialRefresh:!1!==this.deferRowRender,trackOver:!1!==this.trackMouseOver,scroll:this.scroll,xtype:this.viewType,store:this.store,headerCt:this.headerCt,selModel:t,features:this.features,panel:this,emptyText:this.emptyText||""},this.viewConfig)),this.view.emptyText&&(this.view.emptyText='<div class="'+this.emptyCls+'">'+this.view.emptyText+"</div>"),this.view.getComponentLayout().headerCt=this.headerCt,this.mon(this.view,{uievent:this.processEvent,scope:this}),t.view=this.view,this.headerCt.view=this.view),this.view},setAutoScroll:Ext.emptyFn,processEvent:function(t,e,i,n,s,r){var o;if(-1!==s)return(o=this.headerCt.getGridColumns()[s]).processEvent.apply(o,arguments)},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(t,e){this.getView().scrollBy(0,t,e)},scrollByDeltaX:function(t,e){this.getView().scrollBy(t,0,e)},afterCollapse:function(){this.saveScrollPos(),this.saveScrollPos(),this.callParent(arguments)},afterExpand:function(){this.callParent(arguments),this.restoreScrollPos(),this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(t,e,i,n,s){!1===this.optimizedColumnMove?this.view.refresh():this.view.moveColumn(n,s,i),this.delayScroll()},onHeaderHide:function(t,e){this.delayScroll()},onHeaderShow:function(t,e){this.delayScroll()},delayScroll:function(){var t=this.getScrollTarget().el;t&&this.scrollTask.delay(10,null,null,[t.dom.scrollLeft])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var t=this.scrollLeftPos;t&&this.syncHorizontalScroll(t,!0)},getScrollerOwner:function(){var t=this;return this.scrollerOwner||(t=this.up("[scrollerOwner]")),t},getLhsMarker:function(){return this.lhsMarker||(this.lhsMarker=Ext.DomHelper.append(this.el,{cls:this.resizeMarkerCls},!0))},getRhsMarker:function(){return this.rhsMarker||(this.rhsMarker=Ext.DomHelper.append(this.el,{cls:this.resizeMarkerCls},!0))},getSelectionModel:function(){var t,e,i,n=this.selModel;return n||(n={},t=!0),n.events||(i=n.selType||this.selType,t=!n.mode,n=this.selModel=Ext.create("selection."+i,n)),this.simpleSelect?e="SIMPLE":this.multiSelect&&(e="MULTI"),Ext.applyIf(n,{allowDeselect:this.allowDeselect}),e&&t&&n.setSelectionMode(e),n.hasRelaySetup||(this.relayEvents(n,["selectionchange","beforeselect","beforedeselect","select","deselect"]),n.hasRelaySetup=!0),this.disableSelection&&(n.locked=!0),n},getScrollTarget:function(){var t=this.getScrollerOwner().query("tableview");return t[1]||t[0]},onHorizontalScroll:function(t,e){this.syncHorizontalScroll(e.scrollLeft)},syncHorizontalScroll:function(t,e){e=!0===e,this.rendered&&(e||t!==this.scrollLeftPos)&&(e&&(this.getScrollTarget().el.dom.scrollLeft=t),this.headerCt.el.dom.scrollLeft=t,this.scrollLeftPos=t)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(t,e){var i,n=this.getView(),s=t&&t.buffered;this.store=t,n.store!==t&&(e?n.bindStore(t,!1,"dataSource"):n.bindStore(t,!1)),this.mon(t,{load:this.onStoreLoad,scope:this}),this.storeRelayers=this.relayEvents(t,["filterchange"]),(i=this.findPlugin("bufferedrenderer"))?(this.verticalScroller=i,i.store&&i.bindStore(t)):s&&(this.verticalScroller=i=this.addPlugin(Ext.apply({ptype:"bufferedrenderer"},this.initialConfig.verticalScroller))),i&&(this.invalidateScrollerOnRefresh=!1),void 0!==this.invalidateScrollerOnRefresh&&(n.preserveScrollOnRefresh=!this.invalidateScrollerOnRefresh)},unbindStore:function(){var t=this.store;t&&(this.store=null,this.mun(t,{load:this.onStoreLoad,scope:this}),Ext.destroy(this.storeRelayers))},reconfigure:function(t,e){var i,n=this.getView(),s=this.store,r=this.headerCt,o=r?r.items.getRange():this.columns;e&&(e=Ext.Array.slice(e),delete n.tpl),this.fireEvent("beforereconfigure",this,t,e,s,o),this.lockable?this.reconfigureLockable(t,e):(Ext.suspendLayouts(),e&&(delete this.scrollLeftPos,r.removeAll(),r.add(e)),t&&t!==s?(this.store&&this.unbindStore(),t=Ext.StoreManager.lookup(t),i=n.deferInitialRefresh,n.deferInitialRefresh=!1,this.bindStore(t),n.deferInitialRefresh=i):this.getView().refresh(),r.setSortState(),Ext.resumeLayouts(!0)),this.fireEvent("reconfigure",this,t,e,s,o)},beforeDestroy:function(){var t=this.scrollTask;t&&(t.cancel(),this.scrollTask=null),this.callParent()},onDestroy:function(){this.lockable&&this.destroyLockable(),this.callParent()}}),Ext.define("Ext.util.CSS",function(){var t,e=null,i=document,n=/(-[a-z])/gi,s=function(t,e){return e.charAt(1).toUpperCase()};return{singleton:!0,rules:e,initialized:!1,constructor:function(){t=this},createStyleSheet:function(e,n){var s,r=i.getElementsByTagName("head")[0],o=i.createElement("style");if(o.setAttribute("type","text/css"),n&&o.setAttribute("id",n),Ext.isIE)r.appendChild(o),(s=o.styleSheet).cssText=e;else{try{o.appendChild(i.createTextNode(e))}catch(t){o.cssText=e}r.appendChild(o),s=o.styleSheet?o.styleSheet:o.sheet||i.styleSheets[i.styleSheets.length-1]}return t.cacheStyleSheet(s),s},removeStyleSheet:function(t){var e=i.getElementById(t);e&&e.parentNode.removeChild(e)},swapStyleSheet:function(e,n){var s;t.removeStyleSheet(e),(s=i.createElement("link")).setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("id",e),s.setAttribute("href",n),i.getElementsByTagName("head")[0].appendChild(s)},refreshCache:function(){return t.getRules(!0)},cacheStyleSheet:function(i){e||(e=t.rules={});try{var n,s,r=i.cssRules||i.rules,o=r.length-1,a=i.imports,l=a?a.length:0;for(s=0;s<l;++s)t.cacheStyleSheet(a[s]);for(;o>=0;--o)(n=r[o]).styleSheet&&t.cacheStyleSheet(n.styleSheet),t.cacheRule(n,i)}catch(t){}},cacheRule:function(i,n){if(i.styleSheet)return t.cacheStyleSheet(i.styleSheet);var s,r,o=i.selectorText;if(o)for(s=(o=o.split(",")).length,r=0;r<s;r++)e[Ext.String.trim(o[r]).toLowerCase()]={parentStyleSheet:n,cssRule:i}},getRules:function(i){var n,s={};(null===e||i)&&t.refreshCache();for(n in e)s[n]=e[n].cssRule;return s},refreshCache:function(){var n=i.styleSheets,s=0,r=n.length;for(e=t.rules={};s<r;s++)try{n[s].disabled||t.cacheStyleSheet(n[s])}catch(t){}},getRule:function(i,n,s){var r,o;if(e&&!n||t.refreshCache(),!Ext.isArray(i))return(o=e[i.toLowerCase()])&&!s&&(o=o.cssRule),o||null;for(r=0;r<i.length;r++)if(e[i[r]])return s?e[i[r].toLowerCase()]:e[i[r].toLowerCase()].cssRule;return null},createRule:function(e,i,n){var s,r=e.cssRules||e.rules,o=r.length;return e.insertRule?e.insertRule(i+"{"+n+"}",o):e.addRule(i,n||" "),t.cacheRule(s=r[o],e),s},updateRule:function(e,i,r){var o,a,l;if(Ext.isArray(e)){for(a=0;a<e.length;a++)if(t.updateRule(e[a],i,r))return!0}else if(o=t.getRule(e)){if(2==arguments.length){l=Ext.Element.parseStyles(i);for(i in l)o.style[i.replace(n,s)]=l[i]}else o.style[i.replace(n,s)]=r;return!0}return!1},deleteRule:function(i){var n,s,r=t.getRule(i,!1,!0);r&&(n=r.parentStyleSheet,s=Ext.Array.indexOf(n.cssRules||n.rules,r.cssRule),n.deleteRule?n.deleteRule(s):n.removeRule(s),delete e[i])}}}),Ext.define("Ext.view.TableLayout",{extend:Ext.layout.component.Auto,alias:["layout.tableview"],type:"tableview",beginLayout:function(t){var e=this.owner.lockingPartner,i=this.owner;this.callParent(arguments),e&&(this.lockedGrid=this.owner.up("[lockable]"),this.lockedGrid.needsRowHeightSync=!0,t.lockingPartner||(t.lockingPartner=t.context.getItem(e,e.el),t.lockingPartner&&!t.lockingPartner.lockingPartner&&(t.lockingPartner.lockingPartner=t))),t.headerContext=t.context.getCmp(this.headerCt),this.owner.body.dom&&(t.bodyContext=t.getEl(this.owner.body)),Ext.isWebKit&&i.el.select(i.getBodySelector()).setStyle("table-layout","auto")},calculate:function(t){var e,i=this.lockingPartner;t.headerContext.hasProp("columnWidthsDone")?(this.setColumnWidths(t),t.state.columnWidthsSynced=!0,t.bodyContext&&(t.bodyContext.setHeight(e=t.bodyContext.el.dom.offsetHeight,!1),t.setProp("contentHeight",e)),i&&!i.state.columnWidthsSynced?this.done=!1:this.callParent(arguments)):this.done=!1},measureContentHeight:function(t){var e=t.lockingPartner;if(!t.bodyContext||t.state.columnWidthsSynced&&(!e||e.state.columnWidthsSynced))return this.callParent(arguments)},setColumnWidths:function(t){var e,i,n=this.owner,s=t.context,r=this.headerCt.getGridColumns(),o=0,a=r.length,l=0,h=!Ext.isBorderBox;for(s&&(s.currentLayout=this),o=0;o<a;o++)(e=r[o]).hidden||e.hiddenAncestor?i=0:(l+=i=s.getCmp(e).props.width,h&&(i-=s.getCmp(e).borderInfo.width)),n.body.select(n.getColumnSizerSelector(e)).setWidth(i);n.el.select(n.getBodySelector()).setWidth(l)},finishedLayout:function(){var t=this.owner;this.callParent(arguments),Ext.isWebKit&&t.el.select(t.getBodySelector()).setStyle("table-layout",""),t.refreshCounter&&this.lockedGrid&&this.lockedGrid.syncRowHeight&&this.lockedGrid.needsRowHeightSync&&(this.lockedGrid.syncRowHeights(),this.lockedGrid.needsRowHeightSync=!1)}}),Ext.define("Ext.view.NodeCache",{constructor:function(t){this.view=t,this.clear(),this.el=new Ext.dom.AbstractElement.Fly},clear:function(t){var e,i,n=this.elements;if(t)for(e in n)(i=n[e]).parentNode.removeChild(i);this.elements={},this.count=this.startIndex=0,this.endIndex=-1},fill:function(t,e){var i,n=this.elements={},s=t.length;for(e||(e=0),i=0;i<s;i++)n[e+i]=t[i];return this.startIndex=e,this.endIndex=e+s-1,this.count=s,this},insert:function(t,e){var i,n=this.elements,s=e.length;if(this.count){if(t<this.count)for(i=this.endIndex+s;i>=t+s;i--)n[i]=n[i-s],n[i].setAttribute("data-recordIndex",i);this.endIndex=this.endIndex+s}else this.startIndex=t,this.endIndex=t+s-1;for(i=0;i<s;i++,t++)n[t]=e[i],n[t].setAttribute("data-recordIndex",t);this.count+=s},item:function(t,e){var i=null;return this.elements[t]&&(i=e?this.elements[t]:this.el.attach(this.elements[t])),i},first:function(t){return this.item(this.startIndex,t)},last:function(t){return this.item(this.endIndex,t)},getCount:function(){return this.count},slice:function(t,e){var i,n=this.elements,s=[];for(e=arguments.length<2?this.endIndex:Math.min(this.endIndex,e-1),i=t||this.startIndex;i<=e;i++)s.push(n[i]);return s},replaceElement:function(t,e,i){var n=this.elements,s="number"==typeof t?t:this.indexOf(t);return s>-1&&(e=Ext.getDom(e),i&&((t=n[s]).parentNode.insertBefore(e,t),Ext.removeNode(t),e.setAttribute("data-recordIndex",s)),this.elements[s]=e),this},indexOf:function(t){var e,i=this.elements;for(t=Ext.getDom(t),e=this.startIndex;e<=this.endIndex;e++)if(i[e]===t)return e;return-1},removeRange:function(t,e,i){var n,s,r,o=this.elements;for(e=void 0===e?this.count:Math.min(this.endIndex+1,e+1),t||(t=0),s=e-t,n=t,r=e;n<this.endIndex;n++,r++)i&&n<e&&Ext.removeNode(o[n]),r<=this.endIndex?(o[n]=o[r]).setAttribute("data-recordIndex",n):delete o[n];this.count-=s,this.endIndex-=s},removeElement:function(t,e){var i,n,s,r=this.elements,o=0;if(Ext.isArray(t)){for(i=t.length,o=0;o<i;o++)"number"!=typeof t[o]&&(t[o]=this.indexOf(t[o]));Ext.Array.sort(t)}else i=1,t=[t];for(n=s=t[0],o=0;n<=this.endIndex;n++,s++)o<i&&n===t[o]&&(s++,o++,e&&Ext.removeNode(r[n])),s<=this.endIndex&&s>=this.startIndex?(r[n]=r[s]).setAttribute("data-recordIndex",n):delete r[n];this.endIndex-=i,this.count-=i},scroll:function(t,e,i){var n,s,r,o,a=this.elements,l=t.length,h=this.view.getNodeContainer(),d=document.createDocumentFragment();if(-1==e){for(n=this.endIndex-i+1;n<=this.endIndex;n++)s=a[n],delete a[n],s.parentNode.removeChild(s);for(this.endIndex-=i,o=this.view.bufferRender(t,this.startIndex-=l),n=0;n<l;n++)a[this.startIndex+n]=o[n],d.appendChild(o[n]);h.insertBefore(d,h.firstChild)}else{for(r=this.startIndex+i,n=this.startIndex;n<r;n++)s=a[n],delete a[n],s.parentNode.removeChild(s);for(this.startIndex=n,o=this.view.bufferRender(t,this.endIndex+1),n=0;n<l;n++)a[this.endIndex+=1]=o[n],d.appendChild(o[n]);h.appendChild(d)}this.count=this.endIndex-this.startIndex+1}}),Ext.define("Ext.view.Table",{extend:Ext.view.View,alias:"widget.tableview",componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",overItemCls:Ext.baseCSSPrefix+"grid-row-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),positionBody:!0,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,tpl:"{%values.view.tableTpl.applyOut(values, out)%}",tableTpl:['<table id="{view.id}-table" class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" tabIndex="-1">',"{[values.view.renderColumnSizer(out)]}","{[values.view.renderTHead(values, out)]}","{[values.view.renderTFoot(values, out)]}",'<tbody id="{view.id}-body">',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</tbody>","</table>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<tr {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','{rowAttr:attributes} tabIndex="-1">','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</td>",{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(t){t.grid.isTree&&(t.baseCls=Ext.baseCSSPrefix+"tree-view"),this.callParent([t])},initComponent:function(){var t=this.scroll;this.addEvents("beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown"),this.body=new Ext.dom.Element.Fly,this.body.id=this.id+"gridBody",this.autoScroll=void 0,this.trackOver||(this.overItemCls=null),!0===t||"both"===t?this.autoScroll=!0:"horizontal"===t?this.overflowX="auto":"vertical"===t&&(this.overflowY="auto"),this.selModel.view=this,this.headerCt.view=this,this.grid.view=this,this.initFeatures(this.grid),delete this.grid,this.tpl=this.getTpl("tpl"),this.itemSelector=this.getItemSelector(),this.all=new Ext.view.NodeCache(this),this.callParent()},moveColumn:function(t,e,i){var n,s,r,o,a,l,h,d=i>1?document.createDocumentFragment():void 0,c=e,u=this.getGridColumns().length,f=u-1,p=(this.firstCls||this.lastCls)&&(0===e||e==u||0===t||t==f);if(this.rendered&&e!==t){for(r=this.el.query(this.getDataRowSelector()),e>t&&d&&(c-=i),n=0,o=r.length;n<o;n++){if(a=r[n],l=a.childNodes,p){if(1===l.length){Ext.fly(l[0]).addCls(this.firstCls),Ext.fly(l[0]).addCls(this.lastCls);continue}0===t?(Ext.fly(l[0]).removeCls(this.firstCls),Ext.fly(l[1]).addCls(this.firstCls)):t===f&&(Ext.fly(l[f]).removeCls(this.lastCls),Ext.fly(l[f-1]).addCls(this.lastCls)),0===e?(Ext.fly(l[0]).removeCls(this.firstCls),Ext.fly(l[t]).addCls(this.firstCls)):e===u&&(Ext.fly(l[f]).removeCls(this.lastCls),Ext.fly(l[t]).addCls(this.lastCls))}if(d){for(s=0;s<i;s++)d.appendChild(l[t]);a.insertBefore(d,l[c]||null)}else a.insertBefore(l[t],l[c]||null)}for(n=0,o=(h=this.el.query(this.getBodySelector())).length;n<o;n++)if(a=h[n],d){for(s=0;s<i;s++)d.appendChild(a.childNodes[t]);a.insertBefore(d,a.childNodes[c]||null)}else a.insertBefore(a.childNodes[t],a.childNodes[c]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(t,e,i){this.mon(this,t,e,i,{element:"el"})},getGridColumns:function(){return this.headerCt.getGridColumns()},getHeaderAtIndex:function(t){return this.headerCt.getHeaderAtIndex(t)},getCell:function(t,e){var i=this.getNode(t,!0);return Ext.fly(i).down(e.getCellSelector())},getFeature:function(t){var e=this.featuresMC;if(e)return e.get(t)},findFeature:function(t){if(this.features)return Ext.Array.findBy(this.features,function(e){if(e.ftype===t)return!0})},initFeatures:function(t){var e,i,n,s;for(this.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl"),this.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),this.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),this.featuresMC=new Ext.util.MixedCollection,s=(i=this.features=this.constructFeatures())?i.length:0,e=0;e<s;e++)(n=i[e]).view=this,n.grid=t,this.featuresMC.add(n),n.init(t)},renderTHead:function(t,e){var i,n,s=t.view.headerFns;if(s)for(n=0,i=s.length;n<i;++n)s[n].call(this,t,e)},addHeaderFn:function(){var t=this.headerFns;t||(t=this.headerFns=[]),t.push(fn)},renderTFoot:function(t,e){var i,n,s=t.view.footerFns;if(s)for(n=0,i=s.length;n<i;++n)s[n].call(this,t,e)},addFooterFn:function(t){var e=this.footerFns;e||(e=this.footerFns=[]),e.push(t)},addTableTpl:function(t){return this.addTpl("tableTpl",t)},addRowTpl:function(t){return this.addTpl("rowTpl",t)},addCellTpl:function(t){return this.addTpl("cellTpl",t)},addTpl:function(t,e){var i,n;for((e=Ext.Object.chain(e)).isTemplate||(e.applyOut=this.tplApplyOut),i=this[t];e.priority<i.priority;i=i.nextTpl)n=i;return n?n.nextTpl=e:this[t]=e,e.nextTpl=i,e},tplApplyOut:function(t,e){this.before&&!1===this.before(t,e)||(this.nextTpl.applyOut(t,e),this.after&&this.after(t,e))},constructFeatures:function(){var t,e,i,n=this.features,s=0;if(n)for(e=[],i=n.length;s<i;s++)(t=n[s]).isFeature||(t=Ext.create("feature."+t.ftype,t)),e[s]=t;return e},beforeRender:function(){this.callParent(),this.enableTextSelection||this.protoEl.unselectable()},onViewScroll:function(t,e){this.callParent(arguments),this.fireEvent("bodyscroll",t,e)},createRowElement:function(t,e){var i=this.renderBuffer;return this.tpl.overwrite(i,this.collectData([t],e)),Ext.fly(i).down(this.getNodeContainerSelector(),!0).firstChild},bufferRender:function(t,e){var i=this.renderBuffer;return this.tpl.overwrite(i,this.collectData(t,e)),Ext.Array.toArray(Ext.fly(i).down(this.getNodeContainerSelector(),!0).childNodes)},collectData:function(t,e){return this.rowValues.view=this,{view:this,rows:t,viewStartIndex:e,tableStyle:this.bufferedRenderer?"position:absolute;top:"+this.bufferedRenderer.bodyTop:""}},collectNodes:function(t){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var t,e=this.getBodySelector();e&&this.body.attach(this.el.child(e,!0)),this.hasLoadingHeight||(t=this.up("tablepanel"),Ext.suspendLayouts(),this.callParent(),t.updateLayout(),Ext.resumeLayouts(!0))},statics:{getBoundView:function(t){return Ext.getCmp(t.getAttribute("data-boundView"))}},getRecord:function(t){if(t=this.getNode(t)){var e=t.getAttribute("data-recordIndex");return e&&(e=parseInt(e,10))>-1?this.store.data.getAt(e):this.dataSource.data.get(t.getAttribute("data-recordId"))}},indexOf:function(t){return(t=this.getNode(t,!1))||0===t?this.all.indexOf(t):-1},indexInStore:function(t){if(!(t=this.getNode(t,!0))&&0!==t)return-1;var e=t.getAttribute("data-recordIndex");return e?parseInt(e,10):this.dataSource.indexOf(this.getRecord(t))},renderRows:function(t,e,i){var n,s=this.rowValues,r=t.length,o=this.getHeaderCt();for(s.view=this,s.columns=o.getGridColumns(),s.visibleColumns=o.getVisibleGridColumns(),n=0;n<r;n++,e++)s.itemClasses.length=s.rowClasses.length=0,this.renderRow(t[n],e,i);s.view=s.columns=s.visibleColumns=s.record=null},renderColumnSizer:function(t){var e,i,n,s=this.getGridColumns(),r=s.length;for(e=0;e<r;e++)n=(i=s[e]).hidden?0:i.lastBox?i.lastBox.width:Ext.grid.header.Container.prototype.defaultWidth,t.push('<colgroup><col class="',Ext.baseCSSPrefix,"grid-cell-",s[e].getItemId(),'" style="width:'+n+'px"></colgroup>')},renderRow:function(t,e,i){var n,s=-1===e,r=this.selModel,o=this.rowValues,a=o.itemClasses,l=o.rowClasses,h=this.rowTpl;if(o.record=t,o.recordId=t.internalId,o.recordIndex=e,o.rowId=this.getRowId(t),o.itemCls=o.rowCls="",o.columns||(o.columns=this.headerCt.getGridColumns()),a.length=l.length=0,s||(a[0]=Ext.baseCSSPrefix+"grid-row",r&&r.isRowSelected&&r.isRowSelected(t,e)&&a.push(this.selectedItemCls),this.stripeRows&&e%2!=0&&l.push(this.altRowCls),this.getRowClass&&(n=this.getRowClass(t,e,null,this.dataSource))&&l.push(n)),!i)return h.apply(o);h.applyOut(o,i)},renderCell:function(t,e,i,n,s){var r,o,a=this.selModel,l=this.cellValues,h=l.classes,d=e.data[t.dataIndex],c=this.cellTpl;l.record=e,l.column=t,l.recordIndex=i,l.columnIndex=n,l.cellIndex=n,l.align=t.align,l.tdCls=t.tdCls,l.style=l.tdAttr="",l.unselectableAttr=this.enableTextSelection?"":'unselectable="on"',t.renderer&&t.renderer.call?(r=t.renderer.call(t.scope||this.ownerCt,d,l,e,i,n,this.dataSource,this),l.css&&(e.cssWarning=!0,l.tdCls+=" "+l.css,delete l.css)):r=d,l.value=null==r||""===r?"&#160;":r,h[1]=Ext.baseCSSPrefix+"grid-cell-"+t.getItemId(),o=2,t.tdCls&&(h[o++]=t.tdCls),this.markDirty&&e.isModified(t.dataIndex)&&(h[o++]=this.dirtyCls),t.isFirstVisible&&(h[o++]=this.firstCls),t.isLastVisible&&(h[o++]=this.lastCls),this.enableTextSelection||(h[o++]=Ext.baseCSSPrefix+"unselectable"),h[o++]=l.tdCls,a&&a.isCellSelected&&a.isCellSelected(this,i,n)&&(h[o++]=this.selectedCellCls),h.length=o,l.tdCls=h.join(" "),c.applyOut(l,s),l.column=null},getNode:function(t,e){var i,n=this.callParent(arguments);if(n&&n.tagName)if(e){if(!(i=Ext.fly(n)).is(this.dataRowSelector))return i.down(this.dataRowSelector,!0)}else if(!1===e&&!(i=Ext.fly(n)).is(this.itemSelector))return i.up(this.itemSelector,null,!0);return n},getRowId:function(t){return this.id+"-record-"+t.internalId},constructRowId:function(t){return this.id+"-record-"+t},getNodeById:function(t,e){return t=this.constructRowId(t),this.retrieveNode(t,e)},getNodeByRecord:function(t,e){var i=this.getRowId(t);return this.retrieveNode(i,e)},retrieveNode:function(t,e){var i,n=this.el.getById(t,!0),s=this.itemSelector;return!1===e&&n&&!(i=Ext.fly(n)).is(s)?i.up(s,null,!0):n},updateIndexes:Ext.emptyFn,bodySelector:"table",nodeContainerSelector:"tbody",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"tr."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"col."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainer:function(){return this.el.down(this.nodeContainerSelector,!0)},getBodySelector:function(){return this.bodySelector+"."+Ext.baseCSSPrefix+this.id+"-table"},getNodeContainerSelector:function(){return this.nodeContainerSelector},getColumnSizerSelector:function(t){return this.sizerSelector+"-"+t.getItemId()},getItemSelector:function(){return this.itemSelector},getDataRowSelector:function(){return this.dataRowSelector},getCellSelector:function(t){var e=this.cellSelector;return t&&(e+="-"+t.getItemId()),e},getCellInnerSelector:function(t){return this.getCellSelector(t)+" "+this.innerSelector},addRowCls:function(t,e){var i=this.getNode(t,!1);i&&Ext.fly(i).addCls(e)},removeRowCls:function(t,e){var i=this.getNode(t,!1);i&&Ext.fly(i).removeCls(e)},onRowSelect:function(t){this.addRowCls(t,this.selectedItemCls)},onRowDeselect:function(t){this.removeRowCls(t,this.selectedItemCls),this.removeRowCls(t,this.focusedItemCls)},onCellSelect:function(t){var e=this.getCellByPosition(t,!0);e&&Ext.fly(e).addCls(this.selectedCellCls)},onCellDeselect:function(t){var e=this.getCellByPosition(t,!0);e&&Ext.fly(e).removeCls(this.selectedCellCls)},onCellFocus:function(t){this.focusCell(t)},getCellByPosition:function(t,e){if(t){var i=this.getNode(t.row,!0),n=this.headerCt.getHeaderAtIndex(t.column);if(n&&i)return Ext.fly(i).down(this.getCellSelector(n),e)}return!1},focus:function(){var t=this.getFocusEl();t&&this.focusRow(t)},getFocusEl:function(){var t;return this.refreshCounter?((t=this.focusedRow)&&this.el.contains(t)||(this.all.getCount()?(this.focusRow(this.getFirstVisibleRowIndex()),t=this.focusedRow):t=this.body),Ext.get(t)):this.el},onRowFocus:function(t,e,i){e?(this.addRowCls(t,this.focusedItemCls),i||this.focusRow(t)):this.removeRowCls(t,this.focusedItemCls)},focusRow:function(t){var e,i,n=this.ownerCt&&this.ownerCt.collapsed;this.isVisible(!0)&&!n&&(e=this.getNode(t,!0))&&this.el&&(i=this.getRecord(e),t=this.indexInStore(e),this.selModel.setLastFocused(i),e.focus(),this.focusedRow=e,this.fireEvent("rowfocus",i,e,t))},focusCell:function(t){var e,i=this.getCellByPosition(t),n=this.getRecord(t.row),s=this.el,r=0,o=s.getRegion(),a=this.ownerCt;this.focusRow(n),i&&(o.right=o.left+s.dom.clientWidth,(e=i.getRegion()).left<o.left?r=e.left-o.left:e.right>o.right&&(r=e.right-o.right),r&&a.scrollByDeltaX(r),this.fireEvent("cellfocus",n,i,t))},scrollByDelta:function(t,e){e=e||"scrollTop";var i=this.el.dom;i[e]=i[e]+=t},isDataRow:function(t){return Ext.fly(t).hasCls(Ext.baseCSSPrefix+"grid-data-row")},syncRowHeights:function(t,e){t=Ext.get(t),e=Ext.get(e),t.dom.style.height=e.dom.style.height="";var i=this.rowTpl,n=t.dom.offsetHeight,s=e.dom.offsetHeight;if(n!==s){for(;i&&(!i.syncRowHeights||!1!==i.syncRowHeights(t,e));)i=i.nextTpl;(n=t.dom.offsetHeight)!==(s=e.dom.offsetHeight)&&(t=t.down("[data-recordId]")||t,e=e.down("[data-recordId]")||e,t&&e&&(t.dom.style.height=e.dom.style.height="",(n=t.dom.offsetHeight)>(s=e.dom.offsetHeight)?(t.setHeight(n),e.setHeight(n)):s>n&&(t.setHeight(s),e.setHeight(s))))}},onIdChanged:function(t,e,i,n,s){var r;this.viewReady&&(r=this.getNodeById(s))&&(r.setAttribute("data-recordId",e.internalId),r.id=this.getRowId(e))},onUpdate:function(t,e,i,n){var s,r,o,a,l,h,d,c,u,f,p,g=this.rowTpl;if(this.viewReady&&(o=this.getNodeByRecord(e,!1))){if(u=this.overItemCls,f=this.focusedItemCls,s=this.indexInStore(e),r=Ext.fly(o,"_internal"),a=this.createRowElement(e,s),r.hasCls(u)&&Ext.fly(a).addCls(u),r.hasCls(f)&&Ext.fly(a).addCls(f),p=this.headerCt.getGridColumns(),o.mergeAttributes)o.mergeAttributes(a,!0);else for(h=(l=a.attributes).length,c=0;c<h;c++)"id"!==(d=l[c].name)&&o.setAttribute(d,l[c].value);for(p.length&&this.updateColumns(e,this.getNode(o,!0),this.getNode(a,!0),p,n);g&&(!g.syncContent||!1!==g.syncContent(o,a));)g=g.nextTpl;this.fireEvent("itemupdate",e,s,o),this.refreshSize()}},updateColumns:function(t,e,i,n,s){var r,o,a,l,h,d,c,u,f,p=n.length,g=this.editingPlugin||this.lockingPartner&&this.ownerCt.ownerLockable.view.editingPlugin,m=g&&g.editing,x=this.getCellSelector();if(e.mergeAttributes)e.mergeAttributes(i,!0);else for(o=(r=i.attributes).length,l=0;l<o;l++)"id"!==(a=r[l].name)&&e.setAttribute(a,r[l].value);for(h=0;h<p;h++)d=n[h],this.shouldUpdateCell(t,d,s)&&(x=this.getCellSelector(d),c=Ext.DomQuery.selectNode(x,e),u=Ext.DomQuery.selectNode(x,i),m?Ext.fly(c).syncContent(u):((f=c.parentNode).insertBefore(u,c),f.removeChild(c)))},shouldUpdateCell:function(t,e,i){if(e.hasCustomRenderer||!i)return!0;if(i){var n,s,r=i.length;for(n=0;n<r;++n)if((s=i[n])===e.dataIndex||s===t.idProperty)return!0}return!1},refresh:function(){this.callParent(arguments),this.headerCt.setSortState(),this.selModel.onLastFocusChanged(null,this.selModel.lastFocused)},processItemEvent:function(t,e,i,n){if(-1!==this.indexInStore(e)){var s,r,o,a=n.getTarget(this.getCellSelector(),e),l=this.statics().EventMap,h=this.getSelectionModel(),d=n.type,c=this.features,u=c.length;if("keydown"==d&&!a&&h.getCurrentPosition&&(a=this.getCellByPosition(h.getCurrentPosition(),!0)),a){if(!a.parentNode)return!1;(s=a.cellIndex)||0===s||(s=Number(a.getAttribute("data-cellIndex")))}else s=-1;if(!1===this.fireEvent("uievent",d,this,a,i,s,n,t,e)||!1===this.callParent(arguments))return!1;for(r=0;r<u;++r)if((o=c[r]).wrapsItem&&!1===o.vetoEvent(t,e,i,n))return this.processSpecialEvent(n),!1;return"mouseover"==d||"mouseout"==d||(!a||!(!1===this["onBeforeCell"+l[d]](a,s,t,e,i,n)||!1===this.fireEvent("beforecell"+d,this,a,s,t,e,i,n)||!1===this["onCell"+l[d]](a,s,t,e,i,n)||!1===this.fireEvent("cell"+d,this,a,s,t,e,i,n)))}return this.processSpecialEvent(n),!1},processSpecialEvent:function(t){var e,i,n,s,r,o,a=this.features,l=a.length,h=t.type,d=this.ownerCt;if(this.callParent(arguments),"mouseover"!=h&&"mouseout"!=h){for(e=0;e<l;e++)if((i=a[e]).hasFeatureEvent&&(s=t.getTarget(i.eventSelector,this.getTargetEl()))&&(n=i.eventPrefix,r=i.getFireEventArgs("before"+n+h,this,s,t),o=i.getFireEventArgs(n+h,this,s,t),!1===this.fireEvent.apply(this,r)||!1===d.fireEvent.apply(d,r)||!1===this.fireEvent.apply(this,o)||!1===d.fireEvent.apply(d,o)))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(t){this.autoSizeColumn(t)},autoSizeColumn:function(t){if(Ext.isNumber(t)&&(t=this.getGridColumns[t]),t){if(t.isGroupHeader)return void t.autoSize();delete t.flex,t.setWidth(this.getMaxContentWidth(t))}},getMaxContentWidth:function(t){var e,i=this.el.query(t.getCellInnerSelector()),n=t.getWidth(),s=0,r=i.length;for(this.body.select(this.getColumnSizerSelector(t)).setWidth(40),e=t.textEl.dom.offsetWidth+t.titleEl.getPadding("lr");s<r;s++)e=Math.max(e,i[s].scrollWidth+2);return this.body.select(this.getColumnSizerSelector(t)).setWidth(n),e},getPositionByEvent:function(t){var e=t.getTarget(this.cellSelector),i=t.getTarget(this.itemSelector),n=this.getRecord(i),s=this.getHeaderByCell(e);return this.getPosition(n,s)},getHeaderByCell:function(t){if(t){var e=t.className.match(this.cellRe);if(e&&e[1])return Ext.getCmp(e[1])}return!1},walkCells:function(t,e,i,n,s,r){if(!t)return!1;var o=t.row,a=t.column,l=this.dataSource.getCount(),h=this.getFirstVisibleColumnIndex(),d=this.getLastVisibleColumnIndex(),c={row:o,column:a},u=this.headerCt.getHeaderAtIndex(a);if(!u||u.hidden||!l)return!1;switch(i=i||{},e=e.toLowerCase()){case"right":if(a===d){if(n||o===l-1)return!1;i.ctrlKey||(c.row=this.walkRows(o,1),c.row!==o&&(c.column=h))}else i.ctrlKey?c.column=d:c.column=a+this.getRightGap(u);break;case"left":if(a===h){if(n||0===o)return!1;i.ctrlKey||(c.row=this.walkRows(o,-1),c.row!==o&&(c.column=d))}else i.ctrlKey?c.column=h:c.column=a+this.getLeftGap(u);break;case"up":if(0===o)return!1;i.ctrlKey?c.row=this.walkRows(-1,1):c.row=this.walkRows(o,-1);break;case"down":if(o===l-1)return!1;i.ctrlKey?c.row=this.walkRows(l,-1):c.row=this.walkRows(o,1)}return(!s||!0===s.call(r||window,c))&&c},walkRows:function(t,e){var i,n=0,s=t,r=(this.dataSource.buffered?this.dataSource.getTotalCount():this.dataSource.getCount())-1,o=e<0?0:r,a=o?1:-1,l=t;do{if(o?l>=o:l<=0)return s||o;l+=a,(i=Ext.fly(this.getNode(l,!0)))&&i.isVisible(!0)&&(n+=a,s=l)}while(n!==e);return l},walkRecs:function(t,e){var i,n,s=0,r=t,o=(this.store.buffered?this.store.getTotalCount():this.store.getCount())-1,a=e<0?0:o,l=a?1:-1,h=this.store.indexOf(t);do{if(a?h>=a:h<=0)return r;h+=l,n=this.store.getAt(h),(i=Ext.fly(this.getNodeByRecord(n,!0)))&&i.isVisible(!0)&&(s+=l,r=n)}while(s!==e);return r},getFirstVisibleRowIndex:function(){var t=this.dataSource.buffered?this.dataSource.getTotalCount():this.dataSource.getCount(),e=this.indexOf(this.all.first())-1;do{if((e+=1)===t)return}while(!Ext.fly(this.getNode(e,!0)).isVisible(!0));return e},getLastVisibleRowIndex:function(){var t=this.indexOf(this.all.last());do{if(-1==(t-=1))return}while(!Ext.fly(this.getNode(t,!0)).isVisible(!0));return t},getFirstVisibleColumnIndex:function(){var t=this.getHeaderCt().getVisibleGridColumns()[0];return t?t.getIndex():-1},getLastVisibleColumnIndex:function(){var t=this.getHeaderCt().getVisibleGridColumns();return t[t.length-1].getIndex()},getHeaderCt:function(){return this.headerCt},getPosition:function(t,e){return{row:this.dataSource.indexOf(t,!0),column:Ext.Array.indexOf(this.headerCt.getGridColumns(),e)}},getRightGap:function(t){for(var e,i=this.getHeaderCt().getGridColumns(),n=Ext.Array.indexOf(i,t),s=n+1;s<=i.length;s++)if(!i[s].hidden){e=s;break}return e-n},beforeDestroy:function(){this.rendered&&this.el.removeAllListeners(),this.callParent(arguments)},onDestroy:function(){var t,e,i=this.featuresMC;if(i)for(e=0,t=i.getCount();e<t;++e)i.getAt(e).destroy();this.featuresMC=null,this.callParent(arguments)},getLeftGap:function(t){for(var e,i=this.getHeaderCt().getGridColumns(),n=Ext.Array.indexOf(i,t),s=n-1;s>=0;s--)if(!i[s].hidden){e=s;break}return e-n},onAdd:function(t,e,i){this.callParent(arguments),this.doStripeRows(i)},onRemove:function(t,e,i){this.callParent(arguments),this.doStripeRows(i[0])},doStripeRows:function(t,e){var i,n,s,r;if(this.rendered&&this.stripeRows)for(s=0,n=(i=this.getNodes(t,e)).length;s<n;s++)(r=i[s]).className=r.className.replace(this.rowClsRe," "),++t%2==0&&(r.className+=" "+this.altRowCls)}}),Ext.define("Ext.grid.View",{extend:Ext.view.Table,alias:"widget.gridview",stripeRows:!0,autoScroll:!0}),Ext.define("Ext.grid.Panel",{extend:Ext.panel.Table,alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:!1,rowLines:!0}),Ext.define("Ext.grid.plugin.BufferedRendererTableView",{override:"Ext.view.Table",onAdd:function(t,e,i){var n=this.bufferedRenderer,s=this.all;n&&s.getCount()+e.length>n.viewSize?i<s.startIndex+n.viewSize&&i+e.length>s.startIndex?this.onDataRefresh():n.stretchView(this,n.getScrollHeight()):this.callParent([t,e,i])},onRemove:function(t,e,i){this.bufferedRenderer?this.onDataRefresh():this.callParent([t,e,i])}}),Ext.define("Ext.grid.RowEditorButtons",{extend:Ext.container.Container,alias:"widget.roweditorbuttons",frame:!0,constructor:function(t){var e=t.rowEditor,i=Ext.baseCSSPrefix,n=e.editingPlugin;t=Ext.apply({floating:{shadow:!1},baseCls:i+"grid-row-editor-buttons",layout:{type:"hbox",align:"middle"},defaults:{xtype:"button",ui:e.buttonUI,scope:n,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:i+"row-editor-update-button",itemId:"update",handler:n.completeEdit,text:e.saveBtnText,disabled:e.updateButtonDisabled},{cls:i+"row-editor-cancel-button",handler:n.cancelEdit,text:e.cancelBtnText}]},t),this.callParent([t])},getTargetEl:function(){return this.el},afterComponentLayout:function(){Ext.isIEQuirks&&!this.componentLayoutCounter&&this.el.setWidth(this.width=this.layout.innerCt.getWidth()+this.getFrameInfo().width),this.callParent(arguments)}}),Ext.define("Ext.grid.RowEditor",{extend:Ext.form.Panel,alias:"widget.roweditor",saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,buttonUI:"default",hideMode:"offsets",initComponent:function(){this.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor",this.layout={type:"hbox",align:"middle"},this.columns=new Ext.util.HashMap,this.columns.getKey=function(t){var e;return t.getEditor&&(e=t.getEditor())?e.id:t.id},this.mon(this.columns,{add:this.doColumnAdd,remove:this.doColumnRemove,replace:this.onColumnReplace,scope:this}),this.callParent(arguments),this.fields&&(this.setField(this.fields,!0),delete this.fields),this.mon(this.hierarchyEventSource,{scope:this,show:this.repositionIfVisible}),this.mon(this.view.headerCt,"afterlayout",this.correctWidth,this),this.getForm().trackResetOnLoad=!0},onFieldRender:function(t){var e,i=this.getEditorMargins(t),n=this.columns.get(t.id);t.setMargin("0 "+i.right+" 0 "+i.left,!0),n.isVisible()?this.setFieldWidth(n,t):n.rendered||(e=Ext.Function.bind(this.setFieldWidth,this,[n,t]),this.mon(this.view.headerCt,"afterlayout",e,this,{single:!0}))},setFieldWidth:function(t,e){var i=this.getEditorMargins(e);e.setWidth(t.getWidth()-i.width)},setupMargin:function(t){var e,i,n,s=this.cellPadding,r=this.view,o=0,a=0,l=1;return s||(s=(n=r.el.down(r.cellSelector+" "+r.innerSelector))?{left:n.getPadding("l"),right:n.getPadding("r"),top:n.getPadding("t"),bottom:n.getPadding("b")}:{left:0,right:0},this.cellPadding=s),(e=t.inputEl)&&(o=e.getPadding("l"),a=e.getPadding("r")),t.isXType("textfield")&&(l=1),i={left:Math.max(1,s.left-(o+l)),right:Math.max(1,s.right-(a+l)),top:s.top,bottom:s.bottom},i.width=i.left+i.right,t.editorMargin=i,i},getEditorMargins:function(t){var e=t.editorMargin;return e||(e=this.setupMargin(t)),e},onFieldChange:function(){var t=this.getForm().isValid();this.errorSummary&&this.isVisible()&&this[t?"hideToolTip":"showToolTip"](),this.updateButton(t),this.isValid=t},updateButton:function(t){var e=this.floatingButtons;e?e.child("#update").setDisabled(!t):this.updateButtonDisabled=!t},afterRender:function(){var t,e,i=this,n=i.editingPlugin,s=n.grid;i.callParent(arguments),i.mon(i.container,"scroll",i.onCtScroll,i,{buffer:10}),s.lockable&&s.normalGrid.view.mon(s.normalGrid.view.el,"scroll",i.onNormalViewScroll,i,{buffer:10}),i.mon(i.el,{click:Ext.emptyFn,stopPropagation:!0}),i.el.swallowEvent(["keypress","keydown"]),i.keyNav=new Ext.util.KeyNav(i.el,{enter:n.completeEdit,esc:n.onEscKey,scope:n}),i.mon(n.view,{beforerefresh:i.onBeforeViewRefresh,refresh:i.onViewRefresh,itemremove:i.onViewItemRemove,scope:i}),i.preventReposition=!0,i.columns.each(function(n,s){t=s.getEditor(),e=i.getEditorMargins(t),s.getEditor().setMargin("0 "+e.right+" 0 "+e.left,!0),s.isVisible()&&i.onColumnShow(s)},i),delete i.preventReposition},onBeforeViewRefresh:function(t){var e=t.el.dom;this.el.dom.parentNode===e&&e.removeChild(this.el.dom)},onViewRefresh:function(t){var e,i=this.context;this.container.dom.appendChild(this.el.dom),i&&(e=i.store.indexOf(i.record))>=0?(i.row=t.getNode(e),this.reposition(),this.tooltip&&this.tooltip.isVisible()&&this.tooltip.setTarget(i.row)):this.editingPlugin.cancelEdit()},onViewItemRemove:function(t,e){var i=this.context;i&&t===i.record&&this.editingPlugin.cancelEdit()},onCtScroll:function(t,e){var i=e.scrollTop,n=Ext.fly(e).getScrollLeft();i!==this.lastScrollTop&&(this.lastScrollTop=i,(this.tooltip&&this.tooltip.isVisible()||this.hiddenTip)&&this.repositionTip()),n!==this.lastScrollLeft&&(this.lastScrollLeft=n,this.reposition())},onNormalViewScroll:function(t,e){if(this.ignoreScroll)this.ignoreScroll=!1;else{var i=e.scrollTop;i!==this.lastScrollTop&&(this.lastScrollTop=i,(this.tooltip&&this.tooltip.isVisible()||this.hiddenTip)&&this.repositionTip()),this.reposition(null,!0)}},onColumnResize:function(t,e){var i;!t.isGroupHeader&&this.rendered&&((i=t.getEditor()).setWidth(e-this.getEditorMargins(i).width),this.repositionIfVisible())},onColumnHide:function(t){t.isGroupHeader||(t.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(t){var e;t.isGroupHeader||((e=t.getEditor()).show(),this.rendered&&(e.setWidth(t.getWidth()-this.getEditorMargins(e).width),this.preventReposition||this.repositionIfVisible()))},onColumnMove:function(t,e,i){var n,s=this.editingPlugin.grid;if(s.lockable&&s.normalGrid.headerCt.contains(t,!0)&&(e+=n=s.lockedGrid.view.getGridColumns().length,i+=n),!t.isGroupHeader){var r=t.getEditor();this.items.indexOf(r)!=i&&this.move(e,i)}},onColumnAdd:function(t){this.doColumnAdd(this.columns,t.getEditor().id,t),t.isGroupHeader||this.setField(t)},doColumnAdd:function(t,e,i){var n,s;i.isGroupHeader||(n=this.editingPlugin.grid.headerCt.getHeaderIndex(i),s=i.getEditor({xtype:"displayfield"}),this.insert(n,s))},onColumnRemove:function(t){this.doColumnRemove(this.columns,t.getEditor().id,t),this.columns.remove(t)},doColumnRemove:function(t,e,i){var n;i.isGroupHeader||(n=i.getEditor(),this.remove(n,!1))},onColumnReplace:function(t,e,i,n){this.onColumnRemove(t,e,n)},clearFields:function(){var t,e=this.columns;for(t in e)e.hasOwnProperty(t)&&e.removeAtKey(t)},getFloatingButtons:function(){return this.floatingButtons||(this.floatingButtons=new Ext.grid.RowEditorButtons({rowEditor:this,renderTo:this.el})),this.floatingButtons},repositionIfVisible:function(t){var e=this.view;(!t||t!=this&&t.el.isAncestor(e.el))&&this.isVisible()&&e.isVisible(!0)&&this.reposition()},getRefOwner:function(){return this.editingPlugin.grid},reposition:function(t,e){var i,n,s=this,r=s.context,o=r&&Ext.get(r.row),a=s.getFloatingButtons(),l=a.el,h=s.editingPlugin.grid,d=h.lockable?h.normalGrid.view.el:h.view.el,c=h.headerCt.getFullWidth(),u=h.getWidth(),f=Math.min(c,u),p=Ext.fly(h.view.el.dom).getScrollLeft(),g=(f-a.getWidth())/2+p,m=s.getLocalX(),x=function(){e||(i=l.getRegion().bottom-h.el.getRegion().bottom)>0&&(h.lockable&&(h.normalGrid.view.body.dom.style.marginBottom=h.lockedGrid.view.body.dom.style.marginBottom=l.getHeight()+"px"),s.ignoreScroll=!0,d.dom.scrollTop+=i,h.lockable&&s.setLocalY(s.getLocalY()-i)),t&&t.callback&&t.callback.call(t.scope||s)};h.lockable&&(h.normalGrid.view.body.dom.style.marginBottom=h.lockedGrid.view.body.dom.style.marginBottom="",m+=h.normalGrid.view.el.dom.scrollLeft*(s.rtl?1:-1)),o&&Ext.isElement(o.dom)&&(e||o.scrollIntoView(d,!1),s.setLocalX(m),t?(n={to:{y:o.getXY()[1]-s.body.getBorderPadding().beforeY},duration:t.duration||125,listeners:{afteranimate:function(){s.setButtonPosition(l,g),x()}}},s.animate(n)):(s.setLocalY((h.lockable?o.getOffsetsTo(h.body)[1]:o.dom.offsetTop)-s.body.getBorderPadding().beforeY),s.setButtonPosition(l,g),x())),s.correctWidth()},correctWidth:function(){var t;this.rendered&&this.isVisible()&&this.el.dom.parentNode&&(t=this.editingPlugin.grid.headerCt.getFullWidth(),this.getWidth()!=t&&this.setWidth(t))},getLocalX:function(){return 0},setButtonPosition:function(t,e){t.setLocalXY(e,this.el.dom.offsetHeight-1)},getEditor:function(t){return Ext.isNumber(t)?this.query(">[isFormField]")[t]:t.isHeader&&!t.isGroupHeader?t.getEditor():void 0},removeField:function(t){t=this.getEditor(t),this.mun(t,"validitychange",this.onValidityChange,this),this.columns.removeAtKey(t.id),Ext.destroy(t)},setField:function(t,e){var i,n,s;if(Ext.isArray(t))for(n=t.length,i=0;i<n;i++)this.setField(t[i],e);else s=t.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}}),this.mon(s,"change",this.onFieldChange,this),this.rendered&&this.mon(s,"afterrender",this.onFieldRender,this,{single:!0}),this.isVisible()&&this.context&&(s.is("displayfield")?this.renderColumnData(s,this.context.record,t):(s.suspendEvents(),s.setValue(this.context.record.get(t.dataIndex)),s.resumeEvents())),this.columns.add(s.id,t),t.hidden?this.onColumnHide(t):t.rendered&&!e&&this.onColumnShow(t)},loadRecord:function(t){var e,i,n,s=this.getForm(),r=s.getFields().items,o=r.length;for(e=0;e<o;e++)r[e].suspendEvents();for(s.loadRecord(t),e=0;e<o;e++)r[e].resumeEvents();for(n=s.isValid(),this.errorSummary&&(n?this.hideToolTip():this.showToolTip()),this.updateButton(n),o=(i=this.query(">displayfield")).length,e=0;e<o;e++)this.renderColumnData(i[e],t)},renderColumnData:function(t,e,i){var n,s,r,o=this.editingPlugin.grid,a=o.headerCt,l=o.view,h=l.store,d=i||this.columns.get(t.id),c=e.get(d.dataIndex),u=d.editRenderer||d.renderer;u&&(n={tdCls:"",style:""},s=h.indexOf(e),r=a.getHeaderIndex(d),c=u.call(d.scope||a.ownerCt,c,n,e,s,r,h,l)),t.setRawValue(c),t.resetOriginalValue()},beforeEdit:function(){if(this.isVisible()&&this.errorSummary&&!this.autoCancel&&this.isDirty())return this.showToolTip(),!1},startEdit:function(t,e){var i=this.editingPlugin.grid,n=i.store,s=i.getView(),r=this.context=Ext.apply(this.editingPlugin.context,{view:s,store:n});this.rendered||this.render(s.el),r.grid.getSelectionModel().select(t),this.loadRecord(t),this.isVisible()||this.show(),this.reposition({callback:this.focusContextCell})},focusContextCell:function(){var t=this.getEditor(this.context.colIdx);t&&t.focus&&t.focus()},cancelEdit:function(){var t,e=this.getForm(),i=e.getFields().items,n=i.length;for(this.hide(),e.clearInvalid(),t=0;t<n;t++)i[t].suspendEvents();for(e.reset(),t=0;t<n;t++)i[t].resumeEvents()},completeEdit:function(){var t=this.getForm();if(t.isValid())return t.updateRecord(this.context.record),this.hide(),!0},onShow:function(){this.callParent(arguments),this.reposition()},onHide:function(){this.callParent(arguments),this.tooltip&&this.hideToolTip(),this.context&&(this.context.view.focus(),this.context=null)},isDirty:function(){return this.getForm().isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!1}))},hideToolTip:function(){var t=this.getToolTip();t.rendered&&t.disable(),this.hiddenTip=!1},showToolTip:function(){var t=this.getToolTip();t.showAt([0,0]),t.update(this.getErrors()),this.repositionTip(),t.enable()},repositionTip:function(){var t=this.getToolTip(),e=this.context,i=Ext.get(e.row),n=e.grid.view.el,s=n.getHeight(),r=this.lastScrollTop,o=r+s,a=i.getHeight(),l=i.dom.offsetTop;l+a>r&&l<o?(t.showAt(t.getAlignToXY(n,"tl-tr",[15,i.getOffsetsTo(n)[1]])),this.hiddenTip=!1):(t.hide(),this.hiddenTip=!0)},getErrors:function(){var t,e=!this.autoCancel&&this.isDirty()?this.dirtyText+"<br />":"",i=[],n=this.query(">[isFormField]"),s=n.length;for(t=0;t<s;t++)i=i.concat(Ext.Array.map(n[t].getErrors(),this.createListItem));return e+'<ul class="'+Ext.plainListCls+'">'+i.join("")+"</ul>"},createListItem:function(t){return"<li>"+t+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip),this.callParent()}}),Ext.define("Ext.grid.plugin.HeaderResizer",{extend:Ext.AbstractPlugin,alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(t){this.headerCt=t,t.on("render",this.afterHeaderRender,this,{single:!0})},destroy:function(){this.tracker&&this.tracker.destroy()},afterHeaderRender:function(){var t=this.headerCt,e=t.el;t.mon(e,"mousemove",this.onHeaderCtMouseMove,this),this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:e})},onHeaderCtMouseMove:function(t,e){var i,n,s,r,o,a;this.headerCt.dragging?this.activeHd&&(this.activeHd.el.dom.style.cursor="",delete this.activeHd):(n=t.getTarget("."+this.colHeaderCls,3,!0))&&((s=Ext.getCmp(n.id)).isOnLeftEdge(t)?(r=s.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&(a=this.headerCt.up("tablepanel"),(o=r.up("tablepanel"))===a||a.ownerCt.isXType("tablepanel")&&a.ownerCt.view.lockedGrid===o||(r=null)):r=s.isOnRightEdge(t)?s:null,r?(r.isGroupHeader&&(r=(i=r.getGridColumns())[i.length-1]),!r||r.fixed||!1===r.resizable||this.disabled||(this.activeHd=r,s.el.dom.style.cursor=this.eResizeCursor,s.triggerEl&&(s.triggerEl.dom.style.cursor=this.eResizeCursor))):(s.el.dom.style.cursor="",s.triggerEl&&(s.triggerEl.dom.style.cursor=""),this.activeHd=null))},onBeforeStart:function(t){return this.dragHd=this.activeHd,this.dragHd&&!this.headerCt.dragging?(this.tracker.constrainTo=this.getConstrainRegion(),!0):(this.headerCt.dragging=!1,!1)},getConstrainRegion:function(){var t,e=this.dragHd.el;return this.headerCt.forceFit&&(t=this.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),this.headerInSameGrid(t)||(t=null)),this.adjustConstrainRegion(Ext.util.Region.getRegion(e),0,this.headerCt.forceFit?t?t.getWidth()-this.minColWidth:0:this.maxColWidth-e.getWidth(),0,this.minColWidth)},onStart:function(t){var e,i,n,s,r,o,a,l=this.dragHd,h=l.el.getWidth(),d=l.getOwnerHeaderCt();this.headerCt.dragging=!0,this.origWidth=h,this.dynamic||((n=s=d.up("tablepanel")).ownerLockable&&(s=n.ownerLockable),e=this.getLeftMarkerX(s),r=s.getLhsMarker(),o=s.getRhsMarker(),a=n.body.getHeight()+d.getHeight(),i=d.getOffsetsTo(s)[1],r.setLocalY(i),o.setLocalY(i),r.setHeight(a),o.setHeight(a),this.setMarkerX(r,e),this.setMarkerX(o,e+h))},onDrag:function(t){var e;this.dynamic?this.doResize():((e=this.headerCt.up("tablepanel")).ownerLockable&&(e=e.ownerLockable),this.setMarkerX(this.getMovingMarker(e),this.calculateDragX(e)))},getMovingMarker:function(t){return t.getRhsMarker()},onEnd:function(t){if(this.headerCt.dragging=!1,this.dragHd){if(!this.dynamic){var e=this.headerCt.up("tablepanel");e.ownerLockable&&(e=e.ownerLockable),this.setMarkerX(e.getLhsMarker(),-9999),this.setMarkerX(e.getRhsMarker(),-9999)}this.doResize()}},doResize:function(){var t,e,i=this.dragHd;i&&(e=this.tracker.getOffset("point"),i.flex&&delete i.flex,Ext.suspendLayouts(),this.adjustColumnWidth(e[0]),this.headerCt.forceFit&&(t=i.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),this.headerInSameGrid(t)||(t=null),t&&(delete t.flex,t.setWidth(t.getWidth()-e[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(t){var e=this.dragHd.up("tablepanel");return!!t.up(e)},disable:function(){this.disabled=!0,this.tracker&&this.tracker.disable()},enable:function(){this.disabled=!1,this.tracker&&this.tracker.enable()},calculateDragX:function(t){return this.tracker.getXY("point")[0]-t.getX()-t.el.getBorderWidth("l")},getLeftMarkerX:function(t){return this.dragHd.getX()-t.getX()-t.el.getBorderWidth("l")-1},setMarkerX:function(t,e){t.setLocalX(e)},adjustConstrainRegion:function(t,e,i,n,s){return t.adjust(e,i,n,s)},adjustColumnWidth:function(t){this.dragHd.setWidth(this.origWidth+t)}}),Ext.define("Ext.grid.header.DragZone",{extend:Ext.dd.DragZone,colHeaderCls:Ext.baseCSSPrefix+"column-header",maxProxyWidth:120,constructor:function(t){this.headerCt=t,this.ddGroup=this.getDDGroup(),this.callParent([t.el]),this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(t){var e,i,n=t.getTarget("."+this.colHeaderCls);return!(!n||(e=Ext.getCmp(n.id),this.headerCt.dragging||!e.draggable||e.isOnLeftEdge(t)||e.isOnRightEdge(t)))&&(i=document.createElement("div"),i.innerHTML=Ext.getCmp(n.id).text,{ddel:i,header:e})},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0,this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1,this.callParent(arguments)},afterRepair:function(){this.callParent(),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}}),Ext.define("Ext.grid.header.DropZone",{extend:Ext.dd.DropZone,colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(t){this.headerCt=t,this.ddGroup=this.getDDGroup(),this.callParent([t.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(t){return t.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.self.prototype.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},!0),this.self.prototype.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.self.prototype.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},!0)),this.bottomIndicator},getLocation:function(t,e){var i,n=t.getXY()[0],s=Ext.fly(e).getRegion();return i=s.right-n<=(s.right-s.left)/2?"after":"before",{pos:i,header:Ext.getCmp(e.id),node:e}},positionIndicator:function(t,e,i){var n,s,r,o,a,l,h,d,c,u,f,p,g,m,x,E,y,v=t.header,b=this.getLocation(i,e),C=b.header,w=b.pos;if(C!==this.lastTargetHeader||w!==this.lastDropPos){if(n=v.up("headercontainer:not(gridcolumn)"),s=C.up("headercontainer:not(gridcolumn)"),r=v.nextSibling("gridcolumn:not([hidden])"),o=v.previousSibling("gridcolumn:not([hidden])"),this.lastTargetHeader=C,this.lastDropPos=w,!C.draggable&&"before"===w&&0===C.getIndex())return!1;if(t.isLock=t.isUnlock=!1,n!==s&&n.lockableInjected&&s.lockableInjected&&s.lockedCt?t.isLock=!0:n!==s&&n.lockableInjected&&s.lockableInjected&&n.lockedCt&&(t.isUnlock=!0),t.isUnlock&&!1===v.lockable||t.isLock&&!v.isLockable())return!1;if(t.dropLocation=b,v!==C&&("before"===w&&r!==C||"after"===w&&o!==C)&&!C.isDescendantOf(v)){for(x=(m=Ext.dd.DragDropManager.getRelated(this)).length,E=0;E<x;E++)(y=m[E])!==this&&y.invalidateDrop&&y.invalidateDrop();this.valid=!0,a=this.getTopIndicator(),l=this.getBottomIndicator(),"before"===w?(h="bc-tl",d="tc-bl"):(h="bc-tr",d="tc-br"),c=a.getAlignToXY(C.el,h),u=l.getAlignToXY(C.el,d),p=(f=this.headerCt.el).getX()-this.indicatorXOffset,g=f.getX()+f.getWidth(),c[0]=Ext.Number.constrain(c[0],p,g),u[0]=Ext.Number.constrain(u[0],p,g),a.setXY(c),l.setXY(u),a.show(),l.show()}else this.invalidateDrop()}},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(t,e,i,n){var s,r=!0,o=n.header;return n.header.el.dom===t?r=!1:(s=this.getLocation(i,t).header,r=o.ownerCt===s.ownerCt||!o.ownerCt.sealed&&!s.ownerCt.sealed),r?this.positionIndicator(n,t,i):this.valid=!1,this.valid?this.dropAllowed:this.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide(),this.getBottomIndicator().hide(),this.lastTargetHeader=this.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(t,e,i,n){if(this.valid){var s,r=n.header,o=n.dropLocation,a=o.header,l=r.ownerCt,h=l.items.indexOf(r),d=a.ownerCt,c=d.items.indexOf(a),u=this.headerCt,f=u.getHeaderIndex(r),p=r.isGroupHeader?r.query(":not([isGroupHeader])").length:1,g=u.getHeaderIndex(a),m=l===d;if("after"===o.pos&&(c++,g+=a.isGroupHeader?a.query(":not([isGroupHeader])").length:1),n.isLock)l.up("[scrollerOwner]").lock(r,c),n.isLock=!1,this.onNodeDrop(t,e,i,n);else if(n.isUnlock)l.up("[scrollerOwner]").unlock(r,c),n.isUnlock=!1,this.onNodeDrop(t,e,i,n);else{if(this.invalidateDrop(),s=r.getWidth(),m){if(c===h)return void u.onHeaderMoved(r,p,f,g);c>h&&(c-=1)}Ext.suspendLayouts(),m?d.move(h,c):(l.remove(r,!1),d.insert(c,r)),d.isGroupHeader?m||(r.savedFlex=r.flex,delete r.flex,r.width=s):r.savedFlex&&(r.flex=r.savedFlex,delete r.width),u.purgeCache(),Ext.resumeLayouts(!0),u.onHeaderMoved(r,p,f,g)}}}}),Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:Ext.AbstractPlugin,alias:"plugin.gridheaderreorderer",init:function(t){this.headerCt=t,t.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){this.dragZone=new Ext.grid.header.DragZone(this.headerCt),this.dropZone=new Ext.grid.header.DropZone(this.headerCt),this.disabled&&this.dragZone.disable()},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}}),Ext.define("Ext.grid.header.Container",{extend:Ext.container.Container,border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",triStateSort:!1,ddLock:!1,dragging:!1,sortable:!0,enableColumnHide:!0,initComponent:function(){this.headerCounter=0,this.plugins=this.plugins||[],this.isHeader||(this.enableColumnResize&&(this.resizer=new Ext.grid.plugin.HeaderResizer,this.plugins.push(this.resizer)),this.enableColumnMove&&(this.reorderer=new Ext.grid.plugin.HeaderReorderer,this.plugins.push(this.reorderer))),this.isHeader&&!this.items?this.layout=this.layout||"container":this.layout=Ext.apply({type:"gridcolumn",align:"stretchmax"},this.initialConfig.layout),this.defaults=this.defaults||{},Ext.applyIf(this.defaults,{triStateSort:this.triStateSort,sortable:this.sortable}),this.menuTask=new Ext.util.DelayedTask(this.updateMenuDisabledState,this),this.callParent(),this.addEvents("columnresize","headerclick","headercontextmenu","headertriggerclick","columnmove","columnhide","columnshow","columnschanged","sortchange","menucreate")},isLayoutRoot:function(){return!this.hiddenHeaders&&this.callParent()},getOwnerHeaderCt:function(){return this.isRootHeader?this:this.up("[isRootHeader]")},onDestroy:function(){this.menu&&this.menu.un("hide",this.onMenuHide,this),this.menuTask.cancel(),Ext.destroy(this.resizer,this.reorderer),this.callParent()},applyColumnsState:function(t){if(t&&t.length){var e,i,n,s,r=this.items.items,o=r.length,a=0,l=t.length;for(e=0;e<l;e++)for(n=t[e],s=o;s--;)if((i=r[s]).getStateId&&i.getStateId()==n.id){a!==s&&this.moveHeader(s,a),i.applyColumnState&&i.applyColumnState(n),++a;break}}},getColumnsState:function(){var t,e=[];return this.items.each(function(i){(t=i.getColumnState&&i.getColumnState())&&e.push(t)}),e},onAdd:function(t){t.headerId||(t.headerId=t.initialConfig.id||Ext.id(null,"header-")),t.getStateId()||(t.stateId=t.initialConfig.id||"h"+ ++this.headerCounter),this.callParent(arguments),this.onColumnsChanged()},onMove:function(){this.callParent(arguments),this.onColumnsChanged()},onShow:function(){this.callParent(arguments),this.onColumnsChanged()},onColumnsChanged:function(){var t=this.getOwnerHeaderCt();t&&(t.purgeCache(),this.rendered&&t.fireEvent("columnschanged",t))},onRemove:function(t){var e=this.ownerCt;this.callParent(arguments),this.destroying||(this.onColumnsChanged(),this.isGroupHeader&&!this.items.getCount()&&e&&(this.detachComponent(t),Ext.suspendLayouts(),e.remove(this),Ext.resumeLayouts(!0)))},applyDefaults:function(t){var e;return t&&!t.isComponent&&"rownumberer"==t.xtype?e=t:(e=this.callParent(arguments),t.isGroupHeader||"width"in e||e.flex||(e.width=this.defaultWidth)),e},setSortState:function(){var t,e=this.up("[store]").store.getFirstSorter();e?(t=this.down("gridcolumn[dataIndex="+e.property+"]"))&&t.setSortState(e.direction,!1,!0):this.clearOtherSortStates(null)},getHeaderMenu:function(){var t,e=this.getMenu();return e&&(t=e.child("#columnItem"))?t.menu:null},onHeaderVisibilityChange:function(t,e){var i,n=this.getHeaderMenu();n&&((i=this.getMenuItemForHeader(n,t))&&i.setChecked(e,!0),n.isVisible()&&this.menuTask.delay(50))},updateMenuDisabledState:function(t){var e,i,n,s,r=this.query(":not([hidden])"),o=r.length;for(t||(t=this.getMenu()),e=0;e<o;++e)i=r[e],(n=this.getMenuItemForHeader(t,i))&&(s=i.isHideable()?"enable":"disable",n.menu&&(s+="CheckChange"),n[s]())},getMenuItemForHeader:function(t,e){return e?t.down("menucheckitem[headerId="+e.id+"]"):null},onHeaderShow:function(t){var e=this.ownerCt;this.forceFit&&delete this.flex,this.onHeaderVisibilityChange(t,!0),t.isGroupHeader||e&&e.onHeaderShow(this,t),this.fireEvent("columnshow",this,t),this.fireEvent("columnschanged",this)},onHeaderHide:function(t){var e=this.ownerCt;this.onHeaderVisibilityChange(t,!1),t.isGroupHeader||e&&e.onHeaderHide(this,t),this.fireEvent("columnhide",this,t),this.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=!0,Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(t,e,i){var n=this.view,s=this.ownerCt;n&&n.body.dom&&(this.tempLock(),s&&s.onHeaderResize(this,t,e)),this.fireEvent("columnresize",this,t,e)},onHeaderClick:function(t,e,i){t.fireEvent("headerclick",this,t,e,i),this.fireEvent("headerclick",this,t,e,i)},onHeaderContextMenu:function(t,e,i){t.fireEvent("headercontextmenu",this,t,e,i),this.fireEvent("headercontextmenu",this,t,e,i)},onHeaderTriggerClick:function(t,e,i){!1!==t.fireEvent("headertriggerclick",this,t,e,i)&&!1!==this.fireEvent("headertriggerclick",this,t,e,i)&&this.showMenuBy(i,t)},showMenuBy:function(t,e){var i,n=this.getMenu(),s=n.down("#ascItem"),r=n.down("#descItem");n.activeHeader=n.ownerButton=e,e.setMenuActive(!0),i=e.sortable?"enable":"disable",s&&s[i](),r&&r[i](),n.showBy(t)},onMenuHide:function(t){t.activeHeader.setMenuActive(!1)},moveHeader:function(t,e){this.tempLock(),this.onHeaderMoved(this.move(t,e),1,t,e)},purgeCache:function(){var t=this.menu;this.gridDataColumns=this.hideableColumns=null,t&&t.hidden&&(t.hide(),t.destroy(),this.menu=null)},onHeaderMoved:function(t,e,i,n){var s=this.ownerCt;s&&s.onHeaderMove&&s.onHeaderMove(this,t,e,i,n),this.fireEvent("columnmove",this,t,i,n)},getMenu:function(){return this.menu||(this.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:this.getMenuItems(),listeners:{hide:this.onMenuHide,scope:this}}),this.fireEvent("menucreate",this,this.menu)),this.updateMenuDisabledState(this.menu),this.menu},getMenuItems:function(){var t=[],e=this.enableColumnHide?this.getColumnMenu(this):null;return this.sortable&&(t=[{itemId:"ascItem",text:this.sortAscText,cls:this.menuSortAscCls,handler:this.onSortAscClick,scope:this},{itemId:"descItem",text:this.sortDescText,cls:this.menuSortDescCls,handler:this.onSortDescClick,scope:this}]),e&&e.length&&(this.sortable&&t.push("-"),t.push({itemId:"columnItem",text:this.columnsText,cls:this.menuColsIcon,menu:e,hideOnClick:!1})),t},onSortAscClick:function(){this.getMenu().activeHeader.setSortState("ASC")},onSortDescClick:function(){this.getMenu().activeHeader.setSortState("DESC")},getColumnMenu:function(t){for(var e,i,n=[],s=0,r=t.query(">gridcolumn[hideable]"),o=r.length;s<o;s++)e=r[s],i=new Ext.menu.CheckItem({text:e.menuText||e.text,checked:!e.hidden,hideOnClick:!1,headerId:e.id,menu:e.isGroupHeader?this.getColumnMenu(e):void 0,checkHandler:this.onColumnCheckChange,scope:this}),n.push(i),e.on({destroy:Ext.Function.bind(i.destroy,i)});return n},onColumnCheckChange:function(t,e){Ext.getCmp(t.headerId)[e?"show":"hide"]()},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(){for(var t,e=0,i=this.getVisibleGridColumns(),n=i.length,s=0;s<n;s++)(t=i[s]).getDesiredWidth?e+=t.getDesiredWidth()||0:e+=t.getWidth();return e},clearOtherSortStates:function(t){for(var e=this.getGridColumns(),i=e.length,n=0;n<i;n++)e[n]!==t&&e[n].setSortState(null,!0)},getVisibleGridColumns:function(){var t,e=this.getGridColumns(),i=[],n=e.length;for(t=0;t<n;t++)e[t].hidden||(i[i.length]=e[t]);return i},getGridColumns:function(t,e){if(!t&&this.gridDataColumns)return this.gridDataColumns;var i,n,s,r,o,a=t||[];if(e=e||this.hidden,this.items)for(n=0,s=(i=this.items.items).length;n<s;n++)(r=i[n]).isGroupHeader?r.getGridColumns(a,e):(r.hiddenAncestor=e,a.push(r));if(t||(this.gridDataColumns=a),!t&&s){for(n=0,s=a.length;n<s;n++)(r=a[n]).isFirstVisible=r.isLastVisible=!1,r.hidden&&!r.hiddenAncestor||(o||(r.isFirstVisible=!0),o=r);o&&(o.isLastVisible=!0)}return a},getHideableColumns:function(){var t=this.hideableColumns;return t||(t=this.hideableColumns=this.query("[hideable]")),t},getHeaderIndex:function(t){return t.isGroupHeader&&(t=t.down(":not([isGroupHeader])")),Ext.Array.indexOf(this.getGridColumns(),t)},getHeaderAtIndex:function(t){var e=this.getGridColumns();return e.length?e[t]:null},getVisibleHeaderClosestToIndex:function(t){var e=this.getHeaderAtIndex(t);return e&&e.hidden&&(e=e.next(":not([hidden])")||e.prev(":not([hidden])")),e},autoSizeColumn:function(t){var e=this.view;e&&e.autoSizeColumn(t)}}),Ext.define("Ext.grid.column.Column",{extend:Ext.grid.header.Container,alias:"widget.gridcolumn",alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:4,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text{childElCls}">{text}</span><tpl if="!menuDisabled"><div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger{childElCls}"></div></tpl></div>{%this.renderContainer(out,values)%}',dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,editRenderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:!0,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",detachOnRemove:!0,initResizable:Ext.emptyFn,initComponent:function(){var t,e;Ext.isDefined(this.header)&&(this.text=this.header,delete this.header),this.triStateSort||(this.possibleSortStates.length=2),Ext.isDefined(this.columns)?(this.isGroupHeader=!0,this.items=this.columns,delete this.columns,delete this.flex,delete this.width,this.cls=(this.cls||"")+" "+this.groupHeaderCls,this.sortable=!1,this.resizable=!1,this.align="center"):(this.isContainer=!1,this.flex&&(this.minWidth=this.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth)),this.addCls(Ext.baseCSSPrefix+"column-header-align-"+this.align),(t=this.renderer)?("string"==typeof t&&(this.renderer=Ext.util.Format[t]),this.hasCustomRenderer=!0):this.defaultRenderer&&(this.scope=this,this.renderer=this.defaultRenderer),this.callParent(arguments),e={element:"el",click:this.onElClick,contextmenu:this.onElContextMenu,scope:this},this.resizable&&(e.dblclick=this.onElDblClick),this.on(e),this.on({element:"titleEl",mouseenter:this.onTitleMouseOver,mouseleave:this.onTitleMouseOut,scope:this})},onAdd:function(t){t.isSubHeader=!0,this.hidden&&t.hide(),t.addCls(this.groupSubHeaderCls),this.callParent(arguments)},onRemove:function(t){t.isSubHeader=!1,t.removeCls(this.groupSubHeaderCls),this.callParent(arguments)},initRenderData:function(){var t="",e=this.tooltip,i="qtip"==this.tooltipType?"data-qtip":"title";return Ext.isEmpty(e)||(t=i+'="'+e+'" '),Ext.applyIf(this.callParent(arguments),{text:this.text,menuDisabled:this.menuDisabled,tipMarkup:t})},applyColumnState:function(t){var e=Ext.isDefined;this.applyColumnsState(t.columns),e(t.hidden)&&(this.hidden=t.hidden),e(t.locked)&&(this.locked=t.locked),e(t.sortable)&&(this.sortable=t.sortable),e(t.width)?(delete this.flex,this.width=t.width):e(t.flex)&&(delete this.width,this.flex=t.flex)},getColumnState:function(){var t,e=this.items.items,i=e?e.length:0,n=[],s={id:this.getStateId()};if(this.savePropsToState(["hidden","sortable","locked","flex","width"],s),this.isGroupHeader){for(t=0;t<i;t++)n.push(e[t].getColumnState());n.length&&(s.columns=n)}else this.isSubHeader&&this.ownerCt.hidden&&delete this.hidden;return"width"in s&&delete s.flex,s},getStateId:function(){return this.stateId||this.headerId},setText:function(t){this.text=t,this.rendered&&this.textEl.update(t)},getIndex:function(){return!this.isGroupColumn&&this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return!this.isGroupColumn&&Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var t=this.up("tablepanel");this.callParent(),!t||this.sortable&&!1!==t.sortableColumns||this.groupable||this.lockable||!1!==t.enableColumnHide&&this.getOwnerHeaderCt().getHideableColumns().length||(this.menuDisabled=!0),this.protoEl.unselectable()},afterRender:function(){var t=this.el;this.callParent(arguments),this.overCls&&t.addClsOnOver(this.overCls),Ext.isIE8&&Ext.isStrict||this.mon(this.getFocusEl(),{focus:this.onTitleMouseOver,blur:this.onTitleMouseOut,scope:this}),this.keyNav=new Ext.util.KeyNav(t,{enter:this.onEnterKey,down:this.onDownKey,scope:this})},afterComponentLayout:function(t,e,i,n){var s=this.getOwnerHeaderCt();this.callParent(arguments),s&&(null!=i||this.flex)&&t!==i&&s.onHeaderResize(this,t,!0)},setPadding:function(t,e){var i,n,s=this.textEl.dom.offsetHeight,r=this.titleEl,o=r.dom.offsetHeight;e-=t.borderInfo.height,t.innerCtContext?this.layout.innerCt.setHeight(e-o):o<e&&s&&(o=e,n=(e-=s)-(i=Math.floor(e/2)),r.setStyle({paddingTop:i+"px",paddingBottom:n+"px"})),(Ext.isIE6||Ext.isIEQuirks)&&this.triggerEl&&this.triggerEl.setHeight(o)},onDestroy:function(){Ext.destroy(this.textEl,this.keyNav,this.field),delete this.keyNav,this.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(t){this.triggerEl&&this.onElClick(t,this.triggerEl.dom||this.el.dom)},onEnterKey:function(t){this.onElClick(t,this.el.dom)},onElDblClick:function(t,e){var i,n;if(this.isOnLeftEdge(t))(i=this.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&i.getOwnerHeaderCt()===this.getOwnerHeaderCt()&&i.autoSize();else if(this.isOnRightEdge(t)){if(this.isGroupHeader&&t.getPoint().isContainedBy(this.layout.innerCt))return n=this.query("gridcolumn:not([hidden]):not([isGroupHeader])"),void this.getOwnerHeaderCt().autoSizeColumn(n[n.length-1]);this.autoSize()}},autoSize:function(){var t,e,i,n;if(this.isGroupHeader){for(e=(t=this.query("gridcolumn:not([hidden]):not([isGroupHeader])")).length,n=this.getOwnerHeaderCt(),Ext.suspendLayouts(),i=0;i<e;i++)n.autoSizeColumn(t[i]);Ext.resumeLayouts(!0)}else this.getOwnerHeaderCt().autoSizeColumn(this)},onElClick:function(t,e){var i=this.getOwnerHeaderCt();i&&!i.ddLock&&(this.triggerEl&&(t.target===this.triggerEl.dom||e===this.triggerEl.dom||t.within(this.triggerEl))?i.onHeaderTriggerClick(this,t,e):(t.getKey()||!this.isOnLeftEdge(t)&&!this.isOnRightEdge(t))&&(this.toggleSortState(),i.onHeaderClick(this,t,e)))},onElContextMenu:function(t,e){var i=this.getOwnerHeaderCt();i&&!i.ddLock&&i.onHeaderContextMenu(this,t,e)},processEvent:function(t,e,i,n,s,r){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var t;this.sortable&&(t=(Ext.Array.indexOf(this.possibleSortStates,this.sortState)+1)%this.possibleSortStates.length,this.setSortState(this.possibleSortStates[t]))},doSort:function(t){var e=this.up("tablepanel"),i=e.store;e.ownerLockable&&i.isNodeStore&&(i=e.ownerLockable.lockedGrid.store),i.sort({property:this.getSortParam(),direction:t})},getSortParam:function(){return this.dataIndex},setSortState:function(t,e,i){var n=this.ascSortCls,s=this.descSortCls,r=this.getOwnerHeaderCt(),o=this.sortState;if(t=t||null,!this.sorting&&o!==t&&this.getSortParam()){switch(t&&!i&&(this.sorting=!0,this.doSort(t),this.sorting=!1),t){case"DESC":this.addCls(s),this.removeCls(n);break;case"ASC":this.addCls(n),this.removeCls(s);break;default:this.removeCls([n,s])}!r||this.triStateSort||e||r.clearOtherSortStates(this),this.sortState=t,(this.triStateSort||null!=t)&&r.fireEvent("sortchange",r,this,t)}},isHideable:function(){var t={hideCandidate:this,result:this.hideable};return t.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[t]),t.result},hasOtherMenuEnabledChildren:function(t){var e,i;return this.isXType("headercontainer")?(e=this.query(">:not([hidden]):not([menuDisabled])"),i=e.length,Ext.Array.contains(e,t.hideCandidate)&&i--,!i&&void(t.hideCandidate=this)):(t.result=!1,!1)},isLockable:function(){var t={result:!1!==this.lockable};return t.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[t]),t.result},hasMultipleVisibleChildren:function(t){return this.isXType("headercontainer")?!(this.query(">:not([hidden])").length>1)&&void 0:(t.result=!1,!1)},hide:function(t){var e,i,n,s,r=this.getOwnerHeaderCt(),o=this.ownerCt;if(!r)return this.callParent(),this;if(r.forceFit&&(this.visibleSiblingCount=r.getVisibleGridColumns().length-1,this.flex&&(this.savedWidth=this.getWidth(),delete this.flex)),!o.isGroupHeader||t||1!==(i=o.query(">:not([hidden])")).length||i[0]!=this){if(Ext.suspendLayouts(),this.isGroupHeader)for(s=0,n=(i=this.items.items).length;s<n;s++)(e=i[s]).hidden||e.hide(!0);return this.callParent(),r.onHeaderHide(this),Ext.resumeLayouts(!0),this}this.ownerCt.hide()},show:function(t,e){var i,n,s,r,o,a,l,h,d=this.getOwnerHeaderCt(),c=this.ownerCt;if(this.rendered){if(a=d.el.getViewSize().width-(d.view.el.dom.scrollHeight>d.view.el.dom.clientHeight?Ext.getScrollbarSize().width:0),d.forceFit)if((i=Ext.ComponentQuery.query(":not([flex])",d.getVisibleGridColumns())).length)this.width=this.savedWidth||this.width||Ext.grid.header.Container.prototype.defaultWidth;else{for(n=(i=d.getVisibleGridColumns()).length,h=this.visibleSiblingCount,o=this.savedWidth||this.width||Ext.grid.header.Container.prototype.defaultWidth,o=Math.min(Math.max(o*(h/n),Ext.grid.header.Container.prototype.defaultWidth),a-n*Ext.grid.header.Container.prototype.defaultWidth),delete this.width,this.flex=o,a-=o,l=0,s=0;s<n;s++)(r=i[s]).flex=r.width||r.getWidth(),l+=r.flex,delete r.width;for(s=0;s<n;s++)(r=i[s]).flex=r.flex/l*a}if(Ext.suspendLayouts(),this.isSubHeader&&c.hidden&&c.show(!1,!0),this.callParent(arguments),this.isGroupHeader&&!0!==e&&!this.query(":not([hidden])").length)for(s=0,n=(i=this.items.items).length;s<n;s++)(r=i[s]).hidden&&r.show(!0);Ext.resumeLayouts(!0),(c=this.getOwnerHeaderCt())&&c.onHeaderShow(this)}else this.hidden=!1},getDesiredWidth:function(){return this.rendered&&this.componentLayout&&this.componentLayout.lastComponentSize?this.componentLayout.lastComponentSize.width:(this.flex,this.width)},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(t){return t.getXY()[0]-this.getX()<=this.handleWidth},isOnRightEdge:function(t){return this.getX()+this.getWidth()-t.getXY()[0]<=this.handleWidth},setMenuActive:function(t){this.titleEl[t?"addCls":"removeCls"](this.headerOpenCls)}}),Ext.define("Ext.grid.RowNumberer",{extend:Ext.grid.column.Column,alias:"widget.rownumberer",text:"&#160",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",constructor:function(t){this.width=this.width,this.callParent(arguments),this.rowspan&&(this.renderer=Ext.Function.bind(this.renderer,this))},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",rowspan:void 0,renderer:function(t,e,i,n,s,r){var o=this.rowspan;return o&&(e.tdAttr='rowspan="'+o+'"'),e.tdCls=Ext.baseCSSPrefix+"grid-cell-special",n+1}}),Ext.define("Ext.view.DropZone",{extend:Ext.dd.DropZone,indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",constructor:function(t){Ext.apply(this,t),this.ddGroup||(this.ddGroup="view-dd-zone-"+this.view.id),this.callParent([this.view.el])},fireViewEvent:function(){var t;return this.lock(),t=this.view.fireEvent.apply(this.view,arguments),this.unlock(),t},getTargetFromEvent:function(t){var e,i,n,s,r,o,a=t.getTarget(this.view.getItemSelector());if(!a)for(e=t.getPageY(),s=0,r=(i=this.view.getNodes()).length;s<r;s++)if(n=i[s],o=Ext.fly(n).getBox(),e<=o.bottom)return n;return a},getIndicator:function(){return this.indicator||(this.indicator=new Ext.Component({html:this.indicatorHtml,cls:this.indicatorCls,ownerCt:this.view,floating:!0,shadow:!1})),this.indicator},getPosition:function(t,e){var i=t.getXY()[1],n=Ext.fly(e).getRegion();return n.bottom-i>=(n.bottom-n.top)/2?"before":"after"},containsRecordAtOffset:function(t,e,i){if(!e)return!1;var n=this.view,s=n.indexOf(e),r=n.getNode(s+i,!0),o=r?n.getRecord(r):null;return o&&Ext.Array.contains(t,o)},positionIndicator:function(t,e,i){var n,s=this.view,r=this.getPosition(i,t),o=s.getRecord(t),a=e.records;Ext.Array.contains(a,o)||("before"!=r||this.containsRecordAtOffset(a,o,-1))&&("after"!=r||this.containsRecordAtOffset(a,o,1))?this.invalidateDrop():(this.valid=!0,this.overRecord==o&&this.currentPosition==r||(n=Ext.fly(t).getY()-s.el.getY()-1,"after"==r&&(n+=Ext.fly(t).getHeight()),this.getIndicator().setWidth(Ext.fly(s.el).getWidth()).showAt(0,n),this.overRecord=o,this.currentPosition=r))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(t,e,i,n){return Ext.Array.contains(n.records,this.view.getRecord(t))||this.positionIndicator(t,n,i),this.valid?this.dropAllowed:this.dropNotAllowed},notifyOut:function(t,e,i,n){this.callParent(arguments),this.overRecord=this.currentPosition=null,this.valid=!1,this.indicator&&this.indicator.hide()},onContainerOver:function(t,e,i){var n=this.view;return n.dataSource.getCount()?this.positionIndicator(n.all.last(),i,e):(this.overRecord=this.currentPosition=null,this.getIndicator().setWidth(Ext.fly(n.el).getWidth()).showAt(0,0),this.valid=!0),this.dropAllowed},onContainerDrop:function(t,e,i){return this.onNodeDrop(t,null,e,i)},onNodeDrop:function(t,e,i,n){var s=this,r=!1,o={wait:!1,processDrop:function(){s.invalidateDrop(),s.handleNodeDrop(n,s.overRecord,s.currentPosition),r=!0,s.fireViewEvent("drop",t,n,s.overRecord,s.currentPosition)},cancelDrop:function(){s.invalidateDrop(),r=!0}},a=!1;if(s.valid){if(a=s.fireViewEvent("beforedrop",t,n,s.overRecord,s.currentPosition,o),o.wait)return;!1!==a&&(r||o.processDrop())}return a},destroy:function(){Ext.destroy(this.indicator),delete this.indicator,this.callParent()}}),Ext.define("Ext.grid.ViewDropZone",{extend:Ext.view.DropZone,indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(t,e,i){var n,s,r,o,a=this.view,l=a.getStore();if(t.copy)for(s=t.records,t.records=[],r=0,o=s.length;r<o;r++)t.records.push(s[r].copy());else t.view.store.remove(t.records,t.view===a);e&&i?(n=l.indexOf(e),"before"!==i&&n++,l.insert(n,t.records)):l.add(t.records),a.getSelectionModel().select(t.records)}}),Ext.define("Ext.grid.column.Action",{extend:Ext.grid.column.Column,alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:!1,constructor:function(t){var e,i,n,s=Ext.apply({},t),r=s.items||this.items||[this];for(this.origRenderer=s.renderer||this.renderer,this.origScope=s.scope||this.scope,this.renderer=this.scope=s.renderer=s.scope=null,s.items=null,this.callParent([s]),this.items=r,i=0,n=r.length;i<n;++i)if(r[i].getClass){e=!0;break}(this.origRenderer||e)&&(this.hasCustomRenderer=!0)},defaultRenderer:function(t,e,i,n,s,r,o){var a,l,h,d,c=Ext.baseCSSPrefix,u=this.origScope||this,f=this.items,p=f.length,g=0;for(l=Ext.isFunction(this.origRenderer)?this.origRenderer.apply(u,arguments)||"":"",e.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";g<p;g++)d=(h=(a=f[g]).disabled||!!a.isDisabled&&a.isDisabled.call(a.scope||u,o,n,s,a,i))?null:a.tooltip||(a.getTip?a.getTip.apply(a.scope||u,arguments):null),a.hasActionConfiguration||(a.stopSelection=this.stopSelection,a.disable=Ext.Function.bind(this.disableAction,this,[g],0),a.enable=Ext.Function.bind(this.enableAction,this,[g],0),a.hasActionConfiguration=!0),l+='<img alt="'+(a.altText||this.altText)+'" src="'+(a.icon||Ext.BLANK_IMAGE_URL)+'" class="'+c+"action-col-icon "+c+"action-col-"+String(g)+" "+(h?c+"item-disabled":" ")+" "+(Ext.isFunction(a.getClass)?a.getClass.apply(a.scope||u,arguments):a.iconCls||this.iconCls||"")+'"'+(d?' data-qtip="'+d+'"':"")+" />";return l},enableAction:function(t,e){t?Ext.isNumber(t)||(t=Ext.Array.indexOf(this.items,t)):t=0,this.items[t].disabled=!1,this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+t).removeCls(this.disabledCls),e||this.fireEvent("enable",this)},disableAction:function(t,e){t?Ext.isNumber(t)||(t=Ext.Array.indexOf(this.items,t)):t=0,this.items[t].disabled=!0,this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+t).addCls(this.disabledCls),e||this.fireEvent("disable",this)},destroy:function(){return delete this.items,delete this.renderer,this.callParent(arguments)},processEvent:function(t,e,i,n,s,r,o,a){var l,h,d,c,u=r.getTarget(),f="keydown"==t&&r.getKey();if(f&&!Ext.fly(u).findParent(e.getCellSelector())&&(u=Ext.fly(i).down("."+Ext.baseCSSPrefix+"action-col-icon",!0)),u&&(l=u.className.match(this.actionIdRe))&&(h=this.items[parseInt(l[1],10)],c=h.disabled||!!h.isDisabled&&h.isDisabled.call(h.scope||this.origScope||this,e,n,s,h,o),h&&!c))if("click"==t||f==r.ENTER||f==r.SPACE)(d=h.handler||this.handler)&&d.call(h.scope||this.origScope||this,e,n,s,h,r,o,a);else if("mousedown"==t&&!1!==h.stopSelection)return!1;return this.callParent(arguments)},cascade:function(t,e){t.call(e||this,this)},getRefItems:function(){return[]}}),Ext.define("Ext.grid.column.Boolean",{extend:Ext.grid.column.Column,alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(t){return void 0===t?this.undefinedText:t&&"false"!==t?this.trueText:this.falseText}}),Ext.define("Ext.grid.column.CheckColumn",{extend:Ext.grid.column.Column,alternateClassName:"Ext.ux.CheckColumn",alias:"widget.checkcolumn",align:"center",stopSelection:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",constructor:function(){this.addEvents("beforecheckchange","checkchange"),this.scope=this,this.callParent(arguments)},processEvent:function(t,e,i,n,s,r,o,a){var l="keydown"===t&&r.getKey(),h="mousedown"==t;if(this.disabled||!h&&l!=r.ENTER&&l!=r.SPACE)return this.callParent(arguments);var d=this.dataIndex,c=!o.get(d);return!1!==this.fireEvent("beforecheckchange",this,n,c)?(o.set(d,c),this.fireEvent("checkchange",this,n,c),h&&r.stopEvent(),this.stopSelection||e.selModel.selectByPosition({row:n,column:s}),!1):!this.stopSelection},onEnable:function(t){this.callParent(arguments),this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+this.id).removeCls(this.disabledCls),t||this.fireEvent("enable",this)},onDisable:function(t){this.callParent(arguments),this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+this.id).addCls(this.disabledCls),t||this.fireEvent("disable",this)},renderer:function(t,e){var i=Ext.baseCSSPrefix,n=[i+"grid-checkcolumn"];return this.disabled&&(e.tdCls+=" "+this.disabledCls),t&&n.push(i+"grid-checkcolumn-checked"),'<img class="'+n.join(" ")+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'}}),Ext.define("Ext.grid.column.Date",{extend:Ext.grid.column.Column,alias:["widget.datecolumn"],alternateClassName:"Ext.grid.DateColumn",initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),this.callParent(arguments)},defaultRenderer:function(t){return Ext.util.Format.date(t,this.format)}}),Ext.define("Ext.grid.column.Number",{extend:Ext.grid.column.Column,alias:["widget.numbercolumn"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(t){return Ext.util.Format.number(t,this.format)}}),Ext.define("Ext.grid.column.Template",{extend:Ext.grid.column.Column,alias:["widget.templatecolumn"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){this.tpl=!Ext.isPrimitive(this.tpl)&&this.tpl.compile?this.tpl:new Ext.XTemplate(this.tpl),this.hasCustomRenderer=!0,this.callParent(arguments)},defaultRenderer:function(t,e,i){var n=Ext.apply({},i.data,i.getAssociatedData());return this.tpl.apply(n)}}),Ext.define("Ext.grid.feature.Feature",{extend:Ext.util.Observable,alias:"feature.feature",wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(t){this.initialConfig=t,this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(t,e,i,n){return[t,e,i,n]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.grid.feature.AbstractSummary",{extend:Ext.grid.feature.Feature,alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryTableCls:Ext.baseCSSPrefix+"table-plain "+Ext.baseCSSPrefix+"grid-table",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",summaryRowTpl:{before:function(t,e){if(t.record.isSummary)return this.summaryFeature.outputSummaryRecord(t.record,t,e),!1},priority:1e3},showSummaryRow:!0,init:function(){this.view.summaryFeature=this,this.rowTpl=this.view.self.prototype.rowTpl,this.view.addRowTpl(this.summaryRowTpl).summaryFeature=this},toggleSummaryRow:function(t){this.showSummaryRow=!!t},outputSummaryRecord:function(t,e,i){var n,s,r=e.view,o=r.rowValues,a=e.columns||r.headerCt.getGridColumns(),l=a.length,h={view:r,record:t,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:r.getRowId(t),columns:a,visibleColumns:e.visibleColumns||r.headerCt.getVisibleGridColumns()};for(n=0;n<l;n++)(s=a[n]).savedRenderer=s.renderer,s.summaryRenderer?s.renderer=s.summaryRenderer:s.summaryType||(s.renderer=Ext.emptyFn),s.dataIndex||(s.dataIndex=s.id);for(r.rowValues=h,r.self.prototype.rowTpl.applyOut(h,i),r.rowValues=o,n=0;n<l;n++)(s=a[n]).renderer=s.savedRenderer,s.savedRenderer=null},getSummary:function(t,e,i,n){var s=n.records;if(e){if(Ext.isFunction(e))return t.getAggregate(e,null,s,[i]);switch(e){case"count":return s.length;case"min":return t.getMin(s,i);case"max":return t.getMax(s,i);case"sum":return t.getSum(s,i);case"average":return t.getAverage(s,i);default:return""}}},generateSummaryData:function(){var t,e,i,n,s,r,o,a,l=this.view.store,h=l.groups.items,d=l.proxy.reader,c=h.length,u=this.getGroupField(),f={},p=this.lockingPartner;if(this.remoteRoot&&d.rawData){for(r=!0,a={},n=d.root,d.root=this.remoteRoot,d.buildExtractors(!0),c=(s=d.getRoot(d.rawData)).length,d.convertRecordData||d.buildExtractors(),t=0;t<c;++t)o={},d.convertRecordData(o,s[t]),a[o[u]]=o;d.root=n,d.buildExtractors(!0)}for(t=0;t<c;++t)e=h[t],r||e.isDirty()||!e.hasAggregate()?(i=r?this.populateRemoteRecord(e,a):this.populateRecord(e),p&&this.view.ownerCt!==this.view.ownerCt.ownerLockable.normalGrid||e.commit()):(i=e.getAggregateRecord(),p&&!i.hasPartnerData&&(this.populateRecord(e),i.hasPartnerData=!0)),f[e.key]=i;return f},populateRemoteRecord:function(t,e){var i,n=t.getAggregateRecord(!0),s=e[t.key];n.beginEdit();for(i in s)s.hasOwnProperty(i)&&i!==n.idProperty&&n.set(i,s[i]);return n.endEdit(!0),n.commit(!0),n},populateRecord:function(t){var e,i,n,s=this.view,r=s.store,o=t.getAggregateRecord(),a=s.headerCt.getGridColumns(),l=a.length;for(o.beginEdit(),e=0;e<l;++e)n=(i=a[e]).dataIndex||i.id,o.set(n,this.getSummary(r,i.summaryType,n,t));return o.endEdit(!0),o.commit(),o}}),Ext.define("Ext.grid.feature.GroupStore",{extend:Ext.util.Observable,isStore:!0,constructor:function(t,e){this.superclass.constructor.apply(this,arguments),this.groupingFeature=t,this.bindStore(e),this.processStore(e),this.view.dataSource=this},bindStore:function(t){this.store&&(Ext.destroy(this.storeListeners),this.store=null),t&&(this.storeListeners=t.on({bulkremove:this.onBulkRemove,add:this.onAdd,update:this.onUpdate,refresh:this.onRefresh,clear:this.onClear,scope:this,destroyable:!0}),this.store=t)},processStore:function(t){var e,i,n,s=t.model,r=t.getGroups(),o=r.length,a=this.data,l=this.groupingFeature.groupCache,h=this.groupingFeature.groupCache={},d=this.groupingFeature.startCollapsed;for(a?a.clear():a=this.data=new Ext.util.MixedCollection(!1,Ext.data.Store.recordIdFn),e=0;e<o;e++)h[(i=r[e]).name]=i,i.isCollapsed=d||l[i.name]&&l[i.name].isCollapsed,i.isCollapsed?(i.placeholder=n=new s(null,"group-"+i.name+"-placeholder"),n.set(this.getGroupField(),i.name),n.rows=n.children=i.children,a.add(n)):a.insert(this.data.length,i.children)},isCollapsed:function(t){return this.groupingFeature.groupCache[t].isCollapsed},isInCollapsedGroup:function(t){var e;return!(!this.store.isGrouped()||!(e=this.groupingFeature.groupCache[t.get(this.getGroupField())]))&&(e.isCollapsed||!1)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(){return!0},getRange:function(t,e,i){var n=this.data.getRange(t,e);return i&&i.callback&&i.callback.call(i.scope||this,n,t,e,i),n},getAt:function(t){return this.getRange(t,t)[0]},getById:function(t){return this.store.getById(t)},indexOf:function(t,e){var i,n,s,r,o,a,l=0;if(t&&!this.isInCollapsedGroup(t))for(i=this.store.groupField,s=(n=this.store.getGroups()).length,r=0;r<s;r++){if((o=n[r]).name===t.get(i))return a=Ext.Array.indexOf(o.children,t),l+a;l+=e&&this.isCollapsed(o.name)?1:o.children.length}return-1},onRefresh:function(t){this.processStore(this.store),this.fireEvent("refresh",this)},onBulkRemove:function(t,e,i){this.processStore(this.store),this.fireEvent("refresh",this)},onClear:function(t,e,i){this.processStore(this.store),this.fireEvent("clear",this)},onAdd:function(t,e,i){this.processStore(this.store),this.fireEvent("refresh",this)},onUpdate:function(t,e,i,n){var s,r,o=this.groupingFeature.getRecordGroup(e);if(t.isGrouped()){if(n&&Ext.Array.contains(n,this.groupingFeature.getGroupField()))return this.onRefresh(this.store);o.isCollapsed?this.fireEvent("update",this,o.placeholder):(Ext.suspendLayouts(),this.fireEvent("update",this,e,i,n),s=o.children[0],r=o.children[o.children.length-1],s!==e&&this.fireEvent("update",this,s,"edit"),r!==e&&r!==s&&this.fireEvent("update",this,r,"edit"),Ext.resumeLayouts(!0))}}}),Ext.define("Ext.grid.feature.Grouping",{extend:Ext.grid.feature.Feature,mixins:{summary:Ext.grid.feature.AbstractSummary},alias:"feature.grouping",eventPrefix:"group",groupCls:Ext.baseCSSPrefix+"grid-group-hd",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,tableTpl:{before:function(t){1===t.rows.length&&t.rows[0].isSummary||this.groupingFeature.setup(t.rows,t.view.rowValues)},after:function(t){1===t.rows.length&&t.rows[0].isSummary||this.groupingFeature.cleanup(t.rows,t.view.rowValues)},priority:200},groupTpl:["{%","var me = this.groupingFeature;","me.setupRowData(values.record, values.recordIndex, values);","values.needsWrap = values.isFirstRow || values.summaryRecord;","values.recordIndex += me.skippedRows;","%}",'<tpl if="needsWrap">','<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row">','<td class="'+Ext.baseCSSPrefix+'group-hd-container" colspan="{columns.length}">','<tpl if="isFirstRow">',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div id="{groupId}" class="'+Ext.baseCSSPrefix+'grid-group-hd {collapsibleCls}" tabIndex="0">','<div class="'+Ext.baseCSSPrefix+'grid-group-title" style="{[groupTitleStyle]}">','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}',"</div>","</div>","</tpl>",'<tpl if="summaryRecord || !isCollapsedGroup">','<table class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" border="0" cellspacing="0" cellpadding="0" style="width:100%">',"{[values.view.renderColumnSizer(out)]}",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out);%}","</tpl>","</table>","</tpl>","</td>","</tr>","{%","if (values.isCollapsedGroup) {","me.skippedRows += me.getRecordGroup(values.record).children.length - 1;","}","%}","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,syncRowHeights:function(t,e){t=Ext.fly(t,"syncDest"),e=Ext.fly(e,"sycSrc");var i,n,s,r,o=this.owner,a=t.down(o.eventSelector,!0),l=t.down(o.summaryRowSelector,!0);a&&(i=e.down(o.eventSelector,!0))&&(a.style.height=i.style.height="",(s=a.offsetHeight)>(r=i.offsetHeight)?Ext.fly(i).setHeight(s):r>s&&Ext.fly(a).setHeight(r)),l&&(n=e.down(o.summaryRowSelector,!0))&&(l.style.height=n.style.height="",(s=l.offsetHeight)>(r=n.offsetHeight)?Ext.fly(n).setHeight(s):r>s&&Ext.fly(l).setHeight(r))},syncContent:function(t,e){t=Ext.fly(t,"syncDest"),e=Ext.fly(e,"sycSrc");var i=this.owner,n=t.down(i.eventSelector,!0),s=e.down(i.eventSelector,!0),r=t.down(i.summaryRowSelector,!0),o=e.down(i.summaryRowSelector,!0);n&&s&&Ext.fly(n).syncContent(s),r&&o&&Ext.fly(r).syncContent(o)}}],constructor:function(){this.groupCache={},this.callParent(arguments)},init:function(t){var e=this.view;this.mixins.summary.init.call(this),this.callParent(arguments),e.headerCt.on({columnhide:this.onColumnHideShow,columnshow:this.onColumnHideShow,columnmove:this.onColumnMove,scope:this}),e.addTableTpl(this.tableTpl).groupingFeature=this,e.addRowTpl(Ext.XTemplate.getTpl(this,"groupTpl")).groupingFeature=this,e.preserveScrollOnRefresh=!0,e.store.buffered?this.collapsible=!1:(this.dataSource=e.dataSource=new Ext.grid.feature.GroupStore(this,e.store),this.startCollapsed=!1),this.grid.on({reconfigure:this.onReconfigure}),e.on({afterrender:this.afterViewRender,scope:this,single:!0})},vetoEvent:function(t,e,i,n){if("mouseover"!==n.type&&"mouseout"!==n.type&&"mouseenter"!==n.type&&"mouseleave"!==n.type&&n.getTarget(this.eventSelector))return!1},enable:function(){var t,e=this.view.store;this.lastGroupField=this.getGroupField(),this.lastGroupIndex&&(this.block(),e.group(this.lastGroupIndex),this.unblock()),this.callParent(),(t=this.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&t.setChecked(!0,!0),this.refreshIf()},disable:function(){var t,e,i=this.view.store;(e=i.groupers.first())&&(this.lastGroupIndex=e.property,this.block(),i.clearGrouping(),this.unblock()),this.callParent(),(t=this.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&t.setChecked(!1,!0),this.refreshIf()},refreshIf:function(){var t=this.grid.ownerCt,e=this.view;e.store.remoteGroup||this.blockRefresh||(t&&t.lockable?t.view.refresh():e.refresh())},afterViewRender:function(){this.view.on({scope:this,groupclick:this.onGroupClick}),this.enableGroupingMenu&&this.injectGroupingMenu(),this.pruneGroupedHeader(),this.lastGroupField=this.getGroupField(),this.block(),this.onGroupChange(),this.unblock()},injectGroupingMenu:function(){var t=this.view.headerCt;t.showMenuBy=this.showMenuBy,t.getMenuItems=this.getMenuItems()},onColumnHideShow:function(t,e){var i,n,s,r=this.view,o=r.headerCt,a=o.getMenu().down("#groupMenuItem"),l=o.getGridColumns().length;if(a&&(o.getVisibleGridColumns().length>1?a.enable():a.disable()),r.rendered)for(s=0,n=(i=r.el.query("."+this.ctCls)).length;s<n;++s)i[s].colSpan=l},onColumnMove:function(){var t,e,i,n,s,r,o=this.view.store;if(o.isGrouped())for(i=(t=o.getGroups()).length,e=0;e<i;e++)s=(n=t[e]).children[0],r=n.children[n.children.length-1],o.fireEvent("update",o,s,"edit"),r!==s&&o.fireEvent("update",o,r,"edit")},showMenuBy:function(t,e){var i=this.getMenu(),n=i.down("#groupMenuItem"),s=!1===e.groupable||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",r=i.down("#groupToggleMenuItem"),o=this.view.store.isGrouped();n[s](),r&&(r.setChecked(o,!0),r[o?"enable":"disable"]()),Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var t=this,e=t.groupByText,i=t.disabled||!t.getGroupField(),n=t.showGroupsText,s=t.enableNoGroups,r=t.view.headerCt.getMenuItems;return function(){var o=r.call(this);return o.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:e,handler:t.onGroupMenuItemClick,scope:t}),s&&o.push({itemId:"groupToggleMenuItem",text:n,checked:!i,checkHandler:t.onGroupToggleMenuItemClick,scope:t}),o}},onGroupMenuItemClick:function(t,e){var i=t.parentMenu.activeHeader,n=this.view.store;delete this.lastGroupIndex,this.block(),this.enable(),n.group(i.dataIndex),this.pruneGroupedHeader(),this.unblock(),this.refreshIf()},block:function(){this.blockRefresh=this.view.blockRefresh=!0},unblock:function(){this.blockRefresh=this.view.blockRefresh=!1},onGroupToggleMenuItemClick:function(t,e){this[e?"enable":"disable"]()},pruneGroupedHeader:function(){var t=this.getGroupedHeader();this.hideGroupedHeader&&t&&(Ext.suspendLayouts(),this.prunedHeader&&this.prunedHeader!==t&&this.prunedHeader.show(),this.prunedHeader=t,t.hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(t){return Ext.get(this.createGroupId(t))},getGroup:function(t){var e=this.groupCache,i=e[t];return i||(i=e[t]={isCollapsed:!1}),i},isExpanded:function(t){return!this.getGroup(t).isCollapsed},expand:function(t,e){this.doCollapseExpand(!1,t,e)},expandAll:function(){var t,e=this.view,i=this.groupCache,n=this.lockingPartner;for(t in i)i.hasOwnProperty(t)&&(i[t].isCollapsed=!1);Ext.suspendLayouts(),e.suspendEvent("beforerefresh","refresh"),this.dataSource.onRefresh(),e.resumeEvent("beforerefresh","refresh"),n&&n.expandAll(),Ext.resumeLayouts(!0);for(t in i)i.hasOwnProperty(t)&&e.fireEvent("groupexpand",e,Ext.get(this.getHeaderNode(t)),t)},collapse:function(t,e){this.doCollapseExpand(!0,t,e)},collapseAll:function(){var t,e=this.view,i=this.groupCache,n=this.lockingPartner;for(t in i)i.hasOwnProperty(t)&&(i[t].isCollapsed=!0);Ext.suspendLayouts(),e.suspendEvent("beforerefresh","refresh"),this.dataSource.onRefresh(),e.resumeEvent("beforerefresh","refresh"),n&&n.collapseAll(),Ext.resumeLayouts(!0);for(t in i)i.hasOwnProperty(t)&&e.fireEvent("groupcollapse",e,Ext.get(this.getHeaderNode(t)),t)},doCollapseExpand:function(t,e,i){var n,s=this.view,r=this.lockingPartner;this.groupCache[e].isCollapsed!=t&&(this.groupCache[e].isCollapsed=t,Ext.suspendLayouts(),this.dataSource.onRefresh(),n=Ext.get(this.getHeaderNode(e)),s.fireEvent(t?"groupcollapse":"groupexpand",s,n,e),r&&r.doCollapseExpand(t,e,i),Ext.resumeLayouts(!0),i&&n.up(s.getItemSelector()).scrollIntoView(s.el,null,!0))},onGroupChange:function(){var t,e,i,n=this.getGroupField();this.hideGroupedHeader&&(this.lastGroupField&&(t=this.getMenuItem(this.lastGroupField))&&t.setChecked(!0),n&&(i=1===(e=this.view.headerCt.getVisibleGridColumns()).length&&e[0].dataIndex==n,(t=this.getMenuItem(n))&&!i&&t.setChecked(!1))),this.refreshIf(),this.lastGroupField=n},getMenuItem:function(t){var e=this.view,i=e.headerCt.down("gridcolumn[dataIndex="+t+"]"),n=e.headerCt.getMenu();return i?n.down("menuitem[headerId="+i.id+"]"):null},onGroupKey:function(t,e){var i=this.getGroupName(e.target);i&&this.onGroupClick(this.view,e.target,i,e)},onGroupClick:function(t,e,i,n){var s,r=this.groupCache,o=!this.isExpanded(i);if(this.collapsible){if(n.ctrlKey){Ext.suspendLayouts();for(s in r)s===i?o&&this.expand(i):this.doCollapseExpand(!0,s,!1);return void Ext.resumeLayouts(!0)}o?this.expand(i):this.collapse(i)}},setupRowData:function(t,e,i){var n,s,r,o,a=this.refreshData,l=this.groupInfo,h=a.header,d=a.groupField,c=this.view.dataSource;i.isCollapsedGroup=!1,i.summaryRecord=null,a.doGrouping&&(s=(n=this.view.store.groupers.first()).getGroupString(t),i.isFirstRow=0===e,i.isFirstRow||(r=c.getAt(e-1))&&(i.isFirstRow=!r.isEqual(n.getGroupString(r),s)),i.isLastRow=e==c.getTotalCount()-1,i.isLastRow||(o=c.getAt(e+1))&&(i.isLastRow=!o.isEqual(n.getGroupString(o),s)),i.isFirstRow&&(l.groupField=d,l.name=s,l.groupValue=t.get(d),l.columnName=h?h.text:d,i.collapsibleCls=this.collapsible?this.collapsibleCls:this.hdNotCollapsibleCls,i.groupId=this.createGroupId(s),this.isExpanded(s)||(i.itemClasses.push(this.hdCollapsedCls),i.isCollapsedGroup=!0),c.buffered?l.rows=l.children=[]:l.rows=l.children=this.getRecordGroup(t).children,i.groupInfo=l),i.isLastRow&&this.showSummaryRow&&(i.summaryRecord=a.summaryData[s]))},setup:function(t,e){var i=this.refreshData;this.skippedRows=0,e.view.bufferedRenderer&&(e.view.bufferedRenderer.variableRowHeight=!0),i.groupField=this.getGroupField(),i.header=this.getGroupedHeader(i.groupField),i.doGrouping=!this.disabled&&this.view.store.isGrouped(),e.groupHeaderTpl=Ext.XTemplate.getTpl(this,"groupHeaderTpl"),this.showSummaryRow&&(i.summaryData=this.generateSummaryData())},cleanup:function(t,e){var i=this.refreshData;e.groupInfo=e.groupHeaderTpl=e.isFirstRow=null,i.groupField=i.header=null},getGroupName:function(t){var e,i,n,s=this.view,r=this.eventSelector;if((i=Ext.fly(t).findParent(r))||(n=Ext.fly(t).findParent(s.itemSelector))&&(i=n.down(r,!0)),i&&2===(e=i.id.split(s.id+"-hd-")).length)return Ext.htmlDecode(e[1])},getRecordGroup:function(t){var e=this.view.store.groupers.first();if(e)return this.groupCache[e.getGroupString(t)]},createGroupId:function(t){return this.view.id+"-hd-"+Ext.htmlEncode(t)},createGroupCls:function(t){return this.view.id+"-"+Ext.htmlEncode(t)+"-item"},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(t){var e,i,n=this.view.headerCt,s=this.lockingPartner;return(t=t||this.getGroupField())&&(e="[dataIndex="+t+"]",!(i=n.down(e))&&s&&(i=s.view.headerCt.down(e))),i||null},getFireEventArgs:function(t,e,i,n){return[t,e,i,this.getGroupName(i),n]},destroy:function(){var t=this.dataSource;delete this.view,delete this.prunedHeader,delete this.grid,this.callParent(),this.groupCache=null,t&&t.bindStore(null)},onReconfigure:function(t,e,i,n,s){var r=t;e!==n&&(e.buffered!==n.buffered&&Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),e.buffered&&(r.bindStore(e),r.dataSource.processStore(e)))}}),Ext.define("Ext.grid.feature.GroupingSummary",{extend:Ext.grid.feature.Grouping,alias:"feature.groupingsummary",showSummaryRow:!0,vetoEvent:function(t,e,i,n){var s=this.callParent(arguments);return!1!==s&&n.getTarget(this.summaryRowSelector)&&(s=!1),s}}),Ext.define("Ext.grid.feature.RowBody",{extend:Ext.grid.feature.Feature,alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",tableTpl:{before:function(t,e){var i=t.view,n=i.rowValues;n.visibleColumns||(n.visibleColumns=i.headerCt.getVisibleGridColumns()),this.rowBody.setup(t.rows,n)},after:function(t,e){var i=t.view.rowValues;this.rowBody.cleanup(t.rows,i)},priority:100},extraRowTpl:["{%","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","this.nextTpl.applyOut(values, out, parent);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls}">','<td class="'+Ext.baseCSSPrefix+'grid-cell-rowbody" colspan="{rowBodyColspan}">','<div class="'+Ext.baseCSSPrefix+'grid-rowbody {rowBodyDivCls}">{rowBody}</div>',"</td>","</tr>",{priority:100,syncRowHeights:function(t,e){var i,n,s,r=this.owner,o=Ext.fly(t).down(r.eventSelector,!0);o&&(i=Ext.fly(e).down(r.eventSelector,!0))&&((n=o.offsetHeight)>(s=i.offsetHeight)?Ext.fly(i).setHeight(n):s>n&&Ext.fly(o).setHeight(s))},syncContent:function(t,e){var i,n=this.owner,s=Ext.fly(t).down(n.eventSelector,!0);s&&(i=Ext.fly(e).down(n.eventSelector,!0))&&Ext.fly(s).syncContent(i)}}],init:function(t){var e=this.view;e.rowBodyFeature=this,e.findFeature("rowwrap")||(t.mon(e,{element:"el",mousedown:this.onMouseDown,scope:this}),this.mon(t.getStore(),"remove",this.onStoreRemove,this)),e.headerCt.on({columnschanged:this.onColumnsChanged,scope:this}),e.addTableTpl(this.tableTpl).rowBody=this,e.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")),this.callParent(arguments)},onStoreRemove:function(t,e,i){var n,s=this.view;s.rendered&&(n=s.getNode(i))&&(n=Ext.fly(n).next(this.eventSelector))&&n.remove()},onMouseDown:function(t){var e=t.getTarget(this.eventSelector);e&&Ext.fly(e=e.previousSibling).is(this.view.getItemSelector())&&(t.target=e,this.view.handleEvent(t))},getSelectedRow:function(t,e){var i=t.getNode(e,!1);return i?Ext.fly(i).down(this.eventSelector):null},onColumnsChanged:function(t){var e,i=this.view.el.query(this.rowBodyTdSelector),n=t.getGridColumns().length,s=i.length;for(e=0;e<s;++e)i[e].colSpan=n},setupRowData:function(t,e,i){this.getAdditionalData&&Ext.apply(i,this.getAdditionalData(t.data,e,t,i))},setup:function(t,e){e.rowBodyCls=this.rowBodyCls,e.rowBodyColspan=e.view.getGridColumns().length},cleanup:function(t,e){e.rowBodyCls=e.rowBodyColspan=e.rowBody=null}}),Ext.define("Ext.grid.feature.RowWrap",{extend:Ext.grid.feature.Feature,alias:"feature.rowwrap",rowWrapTd:"td."+Ext.baseCSSPrefix+"grid-rowwrap",hasFeatureEvent:!1,tableTpl:{before:function(t,e){t.view.bufferedRenderer&&(t.view.bufferedRenderer.variableRowHeight=!0)},priority:200},wrapTpl:['<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{recordIndex}" class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row">','<td class="'+Ext.baseCSSPrefix+"grid-rowwrap "+Ext.baseCSSPrefix+'grid-td" colSpan="{columns.length}">','<table class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" border="0" cellspacing="0" cellpadding="0">',"{[values.view.renderColumnSizer(out)]}","{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent)","%}","</table>","</td>","</tr>",{priority:200}],init:function(t){this.view.addTableTpl(this.tableTpl),this.view.addRowTpl(Ext.XTemplate.getTpl(this,"wrapTpl")),this.view.headerCt.on({columnhide:this.onColumnHideShow,columnshow:this.onColumnHideShow,scope:this})},onColumnHideShow:function(){var t,e=this.view,i=e.el.query(this.rowWrapTd),n=e.headerCt.getGridColumns().length,s=i.length;for(t=0;t<s;++t)i[t].colSpan=n}}),Ext.define("Ext.grid.feature.Summary",{extend:Ext.grid.feature.AbstractSummary,alias:"feature.summary",dock:void 0,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",init:function(t){var e=this,i=e.view;e.callParent(arguments),e.dock?(t.headerCt.on({afterlayout:e.onStoreUpdate,scope:e}),t.on({beforerender:function(){e.summaryBar=t.addDocked({childEls:["innerCt"],renderTpl:['<div id="{id}-innerCt">','<table cellpadding="0" class="'+e.summaryTableCls+'">','<tr class="'+e.summaryRowCls+'"></tr>',"</table>","</div>"],style:"overflow:hidden",itemId:"summaryBar",cls:[e.dockedSummaryCls,e.dockedSummaryCls+"-"+e.dock],xtype:"component",dock:e.dock,weight:1e7})[0]},afterrender:function(){t.body.addCls(e.panelBodyCls+e.dock),i.mon(i.el,{scroll:e.onViewScroll,scope:e}),e.onStoreUpdate()},single:!0}),t.headerCt.afterComponentLayout=Ext.Function.createSequence(t.headerCt.afterComponentLayout,function(){e.summaryBar.innerCt.setWidth(this.getFullWidth()+Ext.getScrollbarSize().width)})):e.view.addFooterFn(e.renderTFoot),t.on({columnmove:e.onStoreUpdate,scope:e}),i.mon(i.store,{update:e.onStoreUpdate,datachanged:e.onStoreUpdate,scope:e})},renderTFoot:function(t,e){var i=t.view,n=i.findFeature("summary");n.showSummaryRow&&(e.push("<tfoot>"),n.outputSummaryRecord(n.createSummaryRecord(i),t,e),e.push("</tfoot>"))},vetoEvent:function(t,e,i,n){return!n.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.el.dom.scrollLeft=this.view.el.dom.scrollLeft},createSummaryRecord:function(t){var e,i,n=t.headerCt.getVisibleGridColumns(),s={records:t.store.getRange()},r=n.length,o=this.summaryRecord||(this.summaryRecord=new t.store.model(null,t.id+"-summary-record"));for(o.beginEdit(),e=0;e<r;e++)(i=n[e]).dataIndex||(i.dataIndex=i.id),o.set(i.dataIndex,this.getSummary(t.store,i.summaryType,i.dataIndex,s));return o.endEdit(!0),o.commit(!0),o.isSummary=!0,o},onStoreUpdate:function(){var t,e,i,n=this.view,s=this.createSummaryRecord(n),r=n.createRowElement(s,-1);n.rendered&&((t=this.dock?this.summaryBar.el.down("."+this.summaryRowCls,!0):this.view.getNode(s))&&((i=t.parentNode).insertBefore(r,t),i.removeChild(t),(e=this.lockingPartner)&&e.grid.rendered&&!this.calledFromLockingPartner&&(e.calledFromLockingPartner=!0,e.onStoreUpdate(),e.calledFromLockingPartner=!1)),this.dock&&this.onColumnHeaderLayout())},onColumnHeaderLayout:function(){var t,e,i,n=this.view,s=n.headerCt.getGridColumns(),r=s.length,o=this.summaryBar.el;for(e=0;e<r;e++)t=s[e],(i=o.down(n.getCellSelector(t)))&&(t.hidden?i.setDisplayed(!1):(i.setDisplayed(!0),i.setWidth(t.width||(t.lastBox?t.lastBox.width:100))))}}),Ext.define("Ext.grid.locking.HeaderContainer",{extend:Ext.grid.header.Container,constructor:function(t){var e,i,n=[];this.lockable=t,this.callParent(),e=this.lockable.lockedGrid.headerCt.events;for(i in e)e.hasOwnProperty(i)&&n.push(i);this.relayEvents(this.lockable.lockedGrid.headerCt,n),this.relayEvents(this.lockable.normalGrid.headerCt,n)},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var t=this.lockable.lockedGrid.headerCt.getColumnsState(),e=this.lockable.normalGrid.headerCt.getColumnsState();return t.concat(e)},applyColumnsState:function(t){var e,i,n,s,r=this.lockable.lockedGrid,o=r.headerCt,a=this.lockable.normalGrid.headerCt,l=Ext.Array.toValueMap(o.items.items,"headerId"),h=Ext.Array.toValueMap(a.items.items,"headerId"),d=[],c=[],u=1,f=t.length;for(e=0;e<f;e++)(i=(n=l[(s=t[e]).id])||h[s.id])&&(i.applyColumnState&&i.applyColumnState(s),void 0===i.locked&&(i.locked=!!n),i.locked?(d.push(i),i.hidden||"number"!=typeof i.width||(u+=i.width)):c.push(i));d.length+c.length==o.items.getCount()+a.items.getCount()&&(o.removeAll(!1),a.removeAll(!1),o.add(d),a.add(c),r.setWidth(u))}}),Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",mixins:{observable:Ext.util.Observable},isLockingView:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(t){var e,i,n=[],s=this.eventRelayRe,r=t.locked.getView(),o=t.normal.getView();Ext.apply(this,{lockedView:r,normalView:o,lockedGrid:t.locked,normalGrid:t.normal,panel:t.panel}),this.mixins.observable.constructor.call(this,t),e=r.events;for(i in e)e.hasOwnProperty(i)&&s.test(i)&&n.push(i);this.relayEvents(r,n),this.relayEvents(o,n),o.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter}),r.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter}),this.panel.on({render:this.onPanelRender,scope:this})},onPanelRender:function(){var t=this.loadMask,e={target:this.panel,msg:this.loadingText,msgCls:this.loadingCls,useMsg:this.loadingUseMsg,store:this.panel.store};this.el=this.panel.body,this.fireEvent("render",this),t&&(Ext.isObject(t)&&(e=Ext.apply(e,t)),this.loadMask=new Ext.LoadMask(e))},getGridColumns:function(){return this.lockedGrid.headerCt.getGridColumns().concat(this.normalGrid.headerCt.getGridColumns())},getEl:function(t){return this.getViewForColumn(t).getEl()},getViewForColumn:function(t){var e,i=this.lockedView;return i.headerCt.cascade(function(i){if(i===t)return e=!0,!1}),e?i:this.normalView},onItemMouseEnter:function(t,e){var i,n=this.lockedView,s=this.normalView;t.trackOver&&(t!==n&&(s=n),i=s.getNode(e,!1),s.highlightItem(i))},onItemMouseLeave:function(t,e){var i=this.lockedView,n=this.normalView;t.trackOver&&(t!==i&&(n=i),n.clearHighlight())},relayFn:function(t,e){e=e||[];var i=this.lockedView;i[t].apply(i,e),(i=this.normalView)[t].apply(i,e)},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(t,e){return this.normalView.getNode(t,e)},getCell:function(t,e){var i=this.getViewForColumn(e).getNode(t,!0);return Ext.fly(i).down(e.getCellSelector())},indexOf:function(t){var e=this.lockedView.indexOf(t);return e||(e=this.normalView.indexOf(t)),e},focus:function(){var t=this.getSelectionModel().getCurrentPosition();(t?t.view:this.normalView).focus()},focusCell:function(t){t.view.focusCell(t)},isVisible:function(t){return this.panel.isVisible(t)},getRecord:function(t){var e=this.lockedView.getRecord(t);return e||(e=this.normalView.getRecord(t)),e},scrollBy:function(){var t=this.normalView;t.scrollBy.apply(t,arguments)},addElListener:function(t,e,i){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var t=this.loadMask;this.clearListeners(),t&&t.bindStore&&t.bindStore(null)}}),Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","columnLines","rowLines"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(t){var e,i,n,s,r;if(this.subGridXType)e=this.subGridXType;else{if(!t)return"gridpanel";s=(i=this.getXTypes().split("/"))[(n=i.length)-1],e="tablepanel"!==(r=i[n-2])?r:s}return e},injectLockable:function(){this.lockable=!0,this.hasView=!0;var t,e,i,n,s,r,o,a,l,h,d,c=Ext.getScrollbarSize().width,u=this.store=Ext.StoreManager.lookup(this.store),f=this.getSelectionModel();for(t=this.constructLockableFeatures(),this.features&&(this.features=null),e=this.constructLockablePlugins(),this.plugins=e.topPlugins,i=Ext.apply({id:this.id+"-locked",ownerLockable:this,xtype:this.determineXTypeToCreate(!0),store:u,scrollerOwner:!1,animate:!1,scroll:!c&&"vertical",selModel:f,border:!1,cls:this.lockedGridCls,isLayoutRoot:function(){return!1},features:t.lockedFeatures,plugins:e.lockedPlugins},this.lockedGridConfig),n=Ext.apply({id:this.id+"-normal",ownerLockable:this,xtype:this.determineXTypeToCreate(),store:u,scrollerOwner:!1,selModel:f,border:!1,isLayoutRoot:function(){return!1},features:t.normalFeatures,plugins:e.normalPlugins},this.normalGridConfig),this.addCls(Ext.baseCSSPrefix+"grid-locked"),Ext.copyTo(n,this,this.bothCfgCopy,!0),Ext.copyTo(i,this,this.bothCfgCopy,!0),Ext.copyTo(n,this,this.normalCfgCopy,!0),Ext.copyTo(i,this,this.lockedCfgCopy,!0),s=0;s<this.normalCfgCopy.length;s++)delete this[this.normalCfgCopy[s]];for(s=0;s<this.lockedCfgCopy.length;s++)delete this[this.lockedCfgCopy[s]];this.addEvents("processcolumns","lockcolumn","unlockcolumn"),this.addStateEvents(["lockcolumn","unlockcolumn"]),r=this.processColumns(this.columns),i.width=r.lockedWidth+Ext.num(f.headerWidth,0)+(r.locked.items.length?1:0),i.columns=r.locked,n.columns=r.normal,n.flex=1,i.viewConfig=this.lockedViewConfig||{},i.viewConfig.loadingUseMsg=!1,i.viewConfig.loadMask=!1,c&&(i.viewConfig.style="border-bottom:"+c+"px solid #f6f6f6;"+(i.viewConfig.style||"")),n.viewConfig=this.normalViewConfig||{},n.viewConfig.loadMask=!1,Ext.applyIf(i.viewConfig,this.viewConfig),Ext.applyIf(n.viewConfig,this.viewConfig),this.lockedGrid=Ext.ComponentManager.create(i),this.isTree&&(this.lockedGrid.getView().animate=!1,n.store=this.lockedGrid.view.store,n.deferRowRender=!1,n.viewConfig.stripeRows=this.lockedGrid.view.stripeRows,n.rowLines=this.lockedGrid.rowLines),l=this.lockedGrid.getView(),n.viewConfig.lockingPartner=l,this.normalGrid=Ext.ComponentManager.create(n),l.lockingPartner=h=this.normalGrid.getView(),this.view=new Ext.grid.locking.View({loadingText:h.loadingText,loadingCls:h.loadingCls,loadingUseMsg:h.loadingUseMsg,loadMask:!1!==this.loadMask,locked:this.lockedGrid,normal:this.normalGrid,panel:this}),d={scroll:{fn:this.onLockedViewScroll,element:"el",scope:this}},c&&(this.lockedGrid.on({afterlayout:this.afterLockedViewLayout,scope:this}),l.getOverflowStyle(),l.scrollFlags.y?this.lockedGrid.headerCt.forceFit=!0:d.mousewheel={fn:this.onLockedViewMouseWheel,element:"el",scope:this}),l.on(d),d={scroll:{fn:this.onNormalViewScroll,element:"el",scope:this},scope:this},h.on(d),o=this.lockedGrid.headerCt,a=this.normalGrid.headerCt,this.headerCt=this.view.headerCt=new Ext.grid.locking.HeaderContainer(this),o.lockedCt=!0,o.lockableInjected=!0,a.lockableInjected=!0,o.on({add:{buffer:1,scope:this,fn:this.onLockedHeaderAdd},columnshow:this.onLockedHeaderShow,columnhide:this.onLockedHeaderHide,sortchange:this.onLockedHeaderSortChange,columnresize:this.onLockedHeaderResize,scope:this}),a.on({sortchange:this.onNormalHeaderSortChange,scope:this}),this.modifyHeaderCt(),this.items=[this.lockedGrid,this.normalGrid],this.relayHeaderCtEvents(o),this.relayHeaderCtEvents(a),this.storeRelayers=this.relayEvents(u,["filterchange"]),this.layout={type:"hbox",align:"stretch"}},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(t){for(var e,i,n=0,s=t.length,r=0,o=[],a=[];n<s;++n)(e=t[n]).isComponent||(e=Ext.ComponentManager.create(t[n],"gridcolumn")),e.processed=!0,e.locked||e.autoLock?(e.hidden||(r+=this.getColumnWidth(e)||Ext.grid.header.Container.prototype.defaultWidth),o.push(e)):a.push(e),e.headerId||(e.headerId=(e.initialConfig||e).id||"h"+ ++this.headerCounter);return i={lockedWidth:r,locked:{items:o,itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt"},normal:{items:a,itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt"}},this.fireEvent("processcolumns",this,i.lockedHeaders,i.normalHeaders),i},getColumnWidth:function(t){var e,i,n,s=t.width||0;if(!s&&t.isGroupHeader)for(i=(e=t.items.items).length,n=0;n<i;n++)s+=this.getColumnWidth(e[n]);return s},afterLockedViewLayout:function(){var t=this.lockedGrid.getView(),e=t.el.dom,i=this.normalGrid.headerCt.tooNarrow?Ext.getScrollbarSize().height:0;t.scrollFlags.x&&e.scrollWidth>e.clientWidth&&(i=0),t.el.dom.style.borderBottomWidth=i+"px",Ext.isBorderBox||t.el.setHeight(t.lastBox.height)},onLockedViewMouseWheel:function(t){var e,i,n=-this.scrollDelta*t.getWheelDeltas().y,s=this.lockedGrid.getView().el.dom;this.ignoreMousewheel||(s&&(e=s.scrollTop!==s.scrollHeight-s.clientHeight,i=0!==s.scrollTop),(n<0&&i||n>0&&e)&&(t.stopEvent(),s.scrollTop+=n,this.normalGrid.getView().el.dom.scrollTop=s.scrollTop,this.onNormalViewScroll()))},onLockedViewScroll:function(){var t,e,i=this.lockedGrid.getView(),n=this.normalGrid.getView(),s=n.el.dom,r=i.el.dom;s.scrollTop!==r.scrollTop&&(s.scrollTop=r.scrollTop,this.store.buffered&&(e=i.el.child("table",!0),(t=n.el.child("table",!0)).style.position="absolute",t.style.top=e.style.top))},onNormalViewScroll:function(){var t,e,i=this.lockedGrid.getView(),n=this.normalGrid.getView(),s=n.el.dom,r=i.el.dom;s.scrollTop!==r.scrollTop&&(r.scrollTop=s.scrollTop,this.store.buffered&&(e=i.el.child("table",!0),t=n.el.child("table",!0),e.style.position="absolute",e.style.top=t.style.top))},syncRowHeights:function(){var t,e,i=this.lockedGrid.getView(),n=this.normalGrid.getView(),s=i.all.slice(),r=n.all.slice(),o=s.length;if(r.length===o){for(t=0;t<o;t++)n.syncRowHeights(s[t],r[t]);e=n.el.dom.scrollTop,n.el.dom.scrollTop=e,i.el.dom.scrollTop=e}},modifyHeaderCt:function(){this.lockedGrid.headerCt.getMenuItems=this.getMenuItems(this.lockedGrid.headerCt.getMenuItems,!0),this.normalGrid.headerCt.getMenuItems=this.getMenuItems(this.normalGrid.headerCt.getMenuItems,!1),this.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(this.lockedGrid.headerCt.showMenuBy,this.showMenuBy),this.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(this.normalGrid.headerCt.showMenuBy,this.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(t,e){var i=this.getMenu(),n=i.down("#unlockItem"),s=i.down("#lockItem"),r=n.prev();!1===e.lockable?(r.hide(),n.hide(),s.hide()):(r.show(),n.show(),s.show(),n.initialConfig.disabled||n.setDisabled(!1===e.lockable),s.initialConfig.disabled||s.setDisabled(!e.isLockable()))},getMenuItems:function(t,e){var i=this.unlockText,n=this.lockText,s=Ext.baseCSSPrefix+"hmenu-unlock",r=Ext.baseCSSPrefix+"hmenu-lock",o=Ext.Function.bind(this.onUnlockMenuClick,this),a=Ext.Function.bind(this.onLockMenuClick,this);return function(){var l=t.call(this);return l.push("-",{itemId:"unlockItem",cls:s,text:i,handler:o,disabled:!e}),l.push({itemId:"lockItem",cls:r,text:n,handler:a,disabled:e}),l}},syncLockedWidth:function(){var t=this.lockedGrid,e=t.view,i=e.el.dom,n=this.normalGrid,s=t.headerCt.getVisibleGridColumns().length,r=n.headerCt.getVisibleGridColumns().length;return Ext.suspendLayouts(),r?(n.show(),s?(t.headerCt.forceFit||(delete t.flex,t.setWidth(t.headerCt.getFullWidth())),t.addCls(this.lockedGridCls),t.show()):(t.getView().refresh(),t.hide()),e.el.setStyle(e.getOverflowStyle()),this.ignoreMousewheel=e.scrollFlags.y):(n.hide(),i.style.borderBottomWidth="0",t.flex=1,delete t.width,t.removeCls(this.lockedGridCls),t.show(),e.el.setStyle(n.view.getOverflowStyle()),this.ignoreMousewheel=!0),Ext.resumeLayouts(!0),[s,r]},onLockedHeaderAdd:function(){this.ignoreAddLockedColumn||this.syncLockedWidth()},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(t,e,i){i&&this.normalGrid.headerCt.clearOtherSortStates(null,!0)},onNormalHeaderSortChange:function(t,e,i){i&&this.lockedGrid.headerCt.clearOtherSortStates(null,!0)},lock:function(t,e){var i,n,s=this.normalGrid,r=this.lockedGrid,o=s.headerCt,a=r.headerCt;n=(t=t||o.getMenu().activeHeader).ownerCt,t.flex&&(t.width=t.getWidth(),delete t.flex),Ext.suspendLayouts(),n.remove(t,!1),t.locked=!0,this.ignoreAddLockedColumn=!0,Ext.isDefined(e)?a.insert(e,t):a.add(t),this.ignoreAddLockedColumn=!1,(i=this.syncLockedWidth())[0]&&r.getView().refresh(),i[1]&&s.getView().refresh(),Ext.resumeLayouts(!0),this.fireEvent("lockcolumn",this,t)},unlock:function(t,e){var i,n=this.normalGrid,s=this.lockedGrid,r=n.headerCt,o=s.headerCt;Ext.isDefined(e)||(e=0),t=t||o.getMenu().activeHeader,Ext.suspendLayouts(),t.ownerCt.remove(t,!1),t.locked=!1,r.insert(e,t),(i=this.syncLockedWidth())[0]&&s.getView().refresh(),i[1]&&n.getView().refresh(),Ext.resumeLayouts(!0),this.fireEvent("unlockcolumn",this,t)},reconfigureLockable:function(t,e){var i=this.store,n=this.lockedGrid,s=this.normalGrid;Ext.suspendLayouts(),e&&(n.headerCt.removeAll(),s.headerCt.removeAll(),e=this.processColumns(e),this.ignoreAddLockedColumn=!0,n.headerCt.add(e.locked.items),this.ignoreAddLockedColumn=!1,s.headerCt.add(e.normal.items),this.syncLockedWidth()),t&&t!==i?(t=Ext.data.StoreManager.lookup(t),this.store=t,n.bindStore(t),s.bindStore(t)):(n.getView().refresh(),s.getView().refresh()),Ext.resumeLayouts(!0)},constructLockableFeatures:function(){var t,e,i,n,s,r=this.features,o=0;if(r)for(i=[],n=[],s=r.length;o<s;o++)switch((t=r[o]).isFeature||(t=Ext.create("feature."+t.ftype,t)),t.lockableScope){case"locked":i.push(t);break;case"normal":n.push(t);break;default:t.lockableScope="both",i.push(t),n.push(e=t.clone()),e.lockingPartner=t,t.lockingPartner=e}return{normalFeatures:n,lockedFeatures:i}},constructLockablePlugins:function(){var t,e,i,n,s,r,o,a=this.plugins,l=0;if(a)for(n=[],s=[],r=[],o=a.length;l<o;l++)switch((t=a[l]).lockableScope){case"both":s.push(i=t.clonePlugin()),r.push(e=t.clonePlugin()),i.lockingPartner=e,e.lockingPartner=i,Ext.destroy(t);break;case"locked":s.push(t);break;case"normal":r.push(t);break;default:n.push(t)}return{topPlugins:n,normalPlugins:r,lockedPlugins:s}},destroyLockable:function(){Ext.destroy(this.view)}},function(){this.borrow(Ext.AbstractComponent,["constructPlugin"])}),Ext.define("Ext.tree.View",{extend:Ext.view.Table,alias:"widget.treeview",isTreeView:!0,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:!0,loadMask:!1,rootVisible:!0,deferInitialRefresh:!1,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(t){var e=t.record,i=t.view,n=e.get("qtip"),s=e.get("qttle");t.rowAttr={},n&&(t.rowAttr["data-qtip"]=n),s&&(t.rowAttr["data-qtitle"]=s),e.isExpanded()&&t.rowClasses.push(i.expandedCls),e.isLeaf()&&t.rowClasses.push(i.leafCls),e.isLoading()&&t.rowClasses.push(i.loadingCls)}}],initComponent:function(){var t=this.panel.getStore(),e=this.store;void 0===this.initialConfig.animate&&(this.animate=Ext.enableFx),e&&e!==t||(this.store=e=new Ext.data.NodeStore({treeStore:t,recursive:!0,rootVisible:this.rootVisible})),this.node&&this.setRootNode(this.node),this.animQueue={},this.animWraps={},this.addEvents("afteritemexpand","afteritemcollapse","nodedragover"),this.callParent(arguments),this.addRowTpl(Ext.XTemplate.getTpl(this,"treeRowTpl"))},onBeforeFill:function(t,e){this.store.suspendEvents()},onFillComplete:function(t,e,i){var n=this.store,s=n.indexOf(i[0]);n.resumeEvents(),e.triggerUIUpdate(),i.length&&-1!==s&&(this.onAdd(this.store,i,s),this.refreshPartner())},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(t){t.isStore&&(this.store.resumeEvents(),this.refresh(),this.refreshPartner())},refreshPartner:function(){var t=this.lockingPartner;t&&t.refresh()},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){this.callParent(arguments),this.el.on({scope:this,delegate:this.expanderSelector,mouseover:this.onExpanderMouseOver,mouseout:this.onExpanderMouseOut,click:{delegate:this.checkboxSelector,fn:this.onCheckboxChange,scope:this}})},afterComponentLayout:function(){this.callParent(arguments);var t=this.stretcher;t&&t.setWidth(this.getWidth()-Ext.getScrollbarSize().width)},processUIEvent:function(t){return!t.getTarget("."+this.nodeAnimWrapCls,this.el)&&this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(t){this.store.setNode(t),this.node=t},onCheckboxChange:function(t,e){var i=t.getTarget(this.getItemSelector(),this.getTargetEl());i&&this.onCheckChange(this.getRecord(i))},onCheckChange:function(t){var e=t.get("checked");Ext.isBoolean(e)&&(e=!e,t.set("checked",e),this.fireEvent("checkchange",t,e))},getChecked:function(){var t=[];return this.node.cascadeBy(function(e){e.get("checked")&&t.push(e)}),t},isItemChecked:function(t){return t.get("checked")},createAnimWrap:function(t,e){var i,n,s=this.getNode(t),r=[];return this.renderColumnSizer(r),n=Ext.get(s),i=n.insertSibling({tag:"tr",html:['<td colspan="'+this.panel.headerCt.getColumnCount()+'">','<div class="'+this.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+this.id+"-table "+Ext.baseCSSPrefix+'grid-table" border="0" cellspacing="0" cellpadding="0">',r.join(""),"<tbody></tbody></table>","</div>","</td>"].join("")},"after"),{record:t,node:s,el:i,expanding:!1,collapsing:!1,animating:!1,animateEl:i.down("div"),targetEl:i.down("tbody")}},getAnimWrap:function(t,e){if(!this.animate)return null;var i=this.animWraps,n=i[t.internalId];if(!1!==e)for(;!n&&t;)(t=t.parentNode)&&(n=i[t.internalId]);return n},doAdd:function(t,e){var i,n,s,r,o=this.bufferRender(t,e,!0),a=t[0].parentNode,l=this.all,h=this.getAnimWrap(a);if(!h||!h.expanding)return this.callParent(arguments);a=h.record,r=(s=(n=h.targetEl).dom.childNodes).length,i=e-this.indexInStore(a)-1,!r||i>=r?n.appendChild(o):Ext.fly(s[i]).insertSibling(o,"before",!0),l.insert(e,o),h.isAnimating&&this.onExpand(a)},beginBulkUpdate:function(){this.rendered&&Ext.suspendLayouts()},endBulkUpdate:function(){this.rendered&&(this.refreshSize(),Ext.resumeLayouts(!0))},onRemove:function(t,e,i){var n;if(this.viewReady){if(0===this.store.getCount())this.refresh();else for(n=i.length-1;n>=0;--n)this.doRemove(e[n],i[n]);if(this.hasListeners.itemremove)for(n=i.length-1;n>=0;--n)this.fireEvent("itemremove",e[n],i[n])}},doRemove:function(t,e){var i=this.all,n=this.getAnimWrap(t),s=i.item(e),r=s?s.dom:null;if(!r||!n||!n.collapsing)return this.callParent(arguments);n.targetEl.dom.insertBefore(r,n.targetEl.dom.firstChild),i.removeElement(e)},onBeforeExpand:function(t,e,i){var n;this.rendered&&this.all.getCount()&&this.animate&&this.getNode(t)&&((n=this.getAnimWrap(t,!1))?n.collapsing&&n.targetEl.select(this.itemSelector).remove():(n=this.animWraps[t.internalId]=this.createAnimWrap(t)).animateEl.setHeight(0),n.expanding=!0,n.collapsing=!1)},onExpand:function(t){var e,i,n,s=this,r=s.animQueue,o=t.getId(),a=s.getNode(t),l=a?s.indexOf(a):-1,h=Ext.isIEQuirks?1:0;if(s.singleExpand&&s.ensureSingleExpand(t),-1!==l){if(!(e=s.getAnimWrap(t,!1)))return t.isExpandingOrCollapsing=!1,s.fireEvent("afteritemexpand",t,l,a),void s.refreshSize();i=e.animateEl,n=e.targetEl,i.stopAnimation(),r[o]=!0,i.dom.style.height=h+"px",i.animate({from:{height:h},to:{height:n.getHeight()},duration:s.expandDuration,listeners:{afteranimate:function(){var t=n.query(s.itemSelector);t.length&&e.el.insertSibling(t,"before",!0),e.el.remove(),s.refreshSize(),delete s.animWraps[e.record.internalId],delete r[o]}},callback:function(){t.isExpandingOrCollapsing=!1,s.fireEvent("afteritemexpand",t,l,a)}}),e.isAnimating=!0}},onBeforeCollapse:function(t,e,i,n,s){var r;this.rendered&&this.all.getCount()&&(this.animate?Ext.Array.contains(t.stores,this.store)&&((r=this.getAnimWrap(t))?r.expanding&&r.targetEl.select(this.itemSelector).remove():r=this.animWraps[t.internalId]=this.createAnimWrap(t,i),r.expanding=!1,r.collapsing=!0,r.callback=n,r.scope=s):(this.onCollapseCallback=n,this.onCollapseScope=s))},onCollapse:function(t){var e,i=this,n=i.animQueue,s=t.getId(),r=i.getNode(t),o=r?i.indexOf(r):-1,a=i.getAnimWrap(t);if(i.all.getCount()&&Ext.Array.contains(t.stores,i.store)){if(!a)return t.isExpandingOrCollapsing=!1,i.fireEvent("afteritemcollapse",t,o,r),i.refreshSize(),Ext.callback(i.onCollapseCallback,i.onCollapseScope),void(i.onCollapseCallback=i.onCollapseScope=null);e=a.animateEl,n[s]=!0,e.stopAnimation(),e.animate({to:{height:Ext.isIEQuirks?1:0},duration:i.collapseDuration,listeners:{afteranimate:function(){a.el.remove(),i.refreshSize(),delete i.animWraps[a.record.internalId],delete n[s]}},callback:function(){t.isExpandingOrCollapsing=!1,i.fireEvent("afteritemcollapse",t,o,r),Ext.callback(a.callback,a.scope),a.callback=a.scope=null}}),a.isAnimating=!0}},isAnimating:function(t){return!!this.animQueue[t.getId()]},expand:function(t,e,i,n){var s,r=!!this.animate;if(!r||!t.isExpandingOrCollapsing)return t.isLeaf()||(t.isExpandingOrCollapsing=r),Ext.suspendLayouts(),s=t.expand(e,i,n),Ext.resumeLayouts(!0),s},collapse:function(t,e,i,n){var s=!!this.animate;if(!s||!t.isExpandingOrCollapsing)return t.isLeaf()||(t.isExpandingOrCollapsing=s),t.collapse(e,i,n)},toggle:function(t,e,i,n){t.isExpanded()?this.collapse(t,e,i,n):this.expand(t,e,i,n)},onItemDblClick:function(t,e,i){var n=this.editingPlugin;this.callParent(arguments),!this.toggleOnDblClick||!t.isExpandable()||n&&2===n.clicksToEdit||this.toggle(t)},onBeforeItemMouseDown:function(t,e,i,n){return!n.getTarget(this.expanderSelector,e)&&this.callParent(arguments)},onItemClick:function(t,e,i,n){return n.getTarget(this.expanderSelector,e)&&t.isExpandable()?(this.toggle(t,n.ctrlKey),!1):this.callParent(arguments)},onExpanderMouseOver:function(t,e){t.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(t,e){t.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var t=this.callParent(arguments);return Ext.apply(t,{beforeexpand:this.onBeforeExpand,expand:this.onExpand,beforecollapse:this.onBeforeCollapse,collapse:this.onCollapse,write:this.onStoreWrite,datachanged:this.onStoreDataChanged})},onBindStore:function(){var t=this.getTreeStore();this.callParent(arguments),this.mon(t,{scope:this,beforefill:this.onBeforeFill,fillcomplete:this.onFillComplete,beforebulkremove:this.beginBulkUpdate,bulkremovecomplete:this.endBulkUpdate}),t.remoteSort||this.mon(t,{scope:this,beforesort:this.onBeforeSort,sort:this.onSort})},onUnbindStore:function(){var t=this.getTreeStore();this.callParent(arguments),this.mun(t,{scope:this,beforefill:this.onBeforeFill,fillcomplete:this.onFillComplete,beforebulkremove:this.beginBulkUpdate,bulkremovecomplete:this.endBulkUpdate}),t.remoteSort||this.mun(t,{scope:this,beforesort:this.onBeforeSort,sort:this.onSort})},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(t){var e=t.parentNode;e&&e.eachChild(function(e){e!==t&&e.isExpanded()&&e.collapse()})},shouldUpdateCell:function(t,e,i){if(i)for(var n=0,s=i.length;n<s;++n)if(Ext.Array.contains(this.uiFields,i[n]))return!0;return this.callParent(arguments)},onStoreWrite:function(t,e){var i=this.panel.store;i.fireEvent("write",i,e)},onStoreDataChanged:function(t,e){var i=this.panel.store;i.fireEvent("datachanged",i)}}),Ext.define("Ext.grid.plugin.BufferedRendererTreeView",{override:"Ext.tree.View",onRemove:function(t,e,i){this.bufferedRenderer?this.onDataRefresh():this.callParent([t,e,i])}}),Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:Ext.AbstractPlugin,alias:"plugin.bufferedrenderer",lockableScope:"both",percentageFromEdge:.35,variableRowHeight:!1,numFromEdge:8,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,tableStart:0,tableEnd:0,position:0,lastScrollDirection:1,bodyTop:0,init:function(t){var e=this,i=t.view,n={scroll:{fn:e.onViewScroll,element:"el",scope:e},boxready:e.onViewResize,resize:e.onViewResize,refresh:e.onViewRefresh,scope:e,destroyable:!0};!e.variableRowHeight&&t.ownerLockable&&(t.ownerLockable.syncRowHeight=!1),(t.isTree||t.ownerLockable&&t.ownerLockable.isTree)&&(i.blockRefresh=!1,i.loadMask=!0),i.positionBody&&(n.refresh=e.onViewRefresh),e.grid=t,e.view=i,i.bufferedRenderer=e,i.preserveScrollOnRefresh=!0,e.bindStore(i.dataSource),i.getViewRange=function(){return e.getViewRange()},e.position=0,e.gridListeners=t.on("reconfigure",e.onReconfigure,e),e.viewListeners=i.on(n)},bindStore:function(t){this.store&&this.unbindStore(),this.storeListeners=t.on({scope:this,clear:this.onStoreClear,destroyable:!0}),this.store=t,this.view.componentLayout.layoutCount&&this.onViewResize(this.view,0,this.view.getHeight())},onReconfigure:function(t,e){e&&e!==this.store&&this.bindStore(e)},unbindStore:function(){this.storeListeners.destroy(),delete this.view.getStoreListeners,this.store=null},onStoreClear:function(){this.view.rendered&&!this.store.isDestroyed&&(0!==this.scrollTop&&(this.ignoreNextScrollEvent=!0,this.view.el.dom.scrollTop=this.bodyTop=this.scrollTop=0),this.position=0,delete this.lastScrollDirection,delete this.scrollOffset,delete this.rowHeight)},onViewRefresh:function(){var t=this.view;this.scrollTop!==t.el.dom.scrollTop?this.onViewScroll():(this.setBodyTop(this.bodyTop),t.all.getCount()&&(this.viewSize=0,this.onViewResize(t,null,t.getHeight())))},onViewResize:function(t,e,i,n,s){if(!s||i!==s){var r,o;t.all.getCount()&&delete this.rowHeight,o=this.getScrollHeight(),r=Math.ceil(i/this.rowHeight)+this.trailingBufferZone+this.leadingBufferZone,this.viewSize=this.setViewSize(r),this.stretchView(t,o)}},stretchView:function(t,e){var i=this.store.buffered?this.store.getTotalCount():this.store.getCount();if(this.stretcher)this.stretcher.dom.style.marginTop=e-1+"px";else{var n=t.el;t.refreshCounter&&t.fixedNodes++,i&&this.view.all.endIndex===i-1&&(e=this.bodyTop+t.body.dom.offsetHeight),this.stretcher=n.createChild({style:{width:"1px",height:"1px",marginTop:e-1+"px",left:0,position:"absolute"}},n.dom.firstChild)}},setViewSize:function(t){if(t!==this.viewSize){this.scrollTop=this.view.el.dom.scrollTop;var e,i,n=this.store,s=this.view.all.getCount();this.viewSize=n.viewSize=t,s&&(e=this.view.all.startIndex,i=Math.min(e+t-1,(n.buffered?n.getTotalCount():n.getCount())-1),this.renderRange(e,i))}return t},getViewRange:function(){var t=this.view.all,e=this.store;return e.data.getCount()?e.getRange(t.startIndex,t.startIndex+(this.viewSize||this.store.defaultViewSize)-1):[]},scrollTo:function(t,e,i,n){var s,r,o,a,l,h=this,d=h.view,c=d.el.dom,u=h.store,f=u.buffered?u.getTotalCount():u.getCount();t=Math.min(Math.max(t,0),f-1),s=Math.max(Math.min(t-(h.leadingBufferZone+h.trailingBufferZone)/2,f-h.viewSize+1),0),l=s*h.rowHeight,r=Math.min(s+h.viewSize-1,f-1),u.getRange(s,r,{callback:function(s,r,f){h.renderRange(r,f,!0),o=u.data.getRange(t,t)[0],a=d.getNode(o,!1),d.body.dom.style.top=l+"px",h.position=h.scrollTop=c.scrollTop=l=Math.min(Math.max(0,l-d.body.getOffsetsTo(a)[1]),c.scrollHeight-c.clientHeight),Ext.isIE&&(c.scrollTop=l),e&&d.selModel.select(o),i&&i.call(n||h,t,o)}})},onViewScroll:function(t,e){var i,n,s=this.view.el.dom.scrollTop;this.ignoreNextScrollEvent?this.ignoreNextScrollEvent=!1:this.disabled||(n=(i=s-this.position)>0?1:-1,this.scrollTop=s,(Math.abs(i)>=20||n!==this.lastScrollDirection)&&(this.position=s,this.lastScrollDirection=n,this.handleViewScroll(this.lastScrollDirection)))},handleViewScroll:function(t){var e,i,n=this.view.all,s=this.store,r=this.viewSize,o=s.buffered?s.getTotalCount():s.getCount();o>=r&&(-1==t?n.startIndex&&this.getFirstVisibleRowIndex()-n.startIndex<this.numFromEdge&&(e=Math.max(0,this.getLastVisibleRowIndex()+this.trailingBufferZone-r)):n.endIndex<o-1&&n.endIndex-this.getLastVisibleRowIndex()<this.numFromEdge&&(e=Math.max(0,this.getFirstVisibleRowIndex()-this.trailingBufferZone)),void 0!==e&&(i=Math.min(e+r-1,o-1),e===n.startIndex&&i===n.endIndex||this.renderRange(e,i)))},renderRange:function(t,e,i){this.store.rangeCached(t,e)?(this.cancelLoad(),this.synchronousRender||i?this.onRangeFetched(null,t,e):(this.renderTask||(this.renderTask=new Ext.util.DelayedTask(this.onRangeFetched,this,null,!1)),this.renderTask.delay(1,null,null,[null,t,e]))):this.attemptLoad(t,e)},onRangeFetched:function(t,e,i){var n,s,r,o=this.view,a=o.all,l=0,h=e*this.rowHeight;o.isDestroyed||(t||(t=this.store.getRange(e,i)))&&((e>a.endIndex||i<a.startIndex)&&(a.clear(!0),r=h),a.getCount()?i>a.endIndex?(s=Math.max(e-a.startIndex,0),this.variableRowHeight&&(l=a.item(a.startIndex+s,!0).offsetTop),a.scroll(Ext.Array.slice(t,a.endIndex+1-e),1,s,e,i),r=this.variableRowHeight?this.bodyTop+l:h):(s=Math.max(a.endIndex-i,0),n=a.startIndex,a.scroll(Ext.Array.slice(t,0,a.startIndex-e),-1,s,e,i),r=this.variableRowHeight?this.bodyTop-a.item(n,!0).offsetTop:h):o.doAdd(t,e),o.positionBody&&this.setBodyTop(r,h))},setBodyTop:function(t,e){var i,n=this.view,s=this.store,r=n.body.dom;t=Math.floor(t),void 0!==e&&(i=t-e,t=e),r.style.position="absolute",r.style.top=(this.bodyTop=t)+"px",i&&(this.scrollTop=this.position=n.el.dom.scrollTop-=i),this.view.all.endIndex===(s.buffered?s.getTotalCount():s.getCount())-1&&this.stretchView(n,this.bodyTop+r.offsetHeight)},getFirstVisibleRowIndex:function(t,e,i,n){var s,r,o=this.view,a=o.all,l=a.elements,h=o.el.dom.clientHeight;if(a.getCount()&&this.variableRowHeight){if(arguments.length)s=t+Math.floor((e-t)/2);else{if(t=a.startIndex,e=a.endIndex,i=this.scrollTop,n=i+h,this.bodyTop>n||this.bodyTop+o.body.getHeight()<i)return Math.floor(this.scrollTop/this.rowHeight);s=t+Math.min(this.numFromEdge+(-1==this.lastScrollDirection?this.leadingBufferZone:this.trailingBufferZone),Math.floor((e-t)/2))}if((r=this.bodyTop+l[s].offsetTop)+l[s].offsetHeight<i)return this.getFirstVisibleRowIndex(s+1,e,i,n);if(r<=i)return s;if(s!==t)return this.getFirstVisibleRowIndex(t,s-1,i,n)}return Math.floor(this.scrollTop/this.rowHeight)},getLastVisibleRowIndex:function(t,e,i,n){var s,r,o=this.view,a=o.all,l=a.elements,h=o.el.dom.clientHeight;if(a.getCount()&&this.variableRowHeight){if(arguments.length)s=t+Math.floor((e-t)/2);else{if(t=a.startIndex,e=a.endIndex,i=this.scrollTop,n=i+h,this.bodyTop>n||this.bodyTop+o.body.getHeight()<i)return Math.floor(this.scrollTop/this.rowHeight)+Math.ceil(h/this.rowHeight);s=e-Math.min(this.numFromEdge+(1==this.lastScrollDirection?this.leadingBufferZone:this.trailingBufferZone),Math.floor((e-t)/2))}if((r=this.bodyTop+l[s].offsetTop)>n)return this.getLastVisibleRowIndex(t,s-1,i,n);if(r+l[s].offsetHeight>=n)return s;if(s!==e)return this.getLastVisibleRowIndex(s+1,e,i,n)}return this.getFirstVisibleRowIndex()+Math.ceil(h/this.rowHeight)},getScrollHeight:function(){var t=this.view,e=this.store,i=!this.hasOwnProperty("rowHeight");return this.store.getCount()?(i&&t.all.getCount()&&(this.rowHeight=Math.floor(t.body.getHeight()/t.all.getCount())),Math.floor((e.buffered?e.getTotalCount():e.getCount())*this.rowHeight)):0},attemptLoad:function(t,e){this.scrollToLoadBuffer?(this.loadTask||(this.loadTask=new Ext.util.DelayedTask(this.doAttemptLoad,this,[])),this.loadTask.delay(this.scrollToLoadBuffer,this.doAttemptLoad,this,[t,e])):this.store.getRange(t,e,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(t,e){this.store.getRange(t,e,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},destroy:function(){var t=this.view;t&&t.el&&t.el.un("scroll",this.onViewScroll,this),Ext.destroy(this.viewListeners,this.storeListeners,this.gridListeners)}}),Ext.define("Ext.grid.plugin.Editing",{alias:"editing.editing",extend:Ext.AbstractPlugin,mixins:{observable:Ext.util.Observable},clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldXType:"textfield",editStyle:"",constructor:function(t){var e=this;e.addEvents("beforeedit","edit","validateedit","canceledit"),e.callParent(arguments),e.mixins.observable.constructor.call(e),e.on("edit",function(t,i){e.fireEvent("afteredit",t,i)})},init:function(t){this.grid=t,this.view=t.view,this.initEvents(),this.mon(t,{reconfigure:this.onReconfigure,scope:this,beforerender:{fn:this.onReconfigure,single:!0,scope:this}}),t.relayEvents(this,this.relayedEvents),this.grid.ownerLockable&&this.grid.ownerLockable.relayEvents(this,this.relayedEvents),t.isEditable=!0,t.editingPlugin=t.view.editingPlugin=this},onReconfigure:function(){var t=this.grid;t=t.ownerLockable?t.ownerLockable:t,this.initFieldAccessors(t.getView().getGridColumns())},destroy:function(){var t=this.grid;Ext.destroy(this.keyNav),this.clearListeners(),t&&(this.removeFieldAccessors(t.getView().getGridColumns()),t.editingPlugin=t.view.editingPlugin=this.grid=this.view=this.editor=this.keyNav=null)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(t){var e,i,n=this,s=(t=[].concat(t)).length;for(e=0;e<s;e++)i=t[e],Ext.applyIf(i,{getEditor:function(t,e){return n.getColumnField(this,e)},setEditor:function(t){n.setColumnField(this,t)}})},removeFieldAccessors:function(t){var e,i,n=(t=[].concat(t)).length;for(e=0;e<n;e++)delete(i=t[e]).getEditor,delete i.setEditor},getColumnField:function(t,e){var i=t.field;if(!i&&t.editor&&(i=t.editor,delete t.editor),!i&&e&&(i=e),i)return Ext.isString(i)&&(i={xtype:i}),i.isFormField||(i=Ext.ComponentManager.create(i,this.defaultFieldXType)),t.field=i,Ext.apply(i,{name:t.dataIndex}),i},setColumnField:function(t,e){Ext.isObject(e)&&!e.isFormField&&(e=Ext.ComponentManager.create(e,this.defaultFieldXType)),t.field=e},initEvents:function(){this.initEditTriggers(),this.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var t=this.view;"cellfocus"==this.triggerEvent?this.mon(t,"cellfocus",this.onCellFocus,this):"rowfocus"==this.triggerEvent?this.mon(t,"rowfocus",this.onRowFocus,this):(t.getSelectionModel().isCellModel&&(t.onCellFocus=Ext.Function.bind(this.beforeViewCellFocus,this)),this.mon(t,this.triggerEvent||"cell"+(1===this.clicksToEdit?"click":"dblclick"),this.onCellClick,this)),this.initAddRemoveHeaderEvents(),t.on("render",this.initKeyNavHeaderEvents,this,{single:!0})},beforeViewCellFocus:function(t){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(t.row,t.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(t,e,i){this.startEdit(e,0)},onCellFocus:function(t,e,i){this.startEdit(i.row,i.column)},onCellClick:function(t,e,i,n,s,r,o){t.expanderSelector&&o.getTarget(t.expanderSelector)||this.startEdit(n,t.getHeaderAtIndex(i))},initAddRemoveHeaderEvents:function(){this.mon(this.grid.headerCt,{scope:this,add:this.onColumnAdd,remove:this.onColumnRemove})},initKeyNavHeaderEvents:function(){this.keyNav=Ext.create("Ext.util.KeyNav",this.view.el,{enter:this.onEnterKey,esc:this.onEscKey,scope:this})},onColumnAdd:function(t,e){e.isHeader&&this.initFieldAccessors(e)},onColumnRemove:function(t,e){e.isHeader&&this.removeFieldAccessors(e)},onEnterKey:function(t){var e,i,n=this.grid,s=n.getSelectionModel(),r=n.headerCt.getHeaderAtIndex(0);s.getCurrentPosition?(i=s.getCurrentPosition())&&(e=n.getView().getStore().getAt(i.row),r=n.headerCt.getHeaderAtIndex(i.column)):e=s.getLastSelected(),e&&r&&this.startEdit(e,r)},onEscKey:function(t){return this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(t,e){var i,n=this.grid.lockable?this.grid:this.view;return n.componentLayoutCounter?!(this.grid.collapsed||!this.grid.view.isVisible(!0))&&(null!=(i=this.getEditingContext(t,e))&&!1!==this.beforeEdit(i)&&!1!==this.fireEvent("beforeedit",this,i)&&!i.cancel&&(this.editing=!0,i)):(n.on({boxready:Ext.Function.bind(this.startEdit,this,[t,e]),single:!0}),!1)},getEditingContext:function(t,e){var i,n,s=this.grid,r=s.getView(),o=r.getNode(t,!0);if(o&&(e=s.headerCt.getVisibleHeaderClosestToIndex(Ext.isNumber(e)?e:e.getIndex()))&&(n=e.getIndex(),Ext.isNumber(t)?(i=t,t=r.getRecord(o)):i=r.indexOf(o),t))return{grid:s,record:t,field:e.dataIndex,value:t.get(e.dataIndex),row:o,column:e,rowIdx:i,colIdx:n}},cancelEdit:function(){this.editing=!1,this.fireEvent("canceledit",this,this.context)},completeEdit:function(){this.editing&&this.validateEdit()&&this.fireEvent("edit",this,this.context),this.context=null,this.editing=!1},validateEdit:function(){var t=this.context;return!1!==this.fireEvent("validateedit",this,t)&&!t.cancel}}),Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:Ext.grid.plugin.Editing,lockableScope:"both",init:function(t){var e=this.lockingPartner;this.callParent(arguments),e?e.editors?(this.editors=e.editors,this.editTask=e.editTask):(this.editors=e.editors=new Ext.util.MixedCollection(!1,function(t){return t.editorId}),this.editTask=e.editTask=new Ext.util.DelayedTask):(this.editors=new Ext.util.MixedCollection(!1,function(t){return t.editorId}),this.editTask=new Ext.util.DelayedTask)},onReconfigure:function(t,e,i){i&&this.editors.clear(),this.callParent()},destroy:function(){this.editors&&(this.editTask.cancel(),this.editors.each(Ext.destroy,Ext),this.editors.clear()),this.callParent(arguments)},onBodyScroll:function(){var t=this.getActiveEditor(),e=this.view.el.getScroll();t&&t.editing&&t.editingPlugin===this&&(e.top!==this.scroll.top?t.field&&(t.field.triggerBlur?t.field.triggerBlur():t.field.blur()):t.realign()),this.scroll=e},initCancelTriggers:function(){var t=this.grid,e=t.view;this.mon(e,"bodyscroll",this.onBodyScroll,this),this.mon(t,{columnresize:this.cancelEdit,columnmove:this.cancelEdit,scope:this})},isCellEditable:function(t,e){var i=this.getEditingContext(t,e);if(this.grid.view.isVisible(!0)&&i&&(e=i.column,t=i.record,e&&this.getEditor(t,e)))return!0},startEdit:function(t,e,i){var n;if(i=i||this.callParent(arguments),this.completeEdit(),i&&this.grid.view.isVisible(!0))return this.context=i,t=i.record,!((e=i.column)&&!e.getEditor(t))&&(i.originalValue=i.value=t.get(e.dataIndex),!1!==this.beforeEdit(i)&&!1!==this.fireEvent("beforeedit",this,i)&&!i.cancel&&(n=this.getEditor(t,e),this.grid.view.cancelFocus(),this.view.focusCell({row:i.rowIdx,column:i.colIdx}),!!n&&(this.editTask.delay(15,this.showEditor,this,[n,i,i.value]),!0)))},showEditor:function(t,e,i){var n=e.record,s=e.column,r=this.grid.getSelectionModel(),o=r.getCurrentPosition(),a=o&&o.view;if(a&&a!==this.view)return this.lockingPartner.showEditor(t,this.lockingPartner.getEditingContext(o.record,o.columnHeader),i);this.setEditingContext(e),this.setActiveEditor(t),this.setActiveRecord(n),this.setActiveColumn(s),!r.selectByPosition||o&&o.column===e.colIdx&&o.row===e.rowIdx||r.selectByPosition({row:e.rowIdx,column:e.colIdx,view:this.view}),t.startEdit(this.getCell(n,s),i,e),this.editing=!0,this.scroll=this.view.el.getScroll()},completeEdit:function(){var t=this.getActiveEditor();t&&(t.completeEdit(),this.editing=!1)},setEditingContext:function(t){this.context=t,this.lockingPartner&&(this.lockingPartner.context=t)},setActiveEditor:function(t){this.activeEditor=t,this.lockingPartner&&(this.lockingPartner.activeEditor=t)},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(t){this.activeColumn=t,this.lockingPartner&&(this.lockingPartner.activeColumn=t)},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(t){this.activeRecord=t,this.lockingPartner&&(this.lockingPartner.activeRecord=t)},getActiveRecord:function(){return this.activeRecord},getEditor:function(t,e){var i=this.editors,n=e.getItemId(),s=i.getByKey(n),r=this.grid.ownerLockable||this.grid;if(!s){if(!(s=e.getEditor(t)))return!1;s instanceof Ext.grid.CellEditor?(s.floating=!0,s.isForTree=this.grid.isTree):s=new Ext.grid.CellEditor({floating:!0,editorId:n,field:s,isForTree:this.grid.isTree}),r.add(s),s.on({scope:this,specialkey:this.onSpecialKey,complete:this.onEditComplete,canceledit:this.cancelEdit}),e.on("removed",this.cancelActiveEdit,this),i.add(s)}return s.editingPlugin=this,s},cancelActiveEdit:function(t){var e=this.context;e&&e.column===t&&this.cancelEdit()},setColumnField:function(t,e){var i=this.editors.getByKey(t.getItemId());Ext.destroy(i,t.field),this.editors.removeAtKey(t.getItemId()),this.callParent(arguments)},getCell:function(t,e){return this.grid.getView().getCell(t,e)},onSpecialKey:function(t,e,i){var n;if(i.getKey()===i.TAB&&(i.stopEvent(),t&&t.onEditorTab(i),(n=t.up("tablepanel").getSelectionModel()).onEditorTab))return n.onEditorTab(t.editingPlugin,i)},onEditComplete:function(t,e,i){var n,s=this.grid,r=this.getActiveColumn(),o=s.getSelectionModel(),a=this.context;if(r){if(n=a.record,this.setActiveEditor(null),this.setActiveColumn(null),this.setActiveRecord(null),a.value=e,!this.validateEdit())return;n.isEqual(e,i)||n.set(r.dataIndex,e),o.setCurrentPosition?o.setCurrentPosition(o.getCurrentPosition()):s.getView().focus(),this.fireEvent("edit",this,a),this.editing=!1}},cancelEdit:function(){var t=this.getActiveEditor(),e=this.grid.getView().getEl(this.getActiveColumn());return this.setActiveEditor(null),this.setActiveColumn(null),this.setActiveRecord(null),!t||(t.cancelEdit(),e.focus(),void this.callParent(arguments))},startEditByPosition:function(t){return t.column=this.view.getHeaderCt().getVisibleHeaderClosestToIndex(t.column).getIndex(),this.startEdit(t.row,t.column)}}),Ext.define("Ext.grid.plugin.DivRenderer",{alias:"plugin.divrenderer",extend:Ext.AbstractPlugin,tableTpl:['<div id="{view.id}-table" class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" style="{tableStyle}">',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</div>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<dl {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','style="position:relative" ',"{rowAttr:attributes}>",'<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</dl>",{priority:0}],cellTpl:['<dt class="{tdCls}" {tdAttr} data-cellIndex="{cellIndex}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</dt>",{priority:0}],selectors:{bodySelector:"div",nodeContainerSelector:"div",itemSelector:"dl."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"dl."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"dt."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainerSelector:function(){return this.getBodySelector()},getNodeContainer:function(){return this.el.getById(this.id+"-table",!0)}},init:function(t){var e=t.getView();e.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl"),e.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl"),e.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl"),Ext.apply(e,this.selectors)}}),Ext.define("Ext.grid.plugin.DragDrop",{extend:Ext.AbstractPlugin,alias:"plugin.gridviewdragdrop",dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(t){t.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){this.dragZone&&this.dragZone.unlock(),this.dropZone&&this.dropZone.unlock(),this.callParent()},disable:function(){this.dragZone&&this.dragZone.lock(),this.dropZone&&this.dropZone.lock(),this.callParent()},onViewRender:function(t){var e;this.enableDrag&&(this.containerScroll&&(e=t.getEl()),this.dragZone=new Ext.view.DragZone({view:t,ddGroup:this.dragGroup||this.ddGroup,dragText:this.dragText,containerScroll:this.containerScroll,scrollEl:e})),this.enableDrop&&(this.dropZone=new Ext.grid.ViewDropZone({view:t,ddGroup:this.dropGroup||this.ddGroup}))}}),Ext.define("Ext.grid.plugin.RowEditing",{extend:Ext.grid.plugin.Editing,alias:"plugin.rowediting",lockableScope:"top",editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){this.callParent(arguments),this.clicksToMoveEditor||(this.clicksToMoveEditor=this.clicksToEdit),this.autoCancel=!!this.autoCancel},destroy:function(){Ext.destroy(this.editor),this.callParent(arguments)},startEdit:function(t,e){var i,n=this.getEditor();return!(!1===n.beforeEdit()||!(i=this.callParent(arguments)))&&(this.context=i,this.lockingPartner&&this.lockingPartner.cancelEdit(),n.startEdit(i.record,i.column,i),!0)},cancelEdit:function(){return!this.editing||(this.getEditor().cancelEdit(),void this.callParent(arguments))},completeEdit:function(){this.editing&&this.validateEdit()&&(this.editing=!1,this.fireEvent("edit",this,this.context))},validateEdit:function(){var t,e,i,n=this.editor,s=this.context,r=s.record,o={},a={},l=n.items.items,h=l.length;for(t=0;t<h;t++)o[e=(i=l[t]).name]=i.getValue(),a[e]=r.get(e);return Ext.apply(s,{newValues:o,originalValues:a}),this.callParent(arguments)&&this.getEditor().completeEdit()},getEditor:function(){return this.editor||(this.editor=this.initEditor()),this.editor},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var t,e,i=this.grid,n=this.view,s=i.headerCt,r=["saveBtnText","cancelBtnText","errorsText","dirtyText"],o=r.length,a={autoCancel:this.autoCancel,errorSummary:this.errorSummary,fields:s.getGridColumns(),hidden:!0,view:n,editingPlugin:this};for(t=0;t<o;t++)e=r[t],Ext.isDefined(this[e])&&(a[e]=this[e]);return a},initEditTriggers:function(){var t=this,e=t.view,i=1===t.clicksToMoveEditor?"click":"dblclick";t.callParent(arguments),t.clicksToMoveEditor!==t.clicksToEdit&&t.mon(e,"cell"+i,t.moveEditorByClick,t),e.on({render:function(){t.mon(t.grid.headerCt,{scope:t,columnresize:t.onColumnResize,columnhide:t.onColumnHide,columnshow:t.onColumnShow,columnmove:t.onColumnMove})},single:!0})},startEditByClick:function(){this.editing&&this.clicksToMoveEditor!==this.clicksToEdit||this.callParent(arguments)},moveEditorByClick:function(){this.editing&&this.superclass.onCellClick.apply(this,arguments)},onColumnAdd:function(t,e){if(e.isHeader){var i;this.initFieldAccessors(e),(i=this.editor)&&i.onColumnAdd&&i.onColumnAdd(e)}},onColumnRemove:function(t,e){if(e.isHeader){var i=this.getEditor();i&&i.onColumnRemove&&i.onColumnRemove(e),this.removeFieldAccessors(e)}},onColumnResize:function(t,e,i){if(e.isHeader){var n=this.getEditor();n&&n.onColumnResize&&n.onColumnResize(e,i)}},onColumnHide:function(t,e){var i=this.getEditor();i&&i.onColumnHide&&i.onColumnHide(e)},onColumnShow:function(t,e){var i=this.getEditor();i&&i.onColumnShow&&i.onColumnShow(e)},onColumnMove:function(t,e,i,n){var s=this.getEditor();s&&s.onColumnMove&&s.onColumnMove(e,i,n-(n>i?1:0))},setColumnField:function(t,e){this.getEditor().removeField(t),this.callParent(arguments),this.getEditor().setField(t)}}),Ext.define("Ext.grid.plugin.RowExpander",{extend:Ext.AbstractPlugin,lockableScope:"normal",alias:"plugin.rowexpander",rowBodyTpl:null,expandOnEnter:!0,expandOnDblClick:!0,selectRowOnExpand:!1,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{before:function(t,e){var i=this.rowExpander;i.recordsExpanded[t.record.internalId]||t.itemClasses.push(i.rowCollapsedCls)},priority:500},setCmp:function(t){var e,i;this.callParent(arguments),this.recordsExpanded={},this.rowBodyTpl=Ext.XTemplate.getTpl(this,"rowBodyTpl"),e=this.rowBodyTpl,i=[{ftype:"rowbody",lockableScope:"normal",recordsExpanded:this.recordsExpanded,rowBodyHiddenCls:this.rowBodyHiddenCls,rowCollapsedCls:this.rowCollapsedCls,setupRowData:this.getRowBodyFeatureData,getRowBodyContents:function(t){return e.applyTemplate(t.getData())}},{ftype:"rowwrap",lockableScope:"normal"}],t.features?t.features=Ext.Array.push(i,t.features):t.features=i},init:function(t){var e,i=t;this.callParent(arguments),this.grid=t,this.view=t.getView(),this.addExpander(),this.bindView(this.view),this.view.addRowTpl(this.addCollapsedCls).rowExpander=this,t.ownerLockable&&((i=t.ownerLockable).syncRowHeight=!1,e=i.lockedGrid.getView(),this.bindView(e),e.addRowTpl(this.addCollapsedCls).rowExpander=this,i.mon(i,"columnschanged",this.refreshRowHeights,this),i.mon(i.store,"datachanged",this.refreshRowHeights,this)),i.on("beforereconfigure",this.beforeReconfigure,this)},beforeReconfigure:function(t,e,i,n,s){var r=this.getHeaderConfig();r.locked=!0,i.unshift(r)},addExpander:function(){var t=this.grid,e=this.getHeaderConfig();t.ownerLockable&&((t=t.ownerLockable.lockedGrid).width+=e.width),t.headerCt.insert(0,e)},getRowBodyFeatureData:function(t,e,i){this.self.prototype.setupRowData.apply(this,arguments),this.grid.ownerLockable||(i.rowBodyColspan=i.rowBodyColspan-1),i.rowBody=this.getRowBodyContents(t),i.rowBodyCls=this.recordsExpanded[t.internalId]?"":this.rowBodyHiddenCls},bindView:function(t){this.expandOnEnter&&t.on("itemkeydown",this.onKeyDown,this),this.expandOnDblClick&&t.on("itemdblclick",this.onDblClick,this)},onKeyDown:function(t,e,i,n,s){if(s.getKey()==s.ENTER)for(var r=t.store,o=t.getSelectionModel().getSelection(),a=o.length,l=0;l<a;l++)n=r.indexOf(o[l]),this.toggleRow(n,o[l])},onDblClick:function(t,e,i,n,s){this.toggleRow(n,e)},toggleRow:function(t,e){var i,n=this.view,s=n.getNode(t),r=Ext.fly(s,"_rowExpander"),o=r.down(this.rowBodyTrSelector,!0),a=r.hasCls(this.rowCollapsedCls),l=a?"removeCls":"addCls";Ext.suspendLayouts(),r[l](this.rowCollapsedCls),Ext.fly(o)[l](this.rowBodyHiddenCls),this.recordsExpanded[e.internalId]=a,n.refreshSize(),n.fireEvent(a?"expandbody":"collapsebody",r.dom,e,o),this.grid.ownerLockable&&(n=this.grid.ownerLockable.lockedGrid.view,i=r.getHeight(),(r=Ext.fly(n.getNode(t),"_rowExpander")).setHeight(i),r[l](this.rowCollapsedCls),n.refreshSize()),Ext.resumeLayouts(!0)},refreshRowHeights:function(){Ext.globalEvents.on({idle:this.doRefreshRowHeights,scope:this,single:!0})},doRefreshRowHeights:function(){var t,e,i,n,s,r,o=this.recordsExpanded,a=this.grid.ownerLockable.lockedGrid.view,l=this.grid.ownerLockable.normalGrid.view;for(t in o)o.hasOwnProperty(t)&&(e=this.view.store.data.get(t),n=a.getNode(e,!1),i=l.getNode(e,!1),n.style.height=i.style.height="",s=n.offsetHeight,(r=i.offsetHeight)>s?n.style.height=r+"px":s>r&&(i.style.height=s+"px"))},getHeaderConfig:function(){var t=this;return{width:24,lockable:!1,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-special",renderer:function(e,i){return t.grid.ownerLockable||(i.tdAttr+=' rowspan="2"'),'<div class="'+Ext.baseCSSPrefix+'grid-row-expander">&#160;</div>'},processEvent:function(e,i,n,s,r,o,a){if("mousedown"==e&&o.getTarget(".x-grid-row-expander"))return t.toggleRow(s,a),t.selectRowOnExpand}}}}),Ext.define("Ext.grid.property.Grid",{extend:Ext.grid.Panel,alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var t=this;t.source=t.source||{},t.addCls(t.gridCls),t.plugins=t.plugins||[],t.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:t.clicksToEdit,startEdit:function(e,i){return this.self.prototype.startEdit.call(this,e,t.headerCt.child("#"+t.valueField))}})),t.selModel={selType:"cellmodel",onCellSelect:function(t){return 1!=t.column&&(t.column=1),this.self.prototype.onCellSelect.call(this,t)}},t.sourceConfig=Ext.apply({},t.sourceConfig),t.store||(t.propStore=t.store=new Ext.grid.property.Store(t,t.source)),t.configure(t.sourceConfig),t.sortableColumns&&t.store.sort("name","ASC"),t.columns=new Ext.grid.property.HeaderContainer(t,t.store),t.addEvents("beforepropertychange","propertychange"),t.callParent(),t.getView().walkCells=this.walkCells,t.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),boolean:new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,t.headerCt.trueText],[!1,t.headerCt.falseText]]})})},t.store.on("update",t.onUpdate,t)},configure:function(t){var e,i,n,s,r=this.store,o=0,a=this.store.getCount(),l=this.nameField,h=this.valueField;if(this.configureLegacy(t),this.inferTypes)for(;o<a;++o)e=(n=r.getAt(o)).get(l),this.getConfig(e,"type")||(i=n.get(h),s=Ext.isDate(i)?"date":Ext.isNumber(i)?"number":Ext.isBoolean(i)?"boolean":"string",this.setConfig(e,"type",s))},getConfig:function(t,e,i){var n,s=this.sourceConfig[t];return s&&(n=s[e]),n||i},setConfig:function(t,e,i){var n=this.sourceConfig,s=n[t];return s?s.__copied||(s=Ext.apply({__copied:!0},s),n[t]=s):s=n[t]={__copied:!0},s[e]=i,i},configureLegacy:function(t){this.copyLegacyObject(t,this.customRenderers,"renderer"),this.copyLegacyObject(t,this.customEditors,"editor"),this.copyLegacyObject(t,this.propertyNames,"displayName")},copyLegacyObject:function(t,e,i){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]||(t[n]={}),t[n][i]=e[n])},onUpdate:function(t,e,i){var n,s;this.rendered&&i==Ext.data.Model.EDIT&&(n=e.get(this.valueField),s=e.modified.value,!1!==this.fireEvent("beforepropertychange",this.source,e.getId(),n,s)?(this.source&&(this.source[e.getId()]=n),e.commit(),this.fireEvent("propertychange",this.source,e.getId(),n,s)):e.reject())},walkCells:function(t,e,i,n,s,r){return"left"==e?e="up":"right"==e&&(e="down"),(t=Ext.view.Table.prototype.walkCells.call(this,t,e,i,n,s,r))&&!t.column&&(t.column=1),t},getCellEditor:function(t,e){var i=t.get(this.nameField),n=t.get(this.valueField),s=this.getConfig(i,"editor"),r=this.getConfig(i,"type"),o=this.editors;if(s)s instanceof Ext.grid.CellEditor||(s instanceof Ext.form.field.Base||(s=Ext.ComponentManager.create(s,"textfield")),s=this.setConfig(i,"editor",new Ext.grid.CellEditor({field:s})));else if(r)switch(r){case"date":s=o.date;break;case"number":s=o.number;break;case"boolean":s=this.editors.boolean;break;default:s=o.string}else s=Ext.isDate(n)?o.date:Ext.isNumber(n)?o.number:Ext.isBoolean(n)?o.boolean:o.string;return s.editorId=i,s},beforeDestroy:function(){this.callParent(),this.destroyEditors(this.editors),this.destroyEditors(this.customEditors),delete this.source},destroyEditors:function(t){for(var e in t)t.hasOwnProperty(e)&&Ext.destroy(t[e])},setSource:function(t,e){this.source=t,void 0!==e&&(this.sourceConfig=Ext.apply({},e),this.configure(this.sourceConfig)),this.propStore.setSource(t)},getSource:function(){return this.propStore.getSource()},setProperty:function(t,e,i){this.propStore.setValue(t,e,i)},removeProperty:function(t){this.propStore.remove(t)}}),Ext.define("Ext.grid.property.HeaderContainer",{extend:Ext.grid.header.Container,alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",constructor:function(t,e){this.grid=t,this.store=e,this.callParent([{enableColumnResize:Ext.isDefined(t.enableColumnResize)?t.enableColumnResize:this.enableColumnResize,enableColumnMove:Ext.isDefined(t.enableColumnMove)?t.enableColumnMove:this.enableColumnMove,items:[{header:this.nameText,width:t.nameColumnWidth||this.nameWidth,sortable:t.sortableColumns,dataIndex:t.nameField,renderer:Ext.Function.bind(this.renderProp,this),itemId:t.nameField,menuDisabled:!0,tdCls:this.nameColumnCls},{header:this.valueText,renderer:Ext.Function.bind(this.renderCell,this),getEditor:Ext.Function.bind(this.getCellEditor,this),sortable:t.sortableColumns,flex:1,fixed:!0,dataIndex:t.valueField,itemId:t.valueField,menuDisabled:!0}]}])},getCellEditor:function(t){return this.grid.getCellEditor(t,this)},renderProp:function(t){return this.getPropertyName(t)},renderCell:function(t,e,i){var n=this.grid,s=n.getConfig(i.get(n.nameField),"renderer"),r=t;return s?s.apply(this,arguments):(Ext.isDate(t)?r=this.renderDate(t):Ext.isBoolean(t)&&(r=this.renderBool(t)),Ext.util.Format.htmlEncode(r))},renderDate:Ext.util.Format.date,renderBool:function(t){return this[t?"trueText":"falseText"]},getPropertyName:function(t){return this.grid.getConfig(t,"displayName",t)}}),Ext.define("Ext.grid.property.Property",{extend:Ext.data.Model,alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"}),Ext.define("Ext.grid.property.Store",{extend:Ext.data.Store,alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:!1,constructor:function(t,e){this.grid=t,this.source=e,this.callParent([{data:e,model:Ext.grid.property.Property,proxy:this.getProxy()}])},getProxy:function(){return this.proxy||(Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),this.proxy},getReader:function(){return this.reader||(Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(t){return this.readRecords(t)},readRecords:function(t){var e,i,n={records:[],success:!0};for(i in t)t.hasOwnProperty(i)&&(e=t[i],this.isEditableValue(e)&&n.records.push(new Ext.grid.property.Property({name:i,value:e},i)));return n.total=n.count=n.records.length,new Ext.data.ResultSet(n)},isEditableValue:function(t){return Ext.isPrimitive(t)||Ext.isDate(t)||null===t}})),this.reader},setSource:function(t){this.source=t,this.suspendEvents(),this.removeAll(),this.proxy.data=t,this.load(),this.resumeEvents(),this.fireEvent("datachanged",this),this.fireEvent("refresh",this)},getProperty:function(t){return Ext.isNumber(t)?this.getAt(t):this.getById(t)},setValue:function(t,e,i){var n=this.getRec(t);n?(n.set("value",e),this.source[t]=e):i&&(this.source[t]=e,n=new Ext.grid.property.Property({name:t,value:e},t),this.add(n))},remove:function(t){var e=this.getRec(t);e&&(this.callParent([e]),delete this.source[t])},getRec:function(t){return this.getById(t)},getSource:function(){return this.source}}),Ext.define("Ext.layout.ClassList",function(){var t=Ext.String.splitWords,e=Ext.Array.toMap;return{dirty:!1,constructor:function(i){this.owner=i,this.map=e(this.classes=t(i.el.className))},add:function(t){this.map[t]||(this.map[t]=!0,this.classes.push(t),this.dirty||(this.dirty=!0,this.owner.markDirty()))},addMany:function(e){Ext.each(t(e),this.add,this)},contains:function(t){return this.map[t]},flush:function(){this.owner.el.className=this.classes.join(" "),this.dirty=!1},remove:function(t){this.map[t]&&(delete this.map[t],this.classes=Ext.Array.filter(this.classes,function(e){return e!=t}),this.dirty||(this.dirty=!0,this.owner.markDirty()))},removeMany:function(i){var n=this,s=e(t(i));n.classes=Ext.Array.filter(n.classes,function(t){return!s[t]||(delete n.map[t],n.dirty||(n.dirty=!0,n.owner.markDirty()),!1)})}}}()),Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(t){var e=this.getKey(t);return this.map[e]||(++this.length,this.items.push(t),this.map[e]=t),t},clear:function(){var t=this.items;return this.items=[],this.map={},this.length=0,t},contains:function(t){var e=this.getKey(t);return this.map.hasOwnProperty(e)},getCount:function(){return this.length},getKey:function(t){return t.id},remove:function(t){var e,i=this.getKey(t),n=this.items;return this.map[i]&&(e=Ext.Array.indexOf(n,t),Ext.Array.erase(n,e,1),delete this.map[i],--this.length),t}}),Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(t){var e,i,n,s,r,o,a,l,h,d,c,u,f,p,g=Ext.layout.SizeModel.sizeModels,m=g.configured,x=g.shrinkWrap;Ext.apply(this,t),e=this.el,this.id=e.id,this.flushedProps={},this.props=r={},this.styles={},(a=this.target).isComponent?(this.wrapsComponent=!0,this.framing=a.frameSize||null,this.isComponentChild=a.ownerLayout&&a.ownerLayout.isComponentLayout,i=a.lastBox,(n=a.ownerCt)&&(s=this.context.items[n.el.id])&&(this.ownerCtContext=s),this.sizeModel=o=a.getSizeModel(s&&s.widthModel.pairsByHeightOrdinal[s.heightModel.ordinal]),this.widthModel=u=o.width,this.heightModel=f=o.height,i&&!1===i.invalid&&(d=a.width===(l=i.width),c=a.height===(h=i.height),u===x&&f===x?p=!0:u===m&&d&&(p=f===x||f===m&&c),p&&(this.optOut=!0,r.width=l,r.height=h))):i=e.lastBox,this.lastBox=i},init:function(t,e){var i,n,s,r,o,a,l,h,d=this.props,c=this.dirty,u=this.ownerCtContext,f=this.target.ownerLayout,p=!this.state,g=t||p,m=this.heightModel,x=this.widthModel;if(this.dirty=this.invalid=!1,this.props={},this.remainingChildDimensions=0,this.boxChildren&&(this.boxChildren.length=0),p||(this.clearAllBlocks("blocks"),this.clearAllBlocks("domBlocks")),!this.wrapsComponent)return g;if(a=this.target,this.state={},p)a.beforeLayout&&a.beforeLayout!==Ext.emptyFn&&a.beforeLayout(),!u&&(r=a.ownerCt)&&(u=this.context.items[r.el.id]),u?(this.ownerCtContext=u,this.isBoxParent=a.ownerLayout.isItemBoxParent(this)):this.isTopLevel=!0,this.frameBodyContext=this.getEl("frameBody");else for(u=this.ownerCtContext,this.isTopLevel=!u,n=0,s=(i=this.children).length;n<s;++n)i[n].init(!0);return this.hasRawContent=!(a.isContainer&&a.items.items.length>0),t?(this.widthModel=this.heightModel=null,o=a.getSizeModel(u&&u.widthModel.pairsByHeightOrdinal[u.heightModel.ordinal]),p&&(this.sizeModel=o),this.widthModel=o.width,this.heightModel=o.height,u&&!this.isComponentChild&&(u.remainingChildDimensions+=2)):d&&(this.recoverProp("x",d,c),this.recoverProp("y",d,c),this.widthModel.calculated&&this.recoverProp("width",d,c),this.heightModel.calculated&&this.recoverProp("height",d,c),u&&!this.isComponentChild&&(u.remainingChildDimensions+=("width"in d)+("height"in d))),d&&f&&f.manageMargins&&(this.recoverProp("margin-top",d,c),this.recoverProp("margin-right",d,c),this.recoverProp("margin-bottom",d,c),this.recoverProp("margin-left",d,c)),e&&(l=e.heightModel,(h=e.widthModel)&&l&&x&&m&&x.shrinkWrap&&m.shrinkWrap&&h.constrainedMax&&l.constrainedMin&&(l=null),h&&(this.widthModel=h),l&&(this.heightModel=l),e.state&&Ext.apply(this.state,e.state)),g},initContinue:function(t){var e,i=this.ownerCtContext,n=this.target,s=this.widthModel,r=n.getHierarchyState();return s.fixed?r.inShrinkWrapTable=!1:delete r.inShrinkWrapTable,t&&(i&&s.shrinkWrap?(e=i.isBoxParent?i:i.boxParent)&&e.addBoxChild(this):s.natural&&(this.boxParent=i)),t},initDone:function(t){var e=this.props,i=this.state;0===this.remainingChildDimensions&&(e.containerChildrenSizeDone=!0),t&&(e.containerLayoutDone=!0),this.boxChildren&&this.boxChildren.length&&this.widthModel.shrinkWrap&&(this.el.setWidth(1e4),i.blocks=(i.blocks||0)+1)},initAnimation:function(){var t=this.target,e=this.ownerCtContext;e&&e.isTopLevel?this.animatePolicy=t.ownerLayout.getAnimatePolicy(this):!e&&t.isCollapsingOrExpanding&&t.animCollapse&&(this.animatePolicy=t.componentLayout.getAnimatePolicy(this)),this.animatePolicy&&this.context.queueAnimation(this)},addCls:function(t){this.getClassList().addMany(t)},removeCls:function(t){this.getClassList().removeMany(t)},addBlock:function(t,e,i){var n=this[t]||(this[t]={}),s=n[i]||(n[i]={});s[e.id]||(s[e.id]=e,++e.blockCount,++this.context.blockCount)},addBoxChild:function(t){var e,i=t.widthModel;t.boxParent=this,t.measuresBox=i.shrinkWrap?t.hasRawContent:i.natural,t.measuresBox&&((e=this.boxChildren)?e.push(t):this.boxChildren=[t])},addPositionStyles:function(t,e){var i=e.x,n=e.y,s=0;return void 0!==i&&(t.left=i+"px",++s),void 0!==n&&(t.top=n+"px",++s),s},addTrigger:function(t,e){var i=e?"domTriggers":"triggers",n=this[i]||(this[i]={}),s=this.context,r=s.currentLayout,o=n[t]||(n[t]={});o[r.id]||(o[r.id]=r,++r.triggerCount,((o=s.triggers[e?"dom":"data"])[r.id]||(o[r.id]=[])).push({item:this,prop:t}),void 0!==this.props[t]&&(e&&this.dirty&&t in this.dirty||++r.firedTriggers))},boxChildMeasured:function(){var t=this.state;(t.boxesMeasured=(t.boxesMeasured||0)+1)==this.boxChildren.length&&(t.clearBoxWidth=1,++this.context.progressCount,this.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(t){var e=t.getStyles(t.borderNames,t.trblNames);return e.width=e.left+e.right,e.height=e.top+e.bottom,e},marginInfo:function(t){var e=t.getStyles(t.marginNames,t.trblNames);return e.width=e.left+e.right,e.height=e.top+e.bottom,e},paddingInfo:function(t){var e=(t.frameBodyContext||t).getStyles(t.paddingNames,t.trblNames);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}},checkCache:function(t){return this.cacheMissHandlers[t](this)},clearAllBlocks:function(t){var e,i=this[t];if(i)for(e in i)this.clearBlocks(t,e)},clearBlocks:function(t,e){var i,n,s,r=this[t],o=r&&r[e];if(o){delete r[e],i=this.context;for(s in o)n=o[s],--i.blockCount,--n.blockCount||n.pending||n.done||i.queueLayout(n)}},block:function(t,e){this.addBlock("blocks",t,e)},domBlock:function(t,e){this.addBlock("domBlocks",t,e)},fireTriggers:function(t,e){var i,n,s=this[t],r=s&&s[e],o=this.context;if(r)for(n in r)++(i=r[n]).firedTriggers,i.done||i.blockCount||i.pending||o.queueLayout(i)},flush:function(){var t=this.dirty,e=this.state,i=this.el;this.dirtyCount=0,this.classList&&this.classList.dirty&&this.classList.flush(),"attributes"in this&&(i.set(this.attributes),delete this.attributes),"innerHTML"in this&&(i.innerHTML=this.innerHTML,delete this.innerHTML),e&&e.clearBoxWidth&&(e.clearBoxWidth=0,this.el.setStyle("width",null),--e.blocks||this.context.queueItemLayouts(this)),t&&(delete this.dirty,this.writeProps(t,!0))},flushAnimations:function(){var t,e,i,n,s,r,o,a,l,h,d,c=this,u=c.previousSize;if(u){for((e=(t=c.target).layout&&t.layout.animate)&&(i=Ext.isNumber(e)?e:e.duration),n=Ext.Object.getKeys(c.animatePolicy),s=Ext.apply({},{from:{},to:{},duration:i||Ext.fx.Anim.prototype.duration},e),r=0,o=0,a=n.length;o<a;o++)(h=u[l=n[o]])!=(d=c.peek(l))&&(l=c.translateProps[l]||l,s.from[l]=h,s.to[l]=d,++r);r&&(1===c.isCollapsingOrExpanding?t.componentLayout.undoLayout(c):c.writeProps(s.from),c.el.animate(s),Ext.fx.Manager.getFxQueue(c.el.id)[0].on({afteranimate:function(){1===c.isCollapsingOrExpanding?(t.componentLayout.redoLayout(c),t.afterCollapse(!0)):2===c.isCollapsingOrExpanding&&t.afterExpand(!0)}}))}},getBorderInfo:function(){var t=this.borderInfo;return t||(this.borderInfo=t=this.checkCache("borderInfo")),t},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(t,e){var i,n,s;if(t){if(t.dom)n=t;else if(i=this.target,e&&(i=e),"function"==typeof(n=i[t])&&(n=n.call(i))===this.el)return this;n&&(s=this.context.getEl(this,n))}return s||null},getFrameInfo:function(){var t,e,i=this.frameInfo;return i||(t=this.framing,e=this.getBorderInfo(),this.frameInfo=i=t?{top:t.top+e.top,right:t.right+e.right,bottom:t.bottom+e.bottom,left:t.left+e.left,width:t.width+e.width,height:t.height+e.height}:e),i},getMarginInfo:function(){var t,e,i,n,s,r=this.marginInfo;return r||(this.wrapsComponent?(s=(n=(t=this.target).ownerLayout)?n.id:null,e=n&&n.manageMargins,(r=t.margin$)&&r.ownerId!==s&&(r=null),r||(r=this.parseMargins(t,t.margin)||this.checkCache("marginInfo"),e&&((i=this.parseMargins(t,t.margins,n.defaultMargins))&&(r={top:r.top+i.top,right:r.right+i.right,bottom:r.bottom+i.bottom,left:r.left+i.left}),this.setProp("margin-top",0),this.setProp("margin-right",0),this.setProp("margin-bottom",0),this.setProp("margin-left",0)),r.ownerId=s,t.margin$=r),r.width=r.left+r.right,r.height=r.top+r.bottom):r=this.checkCache("marginInfo"),this.marginInfo=r),r},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var t=this.paddingInfo;return t||(this.paddingInfo=t=this.checkCache("paddingInfo")),t},getProp:function(t){var e=this.props[t];return this.addTrigger(t),e},getDomProp:function(t){var e=this.dirty&&t in this.dirty?void 0:this.props[t];return this.addTrigger(t,!0),e},getStyle:function(t){var e,i,n=this.styles;return t in n?i=n[t]:(e=this.styleInfo[t],i=this.el.getStyle(t),e&&e.parseInt&&(i=parseInt(i,10)||0),n[t]=i),i},getStyles:function(t,e){var i,n,s,r,o,a,l,h,d=this.styles,c={},u=0,f=t.length;for(e=e||t,i=0;i<f;++i)(r=t[i])in d?(c[e[i]]=d[r],++u,i&&1==u&&(n=t.slice(0,i),s=e.slice(0,i))):u&&((n||(n=[])).push(r),(s||(s=[])).push(e[i]));if(u<f)for(n=n||t,s=s||e,a=this.styleInfo,l=this.el.getStyle(n),i=n.length;i--;)o=a[r=n[i]],h=l[r],o&&o.parseInt&&(h=parseInt(h,10)||0),c[s[i]]=h,d[r]=h;return c},hasProp:function(t){return void 0!==this.getProp(t)},hasDomProp:function(t){return void 0!==this.getDomProp(t)},invalidate:function(t){this.context.queueInvalidate(this,t)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var t=this.boxParent,e=this.state;t&&t.widthModel.shrinkWrap&&!e.boxMeasured&&this.measuresBox&&(e.boxMeasured=1,t.boxChildMeasured())},parseMargins:function(t,e,i){!0===e&&(e=5);var n,s=typeof e;return"string"==s||"number"==s?n=t.parseBox(e):(e||i)&&(n={top:0,right:0,bottom:0,left:0},i&&Ext.apply(n,this.parseMargins(t,i)),e&&(e=Ext.apply(n,t.parseBox(e)))),n},peek:function(t){return this.props[t]},recoverProp:function(t,e,i){var n=this.props;t in e&&(n[t]=e[t],i&&t in i&&((this.dirty||(this.dirty={}))[t]=i[t]))},redo:function(t){var e,i,n;if(this.revertProps(this.props),t&&this.wrapsComponent){if(this.childItems)for(n=0,i=(e=this.childItems).length;n<i;n++)e[n].redo(t);for(n=0,i=(e=this.children).length;n<i;n++)e[n].redo()}},removeEl:function(t,e){var i,n;if(t){if(t.dom)n=t;else if(i=this.target,e&&(i=e),"function"==typeof(n=i[t])&&(n=n.call(i))===this.el)return this;n&&this.context.removeEl(this,n)}},revertProps:function(t){var e,i=this.flushedProps,n={};for(e in t)i.hasOwnProperty(e)&&(n[e]=t[e]);this.writeProps(n)},setAttribute:function(t,e){this.attributes||(this.attributes={}),this.attributes[t]=e,this.markDirty()},setBox:function(t){"left"in t&&this.setProp("x",t.left),"top"in t&&this.setProp("y",t.top),this.setSize(t.width,t.height)},setContentHeight:function(t,e){return!e&&this.hasRawContent?1:this.setProp("contentHeight",t)},setContentWidth:function(t,e){return!e&&this.hasRawContent?1:this.setProp("contentWidth",t)},setContentSize:function(t,e,i){return this.setContentWidth(t,i)+this.setContentHeight(e,i)==2},setProp:function(t,e,i){var n,s=typeof e;return"undefined"==s||"number"===s&&isNaN(e)?0:this.props[t]===e?1:(this.props[t]=e,++this.context.progressCount,!1===i?(this.fireTriggers("domTriggers",t),this.clearBlocks("domBlocks",t)):this.styleInfo[t]&&(this.dirty||(this.dirty={}),"width"!=t&&"height"!=t||(null===(n=this.isBorderBoxValue)&&(this.isBorderBoxValue=n=!!this.el.isBorderBox()),n||(this.borderInfo||this.getBorderInfo(),this.paddingInfo||this.getPaddingInfo())),this.dirty[t]=e,this.markDirty()),this.fireTriggers("triggers",t),this.clearBlocks("blocks",t),1)},setHeight:function(t,e){var i,n,s,r,o=this.target,a=this.ownerCtContext;if(t<0&&(t=0),this.wrapsComponent){if(s=this.collapsedVert?0:o.minHeight||0,t=Ext.Number.constrain(t,s,o.maxHeight),r=this.props.height,!this.setProp("height",t,e))return NaN;a&&!this.isComponentChild&&isNaN(r)&&(--a.remainingChildDimensions||a.setProp("containerChildrenSizeDone",!0)),(i=this.frameBodyContext)&&(n=this.getFrameInfo(),i.setHeight(t-n.height,e))}else if(!this.setProp("height",t,e))return NaN;return t},setWidth:function(t,e){var i,n,s,r,o=this.target,a=this.ownerCtContext;if(t<0&&(t=0),this.wrapsComponent){if(s=this.collapsedHorz?0:o.minWidth||0,t=Ext.Number.constrain(t,s,o.maxWidth),r=this.props.width,!this.setProp("width",t,e))return NaN;a&&!this.isComponentChild&&isNaN(r)&&(--a.remainingChildDimensions||a.setProp("containerChildrenSizeDone",!0)),(i=this.frameBodyContext)&&(n=this.getFrameInfo(),i.setWidth(t-n.width,e))}else if(!this.setProp("width",t,e))return NaN;return t},setSize:function(t,e,i){this.setWidth(t,i),this.setHeight(e,i)},translateProps:{x:"left",y:"top"},undo:function(t){var e,i,n;if(this.revertProps(this.lastBox),t&&this.wrapsComponent){if(this.childItems)for(n=0,i=(e=this.childItems).length;n<i;n++)e[n].undo(t);for(n=0,i=(e=this.children).length;n<i;n++)e[n].undo()}},unsetProp:function(t){var e=this.dirty;delete this.props[t],e&&delete e[t]},writeProps:function(t,e){if(t&&"object"==typeof t){var i,n,s,r,o,a,l,h,d=this.el,c={},u=0,f=this.styleInfo,p=t.width,g=t.height,m=this.isBorderBoxValue,x=this.target,E=Math.max,y=0,v=0;"displayed"in t&&d.setDisplayed(t.displayed);for(n in t)e&&(this.fireTriggers("domTriggers",n),this.clearBlocks("domBlocks",n),this.flushedProps[n]=1),(i=f[n])&&i.dom&&(i.suffix&&(s=parseInt(t[n],10))?c[n]=s+i.suffix:c[n]=t[n],++u);("x"in t||"y"in t)&&(x.isComponent?x.setPosition(t.x,t.y):u+=this.addPositionStyles(c,t)),!m&&(p>0||g>0)&&(this.frameBodyContext||(y=this.paddingInfo.width,v=this.paddingInfo.height),p&&(p=E(parseInt(p,10)-(this.borderInfo.width+y),0),c.width=p+"px",++u),g&&(g=E(parseInt(g,10)-(this.borderInfo.height+v),0),c.height=g+"px",++u)),this.wrapsComponent&&Ext.isIE9&&Ext.isStrict&&((r=void 0!==p&&this.hasOverflowY)||(o=void 0!==g&&this.hasOverflowX))&&(void 0===(a=this.isAbsolute)&&(a=!1,"absolute"==(h=this.target.getTargetEl()).getStyle("position")&&(a="border-box"==h.getStyle("box-sizing")),this.isAbsolute=a),a&&(l=Ext.getScrollbarSize(),r&&(p=parseInt(p,10)+l.width,c.width=p+"px",++u),o&&(g=parseInt(g,10)+l.height,c.height=g+"px",++u))),u&&d.setStyle(c)}}},function(){var t={dom:!0,parseInt:!0,suffix:"px"},e={dom:!0},i={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:i,containerLayoutDone:i,displayed:i,done:i,x:i,y:i,columnWidthsDone:i,left:t,top:t,right:t,bottom:t,width:t,height:t,"border-top-width":t,"border-right-width":t,"border-bottom-width":t,"border-left-width":t,"margin-top":t,"margin-right":t,"margin-bottom":t,"margin-left":t,"padding-top":t,"padding-right":t,"padding-bottom":t,"padding-left":t,"line-height":e,display:e}}),Ext.define("Ext.layout.Context",{remainingLayouts:0,state:0,constructor:function(t){Ext.apply(this,t),this.items={},this.layouts={},this.blockCount=0,this.cycleCount=0,this.flushCount=0,this.calcCount=0,this.animateQueue=this.newQueue(),this.completionQueue=this.newQueue(),this.finalizeQueue=this.newQueue(),this.finishQueue=this.newQueue(),this.flushQueue=this.newQueue(),this.invalidateData={},this.layoutQueue=this.newQueue(),this.invalidQueue=[],this.triggers={data:{},dom:{}}},callLayout:function(t,e){this.currentLayout=t,t[e](this.getCmp(t.owner))},cancelComponent:function(t,e,i){var n,s,r,o,a,l,h,d,c,u,f=t,p=!t.isComponent,g=p?f.length:1;for(n=0;n<g;++n){if(p&&(t=f[n]),i&&t.ownerCt&&(u=this.items[t.ownerCt.el.id])&&Ext.Array.remove(u.childItems,this.getCmp(t)),!e&&(h=this.invalidQueue,r=h.length))for(this.invalidQueue=l=[],s=0;s<r;++s)(c=(d=h[s]).item.target)==t||c.isDescendant(t)||l.push(d);a=t.componentLayout,this.cancelLayout(a),a.getLayoutItems&&(o=a.getLayoutItems()).length&&this.cancelComponent(o,!0),t.isContainer&&!t.collapsed&&(a=t.layout,this.cancelLayout(a),(o=a.getVisibleItems()).length&&this.cancelComponent(o,!0))}},cancelLayout:function(t){this.completionQueue.remove(t),this.finalizeQueue.remove(t),this.finishQueue.remove(t),this.layoutQueue.remove(t),t.running&&this.layoutDone(t),t.ownerContext=null},clearTriggers:function(t,e){var i,n,s,r,o=t.id,a=(i=this.triggers[e?"dom":"data"])&&i[o],l=a&&a.length||0;for(n=0;n<l;++n)s=(r=a[n]).item,delete(i=e?s.domTriggers:s.triggers)[r.prop][o]},flush:function(){var t,e=this.flushQueue.clear(),i=e.length;if(i)for(++this.flushCount,t=0;t<i;++t)e[t].flush()},flushAnimations:function(){var t,e=this.animateQueue.clear(),i=e.length;if(i){for(t=0;t<i;t++)!1!==e[t].target.animate&&e[t].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var t,e,i,n,s=this.invalidQueue,r=s&&s.length;if(this.invalidQueue=[],r){for(e=[],n=0;n<r;++n)(t=(i=s[n]).item.target).container.isDetachedBody||(e.push(t),i.options&&(this.invalidateData[t.id]=i.options));this.invalidate(e,null)}},flushLayouts:function(t,e,i){var n,s,r=i?this[t].items:this[t].clear(),o=r.length;if(o){for(n=0;n<o;++n)(s=r[n]).running||this.callLayout(s,e);this.currentLayout=null}},getCmp:function(t){return this.getItem(t,t.el)},getEl:function(t,e){var i=this.getItem(e,e);return i.parent||(i.parent=t,t.children.length?t.children.push(i):t.children=[i]),i},getItem:function(t,e){var i=e.id,n=this.items;return n[i]||(n[i]=new Ext.layout.ContextItem({context:this,target:t,el:e}))},handleFailure:function(){var t,e,i=this.layouts;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(e in i)t=i[e],i.hasOwnProperty(e)&&(t.running=!1,t.ownerContext=null)},invalidate:function(t,e){var i,n,s,r,o,a,l,h,d,c,u,f=!t.isComponent;for(s=0,l=f?t.length:1;s<l;++s)(r=f?t[s]:t).rendered&&!r.hidden&&(o=this.getCmp(r),n=!(h=r.componentLayout).ownerContext,d=r.isContainer&&!r.collapsed?r.layout:null,c=this.invalidateData[o.id],delete this.invalidateData[o.id],u=o.init(e,c),c&&this.processInvalidate(c,o,"before"),h.beforeLayoutCycle&&h.beforeLayoutCycle(o),d&&d.beforeLayoutCycle&&d.beforeLayoutCycle(o),u=o.initContinue(u),i=!0,h.getLayoutItems&&(h.renderChildren(),(a=h.getLayoutItems()).length&&this.invalidate(a,!0)),d&&(i=!1,d.renderChildren(),(a=d.getVisibleItems()).length&&this.invalidate(a,!0)),o.initDone(i),this.resetLayout(h,o,n),d&&this.resetLayout(d,o,n),o.initAnimation(),c&&this.processInvalidate(c,o,"after"));this.currentLayout=null},layoutDone:function(t){var e=t.ownerContext;t.running=!1,t.isComponentLayout?(e.measuresBox&&e.onBoxMeasured(),e.setProp("done",!0)):e.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(t,e,i){if(t[i]){var n=this.currentLayout;this.currentLayout=t.layout||null,t[i](e,t),this.currentLayout=n}},queueAnimation:function(t){this.animateQueue.add(t)},queueCompletion:function(t){this.completionQueue.add(t)},queueFinalize:function(t){this.finalizeQueue.add(t)},queueFlush:function(t){this.flushQueue.add(t)},chainFns:function(t,e,i){var n=this,s=t.layout,r=e.layout,o=t[i],a=e[i];return function(i){var l=n.currentLayout;o&&(n.currentLayout=s,o.call(t.scope||t,i,t)),n.currentLayout=r,a.call(e.scope||e,i,e),n.currentLayout=l}},queueInvalidate:function(t,e){var i,n,s,r,o,a=[],l=this.invalidQueue,h=l.length;for(t.isComponent?t=this.getCmp(i=t):i=t.target,t.invalid=!0;h--;){if(n=l[h],s=n.item.target,i.isDescendant(s))return;if(s==i)return void((r=n.options)?e&&(e.widthModel&&(r.widthModel=e.widthModel),e.heightModel&&(r.heightModel=e.heightModel),(o=r.state)?e.state&&Ext.apply(o,e.state):r.state=e.state,e.before&&(r.before=this.chainFns(r,e,"before")),e.after&&(r.after=this.chainFns(r,e,"after"))):n.options=e);s.isDescendant(i)||a.push(n)}a.push({item:t,options:e}),this.invalidQueue=a},queueItemLayouts:function(t){var e=t.isComponent?t:t.target,i=e.componentLayout;i.pending||i.invalid||i.done||this.queueLayout(i),!(i=e.layout)||i.pending||i.invalid||i.done||this.queueLayout(i)},queueLayout:function(t){this.layoutQueue.add(t),t.pending=!0},removeEl:function(t,e){var i=e.id,n=t.children,s=this.items;n&&Ext.Array.remove(n,s[i]),delete s[i]},resetLayout:function(t,e,i){this.currentLayout=t,t.done=!1,t.pending=!0,t.firedTriggers=0,this.layoutQueue.add(t),i?(this.layouts[t.id]=t,t.running=!0,t.finishedLayout&&this.finishQueue.add(t),++this.remainingLayouts,++t.layoutCount,t.ownerContext=e,t.beginCount=0,t.blockCount=0,t.calcCount=0,t.triggerCount=0,t.initialized||t.initLayout(),t.beginLayout(e)):(++t.beginCount,t.running||(++this.remainingLayouts,t.running=!0,t.isComponentLayout&&e.unsetProp("done"),this.completionQueue.remove(t),this.finalizeQueue.remove(t))),t.beginLayoutCycle(e,i)},run:function(){var t=!1,e=100;for(this.flushInvalidates(),this.state=1,this.totalCount=this.layoutQueue.getCount(),this.flush();(this.remainingLayouts||this.invalidQueue.length)&&e--;){if(this.invalidQueue.length&&this.flushInvalidates(),this.runCycle())t=!1;else if(t){if(!this.invalidQueue.length){this.state=2;break}}else this.flush(),t=!0,this.flushLayouts("completionQueue","completeLayout");this.remainingLayouts||this.invalidQueue.length||(this.flush(),this.flushLayouts("completionQueue","completeLayout"),this.flushLayouts("finalizeQueue","finalizeLayout"))}return this.runComplete()},runComplete:function(){return this.state=2,this.remainingLayouts?(this.handleFailure(),!1):(this.flush(),this.flushLayouts("finishQueue","finishedLayout",!0),this.flushLayouts("finishQueue","notifyOwner"),this.flush(),this.flushAnimations(),!0)},runCycle:function(){var t,e=this.layoutQueue.clear(),i=e.length;for(++this.cycleCount,this.progressCount=0,t=0;t<i;++t)this.runLayout(this.currentLayout=e[t]);return this.currentLayout=null,this.progressCount>0},runLayout:function(t){var e=this.getCmp(t.owner);t.pending=!1,e.state.blocks||(t.done=!0,++t.calcCount,++this.calcCount,t.calculate(e),t.done?(this.layoutDone(t),t.completeLayout&&this.queueCompletion(t),t.finalizeLayout&&this.queueFinalize(t)):t.pending||t.invalid||t.blockCount+t.triggerCount-t.firedTriggers||this.queueLayout(t))},setItemSize:function(t,e,i){var n,s=t,r=1;for(t.isComposite?(r=(s=t.elements).length,t=s[0]):t.dom||t.el||(r=s.length,t=s[0]),n=0;n<r;)this.get(t).setSize(e,i),t=s[++n]}}),Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:Ext.layout.component.Auto,type:"body",beginLayout:function(t){this.callParent(arguments),t.bodyContext=t.getEl("body")},beginLayoutCycle:function(t,e){var i=this.lastWidthModel,n=this.lastHeightModel,s=this.owner.body;this.callParent(arguments),i&&i.fixed&&t.widthModel.shrinkWrap&&s.setWidth(null),n&&n.fixed&&t.heightModel.shrinkWrap&&s.setHeight(null)},calculateOwnerHeightFromContentHeight:function(t,e){var i=this.callParent(arguments);return t.targetContext!=t&&(i+=t.getPaddingInfo().height),i},calculateOwnerWidthFromContentWidth:function(t,e){var i=this.callParent(arguments);return t.targetContext!=t&&(i+=t.getPaddingInfo().width),i},measureContentWidth:function(t){return t.bodyContext.setWidth(t.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(t){return t.bodyContext.setHeight(t.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(t,e){var i=e-t.getFrameInfo().height;return t.targetContext!=t&&(i-=t.getPaddingInfo().height),t.bodyContext.setHeight(i,!t.heightModel.natural)},publishInnerWidth:function(t,e){var i=e-t.getFrameInfo().width;t.targetContext!=t&&(i-=t.getPaddingInfo().width),t.bodyContext.setWidth(i,!t.widthModel.natural)}}),Ext.define("Ext.layout.component.FieldSet",{extend:Ext.layout.component.Body,alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(t){t.target.collapsed&&(t.heightModel=this.sizeModels.shrinkWrap)},beginLayoutCycle:function(t){var e,i=t.target;this.callParent(arguments),i.collapsed&&(t.setContentHeight(0),t.restoreMinHeight=i.minHeight,delete i.minHeight,t.widthModel.shrinkWrap&&(e=i.lastComponentSize,t.setContentWidth(e&&e.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(t){var e=this.owner,i=t.restoreMinHeight;this.callParent(arguments),i&&(e.minHeight=i)},calculateOwnerHeightFromContentHeight:function(t,e){var i=t.getBorderInfo(),n=t.target.legend;return t.getProp("contentHeight")+t.getPaddingInfo().height+(Ext.isIEQuirks||Ext.isIE8m?t.bodyContext.getPaddingInfo().top:0)+(n?n.getHeight():i.top)+i.bottom},publishInnerHeight:function(t,e){var i=t.target.legend;i&&(e-=i.getHeight()),this.callParent([t,e])},getLayoutItems:function(){var t=this.owner.legend;return t?[t]:[]}}),Ext.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:Ext.layout.component.field.Field,type:"sliderfield",beginLayout:function(t){this.callParent(arguments),t.endElContext=t.getEl("endEl"),t.innerElContext=t.getEl("innerEl"),t.bodyElContext=t.getEl("bodyEl")},publishInnerHeight:function(t,e){var i,n,s=e-this.measureLabelErrorHeight(t);this.owner.vertical?(i=t.endElContext.getPaddingInfo(),n=t.inputContext.getPaddingInfo(),t.innerElContext.setHeight(s-n.height-i.height)):t.bodyElContext.setHeight(s)},publishInnerWidth:function(t,e){if(!this.owner.vertical){var i=t.endElContext.getPaddingInfo(),n=t.inputContext.getPaddingInfo();t.innerElContext.setWidth(e-n.left-i.right-t.labelContext.getProp("width"))}},beginLayoutFixed:function(t,e,i){var n=this.ieInputWidthAdjustment;n&&this.owner.bodyEl.setStyle("padding-right",n+"px"),this.callParent(arguments)}}),Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:Ext.layout.container.Anchor,alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:!0,type:"absolute",adjustWidthAnchor:function(t,e){var i=this.targetPadding;return t-e.getStyle("left")+i.left},adjustHeightAnchor:function(t,e){var i=this.targetPadding;return t-e.getStyle("top")+i.top},isItemLayoutRoot:function(t){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(t){return!0},beginLayout:function(t){var e=this.getTarget();this.callParent(arguments),e.dom!==document.body&&e.position(),this.targetPadding=t.targetContext.getPaddingInfo()},isItemBoxParent:function(t){return!0},onContentChange:function(){return!this.ignoreOnContentChange&&this.callParent(arguments)},calculateContentSize:function(t,e){var i,n,s,r,o,a,l,h=(e||0)|(t.widthModel.shrinkWrap?1:0)|(t.heightModel.shrinkWrap?2:0),d=1&h||void 0,c=2&h||void 0,u=t.childItems,f=u.length,p=0,g=0,m=0,x=t.props;if(d&&(isNaN(x.contentWidth)?++m:d=void 0),c&&(isNaN(x.contentHeight)?++m:c=void 0),m){for(o=0;o<f;++o)if(s=u[o],n=s.target,r=c&&s.getProp("height"),l=d&&s.getProp("width"),a=s.getMarginInfo(),r+=a.bottom,l+=a.right,p=Math.max(p,(n.y||0)+r),g=Math.max(g,(n.x||0)+l),isNaN(p)&&isNaN(g))return void(this.done=!1);(d||c)&&(i=t.targetContext.getPaddingInfo()),d&&!t.setContentWidth(g+i.width)&&(this.done=!1),c&&!t.setContentHeight(p+i.height)&&(this.done=!1)}}}),Ext.define("Ext.layout.container.Accordion",{extend:Ext.layout.container.VBox,alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:void 0,animate:!0,activeOnTop:!1,multi:!1,defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){this.callParent(arguments),!this.multi&&this.animate?this.animatePolicy=Ext.apply({},this.defaultAnimatePolicy):this.animatePolicy=null},beforeRenderItems:function(t){for(var e,i=t.length,n=0,s=this.owner,r=this.collapseFirst,o=Ext.isDefined(r),a=this.getExpanded(!0)[0],l=this.multi;n<i;n++)(e=t[n]).rendered||(l&&!1===e.collapsible||(e.collapsible=!0),e.collapsible&&(o&&(e.collapseFirst=r),this.hideCollapseTool?(e.hideCollapseTool=this.hideCollapseTool,e.titleCollapse=!0):this.titleCollapse&&void 0===e.titleCollapse&&(e.titleCollapse=this.titleCollapse)),delete e.hideHeader,delete e.width,e.title=e.title||"&#160;",e.addBodyCls(Ext.baseCSSPrefix+"accordion-body"),l||(a?e.collapsed=a!==e:e.hasOwnProperty("collapsed")&&!1===e.collapsed?a=e:e.collapsed=!0,s.mon(e,{show:this.onComponentShow,beforeexpand:this.onComponentExpand,beforecollapse:this.onComponentCollapse,scope:this})),s.mon(e,"beforecollapse",this.onComponentCollapse,this),e.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over");l||(a?this.activeOnTop&&(a.collapsed=!1,this.configureItem(a),s.items.indexOf(a)>0&&s.insert(0,a)):i&&(t[0].collapsed=!1))},getItemsRenderTree:function(t){return this.beforeRenderItems(t),this.callParent(arguments)},renderItems:function(t,e){this.beforeRenderItems(t),this.callParent(arguments)},configureItem:function(t){this.callParent(arguments),t.animCollapse=t.border=!1,this.fill&&(t.flex=1)},beginLayout:function(t){this.callParent(arguments),this.updatePanelClasses(t)},updatePanelClasses:function(t){var e,i,n,s=t.visibleItems,r=s.length,o=!0;for(e=0;e<r;e++)(n=(i=s[e]).header).addCls(Ext.baseCSSPrefix+"accordion-hd"),o?n.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"):n.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),e+1==r&&i.collapsed?n.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):n.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),o=i.collapsed},onComponentExpand:function(t){var e,i,n,s,r=this.owner,o=this.multi,a=(this.animate,!o&&!this.animate&&this.activeOnTop);if(!this.processing){for(this.processing=!0,s=r.deferLayouts,r.deferLayouts=!0,i=(e=o?[]:this.getExpanded()).length,n=0;n<i;n++)e[n].collapse();a&&(Ext.suspendLayouts(),r.insert(0,t),Ext.resumeLayouts()),r.deferLayouts=s,this.processing=!1}},onComponentCollapse:function(t){var e,i,n=this.owner;if(1===this.owner.items.getCount())return!1;this.processing||(this.processing=!0,i=n.deferLayouts,n.deferLayouts=!0,e=t.next()||t.prev(),this.multi?1===this.getExpanded().length&&e.expand():e&&e.expand(),n.deferLayouts=i,this.processing=!1)},onComponentShow:function(t){this.onComponentExpand(t)},getExpanded:function(t){for(var e,i=this.owner.items.items,n=i.length,s=0,r=[];s<n;++s)e=i[s],(t?e.hasOwnProperty("collapsed")&&!1===e.collapsed:!e.collapsed)&&r.push(e);return r}}),Ext.define("Ext.resizer.Splitter",{extend:Ext.Component,alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:!1,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,size:5,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var t,e=this.getCollapseTarget(),i=this.getCollapseDirection(),n=this.vertical,s=n?"width":"height",r=n?"height":"width";this.callParent(),this.hasOwnProperty(r)||(this[r]="100%"),this.hasOwnProperty(s)||(this[s]=this.size),e.collapsed&&this.addCls(this.collapsedClsInternal),t=this.baseCls+"-"+this.orientation,this.addCls(t),this.canResize||this.addCls(t+"-noresize"),Ext.applyIf(this.renderData,{collapseDir:i,collapsible:this.collapsible||e.collapsible}),this.protoEl.unselectable()},onRender:function(){this.callParent(arguments),!1!==this.performCollapse&&(this.renderData.collapsible&&this.mon(this.collapseEl,"click",this.toggleTargetCmp,this),this.collapseOnDblClick&&this.mon(this.el,"dblclick",this.toggleTargetCmp,this)),this.mon(this.getCollapseTarget(),{collapse:this.onTargetCollapse,expand:this.onTargetExpand,beforeexpand:this.onBeforeTargetExpand,beforecollapse:this.onBeforeTargetCollapse,scope:this}),this.canResize&&(this.tracker=Ext.create(this.getTrackerConfig()),this.relayEvents(this.tracker,["beforedragstart","dragstart","dragend"]))},getCollapseDirection:function(){var t,e,i,n,s=this.collapseDirection;return s||((t=this.collapseTarget).isComponent&&(s=t.collapseDirection),s||(n=this.ownerCt.layout.type,t.isComponent?(i=this.ownerCt.items,e=Number(i.indexOf(t)==i.indexOf(this)-1)<<1|Number("hbox"==n)):e=Number("prev"==this.collapseTarget)<<1|Number("hbox"==n),s=["bottom","right","top","left"][e]),this.collapseDirection=s),this.orientation="top"==s||"bottom"==s?"horizontal":"vertical",this[this.orientation]=!0,s},getCollapseTarget:function(){return this.collapseTarget.isComponent?this.collapseTarget:"prev"==this.collapseTarget?this.previousSibling():this.nextSibling()},setCollapseEl:function(t){var e=this.collapseEl;e&&e.setDisplayed(t)},onBeforeTargetExpand:function(t){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(t){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},onTargetExpand:function(t){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]),this.setCollapseEl("")},toggleTargetCmp:function(t,e){var i=this.getCollapseTarget(),n=i.placeholder;Ext.isFunction(i.expand)&&Ext.isFunction(i.collapse)&&(!(!n||n.hidden)||!i.hidden)&&(i.collapsed?i.expand():i.collapseDirection?i.collapse():i.collapse(this.renderData.collapseDir))},setSize:function(){this.callParent(arguments),Ext.isIE&&this.el&&this.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker),this.callParent()}}),Ext.define("Ext.resizer.BorderSplitter",{extend:Ext.resizer.Splitter,alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var t=this.callParent();return t.xclass="Ext.resizer.BorderSplitterTracker",t}}),Ext.define("Ext.layout.container.Border",{alias:"layout.border",extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",padding:void 0,percentageRe:/(\d+)%/,axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,collapseDirections:{north:"top",south:"bottom",east:"right",west:"left"},manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(t,e,i){var n,s,r,o,a,l,h,d,c,u,f,p=this.axisProps[i],g=!p.horizontal,m=p.sizeProp,x=0,E=t.childItems,y=E.length;for(s=0;s<y;++s)if(r=E[s],a=r.target,r.layoutPos={},a.region){if(r.region=l=a.region,r.isCenter=a.isCenter,r.isHorz=a.isHorz,r.isVert=a.isVert,r.weight=a.weight||this.regionWeights[l]||0,e[a.id]=r,a.isCenter){n=r,o=a.flex,t.centerRegion=n;continue}if(g!==r.isVert)continue;r.reverseWeighting=l==p.borderEnd,c=typeof(d=a[m]),a.collapsed||("string"==c&&(h=this.percentageRe.exec(d))?r.percentage=parseInt(h[1],10):a.flex&&(x+=r.flex=a.flex))}return n&&((f=(u=n.target).placeholderFor)?o||g!==f.collapsedVertical()||(o=0,n.collapseAxis=i):u.collapsed&&g===u.collapsedVertical()&&(o=0,n.collapseAxis=i)),null==o&&(o=1),x+=o,Ext.apply({before:g?"top":"left",totalFlex:x},p)},beginLayout:function(t){var e,i,n,s,r,o,a,l,h,d=this.getLayoutItems(),c=this.padding,u=typeof c,f=!1;for(c?"string"!=u&&"number"!=u||(c=Ext.util.Format.parseBox(c)):(c=t.getEl("getTargetEl").getPaddingInfo(),f=!0),t.outerPad=c,t.padOnContainer=f,s=0,n=d.length;s<n;++s)i=d[s],(o=this.getSplitterTarget(i))&&(a=void 0,l=!!i.hidden,o.split?l!==o.hidden&&(a=!o.hidden):o.isCollapsingOrExpanding&&(a=!!o.collapsed),!0===a?i.show():!1===a&&i.hide());for(this.callParent(arguments),n=(d=t.childItems).length,r={},t.borderAxisHorz=this.beginAxis(t,r,"horz"),t.borderAxisVert=this.beginAxis(t,r,"vert"),s=0;s<n;++s)e=d[s],(o=this.getSplitterTarget(e.target))&&((h=r[o.id])||((h=t.getEl(o.el,this)).region=o.region),e.collapseTarget=o=h,e.weight=o.weight,e.reverseWeighting=o.reverseWeighting,o.splitter=e,e.isHorz=o.isHorz,e.isVert=o.isVert);this.sortWeightedItems(d,"reverseWeighting"),this.setupSplitterNeighbors(d)},calculate:function(t){var e,i,n,s,r,o,a=this.getContainerSize(t),l=t.childItems,h=l.length,d=t.borderAxisHorz,c=t.borderAxisVert,u=t.outerPad,f=t.padOnContainer;for(d.begin=u.left,c.begin=u.top,r=d.end=d.flexSpace=a.width+(f?u.left:-u.right),o=c.end=c.flexSpace=a.height+(f?u.top:-u.bottom),e=0;e<h;++e)n=(i=l[e]).getMarginInfo(),(i.isHorz||i.isCenter)&&(d.addUnflexed(n.width),r-=n.width),(i.isVert||i.isCenter)&&(c.addUnflexed(n.height),o-=n.height),i.flex||i.percentage||(i.isHorz||i.isCenter&&"horz"===i.collapseAxis?(s=i.getProp("width"),d.addUnflexed(s),i.collapseTarget&&(r-=s)):(i.isVert||i.isCenter&&"vert"===i.collapseAxis)&&(s=i.getProp("height"),c.addUnflexed(s),i.collapseTarget&&(o-=s)));for(e=0;e<h;++e)n=(i=l[e]).getMarginInfo(),i.percentage&&(i.isHorz?(s=Math.ceil(r*i.percentage/100),s=i.setWidth(s),d.addUnflexed(s)):i.isVert&&(s=Math.ceil(o*i.percentage/100),s=i.setHeight(s),c.addUnflexed(s)));for(e=0;e<h;++e)(i=l[e]).isCenter||(this.calculateChildAxis(i,d),this.calculateChildAxis(i,c));this.finishAxis(t,c)+this.finishAxis(t,d)<2?this.done=!1:this.finishPositions(l)},calculateChildAxis:function(t,e){var i,n,s,r,o,a=t.collapseTarget,l="set"+e.sizePropCap,h=e.sizeProp,d=t.getMarginInfo()[h];a?i=a.region:(i=t.region,s=t.flex),(n=i==e.borderBegin)||i==e.borderEnd?(s?(o=Math.ceil(e.flexSpace*(s/e.totalFlex)),o=t[l](o)):o=t.percentage?t.peek(h):t.getProp(h),o+=d,n?(r=e.begin,e.begin+=o):e.end=r=e.end-o):(t[l](e.end-e.begin-d),r=e.begin),t.layoutPos[e.posProp]=r},finishAxis:function(t,e){var i=e.end-e.begin,n=t.centerRegion;return n&&(n["set"+e.sizePropCap](i-n.getMarginInfo()[e.sizeProp]),n.layoutPos[e.posProp]=e.begin),Ext.isNumber(i)?1:0},finishPositions:function(t){var e,i,n=t.length;for(e=0;e<n;++e)(i=t[e]).setProp("x",i.layoutPos.x+i.marginInfo.left),i.setProp("y",i.layoutPos.y+i.marginInfo.top)},getLayoutItems:function(){for(var t,e,i=this.owner,n=i&&i.items&&i.items.items||[],s=n.length,r=[],o=0;o<s;o++)e=(t=n[o]).placeholderFor,!t.hidden&&(t.floated&&2!==t.isCollapsingOrExpanding||e&&2===e.isCollapsingOrExpanding)||r.push(t);return r},getPlaceholder:function(t){return t.getPlaceholder&&t.getPlaceholder()},getSplitterTarget:function(t){var e=t.collapseTarget;return e&&e.collapsed?e.placeholder||e:e},isItemBoxParent:function(t){return!0},isItemShrinkWrap:function(t){return!0},insertSplitter:function(t,e,i){var n=t.region,s={xtype:"bordersplitter",collapseTarget:t,id:t.id+"-splitter",hidden:i,canResize:!1!==t.splitterResize},r=e+("south"==n||"east"==n?0:1);t.isHorz?s.height=null:s.width=null,"mini"==t.collapseMode&&(s.collapsedCls=t.collapsedCls),t.splitter=this.owner.add(r,s)},onAdd:function(t,e){var i,n,s=t.placeholderFor,r=t.region;this.callParent(arguments),r?(Ext.apply(t,this.regionFlags[r]),"center"==r?this.centerRegion=t:(t.collapseDirection=this.collapseDirections[r],i=t.split,n=!!t.hidden,!t.isHorz&&!t.isVert||!i&&"mini"!=t.collapseMode||this.insertSplitter(t,e,n||!i)),t.hasOwnProperty("collapseMode")||(t.collapseMode=this.panelCollapseMode),t.hasOwnProperty("animCollapse")||("placeholder"!=t.collapseMode?t.animCollapse=!1:t.animCollapse=this.panelCollapseAnimate)):s&&(Ext.apply(t,this.regionFlags[s.region]),t.region=s.region,t.weight=s.weight)},onDestroy:function(){this.centerRegion=null,this.callParent()},onRemove:function(t){var e=t.region,i=t.splitter;e&&(t.isCenter&&(this.centerRegion=null),delete t.isCenter,delete t.isHorz,delete t.isVert,i&&(this.owner.doRemove(i,!0),delete t.splitter)),this.callParent(arguments)},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0},south:{isCenter:!1,isHorz:!1,isVert:!0},west:{isCenter:!1,isHorz:!0,isVert:!1},east:{isCenter:!1,isHorz:!0,isVert:!1}},setupSplitterNeighbors:function(t){var e,i,n,s,r,o,a,l,h,d={},c=t.length,u=this.touchedRegions;for(e=0;e<c;++e)if(o=t[e].target,a=o.region,o.isCenter)n=o;else if(a){for(i=0,s=(h=u[a]).length;i<s;++i)(r=d[h[i]])&&r.neighbors.push(o);(l=o.placeholderFor?o.placeholderFor.splitter:o.splitter)&&(l.neighbors=[]),d[a]=l}if(n)for(i=0,s=(h=u.center).length;i<s;++i)(r=d[h[i]])&&r.neighbors.push(n)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(t){var e,i,n,s,r=this.sizePolicies;return t.isCenter?(s=t.placeholderFor)?s.collapsedVertical()?r.vert:r.horz:t.collapsed?t.collapsedVertical()?r.vert:r.horz:r.flexAll:(e=t.collapseTarget)?e.isVert?r.vert:r.horz:t.region?(t.isVert?(i=t.height,n=r.vert):(i=t.width,n=r.horz),t.flex||"string"==typeof i&&this.percentageRe.test(i)?r.flexAll:n):this.autoSizePolicy}},function(){var t={addUnflexed:function(t){this.flexSpace=Math.max(this.flexSpace-t,0)}},e=this.prototype.axisProps;Ext.apply(e.horz,t),Ext.apply(e.vert,t)}),Ext.define("Ext.layout.container.Card",{extend:Ext.layout.container.Fit,alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var t=this.getActiveItem();if(t){if(t.hasListeners.beforeactivate&&!1===t.fireEvent("beforeactivate",t)?t=this.activeItem=this.owner.activeItem=null:t.hasListeners.activate&&t.on({boxready:function(){t.fireEvent("activate",t)},single:!0}),!this.deferredRender)return this.callParent(arguments);if(t)return this.getItemsRenderTree([t])}},renderChildren:function(){var t=this.getActiveItem();this.deferredRender?t&&this.renderItems([t],this.getRenderTarget()):this.callParent()},isValidParent:function(t,e,i){var n=t.el?t.el.dom:Ext.getDom(t);return n&&n.parentNode===(e.dom||e)||!1},getActiveItem:function(){var t=this.parseActiveItem(this.activeItem||this.owner&&this.owner.activeItem);return t&&-1!=this.owner.items.indexOf(t)?this.activeItem=t:this.activeItem=null,this.activeItem},parseActiveItem:function(t){return t&&t.isComponent?t:"number"==typeof t||void 0===t?this.getLayoutItems()[t||0]:this.owner.getComponent(t)},configureItem:function(t){t===this.getActiveItem()?t.hidden=!1:t.hidden=!0,this.callParent(arguments)},onRemove:function(t){t===this.activeItem&&(this.activeItem=null)},getAnimation:function(t,e){var i=(t||{}).cardSwitchAnimation;return!1!==i&&(i||e.cardSwitchAnimation)},getNext:function(){var t=arguments[0],e=this.getLayoutItems();return e[Ext.Array.indexOf(e,this.activeItem)+1]||!!t&&e[0]},next:function(){var t=arguments[0],e=arguments[1];return this.setActiveItem(this.getNext(e),t)},getPrev:function(){var t=arguments[0],e=this.getLayoutItems();return e[Ext.Array.indexOf(e,this.activeItem)-1]||!!t&&e[e.length-1]},prev:function(){var t=arguments[0],e=arguments[1];return this.setActiveItem(this.getPrev(e),t)},setActiveItem:function(t){var e=this.owner,i=this.activeItem,n=e.rendered;return t=this.parseActiveItem(t),-1==e.items.indexOf(t)&&(e.items.items.length,Ext.suspendLayouts(),t=e.add(t),Ext.resumeLayouts()),!(!t||i==t)&&(!1!==t.fireEvent("beforeactivate",t,i)&&((!i||!1!==i.fireEvent("beforedeactivate",i,t))&&(n?(Ext.suspendLayouts(),t.rendered||this.renderItem(t,this.getRenderTarget(),e.items.length),i&&(this.hideInactive&&(i.hide(),i.hiddenByLayout=!0),i.fireEvent("deactivate",i,t)),t.hidden&&t.show(),t.hidden||(this.activeItem=t),Ext.resumeLayouts(!0)):this.activeItem=t,t.fireEvent("activate",t,i),this.activeItem)))}}),Ext.define("Ext.layout.container.Column",{extend:Ext.layout.container.Auto,alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,isItemShrinkWrap:function(t){return!0},getItemSizePolicy:function(t,e){return t.columnWidth&&(e||(e=this.owner.getSizeModel()),!e.width.shrinkWrap)?this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(t,e){var i,n,s,r,o,a,l=t.targetContext,h=t.childItems,d=h.length,c=0,u=e.gotWidth;if(!1===u)l.domBlock(this,"width"),i=!0;else{if(!u)return!0;n=e.width}for(s=0;s<d;++s)o=(r=h[s]).getMarginInfo().width,r.widthModel.calculated||("number"!=typeof(a=r.getProp("width"))&&(r.block(this,"width"),i=!0),c+=a+o);if(!i){for(n=n<c?0:n-c,s=0;s<d;++s)(r=h[s]).widthModel.calculated&&(o=r.marginInfo.width,a=r.target.columnWidth,a=Math.floor(a*n)-o,c+=(a=r.setWidth(a))+o);t.setContentWidth(c+t.paddingContext.getPaddingInfo().width)}return!i},setCtSizeIfNeeded:function(t,e){var i=t.paddingContext.getPaddingInfo();this.callParent(arguments),(Ext.isIEQuirks||Ext.isIE7m)&&this.isShrinkWrapTpl&&i.right&&t.outerCtContext.setProp("width",e.width+i.left)}}),Ext.define("Ext.layout.container.Form",{alias:"layout.form",extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FormLayout",tableCls:Ext.baseCSSPrefix+"form-layout-table",type:"form",createsInnerCt:!0,manageOverflow:!0,lastOverflowAdjust:{width:0,height:0},childEls:["formTable"],padRow:'<tr><td class="'+Ext.baseCSSPrefix+'form-item-pad" colspan="3"></td></tr>',renderTpl:['<table id="{ownerId}-formTable" class="{tableCls}" style="width:100%" cellpadding="0">',"{%this.renderBody(out,values)%}","</table>","{%this.renderPadder(out,values)%}"],getRenderData:function(){var t=this.callParent();return t.tableCls=this.tableCls,t},calculate:function(t){var e,i,n,s=this.getContainerSize(t,!0),r=0;if(t.sizeModel.height.shrinkWrap&&(t.hasDomProp("containerChildrenSizeDone")?t.setProp("contentHeight",this.formTable.dom.offsetHeight+t.targetContext.getPaddingInfo().height):this.done=!1),s.gotWidth)for(e=this.formTable.dom.offsetWidth,n=(i=t.childItems).length;r<n;++r)i[r].setWidth(e,!1);else this.done=!1},getRenderTarget:function(){return this.formTable},getRenderTree:function(){var t,e,i=this.callParent(arguments);for(t=0,e=i.length;t<e;t++)i[t]=this.transformItemRenderTree(i[t]);return i},transformItemRenderTree:function(t){return t.tag&&"table"==t.tag?(t.tag="tbody",delete t.cellspacing,delete t.cellpadding,Ext.isIE6&&(t.cn=this.padRow),t):{tag:"tbody",cn:{tag:"tr",cn:{tag:"td",colspan:3,style:"width:100%",cn:t}}}},isValidParent:function(t,e,i){return!0},isItemShrinkWrap:function(t){return 2&(!0===t.shrinkWrap?3:t.shrinkWrap||0)},getItemSizePolicy:function(t){return{setsWidth:1,setsHeight:0}},beginLayoutCycle:function(t,e){var i=this.overflowPadderEl;i&&i.setStyle("display","none"),t.state.overflowAdjust||(t.state.overflowAdjust=this.lastOverflowAdjust)},calculateOverflow:function(t,e,i){var n,s,r,o,a,l,h,d,c,u,f,p,g,m=t.targetContext,x=this.manageOverflow,E=t.state,y=E.overflowAdjust;!x||E.secondPass||this.reserveScrollbar||(p="auto"===this.getOverflowXStyle(t),g="auto"===this.getOverflowYStyle(t),e.gotWidth||(p=!1),e.gotHeight||(g=!1),(p||g)&&(l=Ext.getScrollbarSize(),h=t.peek("contentWidth"),d=t.peek("contentHeight"),h-=(o=m.getPaddingInfo()).width,d-=o.height,c=e.width,u=e.height,f=this.getScrollbarsNeeded(c,u,h,d),E.overflowState=f,"number"==typeof i&&(f&=~i),(y={width:p&&2&f?l.width:0,height:g&&1&f?l.height:0}).width===this.lastOverflowAdjust.width&&y.height===this.lastOverflowAdjust.height||(this.done=!1,t.invalidate({state:{overflowAdjust:y,overflowState:E.overflowState,secondPass:!0}})))),this.done&&(r=t.padElContext||(t.padElContext=t.getEl("overflowPadderEl",this)))&&(f=E.overflowState,n=t.peek("contentWidth"),s=1,f?(o=m.getPaddingInfo(),a=this.scrollRangeFlags,2&f&&1&a&&(s+=o.bottom),1&f&&4&a&&(n+=o.right),r.setProp("display",""),r.setSize(n,s)):r.setProp("display","none"))},completeLayout:function(t){this.lastOverflowAdjust=t.state.overflowAdjust},doRenderPadder:function(t,e){var i=e.$layout,n=i.owner,s=i.getScrollRangeFlags();i.manageOverflow&&5&s&&(t.push('<div id="',n.id,'-overflowPadderEl" ','style="font-size: 1px; height: 1px; margin-top: -1px; position: relative; z-index: -99999'),t.push('"></div>'),i.scrollRangeFlags=s)},getContainerSize:function(t,e,i){var n,s,r,o,a=t.targetContext,l=a.getFrameInfo(),h=a.getPaddingInfo(),d=0,c=0,u=i?null:t.state.overflowAdjust;return t.widthModel.shrinkWrap||(++c,(n="number"==typeof(r=e?a.getDomProp("width"):a.getProp("width")))&&(++d,r-=l.width+h.width,u&&(r-=u.width))),t.heightModel.shrinkWrap||(++c,(s="number"==typeof(o=e?a.getDomProp("height"):a.getProp("height")))&&(++d,o-=l.height+h.height,u&&(o-=u.height))),{width:r,height:o,needed:c,got:d,gotAll:d==c,gotWidth:n,gotHeight:s}},getOverflowXStyle:function(t){return this.overflowXStyle||(this.overflowXStyle=this.owner.scrollFlags.overflowX||t.targetContext.getStyle("overflow-x"))},getOverflowYStyle:function(t){return this.overflowYStyle||(this.overflowYStyle=this.owner.scrollFlags.overflowY||t.targetContext.getStyle("overflow-y"))},getScrollRangeFlags:function(){var t=-1;return function(){if(t<0){var e=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]}),i=e.dom.scrollHeight,n=e.dom.scrollWidth;t=({175:0,165:1,170:2,160:3}[i]||0)|({175:0,165:4,170:8,160:12}[n]||0),e.remove()}return t}}(),initLayout:function(){var t=Ext.getScrollbarSize().width;this.callParent(),t&&this.manageOverflow&&!this.hasOwnProperty("lastOverflowAdjust")&&(this.owner.scrollFlags.y||this.reserveScrollbar)&&(this.lastOverflowAdjust={width:t,height:0})},setupRenderTpl:function(t){this.callParent(arguments),t.renderPadder=this.doRenderPadder}}),Ext.define("Ext.menu.Item",{extend:Ext.Component,alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:1,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,isMenuItem:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl"',' class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}"',' href="{href}"','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" unselectable="on">{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}','{childElCls}"/>',"</a>","</tpl>"],maskOnDisable:!1,activate:function(){!this.activated&&this.canActivate&&this.rendered&&!this.isDisabled()&&this.isVisible()&&(this.el.addCls(this.activeCls),this.focus(),this.activated=!0,this.fireEvent("activate",this))},getFocusEl:function(){return this.itemEl},deactivate:function(){this.activated&&(this.el.removeCls(this.activeCls),this.blur(),this.hideMenu(),this.activated=!1,this.fireEvent("deactivate",this))},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var t;Ext.menu.Manager.hideAll(),Ext.Element.getActiveElement()||(t=this.up(":not([hidden])"))&&t.focus()},expandMenu:function(t){this.menu&&(this.cancelDeferHide(),0===t?this.doExpandMenu():(clearTimeout(this.expandMenuTimer),this.expandMenuTimer=Ext.defer(this.doExpandMenu,Ext.isNumber(t)?t:this.menuExpandDelay,this)))},doExpandMenu:function(){var t=this.menu;!this.activated||t.rendered&&t.isVisible()||(this.parentMenu.activeChild=t,t.parentItem=this,t.parentMenu=this.parentMenu,t.showBy(this,this.menuAlign))},getRefItems:function(t){var e,i=this.menu;return i&&(e=i.getRefItems(t)).unshift(i),e||[]},hideMenu:function(t){this.menu&&(clearTimeout(this.expandMenuTimer),this.hideMenuTimer=Ext.defer(this.deferHideMenu,Ext.isNumber(t)?t:this.menuHideDelay,this))},initComponent:function(){var t,e=Ext.baseCSSPrefix,i=[e+"menu-item"];this.addEvents("activate","click","deactivate","textchange","iconchange"),this.plain&&i.push(e+"menu-item-plain"),this.cls&&i.push(this.cls),this.cls=i.join(" "),this.menu&&(t=this.menu,delete this.menu,this.setMenu(t)),this.callParent(arguments)},onClick:function(t){this.href||t.stopEvent(),this.disabled||(this.hideOnClick&&(this.deferHideParentMenusTimer=Ext.defer(this.deferHideParentMenus,this.clickHideDelay,this)),Ext.callback(this.handler,this.scope||this,[this,t]),this.fireEvent("click",this,t),this.hideOnClick||this.focus())},onRemoved:function(){this.activated&&this.parentMenu.activeItem===this&&this.parentMenu.deactivateActiveItem(),this.callParent(arguments),this.parentMenu=this.ownerButton=null},beforeDestroy:function(){this.rendered&&this.clearTip(),this.callParent()},onDestroy:function(){clearTimeout(this.expandMenuTimer),this.cancelDeferHide(),clearTimeout(this.deferHideParentMenusTimer),this.setMenu(null),this.callParent(arguments)},beforeRender:function(){var t,e,i,n=Ext.BLANK_IMAGE_URL,s=this.glyph,r=Ext._glyphFontFamily;this.callParent(),"right"===this.iconAlign?(e=this.checkChangeDisabled?this.disabledCls:"",i=Ext.baseCSSPrefix+"menu-item-icon-right "+this.iconCls):(e=(this.iconCls||"")+(this.checkChangeDisabled?" "+this.disabledCls:""),i=this.menu?this.arrowCls:""),"string"==typeof s&&(s=(t=s.split("@"))[0],r=t[1]),Ext.applyIf(this.renderData,{href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon,iconCls:e,glyph:s,glyphCls:s?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:r,hasIcon:!!(this.icon||this.iconCls||s),iconAlign:this.iconAlign,plain:this.plain,text:this.text,arrowCls:i,blank:n,tabIndex:this.tabIndex})},onRender:function(){this.callParent(arguments),this.tooltip&&this.setTooltip(this.tooltip,!0)},setMenu:function(t,e){var i=this.menu,n=this.arrowEl;i&&(delete i.parentItem,delete i.parentMenu,delete i.ownerItem,(!0===e||!1!==e&&this.destroyMenu)&&Ext.destroy(i)),t?(this.menu=Ext.menu.Manager.get(t),this.menu.ownerItem=this):this.menu=null,this.rendered&&!this.destroying&&n&&n[this.menu?"addCls":"removeCls"](this.arrowCls)},setHandler:function(t,e){this.handler=t||null,this.scope=e},setIcon:function(t){var e=this.iconEl,i=this.icon;e&&(e.src=t||Ext.BLANK_IMAGE_URL),this.icon=t,this.fireEvent("iconchange",this,i,t)},setIconCls:function(t){var e=this.iconEl,i=this.iconCls;e&&(this.iconCls&&e.removeCls(this.iconCls),t&&e.addCls(t)),this.iconCls=t,this.fireEvent("iconchange",this,i,t)},setText:function(t){var e=this.textEl||this.el,i=this.text;this.text=t,this.rendered&&(e.update(t||""),this.ownerCt.updateLayout()),this.fireEvent("textchange",this,i,t)},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(t,e){return this.rendered?(e||this.clearTip(),Ext.quickTipsActive&&Ext.isObject(t)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.itemEl.id},t)),this.tooltip=t):this.itemEl.dom.setAttribute(this.getTipAttr(),t)):this.tooltip=t,this}}),Ext.define("Ext.menu.CheckItem",{extend:Ext.menu.Item,alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,childEls:["itemEl","iconEl","textEl","checkEl"],showCheckbox:!0,renderTpl:['<tpl if="plain">',"{text}","<tpl else>","{%var showCheckbox = values.showCheckbox,",'      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "'+Ext.baseCSSPrefix+'right-check-item-text" : "";%}','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'{%if (values.hasIcon && (values.iconAlign !== "left")) {%}','<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>","{%} else if (showCheckbox){%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon{childElCls}" />',"{%}%}",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>',"{%if (rightCheckbox) {%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon-right{childElCls}" />',"{%} else if (values.arrowCls) {%}",'<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>',"{%}%}","</a>","</tpl>"],initComponent:function(){this.checked=!!this.checked,this.addEvents("beforecheckchange","checkchange"),this.callParent(arguments),Ext.menu.Manager.registerCheckable(this),this.group&&(this.iconCls||this.icon||this.glyph||(this.iconCls=this.groupCls),!1!==this.initialConfig.hideOnClick&&(this.hideOnClick=!0))},beforeRender:function(){this.callParent(),this.renderData.showCheckbox=this.showCheckbox},afterRender:function(){this.callParent(),this.checked=!this.checked,this.setChecked(!this.checked,!0),this.checkChangeDisabled&&this.disableCheckChange()},disableCheckChange:function(){var t=this.checkEl;t&&t.addCls(this.disabledCls),Ext.isIE10p||Ext.isIE9&&Ext.isStrict||!this.rendered||this.el.repaint(),this.checkChangeDisabled=!0},enableCheckChange:function(){var t=this.checkEl;t&&t.removeCls(this.disabledCls),this.checkChangeDisabled=!1},onClick:function(t){this.disabled||this.checkChangeDisabled||this.checked&&this.group||this.setChecked(!this.checked),this.callParent([t])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent(arguments)},setChecked:function(t,e){this.checked===t||!e&&!1===this.fireEvent("beforecheckchange",this,t)||(this.el&&this.el[t?"addCls":"removeCls"](this.checkedCls)[t?"removeCls":"addCls"](this.uncheckedCls),this.checked=t,Ext.menu.Manager.onCheckChange(this,t),e||(Ext.callback(this.checkHandler,this.scope,[this,t]),this.fireEvent("checkchange",this,t)))}}),Ext.define("Ext.menu.KeyNav",{extend:Ext.util.KeyNav,constructor:function(t){this.menu=t.target,this.callParent([Ext.apply({down:this.down,enter:this.enter,esc:this.escape,left:this.left,right:this.right,space:this.enter,tab:this.tab,up:this.up},t)])},down:function(t){var e=this.menu.focusedItem;if(e&&t.getKey()==Ext.EventObject.DOWN&&this.isWhitelisted(e))return!0;this.focusNextItem(1)},enter:function(t){var e=this.menu,i=e.focusedItem;if(e.activeItem)e.onClick(t);else if(i&&i.isFormField)return!0},escape:function(t){Ext.menu.Manager.hideAll()},focusNextItem:function(t){for(var e,i=this.menu,n=i.items,s=i.focusedItem,r=s?n.indexOf(s):-1,o=r+t,a=n.length,l=0;l<a&&o!==r;){if(o<0?o=a-1:o>=a&&(o=0),e=n.getAt(o),i.canActivateItem(e)){i.setActiveItem(e);break}o+=t,++l}},isWhitelisted:function(t){return Ext.FocusManager.isWhitelisted(t)},left:function(t){var e=this.menu,i=e.focusedItem;if(i&&this.isWhitelisted(i))return!0;e.hide(),e.parentMenu&&e.parentMenu.focus()},right:function(t){var e,i=this.menu,n=i.focusedItem,s=i.activeItem;if(n&&this.isWhitelisted(n))return!0;s&&(e=i.activeItem.menu)&&(s.expandMenu(0),e.setActiveItem(e.child(":focusable")))},tab:function(t){t.shiftKey?this.up(t):this.down(t)},up:function(t){var e=this.menu.focusedItem;if(e&&t.getKey()==Ext.EventObject.UP&&this.isWhitelisted(e))return!0;this.focusNextItem(-1)}}),Ext.define("Ext.menu.Separator",{extend:Ext.menu.Item,alias:"widget.menuseparator",canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(t,e){this.callParent(),this.addCls(this.separatorCls)}}),Ext.define("Ext.menu.Menu",{extend:Ext.panel.Panel,alias:"widget.menu",enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,initComponent:function(){var t=Ext.baseCSSPrefix,e=[t+"menu"],i=this.bodyCls?[this.bodyCls]:[],n=!1!==this.floating;this.addEvents("click","mouseenter","mouseleave","mouseover"),Ext.menu.Manager.register(this),this.plain&&e.push(t+"menu-plain"),this.cls=e.join(" "),i.push(t+"menu-body",Ext.dom.Element.unselectableCls),this.bodyCls=i.join(" "),this.layout||(this.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}),n?void 0===this.minWidth&&(this.minWidth=this.defaultMinWidth):this.hidden=!!this.initialConfig.hidden,this.callParent(arguments)},registerWithOwnerCt:function(){this.floating&&(this.ownerCt=null,Ext.WindowManager.register(this))},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return this.callParent()},getHierarchyState:function(){var t=this.callParent();return t.hidden=this.hidden,t},beforeRender:function(){this.callParent(arguments),this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){this.callParent(arguments),this.showSeparator&&(this.iconSepEl=this.layout.getElementTarget().insertFirst({cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"})),this.mon(this.el,{click:this.onClick,mouseover:this.onMouseOver,scope:this}),this.mouseMonitor=this.el.monitorMouseLeave(100,this.onMouseLeave,this),this.enableKeyNav&&(this.keyNav=new Ext.menu.KeyNav({target:this,keyMap:this.getKeyMap()}))},getRefOwner:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(t){return t&&!t.isDisabled()&&t.isVisible()&&(t.canActivate||t.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(t){var e=this.activeItem,i=this.focusedItem;e&&(e.deactivate(),e.activated||delete this.activeItem),i&&t&&(i.blur(),delete this.focusedItem)},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(!0),this.callParent(arguments)},getItemFromEvent:function(t){return this.getChildByElement(t.getTarget())},lookupComponent:function(t){return"string"==typeof t?t=this.lookupItemFromString(t):Ext.isObject(t)&&(t=this.lookupItemFromObject(t)),t.minWidth=t.minWidth||this.minWidth,t},lookupItemFromObject:function(t){var e,i=Ext.baseCSSPrefix;return t.isComponent||(t=t.xtype?Ext.ComponentManager.create(t,t.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(t.checked)?"Check":"")+"Item",t)),t.isMenuItem&&(t.parentMenu=this),t.isMenuItem||t.dock||(e=[i+"menu-item-cmp"],this.plain||!1===t.indent&&"no-icon"!==t.iconCls||e.push(i+"menu-item-indent"),t.rendered?t.el.addCls(e):t.cls=(t.cls||"")+" "+e.join(" ")),t},lookupItemFromString:function(t){return"separator"==t||"-"==t?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:t})},onClick:function(t){var e;this.disabled?t.stopEvent():((e="click"===t.type?this.getItemFromEvent(t):this.activeItem)&&e.isMenuItem&&(e.menu&&this.ignoreParentClicks?t.stopEvent():e.onClick(t)),e&&!e.disabled||(e=void 0),this.fireEvent("click",this,e,t))},onDestroy:function(){Ext.menu.Manager.unregister(this),this.parentMenu=this.ownerButton=null,this.rendered&&(this.el.un(this.mouseMonitor),Ext.destroy(this.keyNav),this.keyNav=null),this.callParent(arguments)},onMouseLeave:function(t){this.deactivateActiveItem(),this.disabled||this.fireEvent("mouseleave",this,t)},onMouseOver:function(t){var e=t.getRelatedTarget(),i=!this.el.contains(e),n=this.getItemFromEvent(t),s=this.parentMenu,r=this.parentItem;i&&s&&(s.setActiveItem(r),r.cancelDeferHide(),s.mouseMonitor.mouseenter()),this.disabled||(n&&!n.activated&&(this.setActiveItem(n),n.activated&&n.expandMenu&&n.expandMenu()),i&&this.fireEvent("mouseenter",this,t),this.fireEvent("mouseover",this,n,t))},setActiveItem:function(t){t&&t!=this.activeItem&&(this.deactivateActiveItem(),this.canActivateItem(t)&&(t.activate?(t.activate(),t.activated&&(this.activeItem=t,this.focusedItem=t,this.focus())):(t.focus(),this.focusedItem=t)),t.el.scrollIntoView(this.layout.getRenderTarget()))},showBy:function(t,e,i){return this.callParent(arguments),this.hidden||this.setVerticalPosition(),this},show:function(){var t,e=this.maxHeight;return this.rendered||this.doAutoRender(),this.floating&&(t=this.el.parent().getViewSize().height,this.maxHeight=Math.min(e||t,t)),this.callParent(arguments),this.maxHeight=e,this},setVerticalPosition:function(){var t,e=this.getY(),i=e,n=this.getHeight(),s=Ext.Element.getViewportHeight().height,r=this.el.parent(),o=r.getViewSize().height,a=e-r.getScroll().top;r=null,this.floating&&(t=this.maxHeight?this.maxHeight:o-a,n>o?i=e-a:t<n?i=e-(n-t):e+n>s&&(i=s-n)),this.setY(i)}}),Ext.define("Ext.menu.ColorPicker",{extend:Ext.menu.Menu,alias:"widget.colormenu",hideOnClick:!0,pickerId:null,initComponent:function(){var t=Ext.apply({},this.initialConfig);delete t.listeners,Ext.apply(this,{plain:!0,showSeparator:!1,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",id:this.pickerId,xtype:"colorpicker"},t)}),this.callParent(arguments),this.picker=this.down("colorpicker"),this.relayEvents(this.picker,["select"]),this.hideOnClick&&this.on("select",this.hidePickerOnSelect,this)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.menu.DatePicker",{extend:Ext.menu.Menu,alias:"widget.datemenu",hideOnClick:!0,pickerId:null,initComponent:function(){var t=Ext.apply({},this.initialConfig);delete t.listeners,Ext.apply(this,{showSeparator:!1,plain:!0,border:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",id:this.pickerId,xtype:"datepicker"},t)}),this.callParent(arguments),this.picker=this.down("datepicker"),this.relayEvents(this.picker,["select"]),this.hideOnClick&&this.on("select",this.hidePickerOnSelect,this)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.panel.Tool",{extend:Ext.Component,alias:"widget.tool",isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],tooltipType:"qtip",stopEvent:!0,height:15,width:15,initComponent:function(){this.addEvents("click"),this.type=this.type||this.id,Ext.applyIf(this.renderData,{baseCls:this.baseCls,blank:Ext.BLANK_IMAGE_URL,type:this.type}),this.tooltip=this.tooltip||this.qtip,this.callParent()},afterRender:function(){var t;this.callParent(arguments),this.el.on({click:this.onClick,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this}),this.tooltip&&(Ext.quickTipsActive&&Ext.isObject(this.tooltip)?Ext.tip.QuickTipManager.register(Ext.apply({target:this.id},this.tooltip)):(t="qtip"==this.tooltipType?"data-qtip":"title",this.el.dom.setAttribute(t,this.tooltip)))},getFocusEl:function(){return this.el},setType:function(t){var e=this.type;return this.type=t,this.rendered?(e&&this.toolEl.removeCls(this.baseCls+"-"+e),this.toolEl.addCls(this.baseCls+"-"+t)):this.renderData.type=t,this},onClick:function(t,e){return!this.disabled&&(this.el.removeCls(this.toolPressedCls),this.el.removeCls(this.toolOverCls),!1!==this.stopEvent&&t.stopEvent(),Ext.callback(this.handler,this.scope||this,[t,e,this.ownerCt,this]),this.fireEvent("click",this,t),!0)},onDestroy:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id),this.callParent()},onMouseDown:function(){if(this.disabled)return!1;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}),Ext.define("Ext.resizer.SplitterTracker",{extend:Ext.dd.DragTracker,enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var t;(t=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"})).unselectable(),t.setSize(Ext.Element.getViewWidth(!0),Ext.Element.getViewHeight(!0)),t.show()},getPrevCmp:function(){return this.getSplitter().previousSibling(":not([hidden])")},getNextCmp:function(){return this.getSplitter().nextSibling(":not([hidden])")},onBeforeStart:function(t){var e,i=this.getPrevCmp(),n=this.getNextCmp(),s=this.getSplitter().collapseEl,r=t.getTarget();return!(!i||!n)&&((!s||r!==this.getSplitter().collapseEl.dom)&&(!n.collapsed&&!i.collapsed&&(this.prevBox=i.getEl().getBox(),this.nextBox=n.getEl().getBox(),this.constrainTo=e=this.calculateConstrainRegion(),e||!1)))},onStart:function(t){var e=this.getSplitter();this.createDragOverlay(),e.addCls(e.baseCls+"-active")},calculateConstrainRegion:function(){var t,e,i,n=this.getSplitter(),s=n.getWidth(),r=n.defaultSplitMin,o=n.orientation,a=this.prevBox,l=this.getPrevCmp(),h=this.nextBox,d=this.getNextCmp();return"vertical"===o?(i={prevCmp:l,nextCmp:d,prevBox:a,nextBox:h,defaultMin:r,splitWidth:s},t=new Ext.util.Region(a.y,this.getVertPrevConstrainRight(i),a.bottom,this.getVertPrevConstrainLeft(i)),e=new Ext.util.Region(h.y,this.getVertNextConstrainRight(i),h.bottom,this.getVertNextConstrainLeft(i))):(t=new Ext.util.Region(a.y+(l.minHeight||r),a.right,(l.maxHeight?a.y+l.maxHeight:h.bottom-(d.minHeight||r))+s,a.x),e=new Ext.util.Region((d.maxHeight?h.bottom-d.maxHeight:a.y+(l.minHeight||r))-s,h.right,h.bottom-(d.minHeight||r),h.x)),t.intersect(e)},performResize:function(t,e){for(var i,n,s=this.getSplitter(),r=s.orientation,o=this.getPrevCmp(),a=this.getNextCmp(),l=s.ownerCt,h=l.query(">[flex]"),d=h.length,c="vertical"===r,u=0,f=c?"width":"height",p=0;u<d;u++)i=h[u],p+=n=c?i.getWidth():i.getHeight(),i.flex=n;e=c?e[0]:e[1],o&&(n=this.prevBox[f]+e,o.flex?o.flex=n:o[f]=n),a&&(n=this.nextBox[f]-e,a.flex?a.flex=n:a[f]=n),l.updateLayout()},endDrag:function(){this.overlay&&(this.overlay.remove(),delete this.overlay),this.callParent(arguments)},onEnd:function(t){var e=this.getSplitter();e.removeCls(e.baseCls+"-active"),this.performResize(t,this.getResizeOffset())},onDrag:function(t){var e=this.getOffset("dragTarget"),i=this.getSplitter(),n=i.getEl();"vertical"===i.orientation?n.setX(this.startRegion.left+e[0]):n.setY(this.startRegion.top+e[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(t){return(t.prevCmp.maxWidth?t.prevBox.x+t.prevCmp.maxWidth:t.nextBox.right-(t.nextCmp.minWidth||t.defaultMin))+t.splitWidth},getVertPrevConstrainLeft:function(t){return t.prevBox.x+(t.prevCmp.minWidth||t.defaultMin)},getVertNextConstrainRight:function(t){return t.nextBox.right-(t.nextCmp.minWidth||t.defaultMin)},getVertNextConstrainLeft:function(t){return(t.nextCmp.maxWidth?t.nextBox.right-t.nextCmp.maxWidth:t.prevBox.x+(t.prevBox.minWidth||t.defaultMin))-t.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}}),Ext.define("Ext.resizer.BorderSplitterTracker",{extend:Ext.resizer.SplitterTracker,getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var t,e,i,n,s,r,o,a=this.splitter,l=a.collapseTarget,h=a.defaultSplitMin,d=a.vertical?"Width":"Height",c="min"+d,u="max"+d,f="get"+d,p=a.neighbors,g=p.length,m=l.el.getBox(),x=m.x,E=m.y,y=m.right,v=m.bottom,b=a.vertical?y-x:v-E;for(i=(l[c]||Math.min(b,h))-b,(n=l[u])?n-=b:n=1e9,o=b,t=0;t<g;++t)s=(b=(e=p[t])[f]())-e[u],r=b-(e[c]||Math.min(b,h)),isNaN(s)||i<s&&(i=s),n>r&&(n=r);return n-i<2?null:(m=new Ext.util.Region(E,y,v,x),this.constraintAdjusters[this.getCollapseDirection()](m,i,n,a),this.dragInfo={minRange:i,maxRange:n,targetSize:o},m)},constraintAdjusters:{left:function(t,e,i,n){t[0]=t.x=t.left=t.right+e,t.right+=i+n.getWidth()},top:function(t,e,i,n){t[1]=t.y=t.top=t.bottom+e,t.bottom+=i+n.getHeight()},bottom:function(t,e,i,n){t.bottom=t.top-e,t.top-=i+n.getHeight()},right:function(t,e,i,n){t.right=t.left-e,t[0]=t.x=t.left=t.x-i+n.getWidth()}},onBeforeStart:function(t){var e,i,n=this.splitter,s=n.collapseTarget,r=n.neighbors,o=this.getSplitter().collapseEl,a=t.getTarget(),l=r.length;if(o&&a===n.collapseEl.dom)return!1;if(s.collapsed)return!1;for(e=0;e<l;++e)if((i=r[e]).collapsed&&i.isHorz===s.isHorz)return!1;return!!(this.constrainTo=this.calculateConstrainRegion())},performResize:function(t,e){var i,n=this.splitter,s=n.collapseDirection,r=n.collapseTarget,o=this.splitAdjusters[n.vertical?"horz":"vert"],a=e[o.index],l=this.dragInfo;"right"!=s&&"bottom"!=s||(a=-a),(a=Math.min(Math.max(l.minRange,a),l.maxRange))&&((i=n.ownerCt).suspendLayouts(),o.adjustTarget(r,l.targetSize,a),i.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(t,e,i){t.flex=null,t.setSize(e+i)}},vert:{index:1,adjustTarget:function(t,e,i){t.flex=null,t.setSize(void 0,e+i)}}},getCollapseDirection:function(){return this.splitter.collapseDirection}}),Ext.define("Ext.resizer.Handle",{extend:Ext.Component,handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",beforeRender:function(){this.callParent(),this.protoEl.unselectable(),this.addCls(this.baseHandleCls,this.baseHandleCls+"-"+this.region,this.handleCls)}}),Ext.define("Ext.resizer.ResizeTracker",{extend:Ext.dd.DragTracker,dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(t){var e,i,n,s=this;t.el||(t.target.isComponent?s.el=t.target.getEl():s.el=t.target),this.callParent(arguments),s.preserveRatio&&s.minWidth&&s.minHeight&&(e=s.minWidth/s.el.getWidth(),(i=s.minHeight/s.el.getHeight())>e?s.minWidth=s.el.getWidth()*i:s.minHeight=s.el.getHeight()*e),s.throttle&&(n=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(s,arguments)},s.throttle),s.resize=function(t,e,i){i?Ext.resizer.ResizeTracker.prototype.resize.apply(s,arguments):n.apply(null,arguments)})},onBeforeStart:function(t){this.startBox=this.target.getBox()},getDynamicTarget:function(){var t=this.target;return this.dynamic?t:(this.proxy||(this.proxy=this.createProxy(t)),this.proxy.show(),this.proxy)},createProxy:function(t){var e,i=this.proxyCls;return(e=t.isComponent?t.getProxy().addCls(i):t.createProxy({tag:"div",cls:i,id:t.id+"-rzproxy"},Ext.getBody())).removeCls(Ext.baseCSSPrefix+"proxy-el"),e},onStart:function(t){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(t){(this.dynamic||this.proxy)&&this.updateDimensions(t)},updateDimensions:function(t,e){var i,n,s,r,o,a,l,h,d=this.activeResizeHandle.region,c=this.getOffset(this.constrainTo?"dragTarget":null),u=this.startBox,f=0,p=0,g=0,m=0,x=c[0]<0?"right":"left",E=c[1]<0?"down":"up";switch(d=this.convertRegionName(d)){case"south":p=c[1],o=2;break;case"north":m=-(p=-c[1]),o=2;break;case"east":f=c[0],o=1;break;case"west":g=-(f=-c[0]),o=1;break;case"northeast":m=-(p=-c[1]),f=c[0],r=[u.x,u.y+u.height],o=3;break;case"southeast":p=c[1],f=c[0],r=[u.x,u.y],o=3;break;case"southwest":g=-(f=-c[0]),p=c[1],r=[u.x+u.width,u.y],o=3;break;case"northwest":m=-(p=-c[1]),g=-(f=-c[0]),r=[u.x+u.width,u.y+u.height],o=3}if(a={width:u.width+f,height:u.height+p,x:u.x+g,y:u.y+m},n=Ext.Number.snap(a.width,this.widthIncrement),s=Ext.Number.snap(a.height,this.heightIncrement),n!=a.width||s!=a.height){switch(d){case"northeast":case"north":a.y-=s-a.height;break;case"southwest":case"west":a.x-=n-a.width;break;case"northwest":a.x-=n-a.width,a.y-=s-a.height}a.width=n,a.height=s}a.width<this.minWidth||a.width>this.maxWidth?(a.width=Ext.Number.constrain(a.width,this.minWidth,this.maxWidth),g&&(a.x=u.x+(u.width-a.width))):this.lastX=a.x,a.height<this.minHeight||a.height>this.maxHeight?(a.height=Ext.Number.constrain(a.height,this.minHeight,this.maxHeight),m&&(a.y=u.y+(u.height-a.height))):this.lastY=a.y,(this.preserveRatio||t.shiftKey)&&(i=this.startBox.width/this.startBox.height,l=Math.min(Math.max(this.minHeight,a.width/i),this.maxHeight),h=Math.min(Math.max(this.minWidth,a.height*i),this.maxWidth),1==o?a.height=l:2==o?a.width=h:(Math.abs(r[0]-this.lastXY[0])/Math.abs(r[1]-this.lastXY[1])>i?a.height=l:a.width=h,"northeast"==d?a.y=u.y-(a.height-u.height):"northwest"==d?(a.y=u.y-(a.height-u.height),a.x=u.x-(a.width-u.width)):"southwest"==d&&(a.x=u.x-(a.width-u.width)))),0===p&&(E="none"),0===f&&(x="none"),this.resize(a,{horizontal:x,vertical:E},e)},getResizeTarget:function(t){return t?this.target:this.getDynamicTarget()},resize:function(t,e,i){this.getResizeTarget(i).setBox(t),this.originalTarget&&(this.dynamic||i)&&this.originalTarget.setBox(t)},onEnd:function(t){this.updateDimensions(t,!0),this.proxy&&this.proxy.hide()},convertRegionName:function(t){return t}}),Ext.define("Ext.resizer.Resizer",{mixins:{observable:Ext.util.Observable},alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(t){var e,i,n,s,r,o,a,l,h,d,c,u=this.handles,f=0,p=[],g=Ext.dom.Element.unselectableCls;for(this.addEvents("beforeresize","resizedrag","resize"),(Ext.isString(t)||Ext.isElement(t)||t.dom)&&(e=t,(t=arguments[1]||{}).target=e),this.mixins.observable.constructor.call(this,t),(e=this.target)?e.isComponent?(e.addClsWithUI("resizable"),this.el=e.getEl(),e.minWidth&&(this.minWidth=e.minWidth),e.minHeight&&(this.minHeight=e.minHeight),e.maxWidth&&(this.maxWidth=e.maxWidth),e.maxHeight&&(this.maxHeight=e.maxHeight),e.floating&&(this.hasOwnProperty("handles")||(this.handles="n ne e se s sw w nw"))):this.el=this.target=Ext.get(e):this.target=this.el=Ext.get(this.el),"TEXTAREA"!=(n=this.el.dom.tagName.toUpperCase())&&"IMG"!=n&&"TABLE"!=n||(this.originalTarget=this.target,d=(i=this.el).getBox(),this.target=this.el=this.el.wrap({cls:this.wrapCls,id:this.el.id+"-rzwrap",style:i.getStyles("margin-top","margin-bottom")}),this.el.setPositioning(i.getPositioning()),i.clearPositioning(),this.el.setBox(d),i.setStyle("position","absolute")),this.el.position(),this.pinned&&this.el.addCls(this.pinnedCls),this.resizeTracker=new Ext.resizer.ResizeTracker({disabled:this.disabled,target:this.target,constrainTo:this.constrainTo,overCls:this.overCls,throttle:this.throttle,originalTarget:this.originalTarget,delegate:"."+this.handleCls,dynamic:this.dynamic,preserveRatio:this.preserveRatio,heightIncrement:this.heightIncrement,widthIncrement:this.widthIncrement,minHeight:this.minHeight,maxHeight:this.maxHeight,minWidth:this.minWidth,maxWidth:this.maxWidth}),this.resizeTracker.on({mousedown:this.onBeforeResize,drag:this.onResize,dragend:this.onResizeEnd,scope:this}),"all"==this.handles&&(this.handles="n s e w ne nw se sw"),u=this.handles=this.handles.split(this.delimiterRe),r=this.possiblePositions,o=u.length,s=this.handleCls+" "+this.handleCls+"-{0}",this.target.isComponent&&(s+=" "+(c=this.target.baseCls)+"-handle "+c+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(s+=" "+c+"-handle-{0}-br")),l=Ext.isIE6?' style="height:'+this.el.getHeight()+'px"':"";f<o;f++)u[f]&&r[u[f]]&&(h="east"===(a=r[u[f]])||"west"===a?l:"",p.push('<div id="',this.el.id,"-",a,'-handle"',' class="',Ext.String.format(s,a)," ",g,'"',' unselectable="on"',h,"></div>"));for(Ext.DomHelper.append(this.el,p.join("")),f=0;f<o;f++)u[f]&&r[u[f]]&&(this[a=r[u[f]]]=this.el.getById(this.el.id+"-"+a+"-handle"),this[a].region=a,this.transparent&&this[a].setOpacity(0));Ext.isNumber(this.width)&&(this.width=Ext.Number.constrain(this.width,this.minWidth,this.maxWidth)),Ext.isNumber(this.height)&&(this.height=Ext.Number.constrain(this.height,this.minHeight,this.maxHeight)),null===this.width&&null===this.height||(this.originalTarget&&(this.originalTarget.setWidth(this.width),this.originalTarget.setHeight(this.height)),this.resizeTo(this.width,this.height)),this.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(t,e){var i=this.el.getBox();return this.fireEvent("beforeresize",this,i.width,i.height,e)},onResize:function(t,e){var i=this.el.getBox();return this.forceHandlesHeight(),this.fireEvent("resizedrag",this,i.width,i.height,e)},onResizeEnd:function(t,e){var i=this.el.getBox();return this.forceHandlesHeight(),this.fireEvent("resize",this,i.width,i.height,e)},resizeTo:function(t,e){this.target.setSize(t,e),this.fireEvent("resize",this,t,e,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var t,e,i=this.handles,n=i.length,s=this.possiblePositions;for(this.resizeTracker.destroy(),t=0;t<n;t++)(e=this[s[i[t]]])&&e.remove()},forceHandlesHeight:function(){var t;Ext.isIE6&&((t=this.east)&&t.setHeight(this.el.getHeight()),(t=this.west)&&t.setHeight(this.el.getHeight()),this.el.repaint())}}),Ext.define("Ext.slider.Thumb",{topZIndex:1e4,constructor:function(t){Ext.apply(this,t||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1}),this.callParent([t])},render:function(){this.el=this.slider.innerEl.insertFirst(this.getElConfig()),this.onRender()},onRender:function(){this.disabled&&this.disable(),this.initEvents()},getElConfig:function(){var t=this.slider,e={};return e[t.vertical?"bottom":t.horizontalProp]=t.calculateThumbPosition(t.normalizeValue(this.value))+"%",{style:e,id:this.id,cls:this.cls}},move:function(t,e){var i,n,s=this.el,r=this.slider,o=r.vertical?"bottom":r.horizontalProp;t+="%",e?((i={})[o]=t,Ext.supports.GetPositionPercentage||((n={})[o]=s.dom.style[o]),new Ext.fx.Anim({target:s,duration:350,from:n,to:i})):s.dom.style[o]=t},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){this.disabled=!1,this.el&&this.el.removeCls(this.slider.disabledCls)},disable:function(){this.disabled=!0,this.el&&this.el.addCls(this.slider.disabledCls)},initEvents:function(){var t=this.el;this.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(this.onBeforeDragStart,this),onStart:Ext.Function.bind(this.onDragStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onDragEnd,this),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"}),this.tracker.initEl(t)},onBeforeDragStart:function(t){return!this.disabled&&(this.slider.promoteThumb(this),!0)},onDragStart:function(t){var e=this.slider;e.onDragStart(this,t),this.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag"),this.dragging=this.slider.dragging=!0,this.dragStartValue=this.value,e.fireEvent("dragstart",e,t,this)},onDrag:function(t){var e,i,n=this.slider,s=this.index,r=this.getValueFromTracker();void 0!==r&&(this.constrain&&(e=n.thumbs[s+1],void 0!==(i=n.thumbs[s-1])&&r<=i.value&&(r=i.value),void 0!==e&&r>=e.value&&(r=e.value)),n.setValue(s,r,!1),n.fireEvent("drag",n,t,this))},getValueFromTracker:function(){var t=this.slider,e=t.getTrackpoint(this.tracker.getXY());if(void 0!==e)return t.reversePixelValue(e)},onDragEnd:function(t){var e=this.slider,i=this.value;e.onDragEnd(this,t),this.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag"),this.dragging=e.dragging=!1,e.fireEvent("dragend",e,t),this.dragStartValue!=i&&e.fireEvent("changecomplete",e,i,this)},destroy:function(){Ext.destroy(this.tracker)}}),Ext.define("Ext.slider.Tip",{extend:Ext.tip.Tip,minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(t){var e,i;switch(this.position||(this.position=t.vertical?this.defaultVerticalPosition:this.defaultHorizontalPosition),this.position){case"top":i=[0,-10],e="b-t?";break;case"bottom":i=[0,10],e="t-b?";break;case"left":i=[-10,0],e="r-l?";break;case"right":i=[10,0],e="l-r?"}this.align||(this.align=e),this.offsets||(this.offsets=i),t.on({scope:this,dragstart:this.onSlide,drag:this.onSlide,dragend:this.hide,destroy:this.destroy})},onSlide:function(t,e,i){this.show(),this.update(this.getText(i)),this.el.alignTo(i.el,this.align,this.offsets)},getText:function(t){return String(t.value)}}),Ext.define("Ext.slider.Multi",{extend:Ext.form.field.Base,alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" class="'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical}","{childElCls}",'" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(t,e){for(var i,n=e.$comp,s=0,r=n.thumbs,o=r.length;s<o;s++)(i=r[s].getElConfig()).id=n.id+"-thumb-"+s,Ext.DomHelper.generateMarkup(i,t)},disableFormats:!0}],horizontalProp:"left",vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,componentLayout:"sliderfield",useTips:!0,tipText:null,ariaRole:"slider",initValue:function(){var t=Ext.value,e=t(this.values,[t(this.value,t(this.minValue,0))]),i=0,n=e.length;for(this.originalValue=e;i<n;i++)this.addThumb(e[i])},initComponent:function(){var t,e,i,n,s;if(this.thumbs=[],this.keyIncrement=Math.max(this.increment,this.keyIncrement),this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend"),this.increment&&(this.maxValue=Ext.Number.snapInRange(this.maxValue,this.increment,this.minValue),this.value=this.normalizeValue(this.value)),this.callParent(),this.useTips){for(t=Ext.isObject(this.useTips)?Ext.apply({},this.useTips):this.tipText?{getText:this.tipText}:{},n=(s=this.plugins=this.plugins||[]).length,i=0;i<n;i++)if(s[i].isSliderTip){e=!0;break}e||this.plugins.push(new Ext.slider.Tip(t))}},addThumb:function(t){var e=new Ext.slider.Thumb({ownerCt:this,ownerLayout:this.getComponentLayout(),value:t,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs,disabled:!!this.readOnly});return this.thumbs.push(e),this.rendered&&e.render(),e},promoteThumb:function(t){var e,i,n=this.thumbs,s=n.length;for(i=0;i<s;i++)(e=n[i])==t?e.bringToFront():e.sendToBack()},getSubTplData:function(){return Ext.apply(this.callParent(),{$comp:this,vertical:this.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:this.minValue,maxValue:this.maxValue,value:this.value,childElCls:""})},onRender:function(){var t,e=this.thumbs,i=e.length,n=0;for(this.callParent(arguments),n=0;n<i;n++)(t=e[n]).el=this.el.getById(this.id+"-thumb-"+n),t.onRender()},initEvents:function(){this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(t){var e,i,n,s=this.vertical,r=this.innerEl;return s?(n="top",e=r.getHeight()):(n=this.horizontalProp,e=r.getWidth()),t=this.transformTrackPoints(r.translatePoints(t)),i=Ext.Number.constrain(t[n],0,e),s?e-i:i},transformTrackPoints:Ext.identityFn,onMouseDown:function(t){var e,i=!1,n=0,s=this.thumbs,r=s.length;if(!this.disabled){for(;n<r;n++)i=i||t.target==s[n].el.dom;this.clickToChange&&!i&&void 0!==(e=this.getTrackpoint(t.getXY()))&&this.onClickChange(e),this.focus()}},onClickChange:function(t){var e,i;(e=this.getNearest(t)).disabled||(i=e.index,this.setValue(i,Ext.util.Format.round(this.reversePixelValue(t),this.decimalPrecision),void 0,!0))},getNearest:function(t){for(var e,i,n,s=this.reversePixelValue(t),r=this.getRange()+5,o=null,a=0,l=this.thumbs.length;a<l;a++)i=(e=this.thumbs[a]).value,n=Math.abs(i-s),Math.abs(n<=r)&&(o=e,r=n);return o},onKeyDown:function(t){var e;if(this.disabled||1!==this.thumbs.length)t.preventDefault();else switch(t.getKey()){case t.UP:case t.RIGHT:t.stopEvent(),e=t.ctrlKey?this.maxValue:this.getValue(0)+this.keyIncrement,this.setValue(0,e,void 0,!0);break;case t.DOWN:case t.LEFT:t.stopEvent(),e=t.ctrlKey?this.minValue:this.getValue(0)-this.keyIncrement,this.setValue(0,e,void 0,!0);break;default:t.preventDefault()}},normalizeValue:function(t){var e=Ext.Number;return t=e[this.zeroBasedSnapping?"snap":"snapInRange"].call(e,t,this.increment,this.minValue,this.maxValue),t=Ext.util.Format.round(t,this.decimalPrecision),t=Ext.Number.constrain(t,this.minValue,this.maxValue)},setMinValue:function(t){var e,i=0,n=this.thumbs,s=n.length;for(this.minValue=t,this.rendered&&this.inputEl.dom.setAttribute("aria-valuemin",t);i<s;++i)(e=n[i]).value=e.value<t?t:e.value;this.syncThumbs()},setMaxValue:function(t){var e,i=0,n=this.thumbs,s=n.length;for(this.maxValue=t,this.rendered&&this.inputEl.dom.setAttribute("aria-valuemax",t);i<s;++i)(e=n[i]).value=e.value>t?t:e.value;this.syncThumbs()},setValue:function(t,e,i,n){var s,r,o,a,l=this.thumbs;if(Ext.isArray(t)){for(i=e,o=0,r=(a=t).length;o<r;++o)(s=l[o])&&this.setValue(o,a[o],i);return this}return s=this.thumbs[t],(e=this.normalizeValue(e))!==s.value&&!1!==this.fireEvent("beforechange",this,e,s.value,s)&&(s.value=e,this.rendered&&(this.inputEl.set({"aria-valuenow":e,"aria-valuetext":e}),s.move(this.calculateThumbPosition(e),Ext.isDefined(i)?!1!==i:this.animate),this.fireEvent("change",this,e,s),this.checkDirty(),n&&this.fireEvent("changecomplete",this,e,s))),this},calculateThumbPosition:function(t){var e=this.minValue,i=(t-e)/this.getRange()*100;return isNaN(i)&&(i=e),i},getRatio:function(){var t=this.innerEl,e=this.vertical?t.getHeight():t.getWidth(),i=this.getRange();return 0===i?e:e/i},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(t){return this.minValue+t/this.getRatio()},reversePercentageValue:function(t){return this.minValue+this.getRange()*(t/100)},onDisable:function(){var t,e,i,n=0,s=this.thumbs,r=s.length;for(this.callParent();n<r;n++)e=(t=s[n]).el,t.disable(),Ext.isIE&&(i=e.getXY(),e.hide(),this.innerEl.addCls(this.disabledCls).dom.disabled=!0,this.thumbHolder||(this.thumbHolder=this.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+this.disabledCls})),this.thumbHolder.show().setXY(i))},onEnable:function(){var t,e,i=0,n=this.thumbs,s=n.length;for(this.callParent();i<s;i++)e=(t=n[i]).el,t.enable(),Ext.isIE&&(this.innerEl.removeCls(this.disabledCls).dom.disabled=!1,this.thumbHolder&&this.thumbHolder.hide(),e.show(),this.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var t=this.thumbs,e=t.length,i=0;i<e;i++)t[i].move(this.calculateThumbPosition(t[i].value))},getValue:function(t){return Ext.isNumber(t)?this.thumbs[t].value:this.getValues()},getValues:function(){for(var t=[],e=0,i=this.thumbs,n=i.length;e<n;e++)t.push(i[e].value);return t},getSubmitValue:function(){return this.disabled||!this.submitValue?null:this.getValue()},reset:function(){for(var t,e=[].concat(this.originalValue),i=0,n=e.length;i<n;i++)t=e[i],this.setValue(i,t);this.clearInvalid(),delete this.wasValid},setReadOnly:function(t){var e=this.thumbs,i=e.length,n=0;for(this.callParent(arguments),t=this.readOnly;n<i;++n)t?e[n].disable():e[n].enable()},beforeDestroy:function(){var t,e=this.thumbs,i=0,n=e.length;for(Ext.destroy(this.innerEl,this.endEl,this.focusEl);i<n;i++)t=e[i],Ext.destroy(t);this.callParent()}}),Ext.define("Ext.tab.Tab",{extend:Ext.button.Button,alias:"widget.tab",isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",activeCls:"active",closableCls:"closable",closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,position:"top",initComponent:function(){this.addEvents("activate","deactivate","beforeclose","close"),this.callParent(arguments),this.card&&this.setCard(this.card),this.overCls=["over",this.position+"-over"]},getTemplateArgs:function(){var t=this.callParent();return t.closable=this.closable,t.closeText=this.closeText,t},beforeRender:function(){var t=this.up("tabbar"),e=this.up("tabpanel");this.callParent(),this.addClsWithUI(this.position),this.active&&this.addClsWithUI([this.activeCls,this.position+"-"+this.activeCls]),this.syncClosableUI(),this.minWidth||(this.minWidth=t?t.minTabWidth:this.minWidth,!this.minWidth&&e&&(this.minWidth=e.minTabWidth),this.minWidth&&this.iconCls&&(this.minWidth+=25)),this.maxWidth||(this.maxWidth=t?t.maxTabWidth:this.maxWidth,!this.maxWidth&&e&&(this.maxWidth=e.maxTabWidth))},onRender:function(){this.setElOrientation(),this.callParent(arguments),this.keyNav=new Ext.util.KeyNav(this.el,{enter:this.onEnterKey,del:this.onDeleteKey,scope:this})},setElOrientation:function(){var t=this.position;"left"!==t&&"right"!==t||this.el.setVertical("right"===t?90:270)},enable:function(t){return this.callParent(arguments),this.removeClsWithUI(this.position+"-disabled"),this},disable:function(t){return this.callParent(arguments),this.addClsWithUI(this.position+"-disabled"),this},onDestroy:function(){Ext.destroy(this.keyNav),delete this.keyNav,this.callParent(arguments)},setClosable:function(t){t=!arguments.length||!!t,this.closable!=t&&(this.closable=t,this.card&&(this.card.closable=t),this.syncClosableUI(),this.rendered&&(this.syncClosableElements(),this.updateLayout()))},syncClosableElements:function(){var t=this.closeEl;this.closable?t||(this.closeEl=this.btnWrap.insertSibling({tag:"a",cls:this.baseCls+"-close-btn",href:"#",title:this.closeText},"after")):t&&(t.remove(),delete this.closeEl)},syncClosableUI:function(){var t=[this.closableCls,this.closableCls+"-"+this.position];this.closable?this.addClsWithUI(t):this.removeClsWithUI(t)},setCard:function(t){this.card=t,this.setText(this.title||t.title),this.setIconCls(this.iconCls||t.iconCls),this.setIcon(this.icon||t.icon),this.setGlyph(this.glyph||t.glyph)},onCloseClick:function(){if(!1!==this.fireEvent("beforeclose",this))if(this.tabBar){if(!1===this.tabBar.closeTab(this))return}else this.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(t){this.tabBar&&this.tabBar.onClick(t,this.el)},onDeleteKey:function(t){this.closable&&this.onCloseClick()},activate:function(t){this.active=!0,this.addClsWithUI([this.activeCls,this.position+"-"+this.activeCls]),!0!==t&&this.fireEvent("activate",this)},deactivate:function(t){this.active=!1,this.removeClsWithUI([this.activeCls,this.position+"-"+this.activeCls]),!0!==t&&this.fireEvent("deactivate",this)}}),Ext.define("Ext.util.Point",{extend:Ext.util.Region,statics:{fromEvent:function(t){return t=t.browserEvent||t,t=t.changedTouches&&t.changedTouches.length>0?t.changedTouches[0]:t,new this(t.pageX,t.pageY)}},constructor:function(t,e){this.callParent([e,t,e,t])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(t){return this.x==t.x&&this.y==t.y},isWithin:function(t,e){return Ext.isObject(e)||(e={x:e,y:e}),this.x<=t.x+e.x&&this.x>=t.x-e.x&&this.y<=t.y+e.y&&this.y>=t.y-e.y},isContainedBy:function(t){return t instanceof Ext.util.Region||(t=Ext.get(t.el||t).getRegion()),t.contains(this)},roundedEquals:function(t){return Math.round(this.x)==Math.round(t.x)&&Math.round(this.y)==Math.round(t.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy}),Ext.define("Ext.tab.Bar",{extend:Ext.panel.Header,alias:"widget.tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",isTabBar:!0,defaultType:"tab",plain:!1,childEls:["body","strip"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls} {bodyTargetCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" class="{baseCls}-strip {baseCls}-strip-{dock}','<tpl if="ui"> {baseCls}-strip-{ui}','<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>','</tpl>">',"</div>"],_reverseDockNames:{left:"right",right:"left"},initComponent:function(){this.plain&&this.addCls(this.baseCls+"-plain"),this.addClsWithUI(this.orientation),this.addEvents("change"),this.callParent(arguments),Ext.merge(this.layout,this.initialConfig.layout),this.layout.align="vertical"==this.orientation?"left":"top",this.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(this.layout),this.remove(this.titleCmp),delete this.titleCmp,Ext.apply(this.renderData,{bodyCls:this.bodyCls,dock:this.dock})},onRender:function(){this.callParent(),"vertical"===this.orientation&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict&&this.el.on({mousemove:this.onMouseMove,scope:this})},afterRender:function(){var t=this.layout;this.callParent(),Ext.isIE9&&Ext.isStrict&&"vertical"===this.orientation&&t.innerCt.on("scroll",function(){t.innerCt.dom.scrollLeft=0})},afterLayout:function(){this.adjustTabPositions(),this.callParent(arguments)},adjustTabPositions:function(){var t,e=this.items.items,i=e.length;if(!Ext.isIE9m)if("right"===this.dock)for(;i--;)(t=e[i]).el.setStyle("left",t.lastBox.width+"px");else if("left"===this.dock)for(;i--;)(t=e[i]).el.setStyle("left",-t.lastBox.height+"px")},getLayout:function(){return this.layout.type="horizontal"===this.orientation?"hbox":"vbox",this.callParent(arguments)},onAdd:function(t){t.position=this.dock,this.callParent(arguments)},onRemove:function(t){t===this.previousTab&&(this.previousTab=null),this.callParent(arguments)},afterComponentLayout:function(t){var e=this.needsScroll;this.callParent(arguments),e&&this.layout.overflowHandler.scrollToItem(this.activeTab),delete this.needsScroll},onClick:function(t,e){var i,n,s,r,o=this.tabPanel;t.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||("vertical"===this.orientation&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict?(n=(r=this.getTabInfoFromPoint(t.getXY())).tab,s=r.close):s=(n=(i=t.getTarget("."+Ext.tab.Tab.prototype.baseCls))&&Ext.getCmp(i.id))&&n.closeEl&&e===n.closeEl.dom,s&&t.preventDefault(),n&&n.isDisabled&&!n.isDisabled()&&(n.closable&&s?n.onCloseClick():(o?o.setActiveTab(n.card):this.setActiveTab(n),n.focus())))},onMouseMove:function(t){var e,i=this._overTab;t.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(e=this.getTabInfoFromPoint(t.getXY()).tab)!==i&&(i&&i.rendered&&(i.onMouseLeave(t),this._overTab=null),e?(e.onMouseEnter(t),this._overTab=e,e.disabled||this.el.setStyle("cursor","pointer")):this.el.setStyle("cursor","default"))},onMouseLeave:function(t){var e=this._overTab;e&&e.rendered&&e.onMouseLeave(t)},getTabInfoFromPoint:function(t){for(var e,i,n,s,r,o,a,l,h,d,c,u,f,p,g=this.items.items,m=g.length,x=this.layout.innerCt,E=x.getXY(),y=new Ext.util.Point(t[0],t[1]),v=0;v<m;v++)if(e=g[v].lastBox,h=E[0]+e.x,d=E[1]-x.dom.scrollTop+e.y,c=e.width,u=e.height,new Ext.util.Region(d,h+c,d+u,h).contains(y)){(i=(p=g[v]).closeEl)&&(s=i.getXY(),a=i.getWidth(),l=i.getHeight(),void 0===this._isTabReversed&&(this._isTabReversed=f=-1!==p.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")),"right"===(f?this._reverseDockNames[this.dock]:this.dock)?(r=h+c-(s[1]-d+i.getHeight()),o=d+(s[0]-h)):(r=h+(s[1]-d),o=d+h+u-s[0]-i.getWidth()),n=new Ext.util.Region(o,r+a,o+l,r).contains(y));break}return{tab:p,close:n}},closeTab:function(t){var e,i=t.card,n=this.tabPanel;if(i&&!1===i.fireEvent("beforeclose",i))return!1;if(e=this.findNextActivatable(t),Ext.suspendLayouts(),n&&i){if(delete t.ownerCt,i.fireEvent("close",i),n.remove(i),n.getComponent(i))return t.ownerCt=this,Ext.resumeLayouts(!0),!1;t.fireClose(),this.remove(t)}e&&(n?n.setActiveTab(e.card):this.setActiveTab(e),e.focus()),Ext.resumeLayouts(!0)},findNextActivatable:function(t){if(t.active&&this.items.getCount()>1)return this.previousTab&&this.previousTab!==t&&!this.previousTab.disabled?this.previousTab:t.next("tab[disabled=false]")||t.prev("tab[disabled=false]")},setActiveTab:function(t,e){t.disabled||t===this.activeTab||(this.activeTab&&(this.activeTab.isDestroyed?this.previousTab=null:(this.previousTab=this.activeTab,this.activeTab.deactivate())),t.activate(),this.activeTab=t,this.needsScroll=!0,e||(this.fireEvent("change",this,t,t.card),this.updateLayout()))}}),Ext.define("Ext.tree.Column",{extend:Ext.grid.column.Column,alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,treePrefix:Ext.baseCSSPrefix+"tree-",elbowPrefix:Ext.baseCSSPrefix+"tree-elbow-",expanderCls:Ext.baseCSSPrefix+"tree-expander",imgText:'<img src="{1}" class="{0}" />',checkboxText:'<input type="button" role="checkbox" class="{0}" {1} />',initComponent:function(){this.origRenderer=this.renderer||this.defaultRenderer,this.origScope=this.scope||window,this.renderer=this.treeRenderer,this.scope=this,this.callParent()},treeRenderer:function(t,e,i,n,s,r,o){for(var a=[],l=Ext.String.format,h=i.getDepth(),d=this.treePrefix,c=this.elbowPrefix,u=this.expanderCls,f=this.imgText,p=this.checkboxText,g=this.origRenderer.apply(this.origScope,arguments),m=Ext.BLANK_IMAGE_URL,x=i.get("href"),E=i.get("hrefTarget"),y=i.get("cls"),v=this.getChildCls?this.getChildCls()+" ":"";i;)(!i.isRoot()||i.isRoot()&&o.rootVisible)&&(i.getDepth()===h?(a.unshift(l(f,v+d+"icon "+d+"icon"+(i.get("icon")?"-inline ":i.isLeaf()?"-leaf ":"-parent ")+(i.get("iconCls")||""),i.get("icon")||m)),null!==i.get("checked")&&(a.unshift(l(p,v+(d+"checkbox")+(i.get("checked")?" "+d+"checkbox-checked":""),i.get("checked")?'aria-checked="true"':"")),i.get("checked")&&(e.tdCls+=" "+d+"checked")),i.isLast()?i.isExpandable()?a.unshift(l(f,v+c+"end-plus "+u,m)):a.unshift(l(f,v+c+"end",m)):i.isExpandable()?a.unshift(l(f,v+c+"plus "+u,m)):a.unshift(l(f,v+d+"elbow",m))):i.isLast()||0===i.getDepth()?a.unshift(l(f,v+c+"empty",m)):0!==i.getDepth()&&a.unshift(l(f,v+c+"line",m))),i=i.parentNode;return x?a.push('<a class="'+Ext.baseCSSPrefix+'tree-node-text" href="',x,'" target="',E,'">'):a.push('<span class="'+Ext.baseCSSPrefix+'tree-node-text">'),a.push(g),x?a.push("</a>"):a.push("</span>"),y&&(e.tdCls+=" "+y),a.join("")},defaultRenderer:Ext.identityFn}),Ext.define("Ext.selection.CellModel",{extend:Ext.selection.Model,alias:"selection.cellmodel",isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select"),this.callParent(arguments)},bindComponent:function(t){var e=t.ownerCt;this.primaryView=t,this.views=this.views||[],this.views.push(t),this.bindStore(t.getStore(),!0),t.on({cellmousedown:this.onMouseDown,refresh:this.onViewRefresh,scope:this}),!1!==e.optimizedColumnMove&&e.on("columnmove",this.onColumnMove,this),this.enableKeyNav&&this.initKeyNav(t)},initKeyNav:function(t){t.rendered?(t.el.set({tabIndex:-1}),this.keyNav=new Ext.util.KeyNav({target:t.el,ignoreInputFields:!0,up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,tab:this.onKeyTab,scope:this})):t.on("render",Ext.Function.bind(this.initKeyNav,this,[t],0),this,{single:!0})},getHeaderCt:function(){var t=this.getCurrentPosition();return(t?t.view:this.primaryView).headerCt},onKeyUp:function(t,e){this.doMove("up",t)},onKeyDown:function(t,e){this.doMove("down",t)},onKeyLeft:function(t,e){this.doMove("left",t)},onKeyRight:function(t,e){this.doMove("right",t)},doMove:function(t,e){this.keyNavigation=!0,this.move(t,e),this.keyNavigation=!1},move:function(t,e){var i,n=this.getCurrentPosition();if(n&&(i=n.view.walkCells(n,t,e,this.preventWrap)))return i.view=n.view,this.setCurrentPosition(i)},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(t){var e=this.selection;if(this.lastSelection=e,e&&(t&&t.row===e.row&&t.column===e.column&&t.view===e.view?t=null:this.onCellDeselect(this.selection)),t)return this.nextSelection=new this.Selection(this),this.nextSelection.setPosition(t),this.selecting=!0,this.onCellSelect(this.nextSelection),this.selecting=!1,this.selection=this.nextSelection},isCellSelected:function(t,e,i){var n,s=this.getCurrentPosition();if(s&&s.view===t)return(n=new this.Selection(this)).setPosition({view:t,row:e,column:i}),n.record===s.record&&n.columnHeader===s.columnHeader},onStoreRemove:function(t,e,i){var n,s=this.getCurrentPosition(),r=e.length,o=0;if(this.callParent(arguments),s){if(i[0]>s.row)return;for(n=0;n<r&&i[n]<s.row;n++)o++;o&&s.setRow(s.row-o)}},onMouseDown:function(t,e,i,n,s,r,o){-1!==r&&this.setCurrentPosition({view:t,row:s,column:i})},onCellSelect:function(t,e){t&&void 0!==t.row&&t.row>-1&&this.doSelect(t.record,!1,e)},onCellDeselect:function(t,e){t&&void 0!==t.row&&this.doDeselect(t.record,e)},onSelectChange:function(t,e,i,n){var s,r,o;e?(s=this.nextSelection,r="select"):(s=this.lastSelection||this.noSelection,r="deselect"),o=s.view||this.primaryView,!1!==(i||this.fireEvent("before"+r,this,t,s.row,s.column))&&!1!==n()&&(e?(o.onCellSelect(s),o.onCellFocus(s)):(o.onCellDeselect(s),delete this.selection),i||this.fireEvent(r,this,t,s.row,s.column))},onKeyTab:function(t,e){var i,n=this.getCurrentPosition();n&&((i=n.view.editingPlugin)&&this.wasEditing?this.onEditorTab(i,t):this.move(t.shiftKey?"left":"right",t))},onEditorTab:function(t,e){var i=e.shiftKey?"left":"right",n=this.move(i,e);n&&(t.startEdit(n.row,n.column)?this.wasEditing=!1:(this.wasEditing=!0,n.columnHeader.dataIndex||this.onEditorTab(t,e)))},refresh:function(){var t,e=this.getCurrentPosition();e&&-1!==(t=this.store.indexOf(this.selected.last()))&&(e.row=t)},onColumnMove:function(t,e,i,n){var s=t.up("tablepanel");s&&this.onViewRefresh(s.view)},onUpdate:function(t){var e;this.isSelected(t)&&(e=this.selecting?this.nextSelection:this.selection,this.view.onCellSelect(e))},onViewRefresh:function(t){var e,i,n=this.getCurrentPosition(),s=t.headerCt;n&&n.view===t&&(e=n.record,(i=n.columnHeader).isDescendantOf(s)||(i=s.queryById(i.id)||s.down('[text="'+i.text+'"]')||s.down('[dataIndex="'+i.dataIndex+'"]')),i&&-1!==t.store.indexOfId(e.getId())&&this.setCurrentPosition({row:e,column:i,view:t}))},selectByPosition:function(t){this.setCurrentPosition(t)}},function(){var t=this.prototype.Selection=function(t){this.model=t,this.view=t.primaryView};t.prototype.setPosition=function(t,e){return 1===arguments.length&&(t.view&&(this.view=t.view),e=t.column,t=t.row),this.setRow(t),this.setColumn(e),this},t.prototype.setRow=function(t){void 0!==t&&("number"==typeof t?(this.row=Math.max(Math.min(t,this.view.store.getCount()-1),0),this.record=this.view.store.getAt(t)):t.isModel?(this.record=t,this.row=this.view.indexOf(t)):t.tagName&&(this.record=this.view.getRecord(t),this.row=this.view.indexOf(this.record)))},t.prototype.setColumn=function(t){void 0!==t&&("number"==typeof t?(this.column=t,this.columnHeader=this.view.getHeaderAtIndex(t)):t.isHeader&&(this.columnHeader=t,this.column=t.getIndex()))}}),Ext.define("Ext.selection.RowModel",{extend:Ext.selection.Model,alias:"selection.rowmodel",deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.views=[],this.callParent(arguments)},bindComponent:function(t){this.views=this.views||[],this.views.push(t),this.bindStore(t.getStore(),!0),t.on({itemmousedown:this.onRowMouseDown,itemclick:this.onRowClick,scope:this}),this.enableKeyNav&&this.initKeyNav(t)},initKeyNav:function(t){t.rendered?(t.el.set({tabIndex:-1}),this.keyNav=new Ext.util.KeyNav({target:t,ignoreInputFields:!0,eventName:"itemkeydown",processEvent:function(t,e,i,n,s){return s.record=e,s.recordIndex=n,s},up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,pageDown:this.onKeyPageDown,pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,space:this.onKeySpace,enter:this.onKeyEnter,scope:this})):t.on("render",Ext.Function.bind(this.initKeyNav,this,[t],0),this,{single:!0})},onUpdate:function(t){var e,i=this.view;i&&this.isSelected(t)&&(e=i.indexOf(t),i.onRowSelect(e),t===this.lastFocused&&i.onRowFocus(e,!0))},getRowsVisible:function(){var t,e,i=!1,n=this.views[0],s=n.all.first();return s&&(t=s.getHeight(),e=n.el.getHeight(),i=Math.floor(e/t)),i},onKeyEnd:function(t){var e=this,i=e.views[0];i.bufferedRenderer?i.bufferedRenderer.scrollTo(e.store.getCount()-1,!1,function(i,n){e.afterKeyNavigate(t,n)}):e.afterKeyNavigate(t,i.getRecord(i.all.getCount()-1))},onKeyHome:function(t){var e=this,i=e.views[0];i.bufferedRenderer?i.bufferedRenderer.scrollTo(0,!1,function(i,n){e.afterKeyNavigate(t,n)}):e.afterKeyNavigate(t,i.getRecord(0))},onKeyPageUp:function(t){var e,i,n=this.views[0],s=this.getRowsVisible();s&&(n.bufferedRenderer?(e=Math.max(t.recordIndex-s,0),(this.lastKeyEvent||(this.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(t.browserEvent),n.bufferedRenderer.scrollTo(e,!1,this.afterBufferedScrollTo,this)):(i=n.walkRecs(t.record,-s),this.afterKeyNavigate(t,i)))},onKeyPageDown:function(t){var e,i,n=this.views[0],s=this.getRowsVisible();s&&(n.bufferedRenderer?(e=Math.min(t.recordIndex+s,this.store.getCount()-1),(this.lastKeyEvent||(this.lastKeyEvent=new Ext.EventObjectImpl)).setEvent(t.browserEvent),n.bufferedRenderer.scrollTo(e,!1,this.afterBufferedScrollTo,this)):(i=n.walkRecs(t.record,s),this.afterKeyNavigate(t,i)))},onKeySpace:function(t){var e=this.lastFocused;e&&this.afterKeyNavigate(t,e)},onKeyEnter:Ext.emptyFn,onKeyUp:function(t){var e=this.views[0].walkRecs(t.record,-1);e&&this.afterKeyNavigate(t,e)},onKeyDown:function(t){var e=this.views[0].walkRecs(t.record,1);e&&this.afterKeyNavigate(t,e)},afterBufferedScrollTo:function(t,e){this.afterKeyNavigate(this.lastKeyEvent,e)},scrollByDeltaX:function(t){var e=this.views[0].up().horizontalScroller;e&&e.scrollByDeltaX(t)},onKeyLeft:function(t){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(t){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(t,e,i,n,s){if(-1!==n){if(!this.allowRightMouseSelection(s))return;this.isSelected(e)?this.mousedownAction=!1:(this.mousedownAction=!0,this.processSelection(t,e,i,n,s))}},processSelection:function(t,e,i,n,s){this.selectWithEvent(e,s)},onRowClick:function(t,e,i,n,s){this.mousedownAction?this.mousedownAction=!1:this.processSelection(t,e,i,n,s)},allowRightMouseSelection:function(t){var e=this.ignoreRightMouseSelection&&0!==t.button;return e&&(e=this.hasSelection()),!e},onSelectChange:function(t,e,i,n){var s=this.views,r=s.length,o=s[0].indexOf(t),a=e?"select":"deselect",l=0;if(!1!==(i||this.fireEvent("before"+a,this,t,o))&&!1!==n()){for(;l<r;l++)e?s[l].onRowSelect(o,i):s[l].onRowDeselect(o,i);i||this.fireEvent(a,this,t,o)}},onLastFocusChanged:function(t,e,i){var n,s=this.views,r=s.length,o=0;if(t&&-1!=(n=s[0].indexOf(t)))for(;o<r;o++)s[o].onRowFocus(n,!1);if(e&&-1!=(n=s[0].indexOf(e)))for(o=0;o<r;o++)s[o].onRowFocus(n,!0,i);this.callParent(arguments)},onEditorTab:function(t,e){var i=this.views[0],n=t.getActiveRecord(),s=t.getActiveColumn(),r=i.getPosition(n,s),o=e.shiftKey?"left":"right";do{r=i.walkCells(r,o,e,this.preventWrap)}while(r&&(!i.headerCt.getHeaderAtIndex(r.column).getEditor(n)||!t.startEditByPosition(r)))},getCurrentPosition:function(){var t=this.selected.items[0];if(t)return{row:this.store.indexOf(t),column:0}},selectByPosition:function(t){var e=this.store.getAt(t.row);this.select(e)},selectNext:function(t,e){var i,n=this.store,s=this.getSelection(),r=s[s.length-1],o=this.views[0].indexOf(r)+1;return o===n.getCount()||0===o?i=!1:(this.doSelect(o,t,e),i=!0),i},selectPrevious:function(t,e){var i,n=this.getSelection()[0],s=this.views[0].indexOf(n)-1;return s<0?i=!1:(this.doSelect(s,t,e),i=!0),i},isRowSelected:function(t,e){return this.isSelected(t)}}),Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:Ext.selection.RowModel,mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",constructor:function(){this.callParent(arguments),"SINGLE"===this.mode&&!0!==this.showHeaderCheckbox&&(this.showHeaderCheckbox=!1)},beforeViewRender:function(t){var e,i=this.views;this.callParent(arguments),-1===Ext.Array.indexOf(i,t)&&i.push(t),this.hasLockedHeader()&&!t.headerCt.lockedCt||(!1!==this.showHeaderCheckbox&&t.headerCt.on("headerclick",this.onHeaderClick,this),this.addCheckbox(t,!0),e=t.ownerCt,t.headerCt.lockedCt&&(e=e.ownerCt),this.mon(e,"reconfigure",this.onReconfigure,this))},bindComponent:function(t){this.sortable=!1,this.callParent(arguments)},hasLockedHeader:function(){var t,e=this.views,i=e.length;for(t=0;t<i;t++)if(e[t].headerCt.lockedCt)return!0;return!1},addCheckbox:function(t,e){var i=this.injectCheckbox,n=t.headerCt;!1!==i&&("first"==i?i=0:"last"==i&&(i=n.getColumnCount()),Ext.suspendLayouts(),t.getStore().buffered&&(this.showHeaderCheckbox=!1),n.add(i,this.getHeaderConfig()),Ext.resumeLayouts()),!0!==e&&t.refresh()},onReconfigure:function(t,e,i){i&&this.addCheckbox(this.views[0])},toggleUiHeader:function(t){var e=this.views[0].headerCt.child("gridcolumn[isCheckerHd]"),i=this.checkerOnCls;e&&(t?e.addCls(i):e.removeCls(i))},onHeaderClick:function(t,e,i){if(e.isCheckerHd){i.stopEvent();var n=e.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");this.preventFocus=!0,n?this.deselectAll():this.selectAll(),delete this.preventFocus}},getHeaderConfig:function(){var t=!1!==this.showHeaderCheckbox;return{isCheckerHd:t,text:"&#160;",width:this.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:t?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(this.renderer,this),editRenderer:this.editRenderer||this.renderEmpty,locked:this.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments),this.updateHeaderState()},renderer:function(t,e,i,n,s,r,o){var a=Ext.baseCSSPrefix;return e.tdCls=a+"grid-cell-special "+a+"grid-cell-row-checker",'<div class="'+a+'grid-row-checker">&#160;</div>'},processSelection:function(t,e,i,n,s){var r,o=s.getTarget(this.checkSelector);this.checkOnly&&!o||(o?("SINGLE"!==(r=this.getSelectionMode())&&this.setSelectionMode("SIMPLE"),this.selectWithEvent(e,s),this.setSelectionMode(r)):this.selectWithEvent(e,s))},onSelectChange:function(){this.callParent(arguments),this.bulkChange||this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments),this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments),this.updateHeaderState()},maybeFireSelectionChange:function(t){t&&!this.bulkChange&&this.updateHeaderState(),this.callParent(arguments)},updateHeaderState:function(){var t,e,i,n=this.store,s=n.getCount(),r=this.views,o=!1,a=0;if(!n.buffered&&s>0){for(o=!0,i=0,e=(t=this.selected).getCount();i<e&&this.storeHasSelected(t.getAt(i));++i)++a;o=s===a}r&&r.length&&this.toggleUiHeader(o)}}),Ext.define("Ext.selection.TreeModel",{extend:Ext.selection.RowModel,alias:"selection.treemodel",constructor:function(t){this.callParent(arguments),this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},bindStore:function(t,e){this.callParent(arguments),this.pruneRemovedNodes&&this.view.mon(this.treeStore,{remove:this.onNodeRemove,scope:this})},onNodeRemove:function(t,e,i){i||this.deselectDeletedRecords([e])},onKeyRight:function(t,e){var i=this.getLastFocused(),n=this.view;i&&(i.isExpanded()?this.onKeyDown(t,e):i.isExpandable()&&(n.isTreeView||(n=n.lockingPartner),n.expand(i)))},onKeyLeft:function(t,e){var i,n=this.getLastFocused(),s=this.view;n&&(i=n.parentNode,n.isExpanded()?(s.isTreeView||(s=s.lockingPartner),s.collapse(n)):i&&!i.isRoot()&&(t.shiftKey?(this.selectRange(i,n,t.ctrlKey,"up"),this.setLastFocused(i)):t.ctrlKey?this.setLastFocused(i):this.select(i)))},onKeySpace:function(t,e){null!=t.record.data.checked?this.toggleCheck(t):this.callParent(arguments)},onKeyEnter:function(t,e){null!=t.record.data.checked?this.toggleCheck(t):this.callParent(arguments)},toggleCheck:function(t){var e=this.view,i=this.getLastSelected();t.stopEvent(),i&&(e.isTreeView||(e=e.lockingPartner),e.onCheckChange(i))}}),Ext.define("Ext.slider.Single",{extend:Ext.slider.Multi,alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(t,e){var i=arguments,n=i.length;return(1==n||n<=3&&"number"!=typeof i[1])&&(i=Ext.toArray(i)).unshift(0),this.callParent(i)},getNearest:function(){return this.thumbs[0]}}),Ext.define("Ext.state.CookieProvider",{extend:Ext.state.Provider,constructor:function(t){this.path="/",this.expires=new Date((new Date).getTime()+6048e5),this.domain=null,this.secure=!1,this.callParent(arguments),this.state=this.readCookies()},set:function(t,e){void 0!==e&&null!==e?(this.setCookie(t,e),this.callParent(arguments)):this.clear(t)},clear:function(t){this.clearCookie(t),this.callParent(arguments)},readCookies:function(){for(var t,e,i,n={},s=document.cookie+";",r=/\s?(.*?)=(.*?);/g,o=this.prefix,a=o.length;null!=(t=r.exec(s));)e=t[1],i=t[2],e&&e.substring(0,a)==o&&(n[e.substr(a)]=this.decodeValue(i));return n},setCookie:function(t,e){document.cookie=this.prefix+t+"="+this.encodeValue(e)+(null==this.expires?"":"; expires="+this.expires.toGMTString())+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(1==this.secure?"; secure":"")},clearCookie:function(t){document.cookie=this.prefix+t+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(1==this.secure?"; secure":"")}}),Ext.define("Ext.state.LocalStorageProvider",{extend:Ext.state.Provider,alias:"state.localstorage",constructor:function(){this.callParent(arguments),this.store=this.getStorageObject(),this.store?this.state=this.readLocalStorage():this.state={}},readLocalStorage:function(){for(var t,e=this.store,i=0,n=e.length,s=this.prefix,r=s.length,o={};i<n;++i)(t=e.key(i)).substring(0,r)==s&&(o[t.substr(r)]=this.decodeValue(e.getItem(t)));return o},set:function(t,e){this.clear(t),void 0!==e&&null!==e&&(this.store.setItem(this.prefix+t,this.encodeValue(e)),this.callParent(arguments))},clear:function(t){this.store.removeItem(this.prefix+t),this.callParent(arguments)},getStorageObject:function(){return!!Ext.supports.LocalStorage&&window.localStorage}}),Ext.define("Ext.tab.Panel",{extend:Ext.panel.Panel,alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],tabPosition:"top",removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,initComponent:function(){var t=[].concat(this.dockedItems||[]),e=this.activeTab||(this.activeTab=0),i=this.tabPosition;this.layout=new Ext.layout.container.Card(Ext.apply({owner:this,deferredRender:this.deferredRender,itemCls:this.itemCls,activeItem:e},this.layout)),this.tabBar=new Ext.tab.Bar(Ext.apply({dock:this.tabPosition,orientation:"top"==i||"bottom"==i?"horizontal":"vertical",plain:this.plain,cardLayout:this.layout,tabPanel:this},this.tabBar)),t.push(this.tabBar),this.dockedItems=t,this.addEvents("beforetabchange","tabchange"),this.callParent(arguments),(e=this.activeTab=this.getComponent(e))&&this.tabBar.setActiveTab(e.tab,!0)},setActiveTab:function(t){var e;if(t=this.getComponent(t))return((e=this.getActiveTab())===t||!1!==this.fireEvent("beforetabchange",this,t,e))&&(t.isComponent||(Ext.suspendLayouts(),t=this.add(t),Ext.resumeLayouts()),this.activeTab=t,Ext.suspendLayouts(),this.layout.setActiveItem(t),(t=this.activeTab=this.layout.getActiveItem())&&t!==e?(this.tabBar.setActiveTab(t.tab),Ext.resumeLayouts(!0),e!==t&&this.fireEvent("tabchange",this,t,e)):Ext.resumeLayouts(!0),t)},getActiveTab:function(){var t=this.getComponent(this.activeTab);return t&&-1!=this.items.indexOf(t)?this.activeTab=t:this.activeTab=null,this.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(t,e){var i=t.tabConfig||{},n={xtype:"tab",card:t,disabled:t.disabled,closable:t.closable,hidden:t.hidden&&!t.hiddenByLayout,tooltip:t.tooltip,tabBar:this.tabBar,position:this.tabPosition,closeText:t.closeText};i=Ext.applyIf(i,n),t.tab=this.tabBar.insert(e,i),t.on({scope:this,enable:this.onItemEnable,disable:this.onItemDisable,beforeshow:this.onItemBeforeShow,iconchange:this.onItemIconChange,iconclschange:this.onItemIconClsChange,titlechange:this.onItemTitleChange}),t.isPanel&&(this.removePanelHeader&&(t.rendered?t.header&&t.header.hide():t.header=!1),t.isPanel&&this.border&&t.setBorder(!1))},onItemEnable:function(t){t.tab.enable()},onItemDisable:function(t){t.tab.disable()},onItemBeforeShow:function(t){if(t!==this.activeTab)return this.setActiveTab(t),!1},onItemIconChange:function(t,e){t.tab.setIcon(e)},onItemIconClsChange:function(t,e){t.tab.setIconCls(e)},onItemTitleChange:function(t,e){t.tab.setText(e)},doRemove:function(t,e){var i;this.destroying||1==this.items.getCount()?this.activeTab=null:-1!==(i=this.tabBar.items.indexOf(this.tabBar.findNextActivatable(t.tab)))&&this.setActiveTab(i),this.callParent(arguments),delete t.tab.card,delete t.tab},onRemove:function(t,e){t.un({scope:this,enable:this.onItemEnable,disable:this.onItemDisable,beforeshow:this.onItemBeforeShow}),this.destroying||t.tab.ownerCt!==this.tabBar||this.tabBar.remove(t.tab)}}),Ext.define("Ext.toolbar.Spacer",{extend:Ext.Component,alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:!1}),Ext.define("Ext.tree.Panel",{extend:Ext.panel.Table,alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:!1,rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(t){void 0===(t=t||{}).animate&&(t.animate=Ext.isDefined(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=t.animate,delete t.animate,this.callParent([t])},initComponent:function(){var t,e=[this.treeCls],i=this.store;this.useArrows&&(e.push(this.arrowCls),this.lines=!1),this.lines?e.push(this.linesCls):this.useArrows||e.push(this.noLinesCls),Ext.isString(i)?i=this.store=Ext.StoreMgr.lookup(i):!i||Ext.isObject(i)&&!i.isStore?i=this.store=new Ext.data.TreeStore(Ext.apply({root:this.root,fields:this.fields,model:this.model,folderSort:this.folderSort},i)):this.root&&((i=this.store=Ext.data.StoreManager.lookup(i)).setRootNode(this.root),void 0!==this.folderSort&&(i.folderSort=this.folderSort,i.sort())),this.viewConfig=Ext.apply({rootVisible:this.rootVisible,animate:this.enableAnimations,singleExpand:this.singleExpand,node:i.getRootNode(),hideHeaders:this.hideHeaders},this.viewConfig),this.columns||(void 0===this.initialConfig.hideHeaders&&(this.hideHeaders=!0),this.addCls(this.autoWidthCls),this.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?"100%":1e4,dataIndex:this.displayField}]),this.cls&&e.push(this.cls),this.cls=e.join(" "),this.callParent(),this.selModel.treeStore=this.store,t=this.getView(),this.relayEvents(t,["checkchange","afteritemexpand","afteritemcollapse"]),t.isLockingView||t.rootVisible||this.getRootNode()||this.setRootNode({expanded:!0})},bindStore:function(t){this.store=t,this.storeListeners=this.mon(t,{destroyable:!0,load:this.onStoreLoad,rootchange:this.onRootChange,clear:this.onClear,scope:this}),this.storeRelayers=this.relayEvents(t,["beforeload","load"]),this.storeRelayers1=this.mon(t,{destroyable:!0,append:this.createRelayer("itemappend"),remove:this.createRelayer("itemremove"),move:this.createRelayer("itemmove",[0,4]),insert:this.createRelayer("iteminsert"),beforeappend:this.createRelayer("beforeitemappend"),beforeremove:this.createRelayer("beforeitemremove"),beforemove:this.createRelayer("beforeitemmove"),beforeinsert:this.createRelayer("beforeiteminsert"),expand:this.createRelayer("itemexpand",[0,1]),collapse:this.createRelayer("itemcollapse",[0,1]),beforeexpand:this.createRelayer("beforeitemexpand",[0,1]),beforecollapse:this.createRelayer("beforeitemcollapse",[0,1])}),t.ownerTree=this},unbindStore:function(){var t=this.store;t&&(Ext.destroy(this.storeListeners,this.storeRelayers,this.storeRelayers1),delete t.ownerTree)},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(t){this.view.setRootNode(t)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(t){return t.get("checked")},expandNode:function(t,e,i,n){return this.getView().expand(t,e,i,n||this)},collapseNode:function(t,e,i,n){return this.getView().collapse(t,e,i,n||this)},expandAll:function(t,e){var i=this.getRootNode(),n=this.enableAnimations;i&&(n||Ext.suspendLayouts(),i.expand(!0,t,e||this),n||Ext.resumeLayouts(!0))},collapseAll:function(t,e){var i=this.getRootNode(),n=this.enableAnimations,s=this.getView();i&&(n||Ext.suspendLayouts(),e=e||this,s.rootVisible?i.collapse(!0,t,e):i.collapseChildren(!0,t,e),n||Ext.resumeLayouts(!0))},expandPath:function(t,e,i,n,s){var r,o,a=this,l=a.getRootNode(),h=1;a.getView();e=e||a.getRootNode().idProperty,i=i||"/",Ext.isEmpty(t)?Ext.callback(n,s||a,[!1,null]):(r=t.split(i),l.get(e)==r[1]?(o=function(){if(++h!==r.length){var t=l.findChild(e,r[h]);t?(l=t).expand(!1,o):Ext.callback(n,s||a,[!1,l])}else Ext.callback(n,s||a,[!0,l])},l.expand(!1,o)):Ext.callback(n,s||a,[!1,l]))},selectPath:function(t,e,i,n,s){var r,o,a,l=this;e=e||l.getRootNode().idProperty,i=i||"/",o=t.split(i),a=o.pop(),o.length>1?l.expandPath(o.join(i),e,i,function(t,i){var r=i;if(t&&i&&(i=i.findChild(e,a)))return l.getSelectionModel().select(i),void Ext.callback(n,s||l,[!0,i]);Ext.callback(n,s||l,[!1,r])},l):(r=l.getRootNode()).getId()===a?(l.getSelectionModel().select(r),Ext.callback(n,s||l,[!0,r])):Ext.callback(n,s||l,[!1,null])}}),Ext.define("Ext.view.DragZone",{extend:Ext.dd.DragZone,containerScroll:!1,constructor:function(t){var e,i,n;Ext.apply(this,t),this.ddGroup||(this.ddGroup="view-dd-zone-"+this.view.id),n=(i=(e=this.view).ownerCt)?i.getTargetEl().dom:e.el.dom.parentNode,this.callParent([n]),this.ddel=Ext.get(document.createElement("div")),this.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(t,e,i){this.initTarget(t,e,i),this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onValidDrop:function(t,e,i){this.callParent(),t.el.focus()},onItemMouseDown:function(t,e,i,n,s){this.isPreventDrag(s,e,i,n)||(this.view.focus(),this.handleMouseDown(s))},isPreventDrag:function(t){return!1},getDragData:function(t){var e=this.view,i=t.getTarget(e.getItemSelector());if(i)return{copy:e.copy||e.allowCopy&&t.ctrlKey,event:new Ext.EventObjectImpl(t),view:e,ddel:this.ddel,item:i,records:e.getSelectionModel().getSelection(),fromPosition:Ext.fly(i).getXY()}},onInitDrag:function(t,e){var i=this.dragData,n=i.view,s=n.getSelectionModel(),r=n.getRecord(i.item);return s.isSelected(r)||s.select(r,!0),i.records=s.getSelection(),this.ddel.update(this.getDragText()),this.proxy.update(this.ddel.dom),this.onStartDrag(t,e),!0},getDragText:function(){var t=this.dragData.records.length;return Ext.String.format(this.dragText,t,1==t?"":"s")},getRepairXY:function(t,e){return!!e&&e.fromPosition}}),Ext.define("Ext.tree.ViewDragZone",{extend:Ext.view.DragZone,isPreventDrag:function(t,e){return!1===e.get("allowDrag")||!!t.getTarget(this.view.expanderSelector)},getDragText:function(){var t=this.dragData.records,e=t.length,i=t[0].get(this.displayField),n="s";return 1===e&&i?i:(i||(n=""),Ext.String.format(this.dragText,e,n))},afterRepair:function(){var t,e,i=this.view,n=i.selectedItemCls,s=this.dragData.records,r=s.length,o=Ext.fly;if(Ext.enableFx&&this.repairHighlight)for(t=0;t<r;t++)e=i.getNode(s[t]),o(e.firstChild).highlight(this.repairHighlightColor,{listeners:{beforeanimate:function(){i.isSelected(e)&&o(e).removeCls(n)},afteranimate:function(){i.isSelected(e)&&o(e).addCls(n)}}});this.dragging=!1}}),Ext.define("Ext.tree.ViewDropZone",{extend:Ext.view.DropZone,allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(t){var e=this.view;this.expandProcId=!1,t.isLeaf()||t.isExpanded()||(e.expand(t),this.expandProcId=!1)},queueExpand:function(t){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[t])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(t,e){var i,n=this.view.getRecord(e),s=t.getPageY(),r=n.isLeaf(),o=!1,a=Ext.fly(e).getRegion();return n.isRoot()?"append":this.appendOnly?!r&&"append":(this.allowParentInserts||(o=n.hasChildNodes()&&n.isExpanded()),i=(a.bottom-a.top)/(r?2:3),s>=a.top&&s<a.top+i?"before":!o&&(r||s>=a.bottom-i&&s<=a.bottom)?"after":"append")},isValidDropPoint:function(t,e,i,n,s){if(!t||!s.item)return!1;var r,o,a=this.view,l=a.getRecord(t),h=s.records,d=h.length,c=h.length;if(!(l&&e&&d))return!1;for(r=0;r<c;r++)if((o=h[r]).isNode&&o.contains(l))return!1;return("append"!==e||!1!==l.get("allowDrop"))&&(("append"==e||!1!==l.parentNode.get("allowDrop"))&&(!Ext.Array.contains(h,l)&&!1!==a.fireEvent("nodedragover",l,e,s,n)))},onNodeOver:function(t,e,i,n){var s=this.getPosition(i,t),r=this.dropNotAllowed,o=this.view,a=o.getRecord(t),l=this.getIndicator(),h=0;return this.cancelExpand(),"append"!=s||this.expandProcId||Ext.Array.contains(n.records,a)||a.isLeaf()||a.isExpanded()||this.queueExpand(a),this.isValidDropPoint(t,s,e,i,n)?(this.valid=!0,this.currentPosition=s,this.overRecord=a,l.setWidth(Ext.fly(t).getWidth()),h=Ext.fly(t).getY()-Ext.fly(o.el).getY()-1,"before"==s?(r=a.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",l.showAt(0,h),e.proxy.show()):"after"==s?(r=a.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",h+=Ext.fly(t).getHeight(),l.showAt(0,h),e.proxy.show()):(r=Ext.baseCSSPrefix+"tree-drop-ok-append",l.hide())):this.valid=!1,this.currentCls=r,r},onNodeOut:function(t,e,i,n){this.valid=!1,this.getIndicator().hide()},onContainerOver:function(t,e,i){return e.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments),this.cancelExpand()},handleNodeDrop:function(t,e,i){var n,s,r,o,a,l,h,d,c=this,u=c.view,f=e?e.parentNode:u.panel.getRootNode(),p=u.getStore().treeStore.model;if(t.copy)for(n=t.records,t.records=[],s=0,r=n.length;s<r;s++)(o=n[s]).isNode?t.records.push(o.copy(void 0,!0)):t.records.push(new p(o[o.persistenceProperty],o.getId()));c.cancelExpand(),"before"==i?(a=f.insertBefore,l=[null,e],e=f):"after"==i?(e.nextSibling?(a=f.insertBefore,l=[null,e.nextSibling]):(a=f.appendChild,l=[null]),e=f):(e.isExpanded()||e.isLoading()||(h=!0),a=e.appendChild,l=[null]),d=function(){var i,n;for(Ext.suspendLayouts(),u.getSelectionModel().clearSelections(),s=0,r=t.records.length;s<r;s++)l[0]=t.records[s],a.apply(e,l);if(c.sortOnDrop&&e.sort(e.getOwnerTree().store.generateComparator()),Ext.resumeLayouts(!0),Ext.enableFx&&c.dropHighlight)for(i=c.dropHighlightColor,s=0;s<r;s++)(n=u.getNode(t.records[s]))&&Ext.fly(n).highlight(i)},h?e.expand(!1,d):e.isLoading()?e.on({expand:d,delay:1,single:!0}):d()}}),Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:Ext.AbstractPlugin,alias:"plugin.treeviewdragdrop",dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,displayField:"text",init:function(t){t.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(t){var e;this.enableDrag&&(this.containerScroll&&(e=t.getEl()),this.dragZone=new Ext.tree.ViewDragZone({view:t,ddGroup:this.dragGroup||this.ddGroup,dragText:this.dragText,displayField:this.displayField,repairHighlightColor:this.nodeHighlightColor,repairHighlight:this.nodeHighlightOnRepair,scrollEl:e})),this.enableDrop&&(this.dropZone=new Ext.tree.ViewDropZone({view:t,ddGroup:this.dropGroup||this.ddGroup,allowContainerDrops:this.allowContainerDrops,appendOnly:this.appendOnly,allowParentInserts:this.allowParentInserts,expandDelay:this.expandDelay,dropHighlightColor:this.nodeHighlightColor,dropHighlight:this.nodeHighlightOnDrop,sortOnDrop:this.sortOnDrop,containerScroll:this.containerScroll}))}},function(){var t=this.prototype;t.nodeHighlightOnDrop=t.nodeHighlightOnRepair=Ext.enableFx}),Ext.define("Ext.util.Cookies",{singleton:!0,set:function(t,e){var i=arguments,n=arguments.length,s=n>2?i[2]:null,r=n>3?i[3]:"/",o=n>4?i[4]:null,a=n>5&&i[5];document.cookie=t+"="+escape(e)+(null===s?"":"; expires="+s.toGMTString())+(null===r?"":"; path="+r)+(null===o?"":"; domain="+o)+(!0===a?"; secure":"")},get:function(t){for(var e=t+"=",i=e.length,n=document.cookie.length,s=0,r=0;s<n;){if(r=s+i,document.cookie.substring(s,r)==e)return this.getCookieVal(r);if(0===(s=document.cookie.indexOf(" ",s)+1))break}return null},clear:function(t,e){this.get(t)&&(e=e||"/",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+e)},getCookieVal:function(t){var e=document.cookie.indexOf(";",t);return-1==e&&(e=document.cookie.length),unescape(document.cookie.substring(t,e))}}),Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:!0,getGroupString:function(t){return t.get(this.property)}}),Ext.define("Ext.util.History",{singleton:!0,alternateClassName:"Ext.History",mixins:{observable:Ext.util.Observable},useTopWindow:!0,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){this.oldIEMode=Ext.isIE7m||!Ext.isStrict&&Ext.isIE8,this.iframe=null,this.hiddenField=null,this.ready=!1,this.currentToken=null,this.mixins.observable.constructor.call(this)},getHash:function(){var t=window.location.href,e=t.indexOf("#");return e>=0?t.substr(e+1):null},setHash:function(t){var e=this.useTopWindow?window.top:window;try{e.location.hash=t}catch(t){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(t){this.currentToken=t,this.fireEvent("change",t)},updateIFrame:function(t){var e,i='<html><body><div id="state">'+Ext.util.Format.htmlEncode(t)+"</div></body></html>";try{return(e=this.iframe.contentWindow.document).open(),e.write(i),e.close(),!0}catch(t){return!1}},checkIFrame:function(){var t,e,i,n=this,s=n.iframe.contentWindow;s&&s.document?(t=s.document.getElementById("state"),e=t?t.innerText:null,i=n.getHash(),Ext.TaskManager.start({run:function(){var t=s.document.getElementById("state"),r=t?t.innerText:null,o=n.getHash();r!==e?(e=r,n.handleStateChange(r),n.setHash(r),i=r,n.doSave()):o!==i&&(i=o,n.updateIFrame(o))},interval:50,scope:n}),n.ready=!0,n.fireEvent("ready",n)):Ext.Function.defer(this.checkIFrame,10,this)},startUp:function(){var t,e=this;e.currentToken=e.hiddenField.value||this.getHash(),e.oldIEMode?e.checkIFrame():(t=e.getHash(),Ext.TaskManager.start({run:function(){var i=e.getHash();i!==t&&(t=i,e.handleStateChange(t),e.doSave())},interval:50,scope:e}),e.ready=!0,e.fireEvent("ready",e))},init:function(t,e){var i=this,n=Ext.DomHelper;i.ready?Ext.callback(t,e,[i]):Ext.isReady?(i.hiddenField=Ext.getDom(i.fieldId),i.hiddenField||(i.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:i.fieldId}]},!1,!0).firstChild),i.oldIEMode&&(i.iframe=Ext.getDom(i.iframeId),i.iframe||(i.iframe=n.append(i.hiddenField.parentNode,{tag:"iframe",id:i.iframeId,src:Ext.SSL_SECURE_URL}))),i.addEvents("ready","change"),t&&i.on("ready",t,e,{single:!0}),i.startUp()):Ext.onReady(function(){i.init(t,e)})},add:function(t,e){return!1!==e&&this.getToken()===t||(this.oldIEMode?this.updateIFrame(t):(this.setHash(t),!0))},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}}),function(t,e){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&"object"==typeof exports?module.exports=t():e.log4javascript=t()}(function(){function isUndefined(t){return void 0===t}function EventSupport(){}function Log4JavaScript(){}function toStr(t){return t&&t.toString?t.toString():String(t)}function getExceptionMessage(t){return t.message?t.message:t.description?t.description:toStr(t)}function getUrlFileName(t){var e=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return t.substr(e+1)}function getExceptionStringRep(t){if(t){var e="Exception: "+getExceptionMessage(t);try{t.lineNumber&&(e+=" on line number "+t.lineNumber),t.fileName&&(e+=" in file "+getUrlFileName(t.fileName))}catch(t){logLog.warn("Unable to obtain file and line information for error")}return showStackTraces&&t.stack&&(e+=newLine+"Stack trace:"+newLine+t.stack),e}return null}function bool(t){return Boolean(t)}function trim(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}function splitIntoLines(t){return t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function array_remove(t,e){for(var i=-1,n=0,s=t.length;n<s;n++)if(t[n]===e){i=n;break}return i>=0&&(t.splice(i,1),!0)}function array_contains(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]==e)return!0;return!1}function extractBooleanFromParam(t,e){return isUndefined(t)?e:bool(t)}function extractStringFromParam(t,e){return isUndefined(t)?e:String(t)}function extractIntFromParam(t,e){if(isUndefined(t))return e;try{var i=parseInt(t,10);return isNaN(i)?e:i}catch(i){return logLog.warn("Invalid int param "+t,i),e}}function extractFunctionFromParam(t,e){return"function"==typeof t?t:e}function isError(t){return t instanceof Error}function handleError(t,e){logLog.error(t,e),log4javascript.dispatchEvent("error",{message:t,exception:e})}function Timer(t,e){this.name=t,this.level=isUndefined(e)?Level.INFO:e,this.start=new Date}function Logger(t){this.name=t,this.parent=null,this.children=[];var e=[],i=null,n=this.name===rootLoggerName,s=this.name===nullLoggerName,r=null,o=!1;this.addChild=function(t){this.children.push(t),t.parent=this,t.invalidateAppenderCache()};var a=!0;this.getAdditivity=function(){return a},this.setAdditivity=function(t){var e=a!=t;a=t,e&&this.invalidateAppenderCache()},this.addAppender=function(t){s?handleError("Logger.addAppender: you may not add an appender to the null logger"):t instanceof log4javascript.Appender?array_contains(e,t)||(e.push(t),t.setAddedToLogger(this),this.invalidateAppenderCache()):handleError("Logger.addAppender: appender supplied ('"+toStr(t)+"') is not a subclass of Appender")},this.removeAppender=function(t){array_remove(e,t),t.setRemovedFromLogger(this),this.invalidateAppenderCache()},this.removeAllAppenders=function(){var t=e.length;if(t>0){for(var i=0;i<t;i++)e[i].setRemovedFromLogger(this);e.length=0,this.invalidateAppenderCache()}},this.getEffectiveAppenders=function(){if(null===r||o){var t=n||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders();r=t.concat(e),o=!1}return r},this.invalidateAppenderCache=function(){o=!0;for(var t=0,e=this.children.length;t<e;t++)this.children[t].invalidateAppenderCache()},this.log=function(t,e){if(enabled&&t.isGreaterOrEqual(this.getEffectiveLevel())){var i,n=e.length-1,s=e[n];e.length>1&&isError(s)&&(i=s,n--);for(var r=[],o=0;o<=n;o++)r[o]=e[o];var a=new LoggingEvent(this,new Date,t,r,i);this.callAppenders(a)}},this.callAppenders=function(t){for(var e=this.getEffectiveAppenders(),i=0,n=e.length;i<n;i++)e[i].doAppend(t)},this.setLevel=function(t){n&&null===t?handleError("Logger.setLevel: you cannot set the level of the root logger to null"):t instanceof Level?i=t:handleError("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")},this.getLevel=function(){return i},this.getEffectiveLevel=function(){for(var t=this;null!==t;t=t.parent){var e=t.getLevel();if(null!==e)return e}},this.group=function(t,e){if(enabled)for(var i=this.getEffectiveAppenders(),n=0,s=i.length;n<s;n++)i[n].group(t,e)},this.groupEnd=function(){if(enabled)for(var t=this.getEffectiveAppenders(),e=0,i=t.length;e<i;e++)t[e].groupEnd()};var l={};this.time=function(t,e){enabled&&(isUndefined(t)?handleError("Logger.time: a name for the timer must be supplied"):!e||e instanceof Level?l[t]=new Timer(t,e):handleError("Logger.time: level supplied to timer "+t+" is not an instance of log4javascript.Level"))},this.timeEnd=function(t){if(enabled)if(isUndefined(t))handleError("Logger.timeEnd: a name for the timer must be supplied");else if(l[t]){var e=l[t],i=e.getElapsedTime();this.log(e.level,["Timer "+toStr(t)+" completed in "+i+"ms"]),delete l[t]}else logLog.warn("Logger.timeEnd: no timer found with name "+t)},this.assert=function(t){if(enabled&&!t){for(var e=[],i=1,n=arguments.length;i<n;i++)e.push(arguments[i]);(e=e.length>0?e:["Assertion Failure"]).push(newLine),e.push(t),this.log(Level.ERROR,e)}},this.toString=function(){return"Logger["+this.name+"]"}}function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(t){this.combineMessages=extractBooleanFromParam(t,!0),this.customFields=[]}function escapeNewLines(t){return t.replace(/\r\n|\r|\n/g,"\\r\\n")}function JsonLayout(t,e){this.readable=extractBooleanFromParam(t,!1),this.combineMessages=extractBooleanFromParam(e,!0),this.batchHeader=this.readable?"["+newLine:"[",this.batchFooter=this.readable?"]"+newLine:"]",this.batchSeparator=this.readable?","+newLine:",",this.setKeys(),this.colon=this.readable?": ":":",this.tab=this.readable?"\t":"",this.lineBreak=this.readable?newLine:"",this.customFields=[]}function HttpPostDataLayout(){this.setKeys(),this.customFields=[],this.returnsPostData=!0}function formatObjectExpansion(t,e,i){function n(t,e,i){function r(t){for(var e=splitIntoLines(t),n=1,s=e.length;n<s;n++)e[n]=i+e[n];return e.join(newLine)}var o,a,l,h,d,c,u;if(i||(i=""),null===t)return"null";if(void 0===t)return"undefined";if("string"==typeof t)return r(t);if("object"==typeof t&&array_contains(s,t)){try{c=toStr(t)}catch(t){c="Error formatting property. Details: "+getExceptionStringRep(t)}return c+" [already expanded]"}if(t instanceof Array&&e>0){for(s.push(t),c="["+newLine,l=e-1,h=i+"  ",d=[],o=0,a=t.length;o<a;o++)try{u=n(t[o],l,h),d.push(h+u)}catch(t){d.push(h+"Error formatting array member. Details: "+getExceptionStringRep(t))}return c+=d.join(","+newLine)+newLine+i+"]"}if("[object Date]"==Object.prototype.toString.call(t))return t.toString();if("object"==typeof t&&e>0){s.push(t),c="{"+newLine,l=e-1,h=i+"  ",d=[];for(o in t)try{u=n(t[o],l,h),d.push(h+o+": "+u)}catch(t){d.push(h+o+": Error formatting property. Details: "+getExceptionStringRep(t))}return c+=d.join(","+newLine)+newLine+i+"}"}return r(toStr(t))}var s=[];return n(t,e,i)}function PatternLayout(t){this.pattern=t||PatternLayout.DEFAULT_CONVERSION_PATTERN,this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}function isHttpRequestSuccessful(t){return isUndefined(t.status)||0===t.status||t.status>=200&&t.status<300||1223==t.status}function AjaxAppender(t,e){function i(t){return!T||(handleError("AjaxAppender: configuration option '"+t+"' may not be set after the appender has been initialized"),!1)}function n(){if(d&&enabled){S=!0;var t;if(u)C.length>0?l(r(t=C.shift()),n):(S=!1,c&&o());else{for(;t=C.shift();)l(r(t));S=!1,c&&o()}}}function s(){var t=!1;if(d&&enabled){for(var e,i=h.getLayout().allowBatching()?f:1,s=[];e=b.shift();)s.push(e),b.length>=i&&(C.push(s),s=[]);s.length>0&&C.push(s),t=C.length>0,u=!1,c=!1,n()}return t}function r(t){for(var e,i=[],n="";e=t.shift();)i.push(h.getLayout().formatWithException(e));return n=1==t.length?i.join(""):h.getLayout().batchHeader+i.join(h.getLayout().batchSeparator)+h.getLayout().batchFooter,y==h.defaults.contentType&&((n=h.getLayout().returnsPostData?n:urlEncode(x)+"="+urlEncode(n)).length>0&&(n+="&"),n+="layout="+urlEncode(h.getLayout().toString())),n}function o(){window.setTimeout(n,p)}function a(){var t="AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";handleError(t),d=!1,m&&m(t)}function l(i,n){try{var s=getXmlHttp(a);if(d){e&&withCredentialsSupported&&(s.withCredentials=!0),s.onreadystatechange=function(){if(4==s.readyState){if(isHttpRequestSuccessful(s))g&&g(s),n&&n(s);else{var e="AjaxAppender.append: XMLHttpRequest request to URL "+t+" returned status code "+s.status;handleError(e),m&&m(e)}s.onreadystatechange=emptyFunction,s=null}},s.open("POST",t,!0);try{for(var r,o=0;r=w[o++];)s.setRequestHeader(r.name,r.value);s.setRequestHeader("Content-Type",y)}catch(t){var l="AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";return handleError(l),d=!1,void(m&&m(l))}s.send(i)}}catch(e){var h="AjaxAppender.append: error sending log message to "+t;handleError(h,e),d=!1,m&&m(h+". Details: "+getExceptionStringRep(e))}}var h=this,d=!0;t||(handleError("AjaxAppender: URL must be specified in constructor"),d=!1);var c=this.defaults.timed,u=this.defaults.waitForResponse,f=this.defaults.batchSize,p=this.defaults.timerInterval,g=this.defaults.requestSuccessCallback,m=this.defaults.failCallback,x=this.defaults.postVarName,E=this.defaults.sendAllOnUnload,y=this.defaults.contentType,v=null,b=[],C=[],w=[],S=!1,T=!1;this.getSessionId=function(){return v},this.setSessionId=function(t){v=extractStringFromParam(t,null),this.layout.setCustomField("sessionid",v)},this.setLayout=function(t){i("layout")&&(this.layout=t,null!==v&&this.setSessionId(v))},this.isTimed=function(){return c},this.setTimed=function(t){i("timed")&&(c=bool(t))},this.getTimerInterval=function(){return p},this.setTimerInterval=function(t){i("timerInterval")&&(p=extractIntFromParam(t,p))},this.isWaitForResponse=function(){return u},this.setWaitForResponse=function(t){i("waitForResponse")&&(u=bool(t))},this.getBatchSize=function(){return f},this.setBatchSize=function(t){i("batchSize")&&(f=extractIntFromParam(t,f))},this.isSendAllOnUnload=function(){return E},this.setSendAllOnUnload=function(t){i("sendAllOnUnload")&&(E=extractBooleanFromParam(t,E))},this.setRequestSuccessCallback=function(t){g=extractFunctionFromParam(t,g)},this.setFailCallback=function(t){m=extractFunctionFromParam(t,m)},this.getPostVarName=function(){return x},this.setPostVarName=function(t){i("postVarName")&&(x=extractStringFromParam(t,x))},this.getHeaders=function(){return w},this.addHeader=function(t,e){"content-type"==t.toLowerCase()?y=e:w.push({name:t,value:e})},this.sendAll=n,this.sendAllRemaining=s,this.append=function(t){if(d){T||function(){if(T=!0,E){var t=window.onbeforeunload;window.onbeforeunload=function(){if(t&&t(),s())return"Sending log messages"}}c&&o()}(),b.push(t);var e=this.getLayout().allowBatching()?f:1;if(b.length>=e){for(var i,r=[];i=b.shift();)r.push(i);C.push(r),c||u&&(!u||S)||n()}}}}function setCookie(t,e,i,n){var s;if(n=n?"; path="+n:"",i){var r=new Date;r.setTime(r.getTime()+24*i*60*60*1e3),s="; expires="+r.toGMTString()}else s="";document.cookie=escape(t)+"="+escape(e)+s+n}function getCookie(t){for(var e=escape(t)+"=",i=document.cookie.split(";"),n=0,s=i.length;n<s;n++){for(var r=i[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return unescape(r.substring(e.length,r.length))}return null}function getBaseUrl(){for(var t=document.getElementsByTagName("script"),e=0,i=t.length;e<i;++e)if(-1!=t[e].src.indexOf("log4javascript")){var n=t[e].src.lastIndexOf("/");return-1==n?"":t[e].src.substr(0,n+1)}return null}function isLoaded(t){try{return bool(t.loaded)}catch(t){return!1}}function padWithSpaces(t,e){if(t.length<e){for(var i=[],n=Math.max(0,e-t.length),s=0;s<n;s++)i[s]=" ";t+=i.join("")}return t}function createDefaultLogger(){var t=log4javascript.getLogger(defaultLoggerName),e=new log4javascript.PopUpAppender;return t.addAppender(e),t}Array.prototype.push||(Array.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)this[this.length]=arguments[t];return this.length}),Array.prototype.shift||(Array.prototype.shift=function(){if(this.length>0){for(var t=this[0],e=0,i=this.length-1;e<i;e++)this[e]=this[e+1];return this.length=this.length-1,t}}),Array.prototype.splice||(Array.prototype.splice=function(t,e){var i=this.slice(t+e),n=this.slice(t,t+e);this.length=t;for(var s=[],r=0,o=arguments.length;r<o;r++)s[r]=arguments[r];var a=s.length>2?i=s.slice(2).concat(i):i;for(r=0,o=a.length;r<o;r++)this.push(a[r]);return n}),EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(t){if(t instanceof Array){this.eventTypes=t,this.eventListeners={};for(var e=0,i=this.eventTypes.length;e<i;e++)this.eventListeners[this.eventTypes[e]]=[]}else handleError("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(t,e){"function"==typeof e?(array_contains(this.eventTypes,t)||handleError("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+t+"'"),this.eventListeners[t].push(e)):handleError("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(t,e){"function"==typeof e?(array_contains(this.eventTypes,t)||handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+t+"'"),array_remove(this.eventListeners[t],e)):handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(t,e){if(array_contains(this.eventTypes,t))for(var i=this.eventListeners[t],n=0,s=i.length;n<s;n++)i[n](this,t,e);else handleError("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+t+"'")}};var applicationStartDate=new Date,uniqueId="log4javascript_"+applicationStartDate.getTime()+"_"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine="\r\n",pageLoaded=!1;Log4JavaScript.prototype=new EventSupport;var log4javascript=new Log4JavaScript;log4javascript.version="1.4.10",log4javascript.edition="log4javascript";var urlEncode=void 0!==window.encodeURIComponent?function(t){return encodeURIComponent(t)}:function(t){return escape(t).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};Function.prototype.apply||(Function.prototype.apply=function(obj,args){var methodName="__apply__";void 0!==obj[methodName]&&(methodName+=String(Math.random()).substr(2)),obj[methodName]=this;for(var argsStrings=[],i=0,len=args.length;i<len;i++)argsStrings[i]="args["+i+"]";var script="obj."+methodName+"("+argsStrings.join(",")+")",returnValue=eval(script);return delete obj[methodName],returnValue}),Function.prototype.call||(Function.prototype.call=function(t){for(var e=[],i=1,n=arguments.length;i<n;i++)e[i-1]=arguments[i];return this.apply(t,e)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(t){this.quietMode=bool(t)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(t){this.alertAllErrors=t},debug:function(t){this.debugMessages.push(t)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(t,e){},error:function(t,e){if((1==++this.numberOfErrors||this.alertAllErrors)&&!this.quietMode){var i="log4javascript error: "+t;e&&(i+=newLine+newLine+"Original error: "+getExceptionStringRep(e)),alert(i)}}};log4javascript.logLog=logLog,log4javascript.setEventTypes(["load","error"]),log4javascript.handleError=handleError;var enabled=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);log4javascript.setEnabled=function(t){enabled=bool(t)},log4javascript.isEnabled=function(){return enabled};var useTimeStampsInMilliseconds=!0;log4javascript.setTimeStampsInMilliseconds=function(t){useTimeStampsInMilliseconds=bool(t)},log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds},log4javascript.evalInScope=function(expr){return eval(expr)};var showStackTraces=!1;log4javascript.setShowStackTraces=function(t){showStackTraces=bool(t)};var Level=function(t,e){this.level=t,this.name=e};Level.prototype={toString:function(){return this.name},equals:function(t){return this.level==t.level},isGreaterOrEqual:function(t){return this.level>=t.level}},Level.ALL=new Level(Number.MIN_VALUE,"ALL"),Level.TRACE=new Level(1e4,"TRACE"),Level.DEBUG=new Level(2e4,"DEBUG"),Level.INFO=new Level(3e4,"INFO"),Level.WARN=new Level(4e4,"WARN"),Level.ERROR=new Level(5e4,"ERROR"),Level.FATAL=new Level(6e4,"FATAL"),Level.OFF=new Level(Number.MAX_VALUE,"OFF"),log4javascript.Level=Level,Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName="[anonymous]",defaultLoggerName="[default]",nullLoggerName="[null]",rootLoggerName="root";Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(t){return t.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}},Logger.prototype.trace.isEntryPoint=!0,Logger.prototype.debug.isEntryPoint=!0,Logger.prototype.info.isEntryPoint=!0,Logger.prototype.warn.isEntryPoint=!0,Logger.prototype.error.isEntryPoint=!0,Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),log4javascript.getRootLogger=function(){return rootLogger},log4javascript.getLogger=function(t){if("string"!=typeof t&&(t=anonymousLoggerName,logLog.warn("log4javascript.getLogger: non-string logger name "+toStr(t)+" supplied, returning anonymous logger")),t==rootLoggerName&&handleError("log4javascript.getLogger: root logger may not be obtained by name"),!loggers[t]){var e=new Logger(t);loggers[t]=e,loggerNames.push(t);var i,n=t.lastIndexOf(".");if(n>-1){var s=t.substring(0,n);i=log4javascript.getLogger(s)}else i=rootLogger;i.addChild(e)}return loggers[t]};var defaultLogger=null;log4javascript.getDefaultLogger=function(){return defaultLogger||(defaultLogger=createDefaultLogger()),defaultLogger};var nullLogger=null;log4javascript.getNullLogger=function(){return nullLogger||(nullLogger=new Logger(nullLoggerName)).setLevel(Level.OFF),nullLogger},log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),loggers={}};var LoggingEvent=function(t,e,i,n,s){this.logger=t,this.timeStamp=e,this.timeStampInMilliseconds=e.getTime(),this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3),this.milliseconds=this.timeStamp.getMilliseconds(),this.level=i,this.messages=n,this.exception=s};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):""},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return"LoggingEvent["+this.level+"]"}},log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url"},loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url",batchHeader:"",batchFooter:"",batchSeparator:"",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError("Layout.format: layout supplied has no format() method")},ignoresThrowable:function(){handleError("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},getContentType:function(){return"text/plain"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(t){this.overrideTimeStampsSetting=!0,this.useTimeStampsInMilliseconds=bool(t)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(t){return this.isTimeStampsInMilliseconds()?t.timeStampInMilliseconds:t.timeStampInSeconds},getDataValues:function(t,e){var i=[[this.loggerKey,t.logger.name],[this.timeStampKey,this.getTimeStampValue(t)],[this.levelKey,t.level.name],[this.urlKey,window.location.href],[this.messageKey,e?t.getCombinedMessages():t.messages]];if(this.isTimeStampsInMilliseconds()||i.push([this.millisecondsKey,t.milliseconds]),t.exception&&i.push([this.exceptionKey,getExceptionStringRep(t.exception)]),this.hasCustomFields())for(var n=0,s=this.customFields.length;n<s;n++){var r=this.customFields[n].value;"function"==typeof r&&(r=r(this,t)),i.push([this.customFields[n].name,r])}return i},setKeys:function(t,e,i,n,s,r,o){this.loggerKey=extractStringFromParam(t,this.defaults.loggerKey),this.timeStampKey=extractStringFromParam(e,this.defaults.timeStampKey),this.levelKey=extractStringFromParam(i,this.defaults.levelKey),this.messageKey=extractStringFromParam(n,this.defaults.messageKey),this.exceptionKey=extractStringFromParam(s,this.defaults.exceptionKey),this.urlKey=extractStringFromParam(r,this.defaults.urlKey),this.millisecondsKey=extractStringFromParam(o,this.defaults.millisecondsKey)},setCustomField:function(t,e){for(var i=!1,n=0,s=this.customFields.length;n<s;n++)this.customFields[n].name===t&&(this.customFields[n].value=e,i=!0);i||this.customFields.push({name:t,value:e})},hasCustomFields:function(){return this.customFields.length>0},formatWithException:function(t){var e=this.format(t);return t.exception&&this.ignoresThrowable()&&(e+=t.getThrowableStrRep()),e},toString:function(){handleError("Layout.toString: all layouts must override this method")}},log4javascript.Layout=Layout;var Appender=function(){};Appender.prototype=new EventSupport,Appender.prototype.layout=new PatternLayout,Appender.prototype.threshold=Level.ALL,Appender.prototype.loggers=[],Appender.prototype.doAppend=function(t){enabled&&t.level.level>=this.threshold.level&&this.append(t)},Appender.prototype.append=function(t){},Appender.prototype.setLayout=function(t){t instanceof Layout?this.layout=t:handleError("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")},Appender.prototype.getLayout=function(){return this.layout},Appender.prototype.setThreshold=function(t){t instanceof Level?this.threshold=t:handleError("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")},Appender.prototype.getThreshold=function(){return this.threshold},Appender.prototype.setAddedToLogger=function(t){this.loggers.push(t)},Appender.prototype.setRemovedFromLogger=function(t){array_remove(this.loggers,t)},Appender.prototype.group=emptyFunction,Appender.prototype.groupEnd=emptyFunction,Appender.prototype.toString=function(){handleError("Appender.toString: all appenders must override this method")},log4javascript.Appender=Appender,SimpleLayout.prototype=new Layout,SimpleLayout.prototype.format=function(t){return t.level.name+" - "+t.getCombinedMessages()},SimpleLayout.prototype.ignoresThrowable=function(){return!0},SimpleLayout.prototype.toString=function(){return"SimpleLayout"},log4javascript.SimpleLayout=SimpleLayout,NullLayout.prototype=new Layout,NullLayout.prototype.format=function(t){return t.messages},NullLayout.prototype.ignoresThrowable=function(){return!0},NullLayout.prototype.formatWithException=function(t){var e=t.messages,i=t.exception;return i?e.concat([i]):e},NullLayout.prototype.toString=function(){return"NullLayout"},log4javascript.NullLayout=NullLayout,XmlLayout.prototype=new Layout,XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages},XmlLayout.prototype.getContentType=function(){return"text/xml"},XmlLayout.prototype.escapeCdata=function(t){return t.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")},XmlLayout.prototype.format=function(t){function e(t){return t="string"==typeof t?t:toStr(t),"<log4javascript:message><![CDATA["+s.escapeCdata(t)+"]]></log4javascript:message>"}var i,n,s=this,r='<log4javascript:event logger="'+t.logger.name+'" timestamp="'+this.getTimeStampValue(t)+'"';if(this.isTimeStampsInMilliseconds()||(r+=' milliseconds="'+t.milliseconds+'"'),r+=' level="'+t.level.name+'">'+newLine,this.combineMessages)r+=e(t.getCombinedMessages());else{for(r+="<log4javascript:messages>"+newLine,i=0,n=t.messages.length;i<n;i++)r+=e(t.messages[i])+newLine;r+="</log4javascript:messages>"+newLine}if(this.hasCustomFields())for(i=0,n=this.customFields.length;i<n;i++)r+='<log4javascript:customfield name="'+this.customFields[i].name+'"><![CDATA['+this.customFields[i].value.toString()+"]]></log4javascript:customfield>"+newLine;return t.exception&&(r+="<log4javascript:exception><![CDATA["+getExceptionStringRep(t.exception)+"]]></log4javascript:exception>"+newLine),r+="</log4javascript:event>"+newLine+newLine},XmlLayout.prototype.ignoresThrowable=function(){return!1},XmlLayout.prototype.toString=function(){return"XmlLayout"},log4javascript.XmlLayout=XmlLayout,JsonLayout.prototype=new Layout,JsonLayout.prototype.isReadable=function(){return this.readable},JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages},JsonLayout.prototype.format=function(t){function e(t,i,n){var r,o=typeof t;if(t instanceof Date)r=String(t.getTime());else if(n&&t instanceof Array){r="["+s.lineBreak;for(var a=0,l=t.length;a<l;a++){var h=i+s.tab;r+=h+e(t[a],h,!1),a<t.length-1&&(r+=","),r+=s.lineBreak}r+=i+"]"}else r="number"!==o&&"boolean"!==o?'"'+escapeNewLines(toStr(t).replace(/\"/g,'\\"'))+'"':t;return r}var i,n,s=this,r=this.getDataValues(t,this.combineMessages),o="{"+this.lineBreak;for(i=0,n=r.length-1;i<=n;i++)o+=this.tab+'"'+r[i][0]+'"'+this.colon+e(r[i][1],this.tab,!0),i<n&&(o+=","),o+=this.lineBreak;return o+="}"+this.lineBreak},JsonLayout.prototype.ignoresThrowable=function(){return!1},JsonLayout.prototype.toString=function(){return"JsonLayout"},JsonLayout.prototype.getContentType=function(){return"application/json"},log4javascript.JsonLayout=JsonLayout,HttpPostDataLayout.prototype=new Layout,HttpPostDataLayout.prototype.allowBatching=function(){return!1},HttpPostDataLayout.prototype.format=function(t){for(var e=this.getDataValues(t),i=[],n=0,s=e.length;n<s;n++){var r=e[n][1]instanceof Date?String(e[n][1].getTime()):e[n][1];i.push(urlEncode(e[n][0])+"="+urlEncode(r))}return i.join("&")},HttpPostDataLayout.prototype.ignoresThrowable=function(t){return!1},HttpPostDataLayout.prototype.toString=function(){return"HttpPostDataLayout"},log4javascript.HttpPostDataLayout=HttpPostDataLayout;var SimpleDateFormat;!function(){var t=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,e=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n={G:0,y:3,M:4,w:2,W:2,D:2,d:2,F:2,E:1,a:0,H:2,k:2,K:2,h:2,m:2,s:2,S:2,Z:5},s=function(t,e,i){var n=new Date(t,e,i,0,0,0);return n.setMilliseconds(0),n};Date.prototype.getDifference=function(t){return this.getTime()-t.getTime()},Date.prototype.isBefore=function(t){return this.getTime()<t.getTime()},Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.prototype.getTimeSince=function(t){return this.getUTCTime()-t.getUTCTime()},Date.prototype.getPreviousSunday=function(){var t=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),e=new Date(t.getTime()-864e5*this.getDay());return s(e.getFullYear(),e.getMonth(),e.getDate())},Date.prototype.getWeekInYear=function(t){isUndefined(this.minimalDaysInFirstWeek)&&(t=1);var e=this.getPreviousSunday(),i=s(this.getFullYear(),0,1),n=e.isBefore(i)?0:1+Math.floor(e.getTimeSince(i)/6048e5);return 7-i.getDay()<t&&n--,n},Date.prototype.getWeekInMonth=function(t){isUndefined(this.minimalDaysInFirstWeek)&&(t=1);var e=this.getPreviousSunday(),i=s(this.getFullYear(),this.getMonth(),1),n=e.isBefore(i)?0:1+Math.floor(e.getTimeSince(i)/6048e5);return 7-i.getDay()>=t&&n++,n},Date.prototype.getDayInYear=function(){var t=s(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(t)/864e5)},(SimpleDateFormat=function(t){this.formatString=t}).prototype.setMinimalDaysInFirstWeek=function(t){this.minimalDaysInFirstWeek=t},SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?1:this.minimalDaysInFirstWeek};var r=function(t,e){for(;t.length<e;)t="0"+t;return t},o=function(t,e,i){return e>=4?t:t.substr(0,Math.max(i,e))},a=function(t,e){return r(""+t,e)};SimpleDateFormat.prototype.format=function(s){for(var l,h="",d=this.formatString;l=t.exec(d);){var c=l[1],u=l[2],f=l[3],p=l[4];if(c)h+="''"==c?"'":c.substring(1,c.length-1);else if(f);else if(p)h+=p;else if(u){var g=u.charAt(0),m=u.length,x="";switch(g){case"G":x="AD";break;case"y":x=s.getFullYear();break;case"M":x=s.getMonth();break;case"w":x=s.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case"W":x=s.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case"D":x=s.getDayInYear();break;case"d":x=s.getDate();break;case"F":x=1+Math.floor((s.getDate()-1)/7);break;case"E":x=i[s.getDay()];break;case"a":x=s.getHours()>=12?"PM":"AM";break;case"H":x=s.getHours();break;case"k":x=s.getHours()||24;break;case"K":x=s.getHours()%12;break;case"h":x=s.getHours()%12||12;break;case"m":x=s.getMinutes();break;case"s":x=s.getSeconds();break;case"S":x=s.getMilliseconds();break;case"Z":x=s.getTimezoneOffset()}switch(n[g]){case 0:h+=o(x,m,2);break;case 1:h+=o(x,m,3);break;case 2:h+=a(x,m);break;case 3:if(m<=3){h+=(""+x).substr(2,2)}else h+=a(x,m);break;case 4:h+=m>=3?o(e[x],m,m):a(x+1,m);break;case 5:var E=x>0?"-":"+",y=Math.abs(x),v=""+Math.floor(y/60),b=""+y%60;h+=E+(v=r(v,2))+(b=r(b,2))}}d=d.substr(l.index+l[0].length)}return h}}(),log4javascript.SimpleDateFormat=SimpleDateFormat,PatternLayout.TTCC_CONVERSION_PATTERN="%r %p %c - %m%n",PatternLayout.DEFAULT_CONVERSION_PATTERN="%m%n",PatternLayout.ISO8601_DATEFORMAT="yyyy-MM-dd HH:mm:ss,SSS",PatternLayout.DATETIME_DATEFORMAT="dd MMM yyyy HH:mm:ss,SSS",PatternLayout.ABSOLUTETIME_DATEFORMAT="HH:mm:ss,SSS",PatternLayout.prototype=new Layout,PatternLayout.prototype.format=function(t){for(var e,i=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,n="",s=this.pattern;e=i.exec(s);){var r=e[0],o=e[1],a=e[2],l=e[3],h=e[5],d=e[6];if(d)n+=""+d;else{var c="";switch(l){case"a":case"m":var u=0;h&&(u=parseInt(h,10),isNaN(u)&&(handleError("PatternLayout.format: invalid specifier '"+h+"' for conversion character '"+l+"' - should be a number"),u=0));for(var f="a"===l?t.messages[0]:t.messages,p=0,g=f.length;p<g;p++)p>0&&" "!==c.charAt(c.length-1)&&(c+=" "),c+=0===u?f[p]:formatObjectExpansion(f[p],u);break;case"c":var m=t.logger.name;if(h){var x=parseInt(h,10),E=t.logger.name.split(".");c=x>=E.length?m:E.slice(E.length-x).join(".")}else c=m;break;case"d":var y=PatternLayout.ISO8601_DATEFORMAT;h&&("ISO8601"==(y=h)?y=PatternLayout.ISO8601_DATEFORMAT:"ABSOLUTE"==y?y=PatternLayout.ABSOLUTETIME_DATEFORMAT:"DATE"==y&&(y=PatternLayout.DATETIME_DATEFORMAT)),c=new SimpleDateFormat(y).format(t.timeStamp);break;case"f":if(this.hasCustomFields()){var v=0;h&&(v=parseInt(h,10),isNaN(v)?handleError("PatternLayout.format: invalid specifier '"+h+"' for conversion character 'f' - should be a number"):0===v?handleError("PatternLayout.format: invalid specifier '"+h+"' for conversion character 'f' - must be greater than zero"):v>this.customFields.length?handleError("PatternLayout.format: invalid specifier '"+h+"' for conversion character 'f' - there aren't that many custom fields"):v-=1);var b=this.customFields[v].value;"function"==typeof b&&(b=b(this,t)),c=b}break;case"n":c=newLine;break;case"p":c=t.level.name;break;case"r":c=""+t.timeStamp.getDifference(applicationStartDate);break;case"%":c="%";break;default:c=r}var C;if(a){C=parseInt(a.substr(1),10);var w=c.length;C<w&&(c=c.substring(w-C,w))}if(o)if("-"==o.charAt(0))for(C=parseInt(o.substr(1),10);c.length<C;)c+=" ";else for(C=parseInt(o,10);c.length<C;)c=" "+c;n+=c}s=s.substr(e.index+e[0].length)}return n},PatternLayout.prototype.ignoresThrowable=function(){return!0},PatternLayout.prototype.toString=function(){return"PatternLayout"},log4javascript.PatternLayout=PatternLayout,AlertAppender.prototype=new Appender,AlertAppender.prototype.layout=new SimpleLayout,AlertAppender.prototype.append=function(t){alert(this.getLayout().formatWithException(t))},AlertAppender.prototype.toString=function(){return"AlertAppender"},log4javascript.AlertAppender=AlertAppender,BrowserConsoleAppender.prototype=new log4javascript.Appender,BrowserConsoleAppender.prototype.layout=new NullLayout,BrowserConsoleAppender.prototype.threshold=Level.DEBUG,BrowserConsoleAppender.prototype.append=function(t){var e,i=this,n=function(){var e=i.getLayout().formatWithException(t);return"string"==typeof e?[e]:e};if((e=window.console)&&e.log){var s,r=n();e[s=e.debug&&Level.DEBUG.isGreaterOrEqual(t.level)?"debug":e.info&&Level.INFO.equals(t.level)?"info":e.warn&&Level.WARN.equals(t.level)?"warn":e.error&&t.level.isGreaterOrEqual(Level.ERROR)?"error":"log"].apply?e[s].apply(e,r):e[s](r)}else"undefined"!=typeof opera&&opera.postError&&opera.postError(n())},BrowserConsoleAppender.prototype.group=function(t){window.console&&window.console.group&&window.console.group(t)},BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},BrowserConsoleAppender.prototype.toString=function(){return"BrowserConsoleAppender"},log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xhrFactory=function(){return new XMLHttpRequest},xmlHttpFactories=[xhrFactory,function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],withCredentialsSupported=!1,getXmlHttp=function(t){for(var e,i=null,n=0,s=xmlHttpFactories.length;n<s;n++){e=xmlHttpFactories[n];try{return i=e(),withCredentialsSupported=e==xhrFactory&&"withCredentials"in i,getXmlHttp=e,i}catch(t){}}t?t():handleError("getXmlHttp: unable to obtain XMLHttpRequest object")};AjaxAppender.prototype=new Appender,AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:"data",contentType:"application/x-www-form-urlencoded"},AjaxAppender.prototype.layout=new HttpPostDataLayout,AjaxAppender.prototype.toString=function(){return"AjaxAppender"},log4javascript.AjaxAppender=AjaxAppender;var ConsoleAppender;if(function(){function t(t,e,i,n,s){this.create(!1,null,t,e,i,n,s,this.defaults.focusPopUp)}function e(t,e,i,n,s,r){this.create(!0,t,e,i,n,s,r,!1)}var i=[],n=1;(ConsoleAppender=function(){}).prototype=new Appender,ConsoleAppender.prototype.create=function(t,e,s,r,o,a,l,h){function d(t,e){this.loggingEvent=t,this.levelName=t.level.name,this.formattedMessage=e}function c(t,e){this.name=t,this.initiallyExpanded=e}function u(){}var f=this,p=!1,g=!1,m=!1,x=!1,E=[],y=!0,v=n++;r=extractBooleanFromParam(r,this.defaults.initiallyMinimized),s=extractBooleanFromParam(s,this.defaults.lazyInit),o=extractBooleanFromParam(o,this.defaults.useDocumentWrite);var b=this.defaults.newestMessageAtTop,C=this.defaults.scrollToLatestMessage;a=a||this.defaults.width,l=l||this.defaults.height;var w=this.defaults.maxMessages,S=this.defaults.showCommandLine,T=this.defaults.commandLineObjectExpansionDepth,k=this.defaults.showHideButton,D=this.defaults.showCloseButton;this.setLayout(this.defaults.layout);var I,P,M,A,L,R=t?"InPageAppender":"PopUpAppender",F=function(t){return!g||(handleError(R+": configuration option '"+t+"' may not be set after the appender has been initialized"),!1)},O=function(){return m&&y&&!x};this.isNewestMessageAtTop=function(){return b},this.setNewestMessageAtTop=function(t){b=bool(t),O()&&A().setNewestAtTop(b)},this.isScrollToLatestMessage=function(){return C},this.setScrollToLatestMessage=function(t){C=bool(t),O()&&A().setScrollToLatest(C)},this.getWidth=function(){return a},this.setWidth=function(t){F("width")&&(a=extractStringFromParam(t,a))},this.getHeight=function(){return l},this.setHeight=function(t){F("height")&&(l=extractStringFromParam(t,l))},this.getMaxMessages=function(){return w},this.setMaxMessages=function(t){w=extractIntFromParam(t,w),O()&&A().setMaxMessages(w)},this.isShowCommandLine=function(){return S},this.setShowCommandLine=function(t){S=bool(t),O()&&A().setShowCommandLine(S)},this.isShowHideButton=function(){return k},this.setShowHideButton=function(t){k=bool(t),O()&&A().setShowHideButton(k)},this.isShowCloseButton=function(){return D},this.setShowCloseButton=function(t){D=bool(t),O()&&A().setShowCloseButton(D)},this.getCommandLineObjectExpansionDepth=function(){return T},this.setCommandLineObjectExpansionDepth=function(t){T=extractIntFromParam(t,T)};var N=r;this.isInitiallyMinimized=function(){return r},this.setInitiallyMinimized=function(t){F("initiallyMinimized")&&(r=bool(t),N=r)},this.isUseDocumentWrite=function(){return o},this.setUseDocumentWrite=function(t){F("useDocumentWrite")&&(o=bool(t))},d.prototype.append=function(){A().log(this.levelName,this.formattedMessage)},c.prototype.append=function(){A().group(this.name,this.initiallyExpanded)},u.prototype.append=function(){A().groupEnd()};var B=function(){M(),p?x&&tt&&P():I(),M()&&H()};this.append=function(t){if(y){var e=f.getLayout().formatWithException(t);E.push(new d(t,e)),B()}},this.group=function(t,e){y&&(E.push(new c(t,e)),B())},this.groupEnd=function(){y&&(E.push(new u),B())};var H=function(){for(;E.length>0;)E.shift().append();h&&A().focus()};this.setAddedToLogger=function(t){this.loggers.push(t),enabled&&!s&&I()},this.clear=function(){O()&&A().clearLog(),E.length=0},this.focus=function(){O()&&A().focus()},this.focusCommandLine=function(){O()&&A().focusCommandLine()},this.focusSearch=function(){O()&&A().focusSearch()};var W=window;this.getCommandWindow=function(){return W},this.setCommandWindow=function(t){W=t},this.executeLastCommand=function(){O()&&A().evalLastCommand()};var V=new PatternLayout("%m");this.getCommandLayout=function(){return V},this.setCommandLayout=function(t){V=t},this.evalCommandAndAppend=function(t){var e={appendResult:!0,isError:!1},i="";try{var n,s;!W.eval&&W.execScript&&W.execScript("null");var r={};for(s=0,len=z.length;s<len;s++)r[z[s][0]]=z[s][1];var o=[],a=function(t){o.push([t,W[t]])};a("appender"),W.appender=f,a("commandReturnValue"),W.commandReturnValue=e,a("commandLineFunctionsHash"),W.commandLineFunctionsHash=r;var l=function(t){a(t),W[t]=function(){return this.commandLineFunctionsHash[t](f,arguments,e)}};for(s=0,len=z.length;s<len;s++)l(z[s][0]);for(W===window&&W.execScript?(a("evalExpr"),a("result"),window.evalExpr=t,W.execScript("window.result=eval(window.evalExpr);"),n=window.result):n=W.eval(t),i=isUndefined(n)?n:formatObjectExpansion(n,T),s=0,len=o.length;s<len;s++)W[o[s][0]]=o[s][1]}catch(t){i="Error evaluating command: "+getExceptionStringRep(t),e.isError=!0}if(e.appendResult){var h=">>> "+t;isUndefined(i)||(h+=newLine+i);var d=e.isError?Level.ERROR:Level.INFO,c=new LoggingEvent(null,new Date,d,[h],null),u=this.getLayout();this.setLayout(V),this.append(c),this.setLayout(u)}};var z=i.concat([]);this.addCommandLineFunction=function(t,e){z.push([t,e])};var G="log4javascriptCommandHistory";this.storeCommandHistory=function(t){setCookie(G,t.join(","))};var _=function(t){var e=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"\x3c!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\x3e",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','\x3c!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\x3e','\x3c!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\x3e','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}","this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}","this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}","var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}","matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}","var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}","return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}","logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}","displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}","var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}','function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}","searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}","return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+","preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}","logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}","var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}","setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}","this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}','addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}","function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}','if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}","function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}","currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}","return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-','($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}","this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}","return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}","return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}","currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}","</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>','<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>','<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />','<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>','<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>','<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>','<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />','<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />','<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];t.open();for(var i=0,n=e.length;i<n;i++)t.writeln(e[i]);t.close()};this.setEventTypes(["load","unload"]);var j=function(){var t=A();t.setAppender(f),t.setNewestAtTop(b),t.setScrollToLatest(C),t.setMaxMessages(w),t.setShowCommandLine(S),t.setShowHideButton(k),t.setShowCloseButton(D),t.setMainWindow(window);var e=getCookie(G);e&&(t.commandHistory=e.split(","),t.currentCommandIndex=t.commandHistory.length),f.dispatchEvent("load",{win:t})};this.unload=function(){logLog.debug("unload "+this+", caller: "+this.unload.caller),x||(logLog.debug("really doing unload "+this),x=!0,m=!1,g=!1,f.dispatchEvent("unload",{}))};var X=function(t,e,i,n){var s=setInterval(function(){try{x&&clearInterval(s),t(A())&&(clearInterval(s),i())}catch(t){clearInterval(s),y=!1,handleError(n,t)}},e)},Y=function(){var t=document.domain!=location.hostname;return o?"":getBaseUrl()+"console.html"+(t?"?log4javascript_domain="+escape(document.domain):"")};if(t){var U=null,q=[];this.addCssProperty=function(t,e){F("cssProperties")&&q.push([t,e])};var K,$=!1,Q=uniqueId+"_InPageAppender_"+v;this.hide=function(){p&&g&&(O()&&A().$("command").blur(),K.style.display="none",N=!0)},this.show=function(){p&&(g?(K.style.display="block",this.setShowCommandLine(S),N=!1):$||P(!0))},this.isVisible=function(){return!N&&!x},this.close=function(t){x||t&&!confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")||(K.parentNode.removeChild(K),this.unload())},L=function(){function t(){try{r||f.show(),j(),m=!0,H()}catch(t){y=!1,handleError(i,t)}}function e(){try{var e=function(t){return isLoaded(t)};o&&_(A().document),e(A())?t():X(e,100,t,i)}catch(t){y=!1,handleError(i,t)}}var i="InPageAppender.open: unable to create console iframe";N=!1,(K=U.appendChild(document.createElement("div"))).style.width=a,K.style.height=l,K.style.border="solid gray 1px";for(var n=0,s=q.length;n<s;n++)K.style[q[n][0]]=q[n][1];var h=o?"":" src='"+Y()+"'";K.innerHTML="<iframe id='"+Q+"' name='"+Q+"' width='100%' height='100%' frameborder='0'"+h+" scrolling='no'></iframe>",x=!1;var d=function(t){try{return bool(t)&&bool(t.document)}catch(t){return!1}};d(A())?e():X(d,100,e,i),g=!0},P=function(t){if(t||!r){var i=function(){if(e)try{var t=document.getElementById(e);1==t.nodeType&&(U=t),L()}catch(t){handleError("InPageAppender.init: invalid container element '"+e+"' supplied",t)}else(U=document.createElement("div")).style.position="fixed",U.style.left="0",U.style.right="0",U.style.bottom="0",document.body.appendChild(U),f.addCssProperty("borderWidth","1px 0 0 0"),f.addCssProperty("zIndex",1e6),L()};pageLoaded&&e&&e.appendChild?(U=e,L()):pageLoaded?i():log4javascript.addEventListener("load",i),$=!0}},I=function(){P(),p=!0},A=function(){var t=window.frames[Q];if(t)return t},M=function(){return!(!y||x)&&(g&&!m&&A()&&isLoaded(A())&&(m=!0),m)}}else{var Z=f.defaults.useOldPopUp,J=f.defaults.complainAboutPopUpBlocking,tt=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return Z},this.setUseOldPopUp=function(t){F("useOldPopUp")&&(Z=bool(t))},this.isComplainAboutPopUpBlocking=function(){return J},this.setComplainAboutPopUpBlocking=function(t){F("complainAboutPopUpBlocking")&&(J=bool(t))},this.isFocusPopUp=function(){return h},this.setFocusPopUp=function(t){h=bool(t)},this.isReopenWhenClosed=function(){return tt},this.setReopenWhenClosed=function(t){tt=bool(t)},this.close=function(){logLog.debug("close "+this);try{et.close(),this.unload()}catch(t){}},this.hide=function(){logLog.debug("hide "+this),O()&&this.close()},this.show=function(){logLog.debug("show "+this),g||L()},this.isVisible=function(){return M()};var et;L=function(){function t(){A().setCloseIfOpenerCloses(!Z||!o),j(),m=!0,H(),X(r,500,h,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var e="width="+a+",height="+l+",status,resizable",i="";try{var n=window.frameElement;n&&(i="_"+n.tagName+"_"+(n.name||n.id||""))}catch(t){i="_inaccessibleParentFrame"}var s="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+v+i;Z&&o||(s=s+"_"+uniqueId);var r=function(t){if(x)return!0;try{return bool(t)&&t.closed}catch(t){}return!1},h=function(){x||f.unload()};try{if(et=window.open(Y(),s,e),x=!1,g=!0,et&&et.document)if(o&&Z&&isLoaded(et))et.mainPageReloaded(),t();else{o&&_(et.document);isLoaded(et)?t():X(function(t){return bool(t)&&isLoaded(t)},100,t,"PopUpAppender.init: unable to create console window")}else y=!1,logLog.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),J&&handleError("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging.")}catch(t){handleError("PopUpAppender.init: error creating pop-up",t)}},P=function(){r||L()},I=function(){P(),p=!0},A=function(){return et},M=function(){if(y&&!isUndefined(et)&&!x){if(et.closed||m&&isUndefined(et.closed))return f.unload(),logLog.debug("PopUpAppender: pop-up closed"),!1;!m&&isLoaded(et)&&(m=!0)}return y&&m&&!x}}this.getConsoleWindow=A},ConsoleAppender.addGlobalCommandLineFunction=function(t,e){i.push([t,e])},(t.prototype=new ConsoleAppender).defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"600",height:"400",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,useDocumentWrite:!0},t.prototype.toString=function(){return"PopUpAppender"},log4javascript.PopUpAppender=t,(e.prototype=new ConsoleAppender).defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"100%",height:"220px",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},e.prototype.toString=function(){return"InPageAppender"},log4javascript.InPageAppender=e,log4javascript.InlineAppender=e}(),function(){function t(t){var e=0;for(var i in t)e=Math.max(toStr(i).length,e);var n=[];for(i in t){var s,r="  "+padWithSpaces(toStr(i),e+2);try{s=splitIntoLines(toStr(t[i])).join(padWithSpaces(newLine,e+6))}catch(t){s="[Error obtaining property. Details: "+getExceptionMessage(t)+"]"}n.push(r+s)}return n.join(newLine)}function e(t,o,a,l,h){function d(t){return t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function c(t){for(var e=t.style.cssText.split(";"),i="",n=0,s=e.length;n<s;n++){var r=e[n].split(":"),o=[];/^\s*$/.test(r[0])||o.push(trim(r[0]).toLowerCase()+":"+trim(r[1])),i=o.join(";")}return i}o=void 0===o||!!o,"string"!=typeof a&&(a=""),l=!!l,h=!!h;var u,f,p;if(!o||t.nodeType==i.DOCUMENT_FRAGMENT_NODE){for(u="",f=0,p=t.childNodes.length;f<p;f++)u+=e(t.childNodes[f],!0,a+r);return u}switch(t.nodeType){case i.ELEMENT_NODE:var g=t.tagName.toLowerCase();u=l?newLine+a:"",u+="<";var m=function(t){if(t.prefix)return t.prefix;if(t.outerHTML&&new RegExp("<([^:]+):"+t.tagName+"[^>]*>","i").test(t.outerHTML))return RegExp.$1.toLowerCase();return""}(t),x=!!m;for(x&&(u+=m+":"),u+=g,f=0,p=t.attributes.length;f<p;f++){var E=t.attributes[f];E.specified&&null!==E.nodeValue&&"style"!==E.nodeName.toLowerCase()&&"string"==typeof E.nodeValue&&0!==E.nodeName.indexOf("_moz")&&(u+=" "+E.nodeName.toLowerCase()+'="',u+=d(E.nodeValue),u+='"')}if(t.style.cssText){""!==c(t)&&(u+=' style="'+c(t)+'"')}if(array_contains(s,g)||x&&!t.hasChildNodes())u+="/>";else{u+=">";var y=!(1===t.childNodes.length&&t.childNodes[0].nodeType===i.TEXT_NODE),v=array_contains(n,g);for(f=0,p=t.childNodes.length;f<p;f++)u+=e(t.childNodes[f],!0,a+r,y,v);var b="</"+g+">";u+=y?newLine+a+b:b}return u;case i.TEXT_NODE:if(function(t){return t.nodeType==i.TEXT_NODE&&/^[ \t\r\n]*$/.test(t.nodeValue)}(t))u="";else{if(h)u=t.nodeValue;else{var C=splitIntoLines(trim(t.nodeValue)),w=[];for(f=0,p=C.length;f<p;f++)w[f]=trim(C[f]);u=w.join(newLine+a)}l&&(u=newLine+a+u)}return u;case i.CDATA_SECTION_NODE:return"<![CDATA["+t.nodeValue+"]]>"+newLine;case i.DOCUMENT_NODE:for(u="",f=0,p=t.childNodes.length;f<p;f++)u+=e(t.childNodes[f],!0,a);return u;default:return""}}var i={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},n=["script","pre"],s=["br","img","hr","param","link","area","input","col","base","meta"],r="  ";ConsoleAppender.addGlobalCommandLineFunction("$",function(t,e,i){return document.getElementById(e[0])}),ConsoleAppender.addGlobalCommandLineFunction("dir",function(e,i,n){for(var s=[],r=0,o=i.length;r<o;r++)s[r]=t(i[r]);return s.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("dirxml",function(t,i,n){for(var s=[],r=0,o=i.length;r<o;r++)s[r]=e(i[r]);return s.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("cd",function(t,e,i){var n,s;return 0===e.length||""===e[0]?(n=window,s="Command line set to run in main window"):e[0].window==e[0]?(n=e[0],s="Command line set to run in frame '"+e[0].name+"'"):(n=window.frames[e[0]])?s="Command line set to run in frame '"+e[0]+"'":(i.isError=!0,s="Frame '"+e[0]+"' does not exist",n=t.getCommandWindow()),t.setCommandWindow(n),s}),ConsoleAppender.addGlobalCommandLineFunction("clear",function(t,e,i){i.appendResult=!1,t.clear()}),ConsoleAppender.addGlobalCommandLineFunction("keys",function(t,e,i){var n=[];for(var s in e[0])n.push(s);return n}),ConsoleAppender.addGlobalCommandLineFunction("values",function(t,e,i){var n=[];for(var s in e[0])try{n.push(e[0][s])}catch(t){logLog.warn("values(): Unable to obtain value for key "+s+". Details: "+getExceptionMessage(t))}return n}),ConsoleAppender.addGlobalCommandLineFunction("expansionDepth",function(t,e,i){var n=parseInt(e[0],10);return isNaN(n)||n<0?(i.isError=!0,e[0]+" is not a valid expansion depth"):(t.setCommandLineObjectExpansionDepth(n),"Object expansion depth set to "+n)})}(),log4javascript.setDocumentReady=function(){pageLoaded=!0,log4javascript.dispatchEvent("load",{})},window.addEventListener)window.addEventListener("load",log4javascript.setDocumentReady,!1);else if(window.attachEvent)window.attachEvent("onload",log4javascript.setDocumentReady);else{var oldOnload=window.onload;"function"!=typeof window.onload?window.onload=log4javascript.setDocumentReady:window.onload=function(t){oldOnload&&oldOnload(t),log4javascript.setDocumentReady()}}return log4javascript},this),Ext.define("Ext.ux.CheckColumn",{extend:"Ext.grid.column.Column",alias:"widget.checkcolumn",constructor:function(){this.addEvents("checkchange"),this.callParent(arguments)},processEvent:function(t,e,i,n,s,r){if(!0!==this.cmReadOnly){if("mousedown"==t||"keydown"==t&&(r.getKey()==r.ENTER||r.getKey()==r.SPACE)){var o=e.panel.store.getAt(n),a=this.dataIndex,l=!o.get(a);return o.set(a,l),this.fireEvent("checkchange",this,n,l),!1}return this.callParent(arguments)}},renderer:function(t){var e=Ext.baseCSSPrefix,i=[e+"grid-checkheader"];return CMDBuild.core.Utils.decodeAsBoolean(t)&&i.push(e+"grid-checkheader-checked"),'<div class="'+i.join(" ")+'">&#160;</div>'}}),Ext.override(Ext.ux.CheckColumn,{cmReadOnly:!1,cmExclusive:!1,processEvent:function(t,e,i,n,s,r,o){var a,l,h=e.panel.store,d=this.dataIndex;if(!0!==this.cmReadOnly){if("mousedown"==t||"keydown"==t&&(r.getKey()==r.ENTER||r.getKey()==r.SPACE)){(l=!(a="Ext.data.TreeStore"==Ext.getClassName(h)?o:e.panel.store.getAt(n)).get(d))&&this.cmExclusive&&uncheckAll(h,d);try{a.set(d,l),a.commit()}catch(t){}return this.fireEvent("checkchange",this,n,l),!1}return this.callParent(arguments)}}}),function(){var t=new Ext.util.Observable;_CMEventBus={subscribe:function(e,i,n,s){t.addEvents(e),t.on(e,i,n,s)},unsubscribe:function(e,i,n){t.un(e,i,n)},publish:function(){if(!0!==t.eventsSuspended){var e=!!t.events&&t.events[arguments[0].toLowerCase()];if("object"==typeof e)return e.fire.apply(e,Array.prototype.slice.call(arguments,1))}return!0},removeSubscriptionsFor:function(e){for(var i in t.events)i!=e&&e||"object"==typeof t.events[i]&&t.events[i].clearListeners()}}}(),Ext.form.ColorField=function(t){Ext.form.ColorField.superclass.constructor.call(this,t),this.on("render",this.handleRender)},Ext.extend(Ext.form.ColorField,Ext.form.TriggerField,{showHexValue:!1,triggerClass:"x-form-color-trigger",defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off",maxlength:"6"},lengthText:"Color hex values must be either 3 or 6 characters.",blankText:"Must have a hexidecimal value in the format ABCDEF.",defaultColor:"FFFFFF",maskRe:/[a-f0-9]/i,regex:/[a-f0-9]/i,curColor:"ffffff",validateValue:function(t){return!this.showHexValue||(t.length<1?(this.el.setStyle({"background-color":"#"+this.defaultColor}),!!this.allowBlank||(this.markInvalid(String.format(this.blankText,t)),!1)):3!=t.length&&6!=t.length?(this.markInvalid(String.format(this.lengthText,t)),!1):(this.setColor(t),!0))},validateBlur:function(){return!this.menu||!this.menu.isVisible()},markInvalid:function(t){Ext.form.ColorField.superclass.markInvalid.call(this,t),this.el.setStyle({"background-image":"url(../lib/resources/images/default/grid/invalid_line.gif)"})},getValue:function(){return this.curValue||this.defaultValue||"FFFFFF"},setValue:function(t){Ext.form.ColorField.superclass.setValue.call(this,t),this.setColor(t||"FFFFFF")},setColor:function(t){this.curColor=t;try{this.inputEl.setStyle({"background-color":"#"+t,"background-image":"none"})}catch(t){}},handleRender:function(){this.setDefaultColor()},setDefaultColor:function(){this.setValue(this.defaultColor)},menuListeners:{select:function(t,e){this.setValue(e)},show:function(){this.onFocus()},hide:function(){this.focus();var t=this.menuListeners;this.menu.un("select",t.select,this),this.menu.un("show",t.show,this),this.menu.un("hide",t.hide,this)}},handleSelect:function(t,e){this.setValue(e)},onTriggerClick:function(){this.disabled||(null==this.menu&&(this.menu=new Ext.menu.ColorPicker({ownerCt:this.ownerCt}),this.mon(this.menu,"select",this.handleSelect,this)),this.menu.on(Ext.apply({},this.menuListeners,{scope:this})),this.menu.show(null,function(){var t=this.getBox(),e=t.x+this.menu.getWidth()+5,i=t.y+this.getHeight();this.menu.setPosition([e,i])},this))}}),Ext.define("Ext.ux.form.MultiSelect",{alternateClassName:"Ext.ux.Multiselect",extend:"Ext.form.FieldContainer",mixins:{bindable:"Ext.util.Bindable",field:"Ext.form.field.Field"},alias:["widget.multiselectfield","widget.multiselect"],requires:["Ext.panel.Panel","Ext.view.BoundList"],uses:["Ext.view.DragZone","Ext.view.DropZone"],ddReorder:!1,appendOnly:!1,displayField:"text",allowBlank:!0,minSelections:0,maxSelections:Number.MAX_VALUE,blankText:"This field is required",minSelectionsText:"Minimum {0} item(s) required",maxSelectionsText:"Minimum {0} item(s) required",delimiter:",",ignoreSelectChange:0,initComponent:function(){this.bindStore(this.store,!0),this.store.autoCreated&&(this.valueField=this.displayField="field1",this.store.expanded||(this.displayField="field2")),Ext.isDefined(this.valueField)||(this.valueField=this.displayField),Ext.apply(this,this.setupItems()),this.callParent(),this.initField(),this.addEvents("drop")},setupItems:function(){return this.boundList=Ext.create("Ext.view.BoundList",{deferInitialRefresh:!1,multiSelect:!0,store:this.store,displayField:this.displayField,disabled:this.disabled}),this.boundList.getSelectionModel().on("selectionchange",this.onSelectChange,this),{layout:"fit",title:this.title,tbar:this.tbar,items:this.boundList}},onSelectChange:function(t,e){this.ignoreSelectChange||this.setValue(e)},getSelected:function(){return this.boundList.getSelectionModel().getSelection()},isEqual:function(t,e){var i,n=Ext.Array.from,s=0;if(t=n(t),e=n(e),(i=t.length)!==e.length)return!1;for(;s<i;s++)if(e[s]!==t[s])return!1;return!0},afterRender:function(){var t=this;t.callParent(),t.selectOnRender&&(++t.ignoreSelectChange,t.boundList.getSelectionModel().select(t.getRecordsForValue(t.value)),--t.ignoreSelectChange,delete t.toSelect),!t.ddReorder||t.dragGroup||t.dropGroup||(t.dragGroup=t.dropGroup="MultiselectDD-"+Ext.id()),(t.draggable||t.dragGroup)&&(t.dragZone=Ext.create("Ext.view.DragZone",{view:t.boundList,ddGroup:t.dragGroup,dragText:"{0} Item{1}"})),(t.droppable||t.dropGroup)&&(t.dropZone=Ext.create("Ext.view.DropZone",{view:t.boundList,ddGroup:t.dropGroup,handleNodeDrop:function(e,i,n){var s,r=this.view,o=r.getStore(),a=e.records;e.view.store.remove(a),s=o.indexOf(i),"after"===n&&s++,o.insert(s,a),r.getSelectionModel().select(a),t.fireEvent("drop",t,a)}}))},isValid:function(){var t=this.disabled;return this.forceValidation||!t?this.validateValue(this.value):t},validateValue:function(t){var e=this.getErrors(t),i=Ext.isEmpty(e);return this.preventMark||(i?this.clearInvalid():this.markInvalid(e)),i},markInvalid:function(t){var e=this.getActiveError();this.setActiveErrors(Ext.Array.from(t)),e!==this.getActiveError()&&this.updateLayout(),this.boundList.addCls("cm-form-invalid-field")},clearInvalid:function(){var t=this.hasActiveError();this.unsetActiveError(),t&&this.updateLayout(),this.boundList.removeCls("cm-form-invalid-field")},getSubmitData:function(){var t,e=null;return this.disabled||!this.submitValue||this.isFileUpload()||null!==(t=this.getSubmitValue())&&((e={})[this.getName()]=t),e},getSubmitValue:function(){var t=this.delimiter,e=this.getValue();return Ext.isString(t)?e.join(t):e},getValue:function(){return this.value},getRecordsForValue:function(t){var e,i,n,s=[],r=this.store.getRange(),o=this.valueField,a=0,l=r.length;for(n=t.length;a<n;++a)for(i=0;i<l;++i)(e=r[i]).get(o)==t[a]&&s.push(e);return s},setupValue:function(t){var e,i,n,s=this.delimiter,r=this.valueField,o=0;if(Ext.isDefined(t)){for(s&&Ext.isString(t)?t=t.split(s):Ext.isArray(t)||(t=[t]),i=t.length;o<i;++o)(n=t[o])&&n.isModel&&(t[o]=n.get(r));e=Ext.Array.unique(t)}else e=[];return e},setValue:function(t){var e=this.boundList.getSelectionModel();Ext.isEmpty(this.store)||this.store.getCount()?(t=this.setupValue(t),this.mixins.field.setValue.call(this,t),this.rendered?(++this.ignoreSelectChange,e.deselectAll(),e.select(this.getRecordsForValue(t)),--this.ignoreSelectChange):this.selectOnRender=!0):this.store.on({load:Ext.Function.bind(this.setValue,this,[t]),single:!0})},clearValue:function(){this.setValue([])},onEnable:function(){var t=this.boundList;this.callParent(),t&&t.enable()},onDisable:function(){var t=this.boundList;this.callParent(),t&&t.disable()},getErrors:function(t){var e,i=Ext.String.format,n=[];return t=Ext.Array.from(t||this.getValue()),e=t.length,!this.allowBlank&&e<1&&n.push(this.blankText),e<this.minSelections&&n.push(i(this.minSelectionsText,this.minSelections)),e>this.maxSelections&&n.push(i(this.maxSelectionsText,this.maxSelections)),n},onDestroy:function(){this.bindStore(null),Ext.destroy(this.dragZone,this.dropZone),this.callParent()},onBindStore:function(t){var e=this.boundList;e&&e.bindStore(t)}}),Ext.define("Ext.ux.form.XCheckbox",{extend:"Ext.form.field.Checkbox",alias:"widget.xcheckbox",constructor:function(){this.uncheckedValue="false",this.inputValue="true",this.callParent(arguments)}}),Ext.ns("Ext.ux.form"),Ext.ux.form.XComboBox=function(t){Ext.ux.form.XComboBox.superclass.constructor.call(this,t)},Ext.define("Ext.ux.form.XComboBox",{extend:"Ext.form.field.ComboBox",alias:"widget.xcombo",growSizeFix:function(){if(this.grow&&this.rendered){var t="";this.store&&this.store.each(function(e){t.length<e.data[this.displayField].length&&(t=e.data[this.displayField])},this),this.recalculateSize(t)}},recalculateSize:function(t){var e=this.getEl();if(e&&e.dom){var i=Ext.util.TextMetrics.createInstance(e),n=document.createElement("div");n.appendChild(document.createTextNode(t)),t=n.innerHTML,n=null,t+="&#160;";var s=Math.min(this.growMax,Math.max(i.getWidth(t)+12,this.growMin));if(e.dom.nextSibling)var r=e.dom.nextSibling.childNodes.length;else r=this.triggerConfig.cn.length;var o=s+18*r;this.setWidth(o),e.setWidth(s),this.wrap.setWidth(o),this.bufferSize=o}}}),Ext.define("Ext.ux.NotificationMgr",{positions:[],singleton:!0,length:function(){return this.positions.length},push:function(t){this.positions.push(t)},remove:function(t){this.positions=Ext.Array.remove(this.positions,t)}}),Ext.define("Ext.ux.Notification",{extend:"Ext.window.Window",pos:void 0,task:void 0,bodyStyle:"text-align: center",cls:"x-notification",draggable:!1,focusOnToFront:!1,iconCls:"x-icon-information",plain:!1,width:200,initComponent:function(){Ext.isEmpty(this.iconCls)||Ext.apply(this,{iconCls:this.iconCls}),this.autoDestroy?this.task=new Ext.util.DelayedTask(this.close,this):this.closable=!0,this.callParent(arguments)},afterHide:function(){Ext.ux.NotificationMgr.remove(this.pos),this.callParent(arguments)},afterShow:function(){this.pos=Ext.ux.NotificationMgr.length(),Ext.ux.NotificationMgr.push(this.pos),this.el.alignTo(document,"br-br",[-20,-40-(this.getSize().height+10)*this.pos]),Ext.isEmpty(this.body)||Ext.isEmpty(this.body.dom)||Ext.fly(this.body.dom).on("click",this.cancelHiding,this),this.autoDestroy&&this.task.delay(this.hideDelay||5e3),this.toFront()},cancelHiding:function(){this.addClass("fixed"),this.autoDestroy&&this.task.cancel()},focus:Ext.emptyFn,setMessage:function(t){this.body.update(t)},setTitle:function(t,e){this.callParent([t,e||this.iconCls])}}),Ext.define("Ext.ux.Router",{alternateClassName:"Ext.Router",singleton:!0,mixins:{observable:"Ext.util.Observable"},requires:["Ext.util.History","Ext.app.Application"],constructor:function(){this.ready=!1,this.routes=[],this.mixins.observable.constructor.call(this)},init:function(t){var e=this,i=Ext.History;t&&t.routes&&(e.processRoutes(t),e.ready||(e.ready=!0,e.addEvents("routemissed","beforedispatch","dispatch"),i.init(),i.on("change",e.parse,e),Ext.onReady(function(){e.parse(i.getToken())})))},processRoutes:function(t){var e,i=t.routes;for(e in i)i.hasOwnProperty(e)&&this.routeMatcher(t,e,i[e])},routeMatcher:function(t,e,i){var n,s,r=this.routes,o=e,a=[];i.regex?(n={app:t,route:e,regex:i.regex,controller:i.controller,action:i.action},delete i.controller,delete i.action,n.rules=i):(o=o.replace(/([-.+?\^${}()|\[\]\/\\])/g,"\\$1").replace(/([:*])(\w+)/g,function(t,e,i){return a.push(i),":"===e?"([^/]*)":"(.*)"}),n={app:t,route:e,names:a,matcher:new RegExp("^"+o+"$"),manageArgs:-1!==e.indexOf("?")},Ext.isString(i)?(s=i.split("#"),n.controller=s[0],n.action=s[1],n.rules=void 0):(n.controller=i.controller,n.action=i.action,delete i.controller,delete i.action,n.rules=i)),!n.controller&&Ext.isDefined(Ext.global.console)&&Ext.global.console.error("[Ext.ux.Router] Config 'controller' can't be undefined",e,i),!n.action&&Ext.isDefined(Ext.global.console)&&Ext.global.console.error("[Ext.ux.Router] Config 'action' can't be undefined",e,i),r.push(n)},parse:function(t){var e,i,n,s,r,o,a,l,h,d,c=this.routes,u=0,f=c.length;for(h=(d=(t=t||"").split("?"))[1],d=d[0];u<f;u++)if((e=c[u]).regex){if((i=t.match(e.regex))&&(i=i.slice(1),this.dispatch(t,e,i)))return{captures:i}}else if(i=e.manageArgs?t.match(e.matcher):d.match(e.matcher),(""===d&&"/"===e.route||"/"===d&&""===e.route)&&(i=[]),i){for(n={},s=e.names,l=e.rules,r=0;r<s.length;){if(o=s[r++],a=i[r],l&&o in l&&!this.validateRule(l[o],a)){i=!1;break}n[o]=a}if(h&&!e.manageArgs&&(n=Ext.applyIf(n,Ext.Object.fromQueryString(h))),i&&this.dispatch(t,e,n))return n}return this.fireEvent("routemissed",t),!1},validateRule:function(t,e){return Ext.isFunction(t)?t(e):Ext.isFunction(t.test)?t.test(e):t===e},dispatch:function(t,e,i){var n;return!1!==this.fireEvent("beforedispatch",t,e,i)&&(!!(n=this.getController(e))&&(!n[e.action]&&Ext.isDefined(Ext.global.console)?(Ext.global.console.error("[Ext.ux.Router] Controller action not found ",e.controller,e.action),!1):(n[e.action].call(n,i,t,e),this.fireEvent("dispatch",t,e,i,n),!0)))},redirect:function(t,e){var i=Ext.History;!1!==e&&i.getToken()===t?this.parse(t):i.add(t)},getController:function(t){var e,i=t.app,n=Ext.ClassManager,s=t.controller;if(e=i.getModuleClassName(s,"controller"),!n.get(e)){if(s=Ext.String.capitalize(s),e=i.getModuleClassName(s,"controller"),!n.get(e))return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("[Ext.ux.Router] Controller not found ",t.controller),!1;t.controller=s}return i.getController(s)}}),Ext.override(Ext.app.Application,{enableRouter:!0,onBeforeLaunch:function(){this.callOverridden(),this.enableRouter&&Ext.ux.Router.init(this)}}),Ext.define("Ext.ux.tree.TreeEditing",{alias:"plugin.treeediting",extend:"Ext.grid.plugin.CellEditing",getEditingContext:function(t,e){var i,n,s,r=this.grid,o=(r.store,r.getView()),a=r.getRootNode();return Ext.isNumber(t)?(i=t,t=a.getChildAt(i)):i=a.indexOf(t),Ext.isNumber(e)?(n=e,e=r.headerCt.getHeaderAtIndex(n)):n=e.getIndex(),s=t.get(e.dataIndex),{grid:r,record:t,field:e.dataIndex,value:s,row:o.getNode(i),column:e,rowIdx:i,colIdx:n}}}),Ext.ns("Extensible.calendar.data"),Extensible.calendar.data.EventMappings={EventId:{name:"EventId",mapping:"id",type:"int"},CalendarId:{name:"CalendarId",mapping:"cid",type:"int"},Title:{name:"Title",mapping:"title",type:"string"},StartDate:{name:"StartDate",mapping:"start",type:"date",dateFormat:"c"},EndDate:{name:"EndDate",mapping:"end",type:"date",dateFormat:"c"},RRule:{name:"RecurRule",mapping:"rrule",type:"string"},Location:{name:"Location",mapping:"loc",type:"string"},Notes:{name:"Notes",mapping:"notes",type:"string"},Url:{name:"Url",mapping:"url",type:"string"},IsAllDay:{name:"IsAllDay",mapping:"ad",type:"boolean"},Reminder:{name:"Reminder",mapping:"rem",type:"string"}},Ext.define("Extensible.calendar.data.EventModel",{extend:"Ext.data.Model",requires:["Ext.util.MixedCollection","Extensible.calendar.data.EventMappings"],statics:{reconfigure:function(){var t=Extensible.calendar.data,e=t.EventMappings,i=t.EventModel.prototype,n=[];i.idProperty=e.EventId.name||"id";for(prop in e)e.hasOwnProperty(prop)&&n.push(e[prop]);i.fields.clear();for(var s=0,r=n.length;s<r;s++)i.fields.add(Ext.create("Ext.data.Field",n[s]));return t.EventModel}}},function(){Extensible.calendar.data.EventModel.reconfigure()}),Ext.define("Ext.app.Portlet",{extend:"Ext.panel.Panel",alias:"widget.portlet",layout:"fit",anchor:"100%",frame:!0,closable:!0,collapsible:!0,animCollapse:!0,draggable:{moveOnDrag:!1},cls:"x-portlet",doClose:function(){this.closing||(this.closing=!0,this.el.animate({opacity:0,callback:function(){this.fireEvent("close",this),this[this.closeAction]()},scope:this}))}}),Ext.define("Ext.app.PortalDropZone",{extend:"Ext.dd.DropTarget",constructor:function(t,e){this.portal=t,Ext.dd.ScrollManager.register(t.body),Ext.app.PortalDropZone.superclass.constructor.call(this,t.body,e),t.body.ddScrollConfig=this.ddScrollConfig},ddScrollConfig:{vthresh:50,hthresh:-1,animate:!0,increment:200},createEvent:function(t,e,i,n,s,r){return{portal:this.portal,panel:i.panel,columnIndex:n,column:s,position:r,data:i,source:t,rawEvent:e,status:this.dropAllowed}},notifyOver:function(t,e,i){var n=e.getXY(),s=this.portal,r=t.proxy;this.grid||(this.grid=this.getGrid());var o=s.body.dom.clientWidth;this.lastCW?this.lastCW!=o&&(this.lastCW=o,this.grid=this.getGrid()):this.lastCW=o;for(var a=0,l=0,h=this.grid.columnX,d=h.length,c=!1;a<d;a++)if(l=h[a].x+h[a].w,n[0]<l){c=!0;break}c||a--;var u,f=0,p=0,g=!1,m=s.items.getAt(a),x=m.items.items,E=!1;for(d=x.length;f<d;f++)if(u=x[f],0===(p=u.el.getHeight()))E=!0;else if(u.el.getY()+p/2>n[1]){g=!0;break}f=(g&&u?f:m.items.getCount())+(E?-1:0);var y=this.createEvent(t,e,i,a,m,f);return!1!==s.fireEvent("validatedrop",y)&&!1!==s.fireEvent("beforedragover",y)?(r.getProxy().setWidth("auto"),u?t.panelProxy.moveProxy(u.el.dom.parentNode,g?u.el.dom:null):t.panelProxy.moveProxy(m.el.dom,null),this.lastPos={c:m,col:a,p:!!(E||g&&u)&&f},this.scrollPos=s.body.getScroll(),s.fireEvent("dragover",y),y.status):y.status},notifyOut:function(){delete this.grid},notifyDrop:function(t,e,i){if(delete this.grid,this.lastPos){var n=this.lastPos.c,s=this.lastPos.col,r=this.lastPos.p,o=t.panel,a=this.createEvent(t,e,i,s,n,!1!==r?r:n.items.getCount());if(!1!==this.portal.fireEvent("validatedrop",a)&&!1!==this.portal.fireEvent("beforedrop",a)){Ext.suspendLayouts(),o.el.dom.style.display="",t.panelProxy.hide(),t.proxy.hide(),!1!==r?n.insert(r,o):n.add(o),Ext.resumeLayouts(!0),this.portal.fireEvent("drop",a);var l=this.scrollPos.top;if(l){var h=this.portal.body.dom;setTimeout(function(){h.scrollTop=l},10)}}return delete this.lastPos,!0}},getGrid:function(){var t=this.portal.body.getBox();return t.columnX=[],this.portal.items.each(function(e){t.columnX.push({x:e.el.getX(),w:e.el.getWidth()})}),t},unreg:function(){Ext.dd.ScrollManager.unregister(this.portal.body),Ext.app.PortalDropZone.superclass.unreg.call(this)}}),Ext.define("Ext.app.PortalColumn",{extend:"Ext.container.Container",alias:"widget.portalcolumn",requires:["Ext.layout.container.Anchor","Ext.app.Portlet"],layout:"anchor",defaultType:"portlet",cls:"x-portal-column"}),Ext.define("Ext.app.PortalPanel",{extend:"Ext.panel.Panel",alias:"widget.portalpanel",requires:["Ext.layout.container.Column","Ext.app.PortalDropZone","Ext.app.PortalColumn"],cls:"x-portal",bodyCls:"x-portal-body",defaultType:"portalcolumn",autoScroll:!0,border:!1,manageHeight:!1,initComponent:function(){this.layout={type:"column",reserveScrollbar:!0},this.callParent(),this.addEvents({validatedrop:!0,beforedragover:!0,dragover:!0,beforedrop:!0,drop:!0})},beforeLayout:function(){var t,e,i,n=this.layout.getLayoutItems(),s=n.length,r=["x-portal-column-first","x-portal-column-last"];for(t=0;t<s;t++)(e=n[t]).columnWidth=e.columnWidth||1/s,i=t==s-1,t?i?(e.addCls("x-portal-column-last"),e.removeCls("x-portal-column-first")):e.removeCls(r):i?e.addCls(r):(e.addCls("x-portal-column-first"),e.removeCls("x-portal-column-last"));return this.callParent(arguments)},initEvents:function(){this.callParent(),this.dd=Ext.create("Ext.app.PortalDropZone",this,this.dropConfig)},beforeDestroy:function(){this.dd&&this.dd.unreg(),this.callParent()}}),Ext.define("Extensible",{singleton:!0,version:"1.5.1",versionDetails:{major:1,minor:5,patch:1},extVersion:"4.0.1",hasBorderRadius:Ext.supports.CSS3BorderRadius,log:function(t){},getScrollWidth:function(){return Ext.getScrollbarSize?Ext.getScrollbarSize().width:Ext.getScrollBarWidth()},constructor:function(){Ext.onReady(function(){Extensible.getScrollWidth()<3&&Ext.getBody().addCls("x-no-scrollbar"),Ext.isWindows&&Ext.getBody().addCls("x-win")})},Date:{use24HourTime:!1,diff:function(t,e,i){var n=1,s=e.getTime()-t.getTime();return"s"==i?n=1e3:"m"==i?n=6e4:"h"==i&&(n=36e5),Math.round(s/n)},diffDays:function(t,e){var i=Ext.Date.clearTime,n=i(e,!0).getTime()-i(t,!0).getTime();return Math.ceil(n/864e5)},copyTime:function(t,e){var i=Ext.Date.clone(e);return i.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),i},compare:function(t,e,i){var n=t,s=e;return!0!==i&&((n=Ext.Date.clone(t)).setMilliseconds(0),(s=Ext.Date.clone(e)).setMilliseconds(0)),s.getTime()-n.getTime()},maxOrMin:function(t){for(var e=t?0:Number.MAX_VALUE,i=0,n=arguments[1],s=n.length;i<s;i++)e=Math[t?"max":"min"](e,n[i].getTime());return new Date(e)},max:function(){return this.maxOrMin.apply(this,[!0,arguments])},min:function(){return this.maxOrMin.apply(this,[!1,arguments])},isInRange:function(t,e,i){return t>=e&&t<=i},rangesOverlap:function(t,e,i,n){return t>=i&&t<=n||e>=i&&e<=n||t<=i&&e>=n},isWeekend:function(t){return t.getDay()%6==0},isWeekday:function(t){return t.getDay()%6!=0},isMidnight:function(t){return 0===t.getHours()&&0===t.getMinutes()},isToday:function(t){return 0===this.diffDays(t,this.today())},today:function(){return Ext.Date.clearTime(new Date)},add:function(t,e){if(!e)return t;var i=Ext.Date,n=i.add,s=i.clone(t);return e.years&&(s=n(s,i.YEAR,e.years)),e.months&&(s=n(s,i.MONTH,e.months)),e.weeks&&(e.days=(e.days||0)+7*e.weeks),e.days&&(s=n(s,i.DAY,e.days)),e.hours&&(s=n(s,i.HOUR,e.hours)),e.minutes&&(s=n(s,i.MINUTE,e.minutes)),e.seconds&&(s=n(s,i.SECOND,e.seconds)),e.millis&&(s=n(s,i.MILLI,e.millis)),e.clearTime?i.clearTime(s):s}}}),Ext.require(["Ext.picker.Color","Ext.form.Basic","Ext.data.MemoryProxy"]),Extensible.applyOverrides=function(){Ext.DomHelper=Ext.core.DomHelper;var t=Ext.getVersion();Ext.layout.container.AbstractCard&&Ext.layout.container.AbstractCard.override({renderChildren:function(){this.deferredRender||(this.getActiveItem(),this.callParent())}}),Ext.Component.override({getId:function(){var t;return this.id||(t=(t=this.getXType())?t.replace(/[\.,\s]/g,"-"):"ext-comp",this.id=t+"-"+this.getAutoId()),this.id}}),Ext.picker&&Ext.picker.Color&&Ext.picker.Color.override({constructor:function(){this.renderTpl=this.renderTpl||Ext.create("Ext.XTemplate",'<tpl for="colors"><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>'),this.callParent(arguments)}}),t.isLessThan("4.1")&&Ext.data&&Ext.data.reader&&Ext.data.reader.Reader&&Ext.data.reader.Reader.override({extractData:function(t){var e,i,n=[],s=[],r=this.model,o=0,a=t.length;this.getIdProperty();for(!t.length&&Ext.isObject(t)&&(t=[t],a=1);o<a;o++)e=t[o],i=new r(n=this.extractValues(e),this.getId(n),e),s.push(i),this.implicitIncludes&&this.readAssociated(i,e);return s}}),Ext.form&&Ext.form.Basic&&Ext.form.Basic.override({reset:function(){return this.getFields().each(function(t){t.reset()}),this}}),Ext.data&&Ext.data.MemoryProxy&&Ext.data.MemoryProxy.override({updateOperation:function(t,e,i){Ext.each(t.records,function(t){t.commit()}),t.setCompleted(),t.setSuccessful(),Ext.callback(e,i||this,[t])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)}})},Ext.onReady(Extensible.applyOverrides),Ext.ns("Extensible.calendar.data"),Extensible.calendar.data.EventMappings={EventId:{name:"EventId",mapping:"id",type:"int"},CalendarId:{name:"CalendarId",mapping:"cid",type:"int"},Title:{name:"Title",mapping:"title",type:"string"},StartDate:{name:"StartDate",mapping:"start",type:"date",dateFormat:"c"},EndDate:{name:"EndDate",mapping:"end",type:"date",dateFormat:"c"},RRule:{name:"RecurRule",mapping:"rrule",type:"string"},Location:{name:"Location",mapping:"loc",type:"string"},Notes:{name:"Notes",mapping:"notes",type:"string"},Url:{name:"Url",mapping:"url",type:"string"},IsAllDay:{name:"IsAllDay",mapping:"ad",type:"boolean"},Reminder:{name:"Reminder",mapping:"rem",type:"string"}},Ext.ns("Extensible.calendar.data"),Extensible.calendar.data.CalendarMappings={CalendarId:{name:"CalendarId",mapping:"id",type:"int"},Title:{name:"Title",mapping:"title",type:"string"},Description:{name:"Description",mapping:"desc",type:"string"},ColorId:{name:"ColorId",mapping:"color",type:"int"},IsHidden:{name:"IsHidden",mapping:"hidden",type:"boolean"}},Ext.define("Extensible.calendar.template.BoxLayout",{extend:"Ext.XTemplate",requires:["Ext.Date"],firstWeekDateFormat:"D j",otherWeeksDateFormat:"j",singleDayDateFormat:"l, F j, Y",multiDayFirstDayFormat:"M j, Y",multiDayMonthStartFormat:"M j",constructor:function(t){Ext.apply(this,t);var e=this.showWeekLinks?'<div id="{weekLinkId}" class="ext-cal-week-link">{weekNum}</div>':"";Extensible.calendar.template.BoxLayout.superclass.constructor.call(this,'<tpl for="weeks">','<div id="{[this.id]}-wk-{[xindex-1]}" class="ext-cal-wk-ct" style="top:{[this.getRowTop(xindex, xcount)]}%; height:{[this.getRowHeight(xcount)]}%;">',e,'<table class="ext-cal-bg-tbl" cellpadding="0" cellspacing="0">',"<tbody>","<tr>",'<tpl for=".">','<td id="{[this.id]}-day-{date:date("Ymd")}" class="{cellCls}">&#160;</td>',"</tpl>","</tr>","</tbody>","</table>",'<table class="ext-cal-evt-tbl" cellpadding="0" cellspacing="0">',"<tbody>","<tr>",'<tpl for=".">','<td id="{[this.id]}-ev-day-{date:date("Ymd")}" class="{titleCls}"><div>{title}</div></td>',"</tpl>","</tr>","</tbody>","</table>","</div>","</tpl>",{getRowTop:function(t,e){return 100/e*(t-1)},getRowHeight:function(t){return 100/t}})},applyTemplate:function(t){Ext.apply(this,t);for(var e=0,i="",n=!0,s=!1,r=!1,o=!1,a=!1,l=!1,h=t.weekendCls,d=t.prevMonthCls,c=t.nextMonthCls,u=t.todayCls,f=[[]],p=Extensible.Date.today(),g=Ext.Date.clone(this.viewStart),m=this.startDate.getMonth();(e<this.weekCount||-1==this.weekCount)&&!(g>this.viewEnd);e++){f[e]=[];for(var x=0;x<this.dayCount;x++){if(s=g.getTime()===p.getTime(),r=n||1==g.getDate(),o=g.getMonth()<m&&-1==this.weekCount,a=g.getMonth()>m&&-1==this.weekCount,l=g.getDay()%6==0,1==g.getDay()&&(f[e].weekNum=this.showWeekNumbers?Ext.Date.format(g,"W"):"&#160;",f[e].weekLinkId="ext-cal-week-"+Ext.Date.format(g,"Ymd")),r)i=s?this.getTodayText():Ext.Date.format(g,1==this.dayCount?this.singleDayDateFormat:n?this.multiDayFirstDayFormat:this.multiDayMonthStartFormat);else{var E=0==e&&!0!==this.showHeader?this.firstWeekDateFormat:this.otherWeeksDateFormat;i=s?this.getTodayText():Ext.Date.format(g,E)}f[e].push({title:i,date:Ext.Date.clone(g),titleCls:"ext-cal-dtitle "+(s?" ext-cal-dtitle-today":"")+(0==e?" ext-cal-dtitle-first":"")+(o?" ext-cal-dtitle-prev":"")+(a?" ext-cal-dtitle-next":""),cellCls:"ext-cal-day "+(s?" "+u:"")+(0==x?" ext-cal-day-first":"")+(o?" "+d:"")+(a?" "+c:"")+(l&&h?" "+h:"")}),g=Extensible.Date.add(g,{days:1}),n=!1}}return Ext.getVersion().isLessThan("4.1")?Extensible.calendar.template.BoxLayout.superclass.applyTemplate.call(this,{weeks:f}):this.applyOut({weeks:f},[]).join("")},getTodayText:function(){var t=Extensible.Date.use24HourTime?"G:i ":"g:ia ",e=!1!==this.showTodayText?this.todayText:"",i=!1!==this.showTime?' <span id="'+this.id+'-clock" class="ext-cal-dtitle-time" aria-live="off">'+Ext.Date.format(new Date,t)+"</span>":"",n=e.length>0||i.length>0?" &#8212; ":"";return 1==this.dayCount?Ext.Date.format(new Date,this.singleDayDateFormat)+n+e+i:(fmt=1==this.weekCount?this.firstWeekDateFormat:this.otherWeeksDateFormat,e.length>0?e+i:Ext.Date.format(new Date,fmt)+i)}},function(){this.createAlias("apply","applyTemplate")}),Ext.define("Extensible.calendar.template.DayHeader",{extend:"Ext.XTemplate",requires:["Extensible.calendar.template.BoxLayout"],constructor:function(t){Ext.apply(this,t),this.allDayTpl=Ext.create("Extensible.calendar.template.BoxLayout",t),this.allDayTpl.compile(),Extensible.calendar.template.DayHeader.superclass.constructor.call(this,'<div class="ext-cal-hd-ct">','<table class="ext-cal-hd-days-tbl" cellspacing="0" cellpadding="0">',"<tbody>","<tr>",'<td class="ext-cal-gutter"></td>','<td class="ext-cal-hd-days-td"><div class="ext-cal-hd-ad-inner">{allDayTpl}</div></td>','<td class="ext-cal-gutter-rt"></td>',"</tr>","</tbody>","</table>","</div>")},applyTemplate:function(t){var e={allDayTpl:this.allDayTpl.apply(t)};return Ext.getVersion().isLessThan("4.1")?Extensible.calendar.template.DayHeader.superclass.applyTemplate.call(this,e):this.applyOut(e,[]).join("")}},function(){this.createAlias("apply","applyTemplate")}),Ext.define("Extensible.calendar.template.DayBody",{extend:"Ext.XTemplate",constructor:function(t){Ext.apply(this,t),Extensible.calendar.template.DayBody.superclass.constructor.call(this,'<table class="ext-cal-bg-tbl" cellspacing="0" cellpadding="0" style="height:{dayHeight}px;">',"<tbody>",'<tr height="1">','<td class="ext-cal-gutter"></td>','<td colspan="{dayCount}">','<div class="ext-cal-bg-rows">','<div class="ext-cal-bg-rows-inner">','<tpl for="times">','<div class="ext-cal-bg-row ext-row-{[xindex]}" style="height:{parent.hourHeight}px;">','<div class="ext-cal-bg-row-div {parent.hourSeparatorCls}" style="height:{parent.hourSeparatorHeight}px;"></div>',"</div>","</tpl>","</div>","</div>","</td>","</tr>","<tr>",'<td class="ext-cal-day-times">','<tpl for="times">','<div class="ext-cal-bg-row" style="height:{parent.hourHeight}px;">','<div class="ext-cal-day-time-inner"  style="height:{parent.hourHeight-1}px;">{.}</div>',"</div>","</tpl>","</td>",'<tpl for="days">','<td class="ext-cal-day-col">','<div class="ext-cal-day-col-inner">','<div id="{[this.id]}-day-col-{.:date("Ymd")}" class="ext-cal-day-col-gutter" style="height:{parent.dayHeight}px;"></div>',"</div>","</td>","</tpl>","</tr>","</tbody>","</table>")},applyTemplate:function(t){this.today=Extensible.Date.today(),this.dayCount=this.dayCount||1;for(var e=0,i=[],n=Ext.Date.clone(t.viewStart);e<this.dayCount;e++)i[e]=Extensible.Date.add(n,{days:e});var s,r=[],o=this.viewStartHour,a=this.viewEndHour,l=this.hourIncrement,h=this.hourHeight*(a-o),d=Extensible.Date.use24HourTime?"G:i":"ga";for(n=Extensible.Date.add(new Date("5/26/1972"),{hours:o}),e=o;e<a;e++)r.push(Ext.Date.format(n,d)),n=Extensible.Date.add(n,{minutes:l});return s={days:i,dayCount:i.length,times:r,hourHeight:this.hourHeight,hourSeparatorCls:this.showHourSeparator?"":"no-sep",dayHeight:h,hourSeparatorHeight:this.hourHeight/2},Ext.getVersion().isLessThan("4.1")?Extensible.calendar.template.DayBody.superclass.applyTemplate.call(this,s):this.applyOut(s,[]).join("")}},function(){this.createAlias("apply","applyTemplate")}),Ext.define("Extensible.calendar.template.Month",{extend:"Ext.XTemplate",requires:["Extensible.calendar.template.BoxLayout"],dayHeaderFormat:"D",dayHeaderTitleFormat:"l, F j, Y",constructor:function(t){Ext.apply(this,t),this.weekTpl=Ext.create("Extensible.calendar.template.BoxLayout",t),this.weekTpl.compile();var e=this.showWeekLinks?'<div class="ext-cal-week-link-hd">&#160;</div>':"";Extensible.calendar.template.Month.superclass.constructor.call(this,'<div class="ext-cal-inner-ct {extraClasses}">','<div class="ext-cal-hd-ct ext-cal-month-hd">',e,'<table class="ext-cal-hd-days-tbl" cellpadding="0" cellspacing="0">',"<tbody>","<tr>",'<tpl for="days">','<th class="ext-cal-hd-day{[xindex==1 ? " ext-cal-day-first" : ""]}" title="{title}">{name}</th>',"</tpl>","</tr>","</tbody>","</table>","</div>",'<div class="ext-cal-body-ct">{weeks}</div>',"</div>")},applyTemplate:function(t){for(var e,i=[],n=this.weekTpl.apply(t),s=t.viewStart,r=Extensible.Date,o=0;o<7;o++){var a=r.add(s,{days:o});i.push({name:Ext.Date.format(a,this.dayHeaderFormat),title:Ext.Date.format(a,this.dayHeaderTitleFormat)})}var l=!0===this.showHeader?"":"ext-cal-noheader";return this.showWeekLinks&&(l+=" ext-cal-week-links"),e={days:i,weeks:n,extraClasses:l},Ext.getVersion().isLessThan("4.1")?Extensible.calendar.template.Month.superclass.applyTemplate.call(this,e):this.applyOut(e,[]).join("")}},function(){this.createAlias("apply","applyTemplate")}),Ext.define("Ext.dd.ScrollManager",{singleton:!0,requires:["Ext.dd.DragDropManager"],constructor:function(){var t=Ext.dd.DragDropManager;t.fireEvents=Ext.Function.createSequence(t.fireEvents,this.onFire,this),t.stopDrag=Ext.Function.createSequence(t.stopDrag,this.onStop,this),this.doScroll=Ext.Function.bind(this.doScroll,this),this.ddmInstance=t,this.els={},this.dragEl=null,this.proc={}},onStop:function(t){this.dragEl=null,this.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){if(this.ddmInstance.dragCurrent){var t=this.proc,e=t.el,i=t.el.ddScrollConfig,n=i?i.increment:this.increment;this.animate?e.scroll(t.dir,n,!0,this.animDuration,this.triggerRefresh):e.scroll(t.dir,n)&&this.triggerRefresh()}},clearProc:function(){var t=this.proc;t.id&&clearInterval(t.id),t.id=0,t.el=null,t.dir=""},startProc:function(t,e){this.clearProc(),this.proc.el=t,this.proc.dir=e;var i=t.ddScrollConfig?t.ddScrollConfig.ddGroup:void 0,n=t.ddScrollConfig&&t.ddScrollConfig.frequency?t.ddScrollConfig.frequency:this.frequency;void 0!==i&&this.ddmInstance.dragCurrent.ddGroup!=i||(this.proc.id=setInterval(this.doScroll,n))},onFire:function(t,e){if(!e&&this.ddmInstance.dragCurrent){this.dragEl&&this.dragEl==this.ddmInstance.dragCurrent||(this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache());t.getXY();var i=t.getPoint(),n=this.proc,s=this.els;for(var r in s){var o=s[r],a=o._region,l=o.ddScrollConfig?o.ddScrollConfig:this;if(a&&a.contains(i)&&o.isScrollable()){if(a.bottom-i.y<=l.vthresh)return void(n.el!=o&&this.startProc(o,"down"));if(a.right-i.x<=l.hthresh)return void(n.el!=o&&this.startProc(o,"left"));if(i.y-a.top<=l.vthresh)return void(n.el!=o&&this.startProc(o,"up"));if(i.x-a.left<=l.hthresh)return void(n.el!=o&&this.startProc(o,"right"))}}this.clearProc()}},register:function(t){if(Ext.isArray(t))for(var e=0,i=t.length;e<i;e++)this.register(t[e]);else t=Ext.get(t),this.els[t.id]=t},unregister:function(t){if(Ext.isArray(t))for(var e=0,i=t.length;e<i;e++)this.unregister(t[e]);else t=Ext.get(t),delete this.els[t.id]},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var t,e=this.els;for(t in e)"object"==typeof e[t]&&(e[t]._region=e[t].getRegion())}}),Ext.define("Extensible.calendar.dd.StatusProxy",{extend:"Ext.dd.StatusProxy",moveEventCls:"ext-cal-dd-move",addEventCls:"ext-cal-dd-add",renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div>','<div class="ext-dd-ghost-ct">','<div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>','<div id="{id}-message" class="ext-dd-msg"></div>',"</div>"],childEls:["ghost","message"],constructor:function(t){Ext.getVersion().isLessThan("4.1")?this.preComponentConstructor(t):this.callParent(arguments)},preComponentConstructor:function(t){Ext.apply(this,t),this.id=this.id||Ext.id(),this.proxy=Ext.createWidget("component",{floating:!0,id:this.id||Ext.id(),html:this.renderTpl.join(""),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:!t||!1!==t.shadow,renderTo:document.body}),this.el=this.proxy.el,this.el.show(),this.el.setVisibilityMode(Ext.core.Element.VISIBILITY),this.el.hide(),this.ghost=Ext.get(this.el.dom.childNodes[1].childNodes[0]),this.message=Ext.get(this.el.dom.childNodes[1].childNodes[1]),this.dropStatus=this.dropNotAllowed},update:function(t){this.callParent(arguments);var e=this.ghost.dom.firstChild;e&&Ext.fly(e).setHeight("auto")},updateMsg:function(t){this.message.update(t)}}),Ext.define("Extensible.calendar.dd.DragZone",{extend:"Ext.dd.DragZone",requires:["Extensible.calendar.dd.StatusProxy","Extensible.calendar.data.EventMappings"],ddGroup:"CalendarDD",eventSelector:".ext-cal-evt",constructor:function(t,e){Extensible.calendar._statusProxyInstance||(Extensible.calendar._statusProxyInstance=Ext.create("Extensible.calendar.dd.StatusProxy")),this.proxy=Extensible.calendar._statusProxyInstance,this.callParent(arguments)},getDragData:function(t){var e=t.getTarget(this.eventSelector,3);if(e){var i=this.view.getEventRecordFromEl(e);if(!i)return;return{type:"eventdrag",ddel:e,eventStart:i.data[Extensible.calendar.data.EventMappings.StartDate.name],eventEnd:i.data[Extensible.calendar.data.EventMappings.EndDate.name],proxy:this.proxy}}return(e=this.view.getDayAt(t.getX(),t.getY())).el?{type:"caldrag",start:e.date,proxy:this.proxy}:null},onInitDrag:function(t,e){if(this.dragData.ddel){var i=this.dragData.ddel.cloneNode(!0),n=Ext.fly(i).down("dl");Ext.fly(i).setWidth("auto"),n&&n.setHeight("auto"),this.proxy.update(i),this.onStartDrag(t,e)}else this.dragData.start&&this.onStartDrag(t,e);return this.view.onInitDrag(),!0},afterRepair:function(){Ext.enableFx&&this.dragData.ddel&&Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9"),this.dragging=!1},getRepairXY:function(t){if(this.dragData.ddel)return Ext.Element.fly(this.dragData.ddel).getXY()},afterInvalidDrop:function(t,e){Ext.select(".ext-dd-shim").hide()},destroy:function(){this.callParent(arguments),delete Extensible.calendar._statusProxyInstance}}),Ext.define("Extensible.calendar.dd.DropZone",{extend:"Ext.dd.DropZone",requires:["Ext.Layer","Extensible.calendar.data.EventMappings"],ddGroup:"CalendarDD",eventSelector:".ext-cal-evt",dateRangeFormat:"{0}-{1}",dateFormat:"n/j",shims:[],getTargetFromEvent:function(t){var e=this.dragOffset||0,i=t.getPageY()-e,n=this.view.getDayAt(t.getPageX(),i);return n.el?n:null},onNodeOver:function(t,e,i,n){var s=Extensible.Date,r="eventdrag"==n.type?t.date:s.min(n.start,t.date),o="eventdrag"==n.type?s.add(t.date,{days:s.diffDays(n.eventStart,n.eventEnd)}):s.max(n.start,t.date);if(!this.dragStartDate||!this.dragEndDate||0!=s.diffDays(r,this.dragStartDate)||0!=s.diffDays(o,this.dragEndDate)){this.dragStartDate=r,this.dragEndDate=s.add(o,{days:1,millis:-1,clearTime:!0}),this.shim(r,o);var a=Ext.Date.format(r,this.dateFormat);s.diffDays(r,o)>0&&(o=Ext.Date.format(o,this.dateFormat),a=Ext.String.format(this.dateRangeFormat,a,o));var l=Ext.String.format("eventdrag"==n.type?this.moveText:this.createText,a);n.proxy.updateMsg(l)}return this.dropAllowed},shim:function(t,e){this.currWeek=-1;var i,n=Ext.Date.clone(t),s=0,r=Extensible.Date,o=r.diffDays(n,e)+1;for(Ext.each(this.shims,function(t){t&&(t.isActive=!1)});s++<o;){var a=this.view.getDayEl(n);if(a){var l,h=this.view.getWeekIndex(n);(l=this.shims[h])||(l=this.createShim(),this.shims[h]=l),h!=this.currWeek?(l.boxInfo=a.getBox(),this.currWeek=h):(i=a.getBox(),l.boxInfo.right=i.right,l.boxInfo.width=i.right-l.boxInfo.x),l.isActive=!0}n=r.add(n,{days:1})}Ext.each(this.shims,function(t){t&&(t.isActive?(t.show(),t.setBox(t.boxInfo)):t.isVisible()&&t.hide())})},createShim:function(){var t=this.view.ownerCalendarPanel?this.view.ownerCalendarPanel:this.view;this.shimCt||(this.shimCt=Ext.get("ext-dd-shim-ct-"+t.id),this.shimCt||(this.shimCt=document.createElement("div"),this.shimCt.id="ext-dd-shim-ct-"+t.id,t.getEl().parent().appendChild(this.shimCt)));var e=document.createElement("div");return e.className="ext-dd-shim",this.shimCt.appendChild(e),Ext.create("Ext.Layer",{shadow:!1,useDisplay:!0,constrain:!1},e)},clearShims:function(){Ext.each(this.shims,function(t){t&&t.hide()})},onContainerOver:function(t,e,i){return this.dropAllowed},onCalendarDragComplete:function(){delete this.dragStartDate,delete this.dragEndDate,this.clearShims()},onNodeDrop:function(t,e,i,n){if(t&&n){if("eventdrag"==n.type){var s=this.view.getEventRecordFromEl(n.ddel),r=Extensible.Date.copyTime(s.data[Extensible.calendar.data.EventMappings.StartDate.name],t.date);return this.view.onEventDrop(s,r),this.onCalendarDragComplete(),!0}if("caldrag"==n.type)return this.view.onCalendarEndDrag(this.dragStartDate,this.dragEndDate,Ext.bind(this.onCalendarDragComplete,this)),!0}return this.onCalendarDragComplete(),!1},onContainerDrop:function(t,e,i){return this.onCalendarDragComplete(),!1},destroy:function(){Ext.each(this.shims,function(t){t&&Ext.destroy(t)}),Ext.removeNode(this.shimCt),delete this.shimCt,this.shims.length=0}}),Ext.define("Extensible.calendar.dd.DayDragZone",{extend:"Extensible.calendar.dd.DragZone",ddGroup:"DayViewDD",resizeSelector:".ext-evt-rsz",getDragData:function(t){if(i=t.getTarget(this.resizeSelector,2,!0)){var e=i.parent(this.eventSelector);if(!(n=this.view.getEventRecordFromEl(e)))return;return{type:"eventresize",xy:t.getXY(),ddel:e.dom,eventStart:n.data[Extensible.calendar.data.EventMappings.StartDate.name],eventEnd:n.data[Extensible.calendar.data.EventMappings.EndDate.name],proxy:this.proxy}}var i;if(i=t.getTarget(this.eventSelector,3)){var n;if(!(n=this.view.getEventRecordFromEl(i)))return;return{type:"eventdrag",xy:t.getXY(),ddel:i,eventStart:n.data[Extensible.calendar.data.EventMappings.StartDate.name],eventEnd:n.data[Extensible.calendar.data.EventMappings.EndDate.name],proxy:this.proxy}}return(i=this.view.getDayAt(t.getX(),t.getY())).el?{type:"caldrag",dayInfo:i,proxy:this.proxy}:null}}),Ext.define("Extensible.calendar.dd.DayDropZone",{extend:"Extensible.calendar.dd.DropZone",ddGroup:"DayViewDD",dateRangeFormat:"{0}-{1}",dateFormat:"n/j",onNodeOver:function(t,e,i,n){var s,r=this.createText,o=Extensible.Date.use24HourTime?"G:i":"g:ia";if("caldrag"==n.type){this.dragStartMarker||(this.dragStartMarker=t.el.parent().createChild({style:"position:absolute;"}),this.dragStartMarker.setBox(n.dayInfo.timeBox),this.dragCreateDt=n.dayInfo.date);var a;(d=this.dragStartMarker.getBox()).height=Math.ceil(Math.abs(i.getY()-d.y)/t.timeBox.height)*t.timeBox.height,i.getY()<d.y?(d.height+=t.timeBox.height,d.y=d.y-d.height+t.timeBox.height,a=Extensible.Date.add(this.dragCreateDt,{minutes:this.ddIncrement})):t.date=Extensible.Date.add(t.date,{minutes:this.ddIncrement}),this.shim(this.dragCreateDt,d);var l=Extensible.Date.diff(this.dragCreateDt,t.date),h=Extensible.Date.add(this.dragCreateDt,{millis:l});this.dragStartDate=Extensible.Date.min(this.dragCreateDt,h),this.dragEndDate=a||Extensible.Date.max(this.dragCreateDt,h),s=Ext.String.format(this.dateRangeFormat,Ext.Date.format(this.dragStartDate,o),Ext.Date.format(this.dragEndDate,o))}else{var d,c=Ext.get(n.ddel),u=c.parent().parent();if((d=c.getBox()).width=u.getWidth(),"eventdrag"==n.type){if(void 0===this.dragOffset){var f=this.view.getDayAt(n.xy[0],n.xy[1]).timeBox;this.dragOffset=f.y-d.y}else d.y=t.timeBox.y;s=Ext.Date.format(t.date,this.dateFormat+" "+o),d.x=t.el.getLeft(),this.shim(t.date,d),r=this.moveText}if("eventresize"==n.type){this.resizeDt||(this.resizeDt=t.date),d.x=u.getLeft(),d.height=Math.ceil(Math.abs(i.getY()-d.y)/t.timeBox.height)*t.timeBox.height,i.getY()<d.y?d.y-=d.height:t.date=Extensible.Date.add(t.date,{minutes:this.ddIncrement}),this.shim(this.resizeDt,d);l=Extensible.Date.diff(this.resizeDt,t.date),h=Extensible.Date.add(this.resizeDt,{millis:l});var p=Extensible.Date.min(n.eventStart,h),g=Extensible.Date.max(n.eventStart,h);n.resizeDates={StartDate:p,EndDate:g},s=Ext.String.format(this.dateRangeFormat,Ext.Date.format(p,o),Ext.Date.format(g,o)),r=this.resizeText}}return n.proxy.updateMsg(Ext.String.format(r,s)),this.dropAllowed},shim:function(t,e){Ext.each(this.shims,function(t){t&&(t.isActive=!1,t.hide())});var i=this.shims[0];i||(i=this.createShim(),this.shims[0]=i),i.isActive=!0,i.show(),i.setBox(e)},onNodeDrop:function(t,e,i,n){if(t&&n){if("eventdrag"==n.type){var s=this.view.getEventRecordFromEl(n.ddel);return this.view.onEventDrop(s,t.date),this.onCalendarDragComplete(),delete this.dragOffset,!0}if("eventresize"==n.type){s=this.view.getEventRecordFromEl(n.ddel);return this.view.onEventResize(s,n.resizeDates),this.onCalendarDragComplete(),delete this.resizeDt,!0}if("caldrag"==n.type)return Ext.destroy(this.dragStartMarker),delete this.dragStartMarker,delete this.dragCreateDt,this.view.onCalendarEndDrag(this.dragStartDate,this.dragEndDate,Ext.bind(this.onCalendarDragComplete,this)),!0}return this.onCalendarDragComplete(),!1}}),Ext.define("Extensible.calendar.data.EventModel",{extend:"Ext.data.Model",requires:["Ext.util.MixedCollection","Extensible.calendar.data.EventMappings"],statics:{reconfigure:function(){var t=Extensible.calendar.data,e=t.EventMappings,i=t.EventModel.prototype,n=[];i.idProperty=e.EventId.name||"id";for(prop in e)e.hasOwnProperty(prop)&&n.push(e[prop]);i.fields.clear();for(var s=0,r=n.length;s<r;s++)i.fields.add(Ext.create("Ext.data.Field",n[s]));return t.EventModel}}},function(){Extensible.calendar.data.EventModel.reconfigure()}),Ext.define("Extensible.calendar.data.EventStore",{extend:"Ext.data.Store",model:"Extensible.calendar.data.EventModel",constructor:function(t){t=t||{},this.deferLoad=t.autoLoad,t.autoLoad=!1,this.callParent(arguments)},load:function(t){Extensible.log("store load"),(t=t||{}).params&&delete this.initialParams,this.initialParams&&(t.params=t.params||{},Ext.apply(t.params,this.initialParams),delete this.initialParams),this.callParent(arguments)}}),Ext.define("Extensible.calendar.data.CalendarModel",{extend:"Ext.data.Model",requires:["Ext.util.MixedCollection","Extensible.calendar.data.CalendarMappings"],statics:{reconfigure:function(){var t=Extensible.calendar.data,e=t.CalendarMappings,i=t.CalendarModel.prototype,n=[];i.idProperty=e.CalendarId.name||"id";for(prop in e)e.hasOwnProperty(prop)&&n.push(e[prop]);i.fields.clear();for(var s=0,r=n.length;s<r;s++)i.fields.add(Ext.create("Ext.data.Field",n[s]));return t.CalendarModel}}},function(){Extensible.calendar.data.CalendarModel.reconfigure()}),Ext.define("Extensible.calendar.data.MemoryCalendarStore",{extend:"Ext.data.Store",model:"Extensible.calendar.data.CalendarModel",requires:["Ext.data.proxy.Memory","Ext.data.reader.Json","Ext.data.writer.Json","Extensible.calendar.data.CalendarModel","Extensible.calendar.data.CalendarMappings"],proxy:{type:"memory",reader:{type:"json",root:"calendars"},writer:{type:"json"}},autoLoad:!0,initComponent:function(){this.sorters=this.sorters||[{property:Extensible.calendar.data.CalendarMappings.Title.name,direction:"ASC"}],this.idProperty=this.idProperty||Extensible.calendar.data.CalendarMappings.CalendarId.name||"id",this.fields=Extensible.calendar.data.CalendarModel.prototype.fields.getRange(),this.callParent(arguments)}}),Ext.define("Extensible.calendar.data.MemoryEventStore",{extend:"Ext.data.Store",model:"Extensible.calendar.data.EventModel",requires:["Ext.data.proxy.Memory","Ext.data.reader.Json","Ext.data.writer.Json","Extensible.calendar.data.EventModel","Extensible.calendar.data.EventMappings"],proxy:{type:"memory",reader:{type:"json",root:"evts"},writer:{type:"json"}},constructor:function(t){t=t||{},this.callParent(arguments),this.sorters=this.sorters||[{property:Extensible.calendar.data.EventMappings.StartDate.name,direction:"ASC"}],this.idProperty=this.idProperty||Extensible.calendar.data.EventMappings.EventId.mapping||"id",this.fields=Extensible.calendar.data.EventModel.prototype.fields.getRange(),!1!==t.autoMsg&&this.on("write",this.onWrite,this),this.autoMsg=t.autoMsg,this.onCreateRecords=Ext.Function.createInterceptor(this.onCreateRecords,this.interceptCreateRecords),this.initRecs()},interceptCreateRecords:function(t,e,i){if(i)for(var n=0,s=t.length;n<s;n++)t[n].data[Extensible.calendar.data.EventMappings.EventId.name]=t[n].id},initRecs:function(){this.each(function(t){t.store=this,t.phantom=!1},this)},onWrite:function(t,e){if(Extensible.example&&Extensible.example.msg){e.wasSuccessful();var i=e.getRecords()[0].data[Extensible.calendar.data.EventMappings.Title.name];switch(e.action){case"create":Extensible.example.msg("Add",'Added "'+Ext.value(i,"(No title)")+'"');break;case"update":Extensible.example.msg("Update",'Updated "'+Ext.value(i,"(No title)")+'"');break;case"destroy":Extensible.example.msg("Delete",'Deleted "'+Ext.value(i,"(No title)")+'"')}}},onProxyLoad:function(t){var e;if(this.data&&this.data.length>0)this.totalCount=this.data.length,e=this.data.items;else{var i=t.getResultSet(),n=t.wasSuccessful();e=t.getRecords(),i&&(this.totalCount=i.total),n&&this.loadRecords(e,t)}this.loading=!1,this.fireEvent("load",this,e,n)}}),Ext.define("Extensible.calendar.util.WeekEventRenderer",{requires:["Ext.core.DomHelper"],statics:{getEventRow:function(t,e,i){var n,s,r=Ext.get(t+"-wk-"+e);return r&&((n=(s=r.child(".ext-cal-evt-tbl",!0)).tBodies[0].childNodes[i+1])||(n=Ext.core.DomHelper.append(s.tBodies[0],"<tr></tr>"))),Ext.get(n)},renderEvent:function(t,e,i,n,s,r,o){var a=Extensible.calendar.data.EventMappings,l=t.data||t.event.data,h=Ext.Date.clone(r),d=Extensible.Date.add(h,{days:s-i,millis:-1}),c=this.getEventRow(o.viewId,e,n),u=Extensible.Date.diffDays(r,l[a.EndDate.name])+1,f=Math.min(u,s-i);l._weekIndex=e,l._renderAsAllDay=l[a.IsAllDay.name]||t.isSpanStart,l.spanLeft=l[a.StartDate.name].getTime()<h.getTime(),l.spanRight=l[a.EndDate.name].getTime()>d.getTime(),l.spanCls=l.spanLeft?l.spanRight?"ext-cal-ev-spanboth":"ext-cal-ev-spanleft":l.spanRight?"ext-cal-ev-spanright":"";var p={tag:"td",cls:"ext-cal-ev",cn:o.tpl.apply(o.templateDataFn(l))};f>1&&(p.colspan=f),Ext.core.DomHelper.append(c,p)},render:function(t){for(var e,i,n,s,r,o,a,l,h,d=0,c=t.eventGrid,u=Ext.Date.clone(t.viewStart),f="",p=(t.tpl,void 0!=t.maxEventsPerDay?t.maxEventsPerDay:999),g=t.weekCount<1?6:t.weekCount,m=1==t.weekCount?t.dayCount:7;d<g;d++)for(i=0,n=c[d];i<m;i++){if(n&&n[i]){for(s=0,r=0,a=(o=n[i]).length,f=Ext.Date.format(u,"Ymd");s<a;s++)if(o[s]){if(s>=p){r++;continue}(l=o[s]).isSpan&&!l.isSpanStart||this.renderEvent(l,d,i,s,m,u,t)}else{if(s>=p)continue;e=this.getEventRow(t.viewId,d,s),Ext.core.DomHelper.append(e,{tag:"td",cls:"ext-cal-ev",html:"&#160;",id:t.viewId+"-empty-"+a+"-day-"+f})}if(r>0)e=this.getEventRow(t.viewId,d,p),Ext.core.DomHelper.append(e,{tag:"td",cls:"ext-cal-ev-more",id:"ext-cal-ev-more-"+Ext.Date.format(u,"Ymd"),cn:{tag:"a",html:Ext.String.format(t.getMoreText(r),r)}});else if(a<t.evtMaxCount[d]&&(e=this.getEventRow(t.viewId,d,a))){h={tag:"td",cls:"ext-cal-ev",html:"&#160;",id:t.viewId+"-empty-"+(a+1)+"-day-"+f};var x=t.evtMaxCount[d]-a;x>1&&(h.rowspan=x),Ext.core.DomHelper.append(e,h)}}else(e=this.getEventRow(t.viewId,d,0))&&(h={tag:"td",cls:"ext-cal-ev",html:"&#160;",id:t.viewId+"-empty-day-"+f},t.evtMaxCount[d]>1&&(h.rowspan=t.evtMaxCount[d]),Ext.core.DomHelper.append(e,h));u=Extensible.Date.add(u,{days:1})}}}}),Ext.define("Extensible.calendar.form.field.CalendarCombo",{extend:"Ext.form.field.ComboBox",alias:"widget.extensible.calendarcombo",requires:["Extensible.calendar.data.CalendarMappings"],fieldLabel:"Calendar",triggerAction:"all",queryMode:"local",forceSelection:!0,selectOnFocus:!0,defaultCls:"x-cal-default",hiddenCalendarCls:"ext-cal-hidden",initComponent:function(){this.valueField=Extensible.calendar.data.CalendarMappings.CalendarId.name,this.displayField=Extensible.calendar.data.CalendarMappings.Title.name,this.listConfig=Ext.apply(this.listConfig||{},{getInnerTpl:this.getListItemTpl}),this.store.on("update",this.refreshColorCls,this),this.callParent(arguments)},getListItemTpl:function(t){return'<div class="x-combo-list-item x-cal-{'+Extensible.calendar.data.CalendarMappings.ColorId.name+'}"><div class="ext-cal-picker-icon">&#160;</div>{'+t+"}</div>"},afterRender:function(){this.callParent(arguments),this.wrap=this.el.down(".x-form-item-body"),this.wrap.addCls("ext-calendar-picker"),this.icon=Ext.core.DomHelper.append(this.wrap,{tag:"div",cls:"ext-cal-picker-icon ext-cal-picker-mainicon"})},refreshColorCls:function(){var t=Extensible.calendar.data.CalendarMappings,e="",i=this.getValue();return this.wrap?(void 0!==this.currentStyleClss&&this.wrap.removeCls(this.currentStyleClss),Ext.isEmpty(i)||(Ext.isArray(i)&&(i=i[0]),i.data||(i=this.store.findRecord(t.CalendarId.name,i)),e="x-cal-"+(i.data?i.data[t.ColorId.name]:i)),this.currentStyleClss=e,this.wrap.addCls(e),this):this},setValue:function(t){!t&&this.store.getCount()>0&&(t=this.store.getAt(0).data[Extensible.calendar.data.CalendarMappings.CalendarId.name]),this.callParent(arguments),this.refreshColorCls()}}),Ext.define("Extensible.form.recurrence.Combo",{extend:"Ext.form.ComboBox",alias:"widget.extensible.recurrencecombo",requires:["Ext.data.ArrayStore"],width:160,fieldLabel:"Repeats",mode:"local",triggerAction:"all",forceSelection:!0,displayField:"pattern",valueField:"id",recurrenceText:{none:"Does not repeat",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},initComponent:function(){this.callParent(arguments),this.addEvents("recurrencechange"),this.store=this.store||Ext.create("Ext.data.ArrayStore",{fields:["id","pattern"],idIndex:0,data:[["NONE",this.recurrenceText.none],["DAILY",this.recurrenceText.daily],["WEEKLY",this.recurrenceText.weekly],["MONTHLY",this.recurrenceText.monthly],["YEARLY",this.recurrenceText.yearly]]})},initValue:function(){this.callParent(arguments),void 0!=this.value&&this.fireEvent("recurrencechange",this.value)},setValue:function(t){var e=this.value;return this.callParent(arguments),e!=t&&this.fireEvent("recurrencechange",t),this}}),Ext.define("Extensible.form.recurrence.Fieldset",{extend:"Ext.form.Field",alias:"widget.extensible.recurrencefield",requires:["Extensible.form.recurrence.Combo"],fieldLabel:"Repeats",startDate:Ext.Date.clearTime(new Date),enableFx:!0,initComponent:function(){this.callParent(arguments),this.height||(this.autoHeight=!0)},onRender:function(t,e){this.el||(this.frequencyCombo=Ext.create("Extensible.form.recurrence.Combo",{id:this.id+"-frequency",listeners:{recurrencechange:{fn:this.showOptions,scope:this}}}),this.fieldLabel&&(this.frequencyCombo.fieldLabel=this.fieldLabel),this.innerCt=Ext.create("Ext.Container",{cls:"extensible-recur-inner-ct",items:[]}),this.fieldCt=Ext.create("Ext.Container",{autoEl:{id:this.id},cls:"extensible-recur-ct",renderTo:t,items:[this.frequencyCombo,this.innerCt]}),this.fieldCt.ownerCt=this,this.innerCt.ownerCt=this.fieldCt,this.el=this.fieldCt.getEl(),this.items=Ext.create("Ext.util.MixedCollection"),this.items.addAll(this.initSubComponents())),this.callParent(arguments)},initValue:function(){this.setStartDate(this.startDate),void 0!==this.value?this.setValue(this.value):void 0!==this.frequency?this.setValue("FREQ="+this.frequency):this.setValue("NONE"),this.originalValue=this.getValue()},showOptions:function(t){var e=!1,i="day";switch("NONE"!=t&&this.hideSubPanels(),this.frequency=t,t){case"DAILY":e=this.showSubPanel(this.repeatEvery),e|=this.showSubPanel(this.until);break;case"WEEKLY":e=this.showSubPanel(this.repeatEvery),e|=this.showSubPanel(this.weekly),e|=this.showSubPanel(this.until),i="week";break;case"MONTHLY":e=this.showSubPanel(this.repeatEvery),e|=this.showSubPanel(this.monthly),e|=this.showSubPanel(this.until),i="month";break;case"YEARLY":e=this.showSubPanel(this.repeatEvery),e|=this.showSubPanel(this.yearly),e|=this.showSubPanel(this.until),i="year";break;default:return void this.hideInnerCt()}e&&this.innerCt.doLayout(),this.showInnerCt(),this.repeatEvery.updateLabel(i)},showSubPanel:function(t){return t.rendered?(t.show(),!1):((t=this.repeatEvery.rendered?this.innerCt.insert(1,t):this.innerCt.add(t)).show(),!0)},showInnerCt:function(){this.innerCt.isVisible()||(this.enableFx&&Ext.enableFx?this.innerCt.getPositionEl().slideIn("t",{duration:.3}):this.innerCt.show())},hideInnerCt:function(){this.innerCt.isVisible()&&(this.enableFx&&Ext.enableFx?this.innerCt.getPositionEl().slideOut("t",{duration:.3,easing:"easeIn",callback:this.hideSubPanels,scope:this}):(this.innerCt.hide(),this.hideSubPanels()))},setStartDate:function(t){this.items.each(function(e){e.setStartDate(t)})},getValue:function(){if(!this.rendered)return this.value;if("NONE"==this.frequency)return"";var t="FREQ="+this.frequency;return this.items.each(function(e){e.isVisible()&&(t+=e.getValue())}),t},setValue:function(t){if(this.value=t,null==t||""==t||"NONE"==t)return this.frequencyCombo.setValue("NONE"),this.showOptions("NONE"),this;var e=t.split(";");return this.items.each(function(t){t.setValue(e)}),Ext.each(e,function(t){if(t.indexOf("FREQ")>-1){var e=t.split("=")[1];return this.frequencyCombo.setValue(e),void this.showOptions(e)}},this),this},hideSubPanels:function(){this.items.each(function(t){t.hide()})},initSubComponents:function(){return Extensible.calendar.recurrenceBase=Ext.extend(Ext.Container,{fieldLabel:" ",labelSeparator:"",hideLabel:!0,layout:"table",anchor:"100%",startDate:this.startDate,getSuffix:function(t){if(!Ext.isNumber(t))return"";switch(t){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},initNthCombo:function(t){t=Ext.getCmp(this.id+"-combo");var e,i,n,s,r,o=this.startDate,a=t.getStore(),l=o.getLastDateOfMonth().getDate(),h=o.getDate(),d=Ext.Date.format(o,"jS")+" day",c=this.id.indexOf("-yearly")>-1,u=" in "+Ext.Date.format(o,"F");return e=Math.ceil(h/7),i=e+this.getSuffix(e)+Ext.Date.format(o," l"),c&&(d+=u,i+=u),s=[[d],[i]],r=c?u:"",l-h<7&&s.push(["last "+Ext.Date.format(o,"l")+r]),l==h&&s.push(["last day"+r]),n=a.find("field1",t.getValue()),a.removeAll(),t.clearValue(),a.loadData(s),n>s.length-1&&(n=s.length-1),t.setValue(a.getAt(n>-1?n:0).data.field1),this},setValue:Ext.emptyFn}),this.repeatEvery=new Extensible.calendar.recurrenceBase({id:this.id+"-every",layoutConfig:{columns:3},items:[{xtype:"label",text:"Repeat every"},{xtype:"numberfield",id:this.id+"-every-num",value:1,width:35,minValue:1,maxValue:99,allowBlank:!1,enableKeyEvents:!0,listeners:{keyup:{fn:function(){this.repeatEvery.updateLabel()},scope:this}}},{xtype:"label",id:this.id+"-every-label"}],setStartDate:function(t){return this.startDate=t,this.updateLabel(),this},getValue:function(){var t=Ext.getCmp(this.id+"-num").getValue();return t>1?";INTERVAL="+t:""},setValue:function(t){var e=Ext.isArray(t)?t:t.split(";");return Ext.each(e,function(t){if(t.indexOf("INTERVAL")>-1){var e=t.split("=")[1];Ext.getCmp(this.id+"-num").setValue(e)}},this),this},updateLabel:function(t){if(this.rendered){var e=1==Ext.getCmp(this.id+"-num").getValue()?"":"s";this.type=t?t.toLowerCase():this.type||"day";var i=Ext.getCmp(this.id+"-label");i.rendered&&i.update(this.type+e+" beginning "+Ext.Date.format(this.startDate,"l, F j"))}return this},afterRender:function(){this.callParent(arguments),this.updateLabel()}}),this.weekly=new Extensible.calendar.recurrenceBase({id:this.id+"-weekly",layoutConfig:{columns:2},items:[{xtype:"label",text:"on:"},{xtype:"checkboxgroup",id:this.id+"-weekly-days",items:[{boxLabel:"Sun",name:"SU",id:this.id+"-weekly-SU"},{boxLabel:"Mon",name:"MO",id:this.id+"-weekly-MO"},{boxLabel:"Tue",name:"TU",id:this.id+"-weekly-TU"},{boxLabel:"Wed",name:"WE",id:this.id+"-weekly-WE"},{boxLabel:"Thu",name:"TH",id:this.id+"-weekly-TH"},{boxLabel:"Fri",name:"FR",id:this.id+"-weekly-FR"},{boxLabel:"Sat",name:"SA",id:this.id+"-weekly-SA"}]}],setStartDate:function(t){return this.startDate=t,this.selectToday(),this},selectToday:function(){this.clearValue();var t=Ext.Date.format(this.startDate,"D").substring(0,2).toUpperCase();Ext.getCmp(this.id+"-days").setValue(t,!0)},clearValue:function(){Ext.getCmp(this.id+"-days").setValue([!1,!1,!1,!1,!1,!1,!1])},getValue:function(){var t="",e=Ext.getCmp(this.id+"-days").getValue();Ext.each(e,function(e){t.length>0&&(t+=","),t+=e.name});var i=Ext.Date.format(this.startDate,"D").substring(0,2).toUpperCase();return t.length>0&&t!=i?";BYDAY="+t:""},setValue:function(t){var e=!1,i=Ext.isArray(t)?t:t.split(";");return this.clearValue(),Ext.each(i,function(t){if(t.indexOf("BYDAY")>-1){var i=t.split("=")[1].split(","),n={};return Ext.each(i,function(t){n[t]=!0},this),Ext.getCmp(this.id+"-days").setValue(n),e=!0}},this),e||this.selectToday(),this}}),this.monthly=new Extensible.calendar.recurrenceBase({id:this.id+"-monthly",layoutConfig:{columns:3},items:[{xtype:"label",text:"on the"},{xtype:"combo",id:this.id+"-monthly-combo",mode:"local",width:150,triggerAction:"all",forceSelection:!0,store:[]},{xtype:"label",text:"of each month"}],setStartDate:function(t){return this.startDate=t,this.initNthCombo(),this},getValue:function(){var t=Ext.getCmp(this.id+"-combo"),e=t.getStore().find("field1",t.getValue()),i=this.startDate,n=Ext.Date.format(i,"D").substring(0,2).toUpperCase();if(e>-1)switch(e){case 0:return";BYMONTHDAY="+Ext.Date.format(i,"j");case 1:return";BYDAY="+t.getValue()[0].substring(0,1)+n;case 2:return";BYDAY=-1"+n;default:return";BYMONTHDAY=-1"}return""}}),this.yearly=new Extensible.calendar.recurrenceBase({id:this.id+"-yearly",layoutConfig:{columns:3},items:[{xtype:"label",text:"on the"},{xtype:"combo",id:this.id+"-yearly-combo",mode:"local",width:170,triggerAction:"all",forceSelection:!0,store:[]},{xtype:"label",text:"each year"}],setStartDate:function(t){return this.startDate=t,this.initNthCombo(),this},getValue:function(){var t=Ext.getCmp(this.id+"-combo"),e=t.getStore().find("field1",t.getValue()),i=this.startDate,n=Ext.Date.format(i,"D").substring(0,2).toUpperCase(),s=";BYMONTH="+i.format("n");if(e>-1)switch(e){case 0:return s;case 1:return s+";BYDAY="+t.getValue()[0].substring(0,1)+n;case 2:return s+";BYDAY=-1"+n;default:return s+";BYMONTHDAY=-1"}return""}}),this.until=new Extensible.calendar.recurrenceBase({id:this.id+"-until",untilDateFormat:"Ymd\\T000000\\Z",layoutConfig:{columns:5},items:[{xtype:"label",text:"and continuing"},{xtype:"combo",id:this.id+"-until-combo",mode:"local",width:85,triggerAction:"all",forceSelection:!0,value:"forever",store:["forever","for","until"],listeners:{select:{fn:function(t,e){var i=Ext.getCmp(this.id+"-until-date");"until"==e.data.field1?(i.show(),""==i.getValue()&&(i.setValue(this.startDate.add(Date.DAY,5)),i.setMinValue(this.startDate.clone().add(Date.DAY,1)))):i.hide(),"for"==e.data.field1?(Ext.getCmp(this.id+"-until-num").show(),Ext.getCmp(this.id+"-until-endlabel").show()):(Ext.getCmp(this.id+"-until-num").hide(),Ext.getCmp(this.id+"-until-endlabel").hide())},scope:this}}},{xtype:"datefield",id:this.id+"-until-date",showToday:!1,hidden:!0},{xtype:"numberfield",id:this.id+"-until-num",value:5,width:35,minValue:1,maxValue:99,allowBlank:!1,hidden:!0},{xtype:"label",id:this.id+"-until-endlabel",text:"occurrences",hidden:!0}],setStartDate:function(t){return this.startDate=t,this},getValue:function(){var t=Ext.getCmp(this.id+"-date");if(t.isVisible())return";UNTIL="+Ext.String.format(t.getValue(),this.untilDateFormat);var e=Ext.getCmp(this.id+"-num");return e.isVisible()?";COUNT="+e.getValue():""},setValue:function(t){var e=Ext.isArray(t)?t:t.split(";");return Ext.each(e,function(t){if(t.indexOf("COUNT")>-1){var e=t.split("=")[1];Ext.getCmp(this.id+"-combo").setValue("for"),Ext.getCmp(this.id+"-num").setValue(e).show(),Ext.getCmp(this.id+"-endlabel").show()}else if(t.indexOf("UNTIL")>-1){var i=t.split("=")[1];Ext.getCmp(this.id+"-combo").setValue("until"),Ext.getCmp(this.id+"-date").setValue(Date.parseDate(i,this.untilDateFormat)).show(),Ext.getCmp(this.id+"-endlabel").hide()}},this),this}}),[this.repeatEvery,this.weekly,this.monthly,this.yearly,this.until]}}),Ext.define("Extensible.form.field.DateRangeLayout",{extend:"Ext.layout.container.Container",alias:["layout.extensible.daterange"],onLayout:function(){var t=this.getShadowCt(),e=this.owner,i=e.isSingleLine();this.owner.suspendLayout=!0,i?t.getComponent("row1").add(e.startDate,e.startTime,e.toLabel,e.endTime,e.endDate,e.allDay):(t.getComponent("row1").add(e.startDate,e.startTime,e.toLabel),t.getComponent("row2").add(e.endDate,e.endTime,e.allDay)),t.rendered||t.render(this.getRenderTarget()),t.doComponentLayout(),e.setHeight(t.getHeight()-5),delete this.owner.suspendLayout},getShadowCt:function(){return this.shadowCt||(this.shadowCt=Ext.createWidget("container",{layout:"auto",anchor:"100%",ownerCt:this.owner,items:[{xtype:"container",itemId:"row1",layout:"hbox",defaults:{margins:"0 5 0 0"}},{xtype:"container",itemId:"row2",layout:"hbox",defaults:{margins:"0 5 0 0"}}]})),this.shadowCt},renderItems:Ext.emptyFn}),Ext.define("Extensible.form.field.DateRange",{extend:"Ext.form.FieldContainer",alias:"widget.extensible.daterangefield",requires:["Ext.form.field.Date","Ext.form.field.Time","Ext.form.Label","Ext.form.field.Checkbox"],toText:"to",allDayText:"All day",singleLine:!0,dateFormat:"n/j/Y",fieldLayout:{type:"hbox",defaultMargins:{top:0,right:5,bottom:0,left:0}},initComponent:function(){this.timeFormat=this.timeFormat||(Extensible.Date.use24HourTime?"G:i":"g:i A"),this.addCls("ext-dt-range"),this.singleLine?(this.layout=this.fieldLayout,this.items=this.getFieldConfigs()):this.items=[{xtype:"container",layout:this.fieldLayout,items:[this.getStartDateConfig(),this.getStartTimeConfig(),this.getDateSeparatorConfig()]},{xtype:"container",layout:this.fieldLayout,items:[this.getEndDateConfig(),this.getEndTimeConfig(),this.getAllDayConfig()]}],this.callParent(arguments),this.initRefs()},initRefs:function(){this.startDate=this.down("#"+this.id+"-start-date"),this.startTime=this.down("#"+this.id+"-start-time"),this.endTime=this.down("#"+this.id+"-end-time"),this.endDate=this.down("#"+this.id+"-end-date"),this.allDay=this.down("#"+this.id+"-allday"),this.toLabel=this.down("#"+this.id+"-to-label")},getFieldConfigs:function(){return[this.getStartDateConfig(),this.getStartTimeConfig(),this.getDateSeparatorConfig(),this.getEndTimeConfig(),this.getEndDateConfig(),this.getAllDayConfig()]},getLayoutItems:function(t){return t?this.items.items:[[this.startDate,this.startTime,this.toLabel],[this.endDate,this.endTime,this.allDay]]},getStartDateConfig:function(){return{xtype:"datefield",id:this.id+"-start-date",format:this.dateFormat,width:100,listeners:{change:{fn:function(){this.onFieldChange("date","start")},scope:this}}}},getStartTimeConfig:function(){return{xtype:"timefield",id:this.id+"-start-time",hidden:!1===this.showTimes,labelWidth:0,hideLabel:!0,width:90,format:this.timeFormat,listeners:{select:{fn:function(){this.onFieldChange("time","start")},scope:this}}}},getEndDateConfig:function(){return{xtype:"datefield",id:this.id+"-end-date",format:this.dateFormat,hideLabel:!0,width:100,listeners:{change:{fn:function(){this.onFieldChange("date","end")},scope:this}}}},getEndTimeConfig:function(){return{xtype:"timefield",id:this.id+"-end-time",hidden:!1===this.showTimes,labelWidth:0,hideLabel:!0,width:90,format:this.timeFormat,listeners:{select:{fn:function(){this.onFieldChange("time","end")},scope:this}}}},getAllDayConfig:function(){return{xtype:"checkbox",id:this.id+"-allday",hidden:!1===this.showTimes||!1===this.showAllDay,boxLabel:this.allDayText,margins:{top:2,right:5,bottom:0,left:0},handler:this.onAllDayChange,scope:this}},onAllDayChange:function(t,e){this.startTime.setVisible(!e),this.endTime.setVisible(!e)},getDateSeparatorConfig:function(){return{xtype:"label",id:this.id+"-to-label",text:this.toText,margins:{top:4,right:5,bottom:0,left:0}}},isSingleLine:function(){if(void 0===this.calculatedSingleLine)if("auto"==this.singleLine){var t=this.ownerCt.getEl(),e=this.ownerCt.getWidth()-t.getPadding("lr"),i=t.down(".x-panel-body");i&&(e-=i.getPadding("lr")),(i=t.down(".x-form-item-label"))&&(e-=i.getWidth()-i.getPadding("lr")),singleLine=!(e<=this.singleLineMinWidth)}else this.calculatedSingleLine=void 0===this.singleLine||this.singleLine;return this.calculatedSingleLine},onFieldChange:function(t,e){this.checkDates(t,e),this.fireEvent("change",this,this.getValue())},checkDates:function(t,e){var i="date"===t?"Date":"Time",n=this["start"+i],s=this["end"+i],r=this.getDT("start"),o=this.getDT("end");r>o&&("start"==e?s.setValue(r):(n.setValue(o),this.checkDates(t,"start"))),"date"==t&&this.checkDates("time",e)},getValue:function(){return[this.getDT("start"),this.getDT("end"),this.allDay.getValue()]},getDT:function(t){var e=this[t+"Time"].getValue(),i=this[t+"Date"].getValue();if(!Ext.isDate(i))return null;if(i=Ext.Date.format(i,this[t+"Date"].format),e&&""!=e){e=Ext.Date.format(e,this[t+"Time"].format);return Ext.Date.parseDate(i+" "+e,this[t+"Date"].format+" "+this[t+"Time"].format)}return Ext.Date.parseDate(i,this[t+"Date"].format)},setValue:function(t){if(t){var e=Extensible.calendar.data.EventMappings,i=e.StartDate.name;Ext.isArray(t)?(this.setDT(t[0],"start"),this.setDT(t[1],"end"),this.allDay.setValue(!!t[2])):Ext.isDate(t)?(this.setDT(t,"start"),this.setDT(t,"end"),this.allDay.setValue(!1)):t[i]&&(this.setDT(t[i],"start"),this.setDT(t[e.EndDate.name],"end")||this.setDT(t[i],"end"),this.allDay.setValue(!!t[e.IsAllDay.name]))}},setDT:function(t,e){if(t&&Ext.isDate(t))return this[e+"Date"].setValue(t),this[e+"Time"].setValue(Ext.Date.format(t,this[e+"Time"].format)),!0},isDirty:function(){var t=!1;return this.rendered&&!this.disabled&&this.items.each(function(e){if(e.isDirty())return t=!0,!1}),t},reset:function(){this.delegateFn("reset")},delegateFn:function(t){this.items.each(function(e){e[t]&&e[t]()})},beforeDestroy:function(){Ext.destroy(this.fieldCt),this.callParent(arguments)},getRawValue:Ext.emptyFn,setRawValue:Ext.emptyFn}),Ext.define("Extensible.calendar.form.field.ReminderCombo",{extend:"Ext.form.ComboBox",alias:"widget.extensible.remindercombo",requires:["Ext.data.ArrayStore"],fieldLabel:"Reminder",queryMode:"local",triggerAction:"all",forceSelection:!0,displayField:"desc",valueField:"value",noneText:"None",atStartTimeText:"At start time",reminderValueFormat:"{0} {1} before start",minutesText:"minutes",hourText:"hour",hoursText:"hours",dayText:"day",daysText:"days",weekText:"week",weeksText:"weeks",initComponent:function(){this.store=this.store||Ext.create("Ext.data.ArrayStore",{fields:["value","desc"],idIndex:0,data:this.getValueList()}),this.callParent(arguments)},getValueList:function(){var t=this.reminderValueFormat,e=Ext.String.format;return[["",this.noneText],["0",this.atStartTimeText],["5",e(t,"5",this.getMinutesText(5))],["15",e(t,"15",this.getMinutesText(15))],["30",e(t,"30",this.getMinutesText(30))],["60",e(t,"1",this.getHoursText(1))],["90",e(t,"1.5",this.getHoursText(1.5))],["120",e(t,"2",this.getHoursText(2))],["180",e(t,"3",this.getHoursText(3))],["360",e(t,"6",this.getHoursText(6))],["720",e(t,"12",this.getHoursText(12))],["1440",e(t,"1",this.getDaysText(1))],["2880",e(t,"2",this.getDaysText(2))],["4320",e(t,"3",this.getDaysText(3))],["5760",e(t,"4",this.getDaysText(4))],["7200",e(t,"5",this.getDaysText(5))],["10080",e(t,"1",this.getWeeksText(1))],["20160",e(t,"2",this.getWeeksText(2))]]},getMinutesText:function(t){return 1===t?this.minuteText:this.minutesText},getHoursText:function(t){return 1===t?this.hourText:this.hoursText},getDaysText:function(t){return 1===t?this.dayText:this.daysText},getWeeksText:function(t){return 1===t?this.weekText:this.weeksText},initValue:function(){void 0!==this.value?this.setValue(this.value):this.setValue(""),this.originalValue=this.getValue()}}),Ext.define("Extensible.calendar.util.ColorPicker",{extend:"Ext.picker.Color",alias:"widget.extensible.calendarcolorpicker",requires:["Ext.XTemplate"],colorCount:32,constructor:function(){this.renderTpl=Ext.create("Ext.XTemplate",'<tpl for="colors"><a href="#" class="x-cal-{.}" hidefocus="on"><em><span unselectable="on">&#160;</span></em></a></tpl>'),this.callParent(arguments)},initComponent:function(){this.callParent(arguments),this.addCls("x-calendar-palette"),this.handler&&this.on("select",this.handler,this.scope||this,{delegate:"a"}),this.colors=[];for(var t=1;t<=this.colorCount;t++)this.colors.push(t)},handleClick:function(t,e){t.preventDefault();var i=e.className.split("x-cal-")[1];this.select(i)},select:function(t,e){var i=this.selectedCls,n=this.value;if(this.rendered){if(t!=n||this.allowReselect){var s=this.el;this.value&&s.down(".x-cal-"+n).removeCls(i),s.down(".x-cal-"+t).addCls(i),this.value=t,!0!==e&&this.fireEvent("select",this,t)}}else this.value=t}}),Ext.define("Extensible.calendar.gadget.CalendarListMenu",{extend:"Ext.menu.Menu",alias:"widget.extensible.calendarlistmenu",requires:["Extensible.calendar.util.ColorPicker"],hideOnClick:!0,ignoreParentClicks:!0,displayOnlyThisCalendarText:"Display only this calendar",enableScrolling:!1,initComponent:function(){this.addEvents("showcalendar","hidecalendar","radiocalendar","colorchange"),Ext.apply(this,{items:[{text:this.displayOnlyThisCalendarText,iconCls:"extensible-cal-icon-cal-show",handler:Ext.bind(this.handleRadioCalendarClick,this)},"-",{xtype:"extensible.calendarcolorpicker",id:this.id+"-calendar-color-picker",handler:Ext.bind(this.handleColorSelect,this)}]}),this.addClass("x-calendar-list-menu"),this.callParent(arguments)},afterRender:function(){this.callParent(arguments),this.palette=this.down("#"+this.id+"-calendar-color-picker"),this.colorId&&this.palette.select(this.colorId,!0)},handleRadioCalendarClick:function(t,e){this.fireEvent("radiocalendar",this,this.calendarId)},handleColorSelect:function(t,e){this.fireEvent("colorchange",this,this.calendarId,e,this.colorId),this.colorId=e,this.menuHide()},setCalendar:function(t,e){return this.calendarId=t,this.colorId=e,this.rendered&&this.palette.select(e,!0),this},menuHide:function(){this.hideOnClick&&this.hide()}}),Ext.define("Extensible.calendar.gadget.CalendarListPanel",{extend:"Ext.panel.Panel",alias:"widget.extensible.calendarlist",requires:["Ext.XTemplate","Extensible.calendar.gadget.CalendarListMenu"],title:"Calendars",collapsible:!0,autoHeight:!0,layout:"fit",menuSelector:"em",width:100,initComponent:function(){this.addCls("x-calendar-list"),this.callParent(arguments)},afterRender:function(t,e){this.callParent(arguments),this.store&&this.setStore(this.store,!0),this.refresh(),this.body.on("click",this.onClick,this),this.body.on("mouseover",this.onMouseOver,this,{delegate:"li"}),this.body.on("mouseout",this.onMouseOut,this,{delegate:"li"})},getListTemplate:function(){return this.tpl||(this.tpl=Ext.isIE||Ext.isOpera?Ext.create("Ext.XTemplate",'<ul class="x-unselectable"><tpl for=".">','<li id="{cmpId}" class="ext-cal-evo {colorCls} {hiddenCls}">','<div class="ext-cal-evm">','<div class="ext-cal-evi">{title}<em>&#160;</em></div>',"</div>","</li>","</tpl></ul>"):Ext.create("Ext.XTemplate",'<ul class="x-unselectable"><tpl for=".">','<li id="{cmpId}" class="ext-cal-evr {colorCls} {hiddenCls}">{title}<em>&#160;</em></li>',"</tpl></ul>"),this.tpl.compile()),this.tpl},setStore:function(t,e){!e&&this.store&&(this.store.un("load",this.refresh,this),this.store.un("add",this.refresh,this),this.store.un("remove",this.refresh,this),this.store.un("update",this.onUpdate,this),this.store.un("clear",this.refresh,this)),t&&(t.on("load",this.refresh,this),t.on("add",this.refresh,this),t.on("remove",this.refresh,this),t.on("update",this.onUpdate,this),t.on("clear",this.refresh,this)),this.store=t},onUpdate:function(t,e,i){i==Ext.data.Record.COMMIT&&this.refresh()},refresh:function(){if(!this.skipRefresh){for(var t=[],e=0,i=null,n=Extensible.calendar.data.CalendarMappings,s=this.store.getRange(),r=s.length;e<r;e++)i={cmpId:this.id+"__"+s[e].data[n.CalendarId.name],title:s[e].data[n.Title.name],colorCls:this.getColorCls(s[e].data[n.ColorId.name])},!0===s[e].data[n.IsHidden.name]&&(i.hiddenCls="ext-cal-hidden"),t[t.length]=i;this.getListTemplate().overwrite(this.body,t)}},getColorCls:function(t){return"x-cal-"+t+"-ad"},toggleCalendar:function(t,e){var i=this.store.findRecord(Extensible.calendar.data.CalendarMappings.CalendarId.name,t);CM=Extensible.calendar.data.CalendarMappings,isHidden=i.data[CM.IsHidden.name],i.set([CM.IsHidden.name],!isHidden),!1!==e&&i.commit()},showCalendar:function(t,e){!0===this.store.findRecord(Extensible.calendar.data.CalendarMappings.CalendarId.name,t).data[Extensible.calendar.data.CalendarMappings.IsHidden.name]&&this.toggleCalendar(t,e)},hideCalendar:function(t,e){!0!==this.store.findRecord(Extensible.calendar.data.CalendarMappings.CalendarId.name,t).data[Extensible.calendar.data.CalendarMappings.IsHidden.name]&&this.toggleCalendar(t,e)},radioCalendar:function(t){for(var e,i=0,n=Extensible.calendar.data.CalendarMappings.CalendarId.name,s=this.store.getRange(),r=s.length;i<r;i++)(e=s[i].data[n])==t?this.showCalendar(e,!1):this.hideCalendar(e,!1);this.skipRefresh=!0,this.store.sync(),delete this.skipRefresh,this.refresh()},onMouseOver:function(t,e){Ext.fly(e).addCls("hover")},onMouseOut:function(t,e){Ext.fly(e).removeCls("hover")},getCalendarId:function(t){return t.id.split("__")[1]},getCalendarItemEl:function(t){return Ext.get(this.id+"__"+t)},onClick:function(t,e){var i;(i=t.getTarget(this.menuSelector,3,!0))?this.showEventMenu(i,t.getXY()):(i=t.getTarget("li",3,!0))&&this.toggleCalendar(this.getCalendarId(i))},handleColorChange:function(t,e,i,n){var s=this.store.findRecord(Extensible.calendar.data.CalendarMappings.CalendarId.name,e);s.data[Extensible.calendar.data.CalendarMappings.ColorId.name]=i,s.commit()},handleRadioCalendar:function(t,e){this.radioCalendar(e)},showEventMenu:function(t,e){var i=this.getCalendarId(t.parent("li")),n=this.store.findRecord(Extensible.calendar.data.CalendarMappings.CalendarId.name,i);colorId=n.data[Extensible.calendar.data.CalendarMappings.ColorId.name],this.menu||(this.menu=Ext.create("Extensible.calendar.gadget.CalendarListMenu"),this.menu.on("colorchange",this.handleColorChange,this),this.menu.on("radiocalendar",this.handleRadioCalendar,this)),this.menu.setCalendar(i,colorId),this.menu.showAt(e)}}),Ext.define("Extensible.calendar.menu.Event",{extend:"Ext.menu.Menu",alias:"widget.extensible.eventcontextmenu",requires:["Ext.menu.DatePicker"],hideOnClick:!0,ignoreParentClicks:!0,editDetailsText:"Edit Details",deleteText:"Delete",moveToText:"Move to...",enableScrolling:!1,initComponent:function(){this.addEvents("editdetails","eventdelete","eventmove"),this.buildMenu(),this.callParent(arguments)},buildMenu:function(){this.rendered||(this.dateMenu=Ext.create("Ext.menu.DatePicker",{scope:this,handler:function(t,e){e=Extensible.Date.copyTime(this.rec.data[Extensible.calendar.data.EventMappings.StartDate.name],e),this.fireEvent("eventmove",this,this.rec,e)}}),Ext.apply(this,{items:[{text:this.editDetailsText,iconCls:"extensible-cal-icon-evt-edit",scope:this,handler:function(){this.fireEvent("editdetails",this,this.rec,this.ctxEl)}},{text:this.deleteText,iconCls:"extensible-cal-icon-evt-del",scope:this,handler:function(){this.fireEvent("eventdelete",this,this.rec,this.ctxEl)}},"-",{text:this.moveToText,iconCls:"extensible-cal-icon-evt-move",menu:this.dateMenu}]}))},showForEvent:function(t,e,i){this.rec=t,this.ctxEl=e,this.dateMenu.picker.setValue(t.data[Extensible.calendar.data.EventMappings.StartDate.name]),this.showAt(i)},onHide:function(){this.callParent(arguments),delete this.ctxEl}}),Ext.define("Extensible.calendar.form.EventDetails",{extend:"Ext.form.Panel",alias:"widget.extensible.eventeditform",requires:["Extensible.form.field.DateRange","Extensible.calendar.form.field.ReminderCombo","Extensible.calendar.data.EventMappings","Extensible.calendar.form.field.CalendarCombo","Extensible.form.recurrence.Combo","Ext.layout.container.Column"],labelWidth:65,labelWidthRightCol:65,colWidthLeft:.6,colWidthRight:.4,title:"Event Form",titleTextAdd:"Add Event",titleTextEdit:"Edit Event",titleLabelText:"Title",datesLabelText:"When",reminderLabelText:"Reminder",notesLabelText:"Notes",locationLabelText:"Location",webLinkLabelText:"Web Link",calendarLabelText:"Calendar",repeatsLabelText:"Repeats",saveButtonText:"Save",deleteButtonText:"Delete",cancelButtonText:"Cancel",bodyStyle:"padding:20px 20px 10px;",border:!1,buttonAlign:"center",autoHeight:!0,enableRecurrence:!1,layout:"column",initComponent:function(){this.addEvents({eventadd:!0,eventupdate:!0,eventdelete:!0,eventcancel:!0}),this.titleField=Ext.create("Ext.form.TextField",{fieldLabel:this.titleLabelText,name:Extensible.calendar.data.EventMappings.Title.name,anchor:"90%"}),this.dateRangeField=Ext.create("Extensible.form.field.DateRange",{fieldLabel:this.datesLabelText,singleLine:!1,anchor:"90%",listeners:{change:Ext.bind(this.onDateChange,this)}}),this.reminderField=Ext.create("Extensible.calendar.form.field.ReminderCombo",{name:Extensible.calendar.data.EventMappings.Reminder.name,fieldLabel:this.reminderLabelText,anchor:"70%"}),this.notesField=Ext.create("Ext.form.TextArea",{fieldLabel:this.notesLabelText,name:Extensible.calendar.data.EventMappings.Notes.name,grow:!0,growMax:150,anchor:"100%"}),this.locationField=Ext.create("Ext.form.TextField",{fieldLabel:this.locationLabelText,name:Extensible.calendar.data.EventMappings.Location.name,anchor:"100%"}),this.urlField=Ext.create("Ext.form.TextField",{fieldLabel:this.webLinkLabelText,name:Extensible.calendar.data.EventMappings.Url.name,anchor:"100%"});var t=[this.titleField,this.dateRangeField,this.reminderField],e=[this.notesField,this.locationField,this.urlField];this.enableRecurrence&&(this.recurrenceField=Ext.create("Extensible.form.recurrence.Fieldset",{name:Extensible.calendar.data.EventMappings.RRule.name,fieldLabel:this.repeatsLabelText,anchor:"90%"}),t.splice(2,0,this.recurrenceField)),this.calendarStore&&(this.calendarField=Ext.create("Extensible.calendar.form.field.CalendarCombo",{store:this.calendarStore,fieldLabel:this.calendarLabelText,name:Extensible.calendar.data.EventMappings.CalendarId.name,anchor:"70%"}),t.splice(2,0,this.calendarField)),this.items=[{id:this.id+"-left-col",columnWidth:this.colWidthLeft,layout:"anchor",fieldDefaults:{labelWidth:this.labelWidth},border:!1,items:t},{id:this.id+"-right-col",columnWidth:this.colWidthRight,layout:"anchor",fieldDefaults:{labelWidth:this.labelWidthRightCol||this.labelWidth},border:!1,items:e}],this.fbar=[{text:this.saveButtonText,scope:this,handler:this.onSave},{itemId:this.id+"-del-btn",text:this.deleteButtonText,scope:this,handler:this.onDelete},{text:this.cancelButtonText,scope:this,handler:this.onCancel}],this.addCls("ext-evt-edit-form"),this.callParent(arguments)},onDateChange:function(t,e){this.recurrenceField&&this.recurrenceField.setStartDate(e[0])},loadRecord:function(t){this.form.reset().loadRecord.apply(this.form,arguments),this.activeRecord=t,this.dateRangeField.setValue(t.data),this.recurrenceField&&this.recurrenceField.setStartDate(t.data[Extensible.calendar.data.EventMappings.StartDate.name]),this.calendarStore&&this.form.setValues({calendar:t.data[Extensible.calendar.data.EventMappings.CalendarId.name]}),t.phantom?(this.setTitle(this.titleTextAdd),this.down("#"+this.id+"-del-btn").hide()):(this.setTitle(this.titleTextEdit),this.down("#"+this.id+"-del-btn").show()),this.titleField.focus()},updateRecord:function(){var t=this.dateRangeField.getValue(),e=Extensible.calendar.data.EventMappings,i=this.activeRecord,n=i.fields,s=!1;return i.beginEdit(),n.each(function(t){var e=this.form.findField(t.name);if(e){var n=e.getValue();n.getGroupValue?n=n.getGroupValue():e.eachItem&&(n=[],e.eachItem(function(t){n.push(t.getValue())})),i.set(t.name,n)}},this),i.set(e.StartDate.name,t[0]),i.set(e.EndDate.name,t[1]),i.set(e.IsAllDay.name,t[2]),s=i.dirty,i.endEdit(),s},onCancel:function(){this.cleanup(!0),this.fireEvent("eventcancel",this,this.activeRecord)},cleanup:function(t){this.activeRecord&&this.activeRecord.reject(),delete this.activeRecord,this.form.isDirty()&&this.form.reset()},onSave:function(){this.form.isValid()&&(this.updateRecord()?this.fireEvent(this.activeRecord.phantom?"eventadd":"eventupdate",this,this.activeRecord):this.onCancel())},onDelete:function(){this.fireEvent("eventdelete",this,this.activeRecord)}}),Ext.define("Extensible.calendar.form.EventWindow",{extend:"Ext.window.Window",alias:"widget.extensible.eventeditwindow",requires:["Ext.form.Panel","Extensible.calendar.data.EventModel","Extensible.calendar.data.EventMappings"],titleTextAdd:"Add Event",titleTextEdit:"Edit Event",width:600,labelWidth:65,detailsLinkText:"Edit Details...",savingMessage:"Saving changes...",deletingMessage:"Deleting event...",saveButtonText:"Save",deleteButtonText:"Delete",cancelButtonText:"Cancel",titleLabelText:"Title",datesLabelText:"When",calendarLabelText:"Calendar",closeAction:"hide",modal:!1,resizable:!1,constrain:!0,buttonAlign:"left",editDetailsLinkClass:"edit-dtl-link",enableEditDetails:!0,layout:"fit",formPanelConfig:{border:!1},initComponent:function(){this.addEvents({eventadd:!0,eventupdate:!0,eventdelete:!0,eventcancel:!0,editdetails:!0}),this.fbar=this.getFooterBarConfig(),this.callParent(arguments)},getFooterBarConfig:function(){var t=["->",{text:this.saveButtonText,itemId:this.id+"-save-btn",disabled:!1,handler:this.onSave,scope:this},{text:this.deleteButtonText,itemId:this.id+"-delete-btn",disabled:!1,handler:this.onDelete,scope:this,hideMode:"offsets"},{text:this.cancelButtonText,itemId:this.id+"-cancel-btn",disabled:!1,handler:this.onCancel,scope:this}];return!1!==this.enableEditDetails&&t.unshift({xtype:"tbtext",itemId:this.id+"-details-btn",text:'<a href="#" class="'+this.editDetailsLinkClass+'">'+this.detailsLinkText+"</a>"}),t},onRender:function(t,e){this.formPanel=Ext.create("Ext.FormPanel",Ext.applyIf({fieldDefaults:{labelWidth:this.labelWidth},items:this.getFormItemConfigs()},this.formPanelConfig)),this.add(this.formPanel),this.callParent(arguments)},getFormItemConfigs:function(){var t=[{xtype:"textfield",itemId:this.id+"-title",name:Extensible.calendar.data.EventMappings.Title.name,fieldLabel:this.titleLabelText,anchor:"100%"},{xtype:"extensible.daterangefield",itemId:this.id+"-dates",name:"dates",anchor:"95%",singleLine:!0,fieldLabel:this.datesLabelText}];return this.calendarStore&&t.push({xtype:"extensible.calendarcombo",itemId:this.id+"-calendar",name:Extensible.calendar.data.EventMappings.CalendarId.name,anchor:"100%",fieldLabel:this.calendarLabelText,store:this.calendarStore}),t},afterRender:function(){this.callParent(arguments),this.el.addCls("ext-cal-event-win"),this.initRefs();var t=this.getDockedItems("toolbar")[0].items.items[0];t.el.hasCls("x-component-default")&&Ext.destroy(t)},initRefs:function(){this.saveButton=this.down("#"+this.id+"-save-btn"),this.deleteButton=this.down("#"+this.id+"-delete-btn"),this.cancelButton=this.down("#"+this.id+"-cancel-btn"),this.detailsButton=this.down("#"+this.id+"-details-btn"),this.detailsButton&&this.detailsButton.getEl().on("click",this.onEditDetailsClick,this),this.titleField=this.down("#"+this.id+"-title"),this.dateRangeField=this.down("#"+this.id+"-dates"),this.calendarField=this.down("#"+this.id+"-calendar")},onEditDetailsClick:function(t){t.stopEvent(),this.updateRecord(this.activeRecord,!0),this.fireEvent("editdetails",this,this.activeRecord,this.animateTarget)},show:function(t,e){this.animateTarget=Ext.isIE8&&Ext.isStrict?null:e,M=Extensible.calendar.data.EventMappings,this.callParent([this.animateTarget,function(){this.titleField.focus(!1,100)},this]),this.deleteButton[t.data&&t.data[M.EventId.name]?"show":"hide"]();var i,n=this.formPanel.form;if(t.data)(i=t).phantom?this.setTitle(this.titleTextAdd):this.setTitle(this.titleTextEdit),n.loadRecord(i);else{this.setTitle(this.titleTextAdd);var s=t[M.StartDate.name],r=t[M.EndDate.name]||Extensible.Date.add(s,{hours:1});(i=Ext.create("Extensible.calendar.data.EventModel")).data[M.StartDate.name]=s,i.data[M.EndDate.name]=r,i.data[M.IsAllDay.name]=!!t[M.IsAllDay.name]||s.getDate()!=Extensible.Date.add(r,{millis:1}).getDate(),n.reset(),n.loadRecord(i)}return this.calendarStore&&this.calendarField.setValue(i.data[M.CalendarId.name]),this.dateRangeField.setValue(i.data),this.activeRecord=i,this},roundTime:function(t,e){e=e||15;var i=parseInt(t.getMinutes());return t.add("mi",e-i%e)},onCancel:function(){this.cleanup(!0),this.fireEvent("eventcancel",this,this.activeRecord,this.animateTarget)},cleanup:function(t){this.activeRecord&&this.activeRecord.reject(),delete this.activeRecord,!0===t&&this.hide()},updateRecord:function(t,e){var i,n=t.fields,s=this.formPanel.getForm().getValues(),r=Extensible.calendar.data.EventMappings,o={};n.each(function(t){(i=t.name)in s&&(o[i]=s[i])});var a=this.dateRangeField.getValue();return o[r.StartDate.name]=a[0],o[r.EndDate.name]=a[1],o[r.IsAllDay.name]=a[2],t.beginEdit(),t.set(o),e||t.endEdit(),this},onSave:function(){this.formPanel.form.isValid()&&(this.updateRecord(this.activeRecord)?this.fireEvent(this.activeRecord.phantom?"eventadd":"eventupdate",this,this.activeRecord,this.animateTarget):this.onCancel())},onDelete:function(){this.fireEvent("eventdelete",this,this.activeRecord,this.animateTarget)}}),Ext.define("Extensible.calendar.view.AbstractCalendar",{extend:"Ext.Component",requires:["Ext.CompositeElement"],requires:["Extensible.calendar.form.EventDetails","Extensible.calendar.form.EventWindow","Extensible.calendar.menu.Event","Extensible.calendar.dd.DragZone","Extensible.calendar.dd.DropZone"],startDay:0,spansHavePriority:!1,trackMouseOver:!0,enableFx:!0,enableAddFx:!0,enableUpdateFx:!1,enableRemoveFx:!0,enableDD:!0,enableContextMenus:!0,suppressBrowserContextMenu:!1,monitorResize:!0,todayText:"Today",ddCreateEventText:"Create event for {0}",ddMoveEventText:"Move event to {0}",ddResizeEventText:"Update event to {0}",defaultEventTitleText:"(No title)",dateParamStart:"startDate",dateParamEnd:"endDate",dateParamFormat:"Y-m-d",editModal:!1,enableEditDetails:!0,weekendCls:"ext-cal-day-we",prevMonthCls:"ext-cal-day-prev",nextMonthCls:"ext-cal-day-next",todayCls:"ext-cal-day-today",hideMode:"offsets",weekCount:1,dayCount:1,eventSelector:".ext-cal-evt",eventOverClass:"ext-evt-over",eventElIdDelimiter:"-evt-",dayElIdDelimiter:"-day-",getEventBodyMarkup:Ext.emptyFn,getEventTemplate:Ext.emptyFn,initComponent:function(){this.setStartDate(this.startDate||new Date),this.callParent(arguments),!0===this.readOnly&&this.addCls("ext-cal-readonly"),this.addEvents({eventsrendered:!0,eventclick:!0,eventover:!0,eventout:!0,beforedatechange:!0,datechange:!0,rangeselect:!0,beforeeventmove:!0,eventmove:!0,initdrag:!0,dayover:!0,dayout:!0,editdetails:!0,eventadd:!0,eventupdate:!0,eventcancel:!0,beforeeventdelete:!0,eventdelete:!0})},afterRender:function(){this.callParent(arguments),this.renderTemplate(),this.store&&(this.setStore(this.store,!0),this.store.deferLoad?(this.reloadStore(this.store.deferLoad),delete this.store.deferLoad):this.store.initialParams=this.getStoreParams()),this.calendarStore&&this.setCalendarStore(this.calendarStore,!0),this.on("resize",this.onResize,this),this.el.on({mouseover:this.onMouseOver,mouseout:this.onMouseOut,click:this.onClick,scope:this}),this.enableContextMenus&&!0!==this.readOnly&&this.el.on("contextmenu",this.onContextMenu,this),this.el.unselectable(),this.enableDD&&!0!==this.readOnly&&this.initDD&&this.initDD(),this.on("eventsrendered",this.onEventsRendered),Ext.defer(this.forceSize,100,this)},getStoreDateParams:function(){var t={};return t[this.dateParamStart]=Ext.Date.format(this.viewStart,this.dateParamFormat),t[this.dateParamEnd]=Ext.Date.format(this.viewEnd,this.dateParamFormat),t},getStoreParams:function(){return this.getStoreDateParams()},reloadStore:function(t){Extensible.log("reloadStore"),(t=Ext.isObject(t)?t:{}).params=t.params||{},Ext.apply(t.params,this.getStoreParams()),this.store.load(t)},onEventsRendered:function(){this.forceSize()},forceSize:function(){if(this.el&&this.el.down){var t=this.el.down(".ext-cal-hd-ct"),e=this.el.down(".ext-cal-body-ct");if(null==e||null==t)return;var i=t.getHeight(),n=this.el.parent().getSize();e.setHeight(n.height-i)}},refresh:function(t){Extensible.log("refresh (base), reload = "+t),!0===t&&this.reloadStore(),this.prepareData(),this.renderTemplate(),this.renderItems()},getWeekCount:function(){var t=Extensible.Date.diffDays(this.viewStart,this.viewEnd);return Math.ceil(t/this.dayCount)},prepareData:function(){var t=Ext.Date.getLastDateOfMonth(this.startDate),e=0,i=Ext.Date.clone(this.viewStart),n=this.weekCount<1?6:this.weekCount;this.eventGrid=[[]],this.allDayGrid=[[]],this.evtMaxCount=[];for(var s=this.store.queryBy(function(t){return this.isEventVisible(t.data)},this);e<n&&(this.evtMaxCount[e]=0,!(-1==this.weekCount&&i>t));e++)for(this.eventGrid[e]=this.eventGrid[e]||[],this.allDayGrid[e]=this.allDayGrid[e]||[],d=0;d<this.dayCount;d++){if(s.getCount()>0){var r=s.filterBy(function(t){var n=Ext.Date.clearTime(t.data[Extensible.calendar.data.EventMappings.StartDate.name],!0),s=i.getTime()==n.getTime(),r=0==e&&0==d&&i>t.data[Extensible.calendar.data.EventMappings.StartDate.name];return s||r},this);this.sortEventRecordsForDay(r),this.prepareEventGrid(r,e,d)}i=Extensible.Date.add(i,{days:1})}this.currentWeekCount=e},prepareEventGrid:function(t,e,i){var n,s=this,r=0,o=(Ext.Date.clone(s.viewStart),s.maxEventsPerDay||999);t.each(function(t){var a=Extensible.calendar.data.EventMappings;if(Extensible.Date.diffDays(t.data[a.StartDate.name],t.data[a.EndDate.name])>0){var l=Extensible.Date.diffDays(Extensible.Date.max(s.viewStart,t.data[a.StartDate.name]),Extensible.Date.min(s.viewEnd,t.data[a.EndDate.name]))+1;s.prepareEventGridSpans(t,s.eventGrid,e,i,l),s.prepareEventGridSpans(t,s.allDayGrid,e,i,l,!0)}else r=s.findEmptyRowIndex(e,i),s.eventGrid[e][i]=s.eventGrid[e][i]||[],s.eventGrid[e][i][r]=t,t.data[a.IsAllDay.name]&&(r=s.findEmptyRowIndex(e,i,!0),s.allDayGrid[e][i]=s.allDayGrid[e][i]||[],s.allDayGrid[e][i][r]=t);return(n=s[s.isHeaderView?"allDayGrid":"eventGrid"][e][i]||[]).length&&s.evtMaxCount[e]<n.length&&(s.evtMaxCount[e]=Math.min(o+1,n.length)),!0},s)},prepareEventGridSpans:function(t,e,i,n,s,r){var o=i,a=n,l=this.findEmptyRowIndex(i,n,r),h=Ext.Date.clone(this.viewStart),d={event:t,isSpan:!0,isSpanStart:!0,spanLeft:!1,spanRight:6==n};for(e[i][n]=e[i][n]||[],e[i][n][l]=d;--s&&!((h=Extensible.Date.add(h,{days:1}))>this.viewEnd);)++a>6&&(a=0,o++,l=this.findEmptyRowIndex(o,0)),e[o]=e[o]||[],e[o][a]=e[o][a]||[],e[o][a][l]={event:t,isSpan:!0,isSpanStart:0==a,spanLeft:o>i&&a%7==0,spanRight:6==a&&s>1}},findEmptyRowIndex:function(t,e,i){for(var n=i?this.allDayGrid:this.eventGrid,s=n[t]?n[t][e]||[]:[],r=0,o=s.length;r<o;r++)if(null==s[r])return r;return o},renderTemplate:function(){this.tpl&&(this.tpl.overwrite(this.el,this.getTemplateParams()),this.lastRenderStart=Ext.Date.clone(this.viewStart),this.lastRenderEnd=Ext.Date.clone(this.viewEnd))},getTemplateParams:function(){return{viewStart:this.viewStart,viewEnd:this.viewEnd,startDate:this.startDate,dayCount:this.dayCount,weekCount:this.weekCount,weekendCls:this.weekendCls,prevMonthCls:this.prevMonthCls,nextMonthCls:this.nextMonthCls,todayCls:this.todayCls}},disableStoreEvents:function(){return this.monitorStoreEvents=!1,this},enableStoreEvents:function(t){return this.monitorStoreEvents=!0,!0===t&&this.refresh(),this},onResize:function(){this.refresh(!1)},onInitDrag:function(){this.fireEvent("initdrag",this)},onEventDrop:function(t,e){this.moveEvent(t,e)},onCalendarEndDrag:function(t,e,i){this.dragPending=!0;var n={};i=Ext.bind(this.onCalendarEndDragComplete,this,[i]);n[Extensible.calendar.data.EventMappings.StartDate.name]=t,n[Extensible.calendar.data.EventMappings.EndDate.name]=e,!1!==this.fireEvent("rangeselect",this,n,i)?(this.showEventEditor(n,null),this.editWin?this.editWin.on("hide",i,this,{single:!0}):i()):this.onCalendarEndDragComplete(i)},onCalendarEndDragComplete:function(t){t(),this.dragPending=!1},onUpdate:function(t,e,i){if(!0!==this.hidden&&!1!==this.monitorStoreEvents&&i==Ext.data.Record.COMMIT){Extensible.log("onUpdate"),this.dismissEventEditor();var n=e.data[Extensible.calendar.data.EventMappings.RRule.name];this.refresh(void 0!==n&&""!==n),this.enableFx&&this.enableUpdateFx&&this.doUpdateFx(this.getEventEls(e.data[Extensible.calendar.data.EventMappings.EventId.name]),{scope:this})}},doUpdateFx:function(t,e){this.highlightEvent(t,null,e)},onAdd:function(t,e,i){var n=Ext.isArray(e)?e[0]:e;if(!0!==this.hidden&&!1!==this.monitorStoreEvents)if(n._deleting)delete n._deleting;else{Extensible.log("onAdd");var s=n.data[Extensible.calendar.data.EventMappings.RRule.name];this.dismissEventEditor(),this.tempEventId=n.id,this.refresh(void 0!==s&&""!==s),this.enableFx&&this.enableAddFx&&this.doAddFx(this.getEventEls(n.data[Extensible.calendar.data.EventMappings.EventId.name]),{scope:this})}},doAddFx:function(t,e){t.fadeIn(Ext.apply(e,{duration:2e3}))},onRemove:function(t,e){if(!0!==this.hidden&&!1!==this.monitorStoreEvents){Extensible.log("onRemove"),this.dismissEventEditor();var i=e.data[Extensible.calendar.data.EventMappings.RRule.name],n=void 0!==i&&""!==i;this.enableFx&&this.enableRemoveFx?this.doRemoveFx(this.getEventEls(e.data[Extensible.calendar.data.EventMappings.EventId.name]),{remove:!0,scope:this,callback:Ext.bind(this.refresh,this,[n])}):(this.getEventEls(e.data[Extensible.calendar.data.EventMappings.EventId.name]).remove(),this.refresh(n))}},doRemoveFx:function(t,e){0==t.getCount()&&Ext.isFunction(e.callback)?e.callback.call(e.scope||this):t.fadeOut(e)},highlightEvent:function(t,e,i){if(this.enableFx){var n;Ext.isIE||Ext.isOpera?t.each(function(t){t.highlight(e,Ext.applyIf({attr:"color"},i)),(n=t.down(".ext-cal-evm"))&&n.highlight(e,i)},this):t.highlight(e,i)}},getEventIdFromEl:function(t){var e,i="",n=(t=Ext.get(t)).dom.className.split(" ");return Ext.each(n,function(t){if((e=t.split(this.eventElIdDelimiter)).length>1)return i=e[1],!1},this),i},getEventId:function(t){return void 0===t&&this.tempEventId&&(t=this.tempEventId),t},getEventSelectorCls:function(t,e){return(e?".":"")+this.id+this.eventElIdDelimiter+this.getEventId(t)},getEventEls:function(t){var e=this.el.select(this.getEventSelectorCls(this.getEventId(t),!0),!1);return Ext.create("Ext.CompositeElement",e)},isToday:function(){var t=Ext.Date.clearTime(new Date).getTime();return this.viewStart.getTime()<=t&&this.viewEnd.getTime()>=t},onDataChanged:function(t){Extensible.log("onDataChanged"),this.refresh(!1)},isEventVisible:function(t){var e=Extensible.calendar.data.EventMappings,i=t.data||t,n=this.calendarStore?this.calendarStore.findRecord(e.CalendarId.name,t[e.CalendarId.name]):null;if(n&&!0===n.data[Extensible.calendar.data.CalendarMappings.IsHidden.name])return!1;var s=this.viewStart.getTime(),r=this.viewEnd.getTime(),o=i[e.StartDate.name].getTime(),a=i[e.EndDate.name].getTime();return Extensible.Date.rangesOverlap(s,r,o,a)},isOverlapping:function(t,e){var i=t.data?t.data:t,n=e.data?e.data:e,s=Extensible.calendar.data.EventMappings,r=i[s.StartDate.name].getTime(),o=Extensible.Date.add(i[s.EndDate.name],{seconds:-1}).getTime(),a=n[s.StartDate.name].getTime(),l=Extensible.Date.add(n[s.EndDate.name],{seconds:-1}).getTime(),h=Extensible.Date.diff(i[s.StartDate.name],n[s.StartDate.name],"m");o<r&&(o=r),l<a&&(l=a);var d=Extensible.Date.rangesOverlap(r,o,a,l),c=this.minEventDisplayMinutes||0;return d||c>0&&h>-c&&h<c},isEventSpanning:function(t){var e=Extensible.calendar.data.EventMappings,i=t.data||t;return Extensible.Date.diffDays(i[e.StartDate.name],i[e.EndDate.name])>0},getDayEl:function(t){return Ext.get(this.getDayId(t))},getDayId:function(t){return Ext.isDate(t)&&(t=Ext.Date.format(t,"Ymd")),this.id+this.dayElIdDelimiter+t},getStartDate:function(){return this.startDate},setStartDate:function(t,e){Extensible.log("setStartDate (base) "+Ext.Date.format(t,"Y-m-d"));var i=Ext.Date.clone,n=this.startDate?i(this.startDate):null,s=i(t),r=this.viewStart?i(this.viewStart):null,o=this.viewEnd?i(this.viewEnd):null;!1!==this.fireEvent("beforedatechange",this,n,s,r,o)&&(this.startDate=Ext.Date.clearTime(t),this.setViewBounds(t),this.ownerCalendarPanel&&this.ownerCalendarPanel.startDate!==this.startDate&&(this.ownerCalendarPanel.startDate=this.startDate),this.rendered&&this.refresh(e),this.fireEvent("datechange",this,i(this.startDate),i(this.viewStart),i(this.viewEnd)))},setViewBounds:function(t){var e=t||this.startDate,i=e.getDay()-this.startDay,n=Extensible.Date;switch(i<0&&(i+=7),this.weekCount){case 0:case 1:return this.viewStart=this.dayCount<7&&!this.startDayIsStatic?e:n.add(e,{days:-i,clearTime:!0}),void(this.viewEnd=n.add(this.viewStart,{days:this.dayCount||7,seconds:-1}));case-1:(i=(e=Ext.Date.getFirstDateOfMonth(e)).getDay()-this.startDay)<0&&(i+=7),this.viewStart=n.add(e,{days:-i,clearTime:!0});var s=n.add(e,{months:1,seconds:-1});return(i=this.startDay)>s.getDay()&&(i-=7),void(this.viewEnd=n.add(s,{days:6-s.getDay()+i}));default:this.viewStart=n.add(e,{days:-i,clearTime:!0}),this.viewEnd=n.add(this.viewStart,{days:7*this.weekCount,seconds:-1})}},getViewBounds:function(){return{start:this.viewStart,end:this.viewEnd}},sortEventRecordsForDay:function(t){t.length<2||t.sortBy(Ext.bind(function(t,e){var i=t.data,n=e.data,s=Extensible.calendar.data.EventMappings;if(i[s.IsAllDay.name])return-1;if(n[s.IsAllDay.name])return 1;if(this.spansHavePriority){var r=Extensible.Date.diffDays;return r(i[s.StartDate.name],i[s.EndDate.name])>0?r(n[s.StartDate.name],n[s.EndDate.name])>0?i[s.StartDate.name].getTime()==n[s.StartDate.name].getTime()?n[s.EndDate.name].getTime()-i[s.EndDate.name].getTime():i[s.StartDate.name].getTime()-n[s.StartDate.name].getTime():-1:r(n[s.StartDate.name],n[s.EndDate.name])>0?1:i[s.StartDate.name].getTime()-n[s.StartDate.name].getTime()}return i[s.StartDate.name].getTime()-n[s.StartDate.name].getTime()},this))},moveTo:function(t,e){return Ext.isDate(t)?(this.setStartDate(t,e),this.startDate):t},moveNext:function(t){return this.moveTo(Extensible.Date.add(this.viewEnd,{days:1}),t)},movePrev:function(t){var e=Extensible.Date.diffDays(this.viewStart,this.viewEnd)+1;return this.moveDays(-e,t)},moveMonths:function(t,e){return this.moveTo(Extensible.Date.add(this.startDate,{months:t}),e)},moveWeeks:function(t,e){return this.moveTo(Extensible.Date.add(this.startDate,{days:7*t}),e)},moveDays:function(t,e){return this.moveTo(Extensible.Date.add(this.startDate,{days:t}),e)},moveToday:function(t){return this.moveTo(new Date,t)},setStore:function(t,e){var i=this.store;!e&&i&&(i.un("datachanged",this.onDataChanged,this),i.un("clear",this.refresh,this),i.un("write",this.onWrite,this),i.un("exception",this.onException,this)),t&&(t.on("datachanged",this.onDataChanged,this),t.on("clear",this.refresh,this),t.on("write",this.onWrite,this),t.on("exception",this.onException,this)),this.store=t},onException:function(t,e,i,n,s,r){r.reject&&r.reject()},setCalendarStore:function(t,e){!e&&this.calendarStore&&(this.calendarStore.un("datachanged",this.refresh,this),this.calendarStore.un("add",this.refresh,this),this.calendarStore.un("remove",this.refresh,this),this.calendarStore.un("update",this.refresh,this)),t&&(t.on("datachanged",this.refresh,this),t.on("add",this.refresh,this),t.on("remove",this.refresh,this),t.on("update",this.refresh,this)),this.calendarStore=t},getEventRecord:function(t){var e=this.store.find(Extensible.calendar.data.EventMappings.EventId.name,t,0,!1,!0,!0);return this.store.getAt(e)},getEventRecordFromEl:function(t){return this.getEventRecord(this.getEventIdFromEl(t))},getEventEditor:function(){return this.editWin=this.editWin||Ext.WindowMgr.get("ext-cal-editwin"),this.editWin||(this.editWin=Ext.create("Extensible.calendar.form.EventWindow",{id:"ext-cal-editwin",calendarStore:this.calendarStore,modal:this.editModal,enableEditDetails:this.enableEditDetails,listeners:{eventadd:{fn:function(t,e,i){t.currentView.onEventAdd(null,e)},scope:this},eventupdate:{fn:function(t,e,i){t.currentView.onEventUpdate(null,e)},scope:this},eventdelete:{fn:function(t,e,i){t.currentView.onEventDelete(null,e)},scope:this},editdetails:{fn:function(t,e,i,n){t.animateTarget=null,t.hide(),t.currentView.fireEvent("editdetails",t.currentView,e)},scope:this},eventcancel:{fn:function(t,e,i){this.dismissEventEditor(null,i),t.currentView.onEventCancel()},scope:this}}})),this.editWin.currentView=this,this.editWin},showEventEditor:function(t,e){return this.getEventEditor().show(t,e,this),this},dismissEventEditor:function(t,e){this.newRecord&&this.newRecord.phantom&&this.store.remove(this.newRecord),delete this.newRecord;var i=Ext.WindowMgr.get("ext-cal-editwin");return i&&i[t||"hide"](e),this},save:function(){this.store.autoSync||this.store.sync()},onWrite:function(t,e){if(e.wasSuccessful()){var i=e.records[0];switch(e.action){case"create":this.onAdd(t,i);break;case"update":this.onUpdate(t,i,Ext.data.Record.COMMIT);break;case"destroy":this.onRemove(t,i)}}},onEventAdd:function(t,e){this.newRecord=e,e.store||(this.store.add(e),this.save()),this.fireEvent("eventadd",this,e)},onEventUpdate:function(t,e){this.save(),this.fireEvent("eventupdate",this,e)},onEventDelete:function(t,e){e.store&&this.store.remove(e),this.save(),this.fireEvent("eventdelete",this,e)},onEventCancel:function(t,e){this.fireEvent("eventcancel",this,e)},onDayClick:function(t,e,i){if(!0!==this.readOnly&&!1!==this.fireEvent("dayclick",this,Ext.Date.clone(t),e,i)){var n=Extensible.calendar.data.EventMappings,s={};s[n.StartDate.name]=t,s[n.IsAllDay.name]=e,this.showEventEditor(s,i)}},showEventMenu:function(t,e){this.eventMenu||(this.eventMenu=Ext.create("Extensible.calendar.menu.Event",{listeners:{editdetails:Ext.bind(this.onEditDetails,this),eventdelete:Ext.bind(this.onDeleteEvent,this),eventmove:Ext.bind(this.onMoveEvent,this)}})),this.eventMenu.showForEvent(this.getEventRecordFromEl(t),t,e),this.menuActive=!0},onEditDetails:function(t,e,i){this.fireEvent("editdetails",this,e,i),this.menuActive=!1},onMoveEvent:function(t,e,i){this.moveEvent(e,i),this.menuActive=!1},moveEvent:function(t,e){if(0!==Extensible.Date.compare(t.data[Extensible.calendar.data.EventMappings.StartDate.name],e)&&!1!==this.fireEvent("beforeeventmove",this,t,Ext.Date.clone(e))){var i=e.getTime()-t.data[Extensible.calendar.data.EventMappings.StartDate.name].getTime();t.beginEdit(),t.set(Extensible.calendar.data.EventMappings.StartDate.name,e),t.set(Extensible.calendar.data.EventMappings.EndDate.name,Extensible.Date.add(t.data[Extensible.calendar.data.EventMappings.EndDate.name],{millis:i})),t.endEdit(),this.save(),this.fireEvent("eventmove",this,t)}},onDeleteEvent:function(t,e,i){e._deleting=!0,this.deleteEvent(e,i),this.menuActive=!1},deleteEvent:function(t,e){!1!==this.fireEvent("beforeeventdelete",this,t,e)&&(this.store.remove(t),this.save(),this.fireEvent("eventdelete",this,t,e))},onContextMenu:function(t,e){var i,n=!1;(i=t.getTarget(this.eventSelector,5,!0))&&(this.dismissEventEditor().showEventMenu(i,t.getXY()),n=!0),(n||!0===this.suppressBrowserContextMenu)&&t.preventDefault()},onClick:function(t,e){var i=t.getTarget(this.eventSelector,5);if(this.dropZone&&this.dropZone.clearShims(),!0===this.menuActive)return this.menuActive=!1,!0;if(i){var n=this.getEventIdFromEl(i),s=this.getEventRecord(n);return!1!==this.fireEvent("eventclick",this,s,i)&&!0!==this.readOnly&&this.showEventEditor(s,i),!0}},onMouseOver:function(t,e){!1===this.trackMouseOver||void 0!=this.dragZone&&this.dragZone.dragging||this.handleEventMouseEvent(t,e,"over")||this.handleDayMouseEvent(t,e,"over")},onMouseOut:function(t,e){!1===this.trackMouseOver||void 0!=this.dragZone&&this.dragZone.dragging||this.handleEventMouseEvent(t,e,"out")||this.handleDayMouseEvent(t,e,"out")},handleEventMouseEvent:function(t,e,i){var n;if(n=t.getTarget(this.eventSelector,5,!0)){var s=Ext.get(t.getRelatedTarget());if(n==s||n.contains(s))return!0;var r=this.getEventIdFromEl(n);if(""!=this.eventOverClass){this.getEventEls(r)["over"==i?"addCls":"removeCls"](this.eventOverClass)}return this.fireEvent("event"+i,this,this.getEventRecord(r),n),!0}return!1},getDateFromId:function(t,e){var i=t.split(e);return i[i.length-1]},handleDayMouseEvent:function(t,e,i){if((e=t.getTarget("td",3))&&e.id&&e.id.indexOf(this.dayElIdDelimiter)>-1){var n,s,r=this.getDateFromId(e.id,this.dayElIdDelimiter),o=Ext.get(t.getRelatedTarget());if(o&&(s=(n=o.is("td")?o:o.up("td",3))&&n.id?this.getDateFromId(n.id,this.dayElIdDelimiter):""),!o||r!=s){var a=this.getDayEl(r);a&&""!=this.dayOverClass&&a["over"==i?"addCls":"removeCls"](this.dayOverClass),this.fireEvent("day"+i,this,Ext.Date.parseDate(r,"Ymd"),a)}}},renderItems:function(){throw"This method must be implemented by a subclass"},destroy:function(){this.callParent(arguments),this.el&&this.el.un("contextmenu",this.onContextMenu,this),Ext.destroy(this.editWin,this.eventMenu,this.dragZone,this.dropZone)}}),Ext.define("Extensible.calendar.view.MonthDayDetail",{extend:"Ext.Component",alias:"widget.extensible.monthdaydetailview",requires:["Ext.XTemplate","Extensible.calendar.view.AbstractCalendar"],initComponent:function(){this.callParent(arguments),this.addEvents({eventsrendered:!0})},afterRender:function(){this.tpl=this.getTemplate(),this.callParent(arguments),this.el.on({click:this.view.onClick,mouseover:this.view.onMouseOver,mouseout:this.view.onMouseOut,scope:this.view})},getTemplate:function(){return this.tpl||(this.tpl=Ext.create("Ext.XTemplate",'<div class="ext-cal-mdv x-unselectable">','<table class="ext-cal-mvd-tbl" cellpadding="0" cellspacing="0">',"<tbody>",'<tpl for=".">','<tr><td class="ext-cal-ev">{markup}</td></tr>',"</tpl>","</tbody>","</table>","</div>")),this.tpl.compile(),this.tpl},update:function(t){this.date=t,this.refresh()},refresh:function(){if(this.rendered){var t=this.view.getEventTemplate(),e=[];evts=this.store.queryBy(function(t){var e=Ext.Date.clearTime(this.date,!0).getTime(),i=Extensible.calendar.data.EventMappings,n=Ext.Date.clearTime(t.data[i.StartDate.name],!0).getTime(),s=e==n,r=!1,o=t.data[i.CalendarId.name],a=this.calendarStore?this.calendarStore.getById(o):null;if(a&&!0===a.data[Extensible.calendar.data.CalendarMappings.IsHidden.name])return!1;if(!s){var l=Ext.Date.clearTime(t.data[i.EndDate.name],!0).getTime();r=n<e&&l>=e}return s||r},this),Extensible.calendar.view.AbstractCalendar.prototype.sortEventRecordsForDay.call(this,evts),evts.each(function(i){var n=i.data,s=Extensible.calendar.data.EventMappings;n._renderAsAllDay=n[s.IsAllDay.name]||Extensible.Date.diffDays(n[s.StartDate.name],n[s.EndDate.name])>0,n.spanLeft=Extensible.Date.diffDays(n[s.StartDate.name],this.date)>0,n.spanRight=Extensible.Date.diffDays(this.date,n[s.EndDate.name])>0,n.spanCls=n.spanLeft?n.spanRight?"ext-cal-ev-spanboth":"ext-cal-ev-spanleft":n.spanRight?"ext-cal-ev-spanright":"",e.push({markup:t.apply(this.getTemplateEventData(n))})},this),this.tpl.overwrite(this.el,e),this.fireEvent("eventsrendered",this,this.date,evts.getCount())}},getTemplateEventData:function(t){var e=this.view.getTemplateEventData(t);return e._elId="dtl-"+e._elId,e}}),Ext.define("Extensible.calendar.view.Month",{extend:"Extensible.calendar.view.AbstractCalendar",alias:"widget.extensible.monthview",requires:["Ext.XTemplate","Extensible.calendar.template.Month","Extensible.calendar.util.WeekEventRenderer","Extensible.calendar.view.MonthDayDetail"],moreText:"+{0} more...",detailsTitleDateFormat:"F j",showTime:!0,showTodayText:!0,showHeader:!1,showWeekLinks:!1,showWeekNumbers:!1,weekLinkOverClass:"ext-week-link-over",daySelector:".ext-cal-day",moreSelector:".ext-cal-ev-more",weekLinkSelector:".ext-cal-week-link",weekCount:-1,dayCount:7,moreElIdDelimiter:"-more-",weekLinkIdDelimiter:"ext-cal-week-",initComponent:function(){this.callParent(arguments),this.addEvents({dayclick:!0,weekclick:!0,dayover:!0,dayout:!0})},initDD:function(){var t={view:this,createText:this.ddCreateEventText,moveText:this.ddMoveEventText,ddGroup:this.ddGroup||this.id+"-MonthViewDD"};this.dragZone=Ext.create("Extensible.calendar.dd.DragZone",this.el,t),this.dropZone=Ext.create("Extensible.calendar.dd.DropZone",this.el,t)},onDestroy:function(){Ext.destroy(this.ddSelector),Ext.destroy(this.dragZone),Ext.destroy(this.dropZone),this.callParent(arguments)},afterRender:function(){this.tpl||(this.tpl=Ext.create("Extensible.calendar.template.Month",{id:this.id,showTodayText:this.showTodayText,todayText:this.todayText,showTime:this.showTime,showHeader:this.showHeader,showWeekLinks:this.showWeekLinks,showWeekNumbers:this.showWeekNumbers}),this.tpl.compile()),this.addCls("ext-cal-monthview ext-cal-ct"),this.callParent(arguments)},onResize:function(){this.monitorResize&&(this.maxEventsPerDay=this.getMaxEventsPerDay(),this.refresh(!1))},forceSize:function(){if(this.showWeekLinks&&this.el){var t=this.el.down(".ext-cal-hd-days-tbl"),e=this.el.select(".ext-cal-bg-tbl"),i=this.el.select(".ext-cal-evt-tbl"),n=this.el.down(".ext-cal-week-link").getWidth(),s=this.el.getWidth()-n;t.setWidth(s),e.setWidth(s),i.setWidth(s)}this.callParent(arguments)},initClock:function(){null!==Ext.fly(this.id+"-clock")&&(this.prevClockDay=(new Date).getDay(),this.clockTask&&Ext.TaskManager.stop(this.clockTask),this.clockTask=Ext.TaskManager.start({run:function(){var t=Ext.fly(this.id+"-clock"),e=new Date;e.getDay()==this.prevClockDay?t&&t.update(Ext.Date.format(e,Extensible.Date.use24HourTime?"G:i":"g:ia")):(this.prevClockDay=e.getDay(),this.moveTo(e))},scope:this,interval:1e3}))},getMoreText:function(t){return this.moreText},getEventBodyMarkup:function(){return this.eventBodyMarkup||(this.eventBodyMarkup=["{Title}",'<tpl if="_isReminder">','<i class="ext-cal-ic ext-cal-ic-rem">&#160;</i>',"</tpl>",'<tpl if="_isRecurring">','<i class="ext-cal-ic ext-cal-ic-rcr">&#160;</i>',"</tpl>",'<tpl if="spanLeft">','<i class="ext-cal-spl">&#160;</i>',"</tpl>",'<tpl if="spanRight">','<i class="ext-cal-spr">&#160;</i>',"</tpl>"].join("")),this.eventBodyMarkup},getEventTemplate:function(){if(!this.eventTpl){var t,e=this.getEventBodyMarkup();(t=Ext.isIE||Ext.isOpera?Ext.create("Ext.XTemplate",'<tpl if="_renderAsAllDay">','<div class="{_extraCls} {spanCls} ext-cal-evt ext-cal-evo">','<div class="ext-cal-evm">','<div class="ext-cal-evi">',"</tpl>",'<tpl if="!_renderAsAllDay">','<div class="{_extraCls} ext-cal-evt ext-cal-evr">',"</tpl>",e,'<tpl if="_renderAsAllDay">',"</div>","</div>","</tpl>","</div>"):Ext.create("Ext.XTemplate",'<div class="{_extraCls} {spanCls} ext-cal-evt ext-cal-evr">',e,"</div>")).compile(),this.eventTpl=t}return this.eventTpl},getTemplateEventData:function(t){var e=Extensible.calendar.data.EventMappings,i=[this.getEventSelectorCls(t[e.EventId.name])],n={},s=(t[e.RRule.name],"x-cal-default"),r=t[e.Title.name],o=Extensible.Date.use24HourTime?"G:i ":"g:ia ";if(this.calendarStore&&t[e.CalendarId.name]){(a=this.calendarStore.findRecord(Extensible.calendar.data.CalendarMappings.CalendarId.name,t[e.CalendarId.name]))&&(s="x-cal-"+a.data[Extensible.calendar.data.CalendarMappings.ColorId.name])}if(s+=t._renderAsAllDay?"-ad":"",i.push(s),this.getEventClass){var a=this.getEventRecord(t[e.EventId.name]),l=this.getEventClass(a,!!t._renderAsAllDay,n,this.store);i.push(l)}return n._extraCls=i.join(" "),n._isRecurring=t.Recurrence&&""!=t.Recurrence,n._isReminder=t[e.Reminder.name]&&""!=t[e.Reminder.name],n.Title=(t[e.IsAllDay.name]?"":Ext.Date.format(t[e.StartDate.name],o))+(r&&0!=r.length?r:this.defaultEventTitleText),Ext.applyIf(n,t)},refresh:function(t){Extensible.log("refresh (MonthView)"),this.detailPanel&&this.detailPanel.hide(),this.callParent(arguments),!1!==this.showTime&&this.initClock()},renderItems:function(){Extensible.calendar.util.WeekEventRenderer.render({eventGrid:this.allDayOnly?this.allDayGrid:this.eventGrid,viewStart:this.viewStart,tpl:this.getEventTemplate(),maxEventsPerDay:this.maxEventsPerDay,viewId:this.id,templateDataFn:Ext.bind(this.getTemplateEventData,this),evtMaxCount:this.evtMaxCount,weekCount:this.weekCount,dayCount:this.dayCount,getMoreText:Ext.bind(this.getMoreText,this)}),this.fireEvent("eventsrendered",this)},getDayEl:function(t){return Ext.get(this.getDayId(t))},getDayId:function(t){return Ext.isDate(t)&&(t=Ext.Date.format(t,"Ymd")),this.id+this.dayElIdDelimiter+t},getWeekIndex:function(t){var e=this.getDayEl(t).up(".ext-cal-wk-ct");return parseInt(e.id.split("-wk-")[1])},getDaySize:function(t){var e=this.el.getBox(),i=this.getViewPadding(),n=(e.width-i.width)/this.dayCount,s=(e.height-i.height)/this.getWeekCount();if(t){var r=this.el.select(".ext-cal-dtitle").last().parent("tr");s=r?s-r.getHeight(!0):s}return{height:s,width:n}},getEventHeight:function(){if(!this.eventHeight){var t=this.el.select(".ext-cal-evt").first();if(!t)return 16;this.eventHeight=t.parent("td").getHeight()}return this.eventHeight},getMaxEventsPerDay:function(){var t=this.getDaySize(!0).height,e=this.getEventHeight();return Math.max(Math.floor((t-e)/e),0)},getViewPadding:function(t){var e=(t=t||"tlbr").indexOf("t")>-1,i=t.indexOf("l")>-1,n=t.indexOf("r")>-1,s=this.showHeader&&e?this.el.select(".ext-cal-hd-days-tbl").first().getHeight():0,r=0;return this.isHeaderView?(i&&(r=this.el.select(".ext-cal-gutter").first().getWidth()),n&&(r+=this.el.select(".ext-cal-gutter-rt").first().getWidth())):this.showWeekLinks&&i&&(r=this.el.select(".ext-cal-week-link").first().getWidth()),{height:s,width:r}},getDayAt:function(t,e){var i=this.el.getBox(),n=this.getViewPadding("tl"),s=this.getDaySize(),r=Math.floor((t-i.x-n.width)/s.width),o=7*Math.floor((e-i.y-n.height)/s.height)+r,a=Extensible.Date.add(this.viewStart,{days:o});return{date:a,el:this.getDayEl(a)}},moveNext:function(){return this.moveMonths(1,!0)},movePrev:function(){return this.moveMonths(-1,!0)},onInitDrag:function(){this.callParent(arguments),Ext.select(this.daySelector).removeCls(this.dayOverClass),this.detailPanel&&this.detailPanel.hide()},onMoreClick:function(t){this.detailPanel?this.detailPanel.setTitle(Ext.Date.format(t,this.detailsTitleDateFormat)):(this.detailPanel=Ext.create("Ext.Panel",{id:this.id+"-details-panel",title:Ext.Date.format(t,this.detailsTitleDateFormat),layout:"fit",floating:!0,renderTo:Ext.getBody(),tools:[{type:"close",handler:function(t,e,i){i.ownerCt.hide()}}],items:{xtype:"extensible.monthdaydetailview",id:this.id+"-details-view",date:t,view:this,store:this.store,calendarStore:this.calendarStore,listeners:{eventsrendered:Ext.bind(this.onDetailViewUpdated,this)}}}),this.enableContextMenus&&!0!==this.readOnly&&this.detailPanel.body.on("contextmenu",this.onContextMenu,this)),this.detailPanel.getComponent(this.id+"-details-view").update(t)},onDetailViewUpdated:function(t,e,i){var n=this.detailPanel,s=this.getDayEl(e),r=s.getBox();n.setWidth(Math.max(r.width,220)),n.show(),n.getPositionEl().alignTo(s,"t-t?")},onHide:function(){this.callParent(arguments),this.detailPanel&&this.detailPanel.hide()},onClick:function(t,e){if(this.detailPanel&&this.detailPanel.hide(),el=t.getTarget(this.moreSelector,3)){var i=el.id.split(this.moreElIdDelimiter)[1];this.onMoreClick(Ext.Date.parseDate(i,"Ymd"))}else if(el=t.getTarget(this.weekLinkSelector,3)){i=el.id.split(this.weekLinkIdDelimiter)[1];this.fireEvent("weekclick",this,Ext.Date.parseDate(i,"Ymd"))}else if(!Extensible.calendar.view.Month.superclass.onClick.apply(this,arguments))if((el=t.getTarget("td",3))&&el.id&&el.id.indexOf(this.dayElIdDelimiter)>-1){var n=el.id.split(this.dayElIdDelimiter);i=n[n.length-1];this.onDayClick(Ext.Date.parseDate(i,"Ymd"),!1,Ext.get(this.getDayId(i)))}else;},handleDayMouseEvent:function(t,e,i){var n=t.getTarget(this.weekLinkSelector,3,!0);n?n["over"==i?"addCls":"removeCls"](this.weekLinkOverClass):this.callParent(arguments)},destroy:function(){this.callParent(arguments),this.detailsPanel&&this.detailPanel.body.un("contextmenu",this.onContextMenu,this)}}),Ext.define("Extensible.calendar.view.DayHeader",{extend:"Extensible.calendar.view.Month",alias:"widget.extensible.dayheaderview",requires:["Extensible.calendar.template.DayHeader"],weekCount:1,dayCount:1,allDayOnly:!0,monitorResize:!1,isHeaderView:!0,afterRender:function(){this.tpl||(this.tpl=Ext.create("Extensible.calendar.template.DayHeader",{id:this.id,showTodayText:this.showTodayText,todayText:this.todayText,showTime:this.showTime})),this.tpl.compile(),this.addCls("ext-cal-day-header"),this.callParent(arguments)},forceSize:Ext.emptyFn,refresh:function(t){Extensible.log("refresh (DayHeaderView)"),this.callParent(arguments),this.recalcHeaderBox()},recalcHeaderBox:function(){var t=this.el.down(".ext-cal-evt-tbl").getHeight();this.el.setHeight(t+7),this.el.down(".ext-cal-hd-ad-inner").setHeight(t+5),this.el.down(".ext-cal-bg-tbl").setHeight(t+5)},moveNext:function(){return this.moveDays(this.dayCount)},movePrev:function(){return this.moveDays(-this.dayCount)},onClick:function(t,e){if((el=t.getTarget("td",3))&&el.id&&el.id.indexOf(this.dayElIdDelimiter)>-1){var i=el.id.split(this.dayElIdDelimiter),n=i[i.length-1];this.onDayClick(Ext.Date.parseDate(n,"Ymd"),!0,Ext.get(this.getDayId(n,!0)))}else this.callParent(arguments)}}),Ext.define("Extensible.calendar.view.DayBody",{extend:"Extensible.calendar.view.AbstractCalendar",alias:"widget.extensible.daybodyview",requires:["Ext.XTemplate","Extensible.calendar.template.DayBody","Extensible.calendar.data.EventMappings","Extensible.calendar.dd.DayDragZone","Extensible.calendar.dd.DayDropZone"],dayColumnElIdDelimiter:"-day-col-",hourIncrement:60,initComponent:function(){this.callParent(arguments),!0===this.readOnly&&(this.enableEventResize=!1),this.incrementsPerHour=this.hourIncrement/this.ddIncrement,this.minEventHeight=this.minEventDisplayMinutes/(this.hourIncrement/this.hourHeight),this.addEvents({beforeeventresize:!0,eventresize:!0,dayclick:!0})},initDD:function(){var t={view:this,createText:this.ddCreateEventText,moveText:this.ddMoveEventText,resizeText:this.ddResizeEventText,ddIncrement:this.ddIncrement,ddGroup:this.ddGroup||this.id+"-DayViewDD"};this.el.ddScrollConfig={vthresh:Ext.isIE||Ext.isOpera?100:40,hthresh:-1,frequency:50,increment:100,ddGroup:this.ddGroup||this.id+"-DayViewDD"},this.dragZone=Ext.create("Extensible.calendar.dd.DayDragZone",this.el,Ext.apply({},t)),this.dropZone=Ext.create("Extensible.calendar.dd.DayDropZone",this.el,t)},refresh:function(t){Extensible.log("refresh (DayBodyView)");var e=this.el.getScroll().top;this.callParent(arguments),this.scrollReady&&this.scrollTo(e)},scrollTo:function(t,e){(e=e||Ext.isIE||Ext.isOpera)?Ext.defer(function(){this.el.scrollTo("top",t),this.scrollReady=!0},10,this):(this.el.scrollTo("top",t),this.scrollReady=!0)},afterRender:function(){this.tpl||(this.tpl=Ext.create("Extensible.calendar.template.DayBody",{id:this.id,dayCount:this.dayCount,showTodayText:this.showTodayText,todayText:this.todayText,showTime:this.showTime,showHourSeparator:this.showHourSeparator,viewStartHour:this.viewStartHour,viewEndHour:this.viewEndHour,hourIncrement:this.hourIncrement,hourHeight:this.hourHeight})),this.tpl.compile(),this.addCls("ext-cal-body-ct"),this.callParent(arguments);var t=Math.max(this.scrollStartHour,this.viewStartHour),e=Math.max(0,t-this.viewStartHour);e>0&&this.scrollTo(e*this.hourHeight)},forceSize:Ext.emptyFn,onEventResize:function(t,e){if(!1!==this.fireEvent("beforeeventresize",this,t,e)){var i=Extensible.Date,n=Extensible.calendar.data.EventMappings.StartDate.name,s=Extensible.calendar.data.EventMappings.EndDate.name;if(0===i.compare(t.data[n],e.StartDate)&&0===i.compare(t.data[s],e.EndDate))return;t.set(n,e.StartDate),t.set(s,e.EndDate),this.onEventUpdate(null,t),this.fireEvent("eventresize",this,t)}},getEventBodyMarkup:function(){return this.eventBodyMarkup||(this.eventBodyMarkup=["{Title}",'<tpl if="_isReminder">','<i class="ext-cal-ic ext-cal-ic-rem">&#160;</i>',"</tpl>",'<tpl if="_isRecurring">','<i class="ext-cal-ic ext-cal-ic-rcr">&#160;</i>',"</tpl>"].join("")),this.eventBodyMarkup},getEventTemplate:function(){return this.eventTpl||(this.eventTpl=Ext.isIE||Ext.isOpera?Ext.create("Ext.XTemplate",'<div id="{_elId}" class="ext-cal-evt {_extraCls}" ','style="left: {_left}%; width: {_width}%; top: {_top}px;">','<div class="ext-cal-evb">&#160;</div>','<dl style="height: {_height}px;" class="ext-cal-evdm">','<dd class="ext-evt-bd">',this.getEventBodyMarkup(),"</dd>",this.enableEventResize?'<div class="ext-evt-rsz"><div class="ext-evt-rsz-h">&#160;</div></div>':"","</dl>",'<div class="ext-cal-evb">&#160;</div>',"</div>"):Ext.create("Ext.XTemplate",'<div id="{_elId}" class="{_extraCls} ext-cal-evt ext-cal-evr" ','style="left: {_left}%; width: {_width}%; top: {_top}px; height: {_height}px;">','<div class="ext-evt-bd">',this.getEventBodyMarkup(),"</div>",this.enableEventResize?'<div class="ext-evt-rsz"><div class="ext-evt-rsz-h">&#160;</div></div>':"","</div>"),this.eventTpl.compile()),this.eventTpl},getEventAllDayTemplate:function(){if(!this.eventAllDayTpl){var t,e=this.getEventBodyMarkup();(t=Ext.isIE||Ext.isOpera?Ext.create("Ext.XTemplate",'<div class="ext-cal-evt" ','style="left: {_left}%; width: {_width}%; top: {_top}px; height: {_height}px;">','<div class="{_extraCls} {spanCls} ext-cal-evo">','<div class="ext-cal-evm">','<div class="ext-cal-evi">',e,"</div>","</div>","</div>","</div>"):Ext.create("Ext.XTemplate",'<div class="{_extraCls} {spanCls} ext-cal-evt ext-cal-evr" ','style="left: {_left}%; width: {_width}%; top: {_top}px; height: {_height}px;">',e,"</div>")).compile(),this.eventAllDayTpl=t}return this.eventAllDayTpl},getTemplateEventData:function(t){var e=Extensible.calendar.data.EventMappings,i=[this.getEventSelectorCls(t[e.EventId.name])],n={},s="x-cal-default",r=t[e.Title.name],o=Extensible.Date.use24HourTime?"G:i ":"g:ia ";t[e.RRule.name];if(this.getTemplateEventBox(t),this.calendarStore&&t[e.CalendarId.name]){(a=this.calendarStore.findRecord(Extensible.calendar.data.CalendarMappings.CalendarId.name,t[e.CalendarId.name]))&&(s="x-cal-"+a.data[Extensible.calendar.data.CalendarMappings.ColorId.name])}if(s+=(t._renderAsAllDay?"-ad":"")+(Ext.isIE||Ext.isOpera?"-x":""),i.push(s),this.getEventClass){var a=this.getEventRecord(t[e.EventId.name]),l=this.getEventClass(a,!!t._renderAsAllDay,n,this.store);i.push(l)}return n._extraCls=i.join(" "),n._isRecurring=t.Recurrence&&""!=t.Recurrence,n._isReminder=t[e.Reminder.name]&&""!=t[e.Reminder.name],n.Title=(t[e.IsAllDay.name]?"":Ext.Date.format(t[e.StartDate.name],o))+(r&&0!=r.length?r:this.defaultEventTitleText),Ext.applyIf(n,t)},getEventPositionOffsets:function(){return{top:0,height:-1}},getTemplateEventBox:function(t){var e=this.hourHeight/this.hourIncrement,i=t[Extensible.calendar.data.EventMappings.StartDate.name],n=t[Extensible.calendar.data.EventMappings.EndDate.name],s=Math.max(i.getHours()-this.viewStartHour,0),r=Math.min(n.getHours()-this.viewStartHour,this.viewEndHour-this.viewStartHour),o=s*this.hourIncrement,a=r*this.hourIncrement,l=Extensible.Date.add(Ext.Date.clone(n),{hours:this.viewEndHour,clearTime:!0}),h=this.getEventPositionOffsets();i.getHours()>=this.viewStartHour&&(o+=i.getMinutes()),n<=l&&(a+=n.getMinutes()),t._left=0,t._width=100,t._top=o*e+h.top,t._height=Math.max((a-o)*e,this.minEventHeight)+h.height},renderItems:function(){for(var t=0,e=[];t<this.dayCount;t++)for(var i=emptyCells=skipped=0,n=this.eventGrid[0][t],s=n?n.length:0;i<s;i++)if(f=n[i]){var r=f.data||f.event.data,o=!0===r[Extensible.calendar.data.EventMappings.IsAllDay.name],a=this.isEventSpanning(f.event||f);o||a||(Ext.apply(r,{cls:"ext-cal-ev",_positioned:!0}),e.push({data:this.getTemplateEventData(r),date:Extensible.Date.add(this.viewStart,{days:t})}))}for(var l=j=0,h=[],d=e.length;l<d;l++){var c=null,u=(f=e[l].data)[Extensible.calendar.data.EventMappings.StartDate.name].getDate();for(j=0;j<d;j++)l!=j&&(c=e[j].data,this.isOverlapping(f,c)&&(f._overlap=void 0==f._overlap?1:f._overlap+1,l<j&&(void 0===f._overcol&&(f._overcol=0),c._overcol=f._overcol+1,h[u]=h[u]?Math.max(h[u],c._overcol):c._overcol)))}for(l=0;l<d;l++){var f;u=(f=e[l].data)[Extensible.calendar.data.EventMappings.StartDate.name].getDate();if(void 0!==f._overlap){var p=100/(h[u]+1);f._overlap;f._width=p,f._left=p*f._overcol}var g=this.getEventTemplate().apply(f),m=this.id+"-day-col-"+Ext.Date.format(e[l].date,"Ymd");Ext.core.DomHelper.append(m,g)}this.fireEvent("eventsrendered",this)},getDayEl:function(t){return Ext.get(this.getDayId(t))},getDayId:function(t){return Ext.isDate(t)&&(t=Ext.Date.format(t,"Ymd")),this.id+this.dayColumnElIdDelimiter+t},getDaySize:function(){var t=this.el.down(".ext-cal-day-col-inner").getBox();return{height:t.height,width:t.width}},getDayAt:function(t,e){var i=this.el.down(".ext-cal-day-times").getWidth(),n=this.el.getBox(),s=this.getDaySize(!1),r=t-n.x-i,o=Math.floor(r/s.width),a=this.el.getScroll(),l=this.el.down(".ext-cal-bg-row").getHeight()/this.incrementsPerHour,h=e-n.y-l+a.top,d=Math.max(0,Math.ceil(h/l)),c=d*(this.hourIncrement/this.incrementsPerHour),u=Extensible.Date.add(this.viewStart,{days:o,minutes:c,hours:this.viewStartHour}),f=this.getDayEl(u),p=t;return f&&(p=f.getLeft()),{date:u,el:f,timeBox:{x:p,y:d*this.hourHeight/this.incrementsPerHour+n.y-a.top,width:s.width,height:l}}},onClick:function(t,e){if(!this.dragPending&&!Extensible.calendar.view.DayBody.superclass.onClick.apply(this,arguments)&&null===t.getTarget(".ext-cal-day-times",3)){var i=t.getTarget("td",3);if(i&&i.id&&i.id.indexOf(this.dayElIdDelimiter)>-1){var n=this.getDateFromId(i.id,this.dayElIdDelimiter);this.onDayClick(Ext.Date.parseDate(n,"Ymd"),!0,Ext.get(this.getDayId(n)))}else{var s=this.getDayAt(t.getX(),t.getY());s&&s.date&&this.onDayClick(s.date,!1,null)}}}}),Ext.define("Extensible.calendar.view.Day",{extend:"Ext.Container",alias:"widget.extensible.dayview",requires:["Extensible.calendar.view.AbstractCalendar","Extensible.calendar.view.DayHeader","Extensible.calendar.view.DayBody"],showTime:!0,showTodayText:!0,dayCount:1,enableEventResize:!0,ddIncrement:30,minEventDisplayMinutes:30,showHourSeparator:!0,viewStartHour:0,viewEndHour:24,scrollStartHour:7,hourHeight:42,hideMode:"offsets",initComponent:function(){this.ddCreateEventText=this.ddCreateEventText||Extensible.calendar.view.AbstractCalendar.prototype.ddCreateEventText,this.ddMoveEventText=this.ddMoveEventText||Extensible.calendar.view.AbstractCalendar.prototype.ddMoveEventText,this.dayCount=this.dayCount>7?7:this.dayCount<1?1:this.dayCount;var t=Ext.apply({},this.initialConfig);t.showTime=this.showTime,t.showTodayText=this.showTodayText,t.todayText=this.todayText,t.dayCount=this.dayCount,t.weekCount=1,t.readOnly=this.readOnly,t.ddIncrement=this.ddIncrement,t.minEventDisplayMinutes=this.minEventDisplayMinutes;var e=Ext.applyIf({xtype:"extensible.dayheaderview",id:this.id+"-hd",ownerCalendarPanel:this.ownerCalendarPanel},t),i=Ext.applyIf({xtype:"extensible.daybodyview",enableEventResize:this.enableEventResize,showHourSeparator:this.showHourSeparator,viewStartHour:this.viewStartHour,viewEndHour:this.viewEndHour,scrollStartHour:this.scrollStartHour,hourHeight:this.hourHeight,id:this.id+"-bd",ownerCalendarPanel:this.ownerCalendarPanel},t);this.items=[e,i],this.addCls("ext-cal-dayview ext-cal-ct"),this.callParent(arguments)},afterRender:function(){this.callParent(arguments),this.header=Ext.getCmp(this.id+"-hd"),this.body=Ext.getCmp(this.id+"-bd"),this.body.on("eventsrendered",this.forceSize,this),this.on("resize",this.onResize,this)},refresh:function(){Extensible.log("refresh (DayView)"),this.header.refresh(),this.body.refresh()},forceSize:function(){Ext.defer(function(){var t=this.el.up(".x-panel-body"),e=this.el.down(".ext-cal-day-header"),i=t.getHeight()-e.getHeight();this.el.down(".ext-cal-body-ct").setHeight(i-1)},1,this)},onResize:function(){this.forceSize(),Ext.defer(this.refresh,Ext.isIE?1:0,this)},doHide:function(){this.header.doHide.apply(this,arguments),this.body.doHide.apply(this,arguments)},getViewBounds:function(){return this.header.getViewBounds()},getStartDate:function(){return this.header.getStartDate()},setStartDate:function(t){this.header.setStartDate(t,!0),this.body.setStartDate(t)},renderItems:function(){this.header.renderItems(),this.body.renderItems()},isToday:function(){return this.header.isToday()},moveTo:function(t){return this.header.moveTo(t),this.body.moveTo(t,!0)},moveNext:function(){return this.header.moveNext(),this.body.moveNext(!0)},movePrev:function(t){return this.header.movePrev(),this.body.movePrev(!0)},moveDays:function(t){return this.header.moveDays(t),this.body.moveDays(t,!0)},moveToday:function(){return this.header.moveToday(),this.body.moveToday(!0)},showEventEditor:function(t,e){return Extensible.calendar.view.AbstractCalendar.prototype.showEventEditor.apply(this,arguments)},dismissEventEditor:function(t){return Extensible.calendar.view.AbstractCalendar.prototype.dismissEventEditor.apply(this,arguments)}}),Ext.define("Extensible.calendar.view.MultiDay",{extend:"Extensible.calendar.view.Day",alias:"widget.extensible.multidayview",dayCount:3,startDayIsStatic:!1,moveNext:function(t){return this.moveDays(this.startDayIsStatic?7:this.dayCount,t)},movePrev:function(t){return this.moveDays(this.startDayIsStatic?-7:-this.dayCount,t)}}),Ext.define("Extensible.calendar.view.Week",{extend:"Extensible.calendar.view.MultiDay",alias:"widget.extensible.weekview",dayCount:7}),Ext.define("Extensible.calendar.view.MultiWeek",{extend:"Extensible.calendar.view.Month",alias:"widget.extensible.multiweekview",weekCount:2,moveNext:function(){return this.moveWeeks(this.weekCount,!0)},movePrev:function(){return this.moveWeeks(-this.weekCount,!0)}}),Ext.define("Extensible.calendar.CalendarPanel",{extend:"Ext.panel.Panel",alias:"widget.extensible.calendarpanel",requires:["Ext.layout.container.Card","Extensible.calendar.view.Day","Extensible.calendar.view.Week","Extensible.calendar.view.Month","Extensible.calendar.view.MultiDay","Extensible.calendar.view.MultiWeek"],enableRecurrence:!1,showDayView:!0,showMultiDayView:!1,showWeekView:!0,showMultiWeekView:!0,showMonthView:!0,showNavBar:!0,todayText:"Today",showTodayText:!0,showTime:!0,readOnly:!1,showNavToday:!0,showNavJump:!0,showNavNextPrev:!0,jumpToText:"Jump to:",goText:"Go",dayText:"Day",multiDayText:"{0} Days",weekText:"Week",multiWeekText:"{0} Weeks",monthText:"Month",editModal:!1,enableEditDetails:!0,layout:{type:"card",deferredRender:!0},startDate:new Date,initComponent:function(){this.tbar={cls:"ext-cal-toolbar",border:!0,items:[]},this.viewCount=0;var t=this.multiDayViewCfg&&this.multiDayViewCfg.dayCount||3,e=this.multiWeekViewCfg&&this.multiWeekViewCfg.weekCount||2;if(this.showNavToday&&this.tbar.items.push({id:this.id+"-tb-today",text:this.todayText,handler:this.onTodayClick,scope:this}),this.showNavNextPrev&&(this.tbar.items.push({id:this.id+"-tb-prev",handler:this.onPrevClick,scope:this,iconCls:"x-tbar-page-prev"}),this.tbar.items.push({id:this.id+"-tb-next",handler:this.onNextClick,scope:this,iconCls:"x-tbar-page-next"})),this.showNavJump&&(this.tbar.items.push(this.jumpToText),this.tbar.items.push({id:this.id+"-tb-jump-dt",xtype:"datefield",width:120,showToday:!1}),this.tbar.items.push({id:this.id+"-tb-jump",text:this.goText,handler:this.onJumpClick,scope:this})),this.tbar.items.push("->"),this.showDayView&&(this.tbar.items.push({id:this.id+"-tb-day",text:this.dayText,handler:this.onDayNavClick,scope:this,toggleGroup:this.id+"-tb-views"}),this.viewCount++),this.showMultiDayView){var i=Ext.String.format(this.getMultiDayText(t),t);this.tbar.items.push({id:this.id+"-tb-multiday",text:i,handler:this.onMultiDayNavClick,scope:this,toggleGroup:this.id+"-tb-views"}),this.viewCount++}if(this.showWeekView&&(this.tbar.items.push({id:this.id+"-tb-week",text:this.weekText,handler:this.onWeekNavClick,scope:this,toggleGroup:this.id+"-tb-views"}),this.viewCount++),this.showMultiWeekView){i=Ext.String.format(this.getMultiWeekText(e),e);this.tbar.items.push({id:this.id+"-tb-multiweek",text:i,handler:this.onMultiWeekNavClick,scope:this,toggleGroup:this.id+"-tb-views"}),this.viewCount++}(this.showMonthView||0==this.viewCount)&&(this.tbar.items.push({id:this.id+"-tb-month",text:this.monthText,handler:this.onMonthNavClick,scope:this,toggleGroup:this.id+"-tb-views"}),this.viewCount++,this.showMonthView=!0);var n=this.viewCount-1;this.activeItem=void 0===this.activeItem?n:this.activeItem>n?n:this.activeItem,!1===this.showNavBar&&(delete this.tbar,this.addCls("x-calendar-nonav")),this.callParent(arguments),this.addEvents({eventadd:!0,eventupdate:!0,beforeeventdelete:!0,eventdelete:!0,eventcancel:!0,viewchange:!0,editdetails:!0}),this.addCls("x-cal-panel"),this.eventStore&&(this.store=this.eventStore,delete this.eventStore),this.setStore(this.store);var s={showToday:this.showToday,todayText:this.todayText,showTodayText:this.showTodayText,showTime:this.showTime,readOnly:this.readOnly,enableRecurrence:this.enableRecurrence,store:this.store,calendarStore:this.calendarStore,editModal:this.editModal,enableEditDetails:this.enableEditDetails,ownerCalendarPanel:this};if(this.showDayView){var r=Ext.apply({xtype:"extensible.dayview",title:this.dayText},s);(r=Ext.apply(Ext.apply(r,this.viewConfig),this.dayViewCfg)).id=this.id+"-day",this.initEventRelay(r),this.add(r)}if(this.showMultiDayView){var o=Ext.apply({xtype:"extensible.multidayview",title:this.getMultiDayText(t)},s);(o=Ext.apply(Ext.apply(o,this.viewConfig),this.multiDayViewCfg)).id=this.id+"-multiday",this.initEventRelay(o),this.add(o)}if(this.showWeekView){var a=Ext.applyIf({xtype:"extensible.weekview",title:this.weekText},s);(a=Ext.apply(Ext.apply(a,this.viewConfig),this.weekViewCfg)).id=this.id+"-week",this.initEventRelay(a),this.add(a)}if(this.showMultiWeekView){var l=Ext.applyIf({xtype:"extensible.multiweekview",title:this.getMultiWeekText(e)},s);(l=Ext.apply(Ext.apply(l,this.viewConfig),this.multiWeekViewCfg)).id=this.id+"-multiweek",this.initEventRelay(l),this.add(l)}if(this.showMonthView){var h=Ext.applyIf({xtype:"extensible.monthview",title:this.monthText,listeners:{weekclick:{fn:function(t,e){this.showWeek(e)},scope:this}}},s);(h=Ext.apply(Ext.apply(h,this.viewConfig),this.monthViewCfg)).id=this.id+"-month",this.initEventRelay(h),this.add(h)}this.add(Ext.applyIf({xtype:"extensible.eventeditform",id:this.id+"-edit",calendarStore:this.calendarStore,enableRecurrence:this.enableRecurrence,listeners:{eventadd:{scope:this,fn:this.onEventAdd},eventupdate:{scope:this,fn:this.onEventUpdate},eventdelete:{scope:this,fn:this.onEventDelete},eventcancel:{scope:this,fn:this.onEventCancel}}},this.editViewCfg))},initEventRelay:function(t){t.listeners=t.listeners||{},t.listeners.afterrender={fn:function(t){this.relayEvents(t,["eventsrendered","eventclick","dayclick","eventover","eventout","beforedatechange","datechange","rangeselect","beforeeventmove","eventmove","initdrag","dayover","dayout","beforeeventresize","eventresize","eventadd","eventupdate","beforeeventdelete","eventdelete","eventcancel"]),t.on("editdetails",this.onEditDetails,this)},scope:this,single:!0}},afterRender:function(){this.callParent(arguments),this.body.addCls("x-cal-body"),this.updateNavState(),this.setActiveView()},getMultiDayText:function(t){return this.multiDayText},getMultiWeekText:function(t){return this.multiWeekText},setStore:function(t,e){var i=this.store;!e&&i&&i.un("write",this.onWrite,this),t&&t.on("write",this.onWrite,this),this.store=t},onStoreAdd:function(t,e,i){this.hideEditForm()},onStoreUpdate:function(t,e,i){i==Ext.data.Record.COMMIT&&this.hideEditForm()},onStoreRemove:function(t,e){this.hideEditForm()},onWrite:function(t,e){var i=e.records[0];switch(e.action){case"create":this.onStoreAdd(t,i);break;case"update":this.onStoreUpdate(t,i,Ext.data.Record.COMMIT);break;case"destroy":this.onStoreRemove(t,i)}},onEditDetails:function(t,e,i){!1!==this.fireEvent("editdetails",this,t,e,i)&&this.showEditForm(e)},save:function(){this.store.autoSync||this.store.sync()},onEventAdd:function(t,e){e.store||(this.store.add(e),this.save()),this.fireEvent("eventadd",this,e)},onEventUpdate:function(t,e){this.save(),this.fireEvent("eventupdate",this,e)},onEventDelete:function(t,e){this.store.remove(e),this.save(),this.fireEvent("eventdelete",this,e)},onEventCancel:function(t,e){this.hideEditForm(),this.fireEvent("eventcancel",this,e)},showEditForm:function(t){return this.preEditView=this.layout.getActiveItem().id,this.setActiveView(this.id+"-edit"),this.layout.getActiveItem().loadRecord(t),this},hideEditForm:function(){return this.preEditView&&(this.setActiveView(this.preEditView),delete this.preEditView),this},setActiveView:function(t,e){var i,n=this.layout,s=this.id+"-edit";e&&(this.startDate=e),t!==n.getActiveItem().id&&((i=this.getDockedItems("toolbar")[0])&&i[t===s?"hide":"show"](),n.setActiveItem(t||this.activeItem),this.doComponentLayout(),this.activeView=n.getActiveItem(),t!==s&&(t&&t!==this.preEditView&&n.activeItem.setStartDate(this.startDate,!0),this.updateNavState()),this.fireViewChange())},fireViewChange:function(){if(this.layout&&this.layout.getActiveItem){var t=this.layout.getActiveItem(),e=Ext.Date.clone;if(t){if(t.getViewBounds)var i=t.getViewBounds(),n={activeDate:e(t.getStartDate()),viewStart:e(i.start),viewEnd:e(i.end)};t.dismissEventEditor&&t.dismissEventEditor(),this.fireEvent("viewchange",this,t,n)}}},updateNavState:function(){var t=this.layout.activeItem;if(t&&!1!==this.showNavBar){var e=t.id.split(this.id+"-")[1],i=Ext.getCmp(this.id+"-tb-"+e);this.showNavToday&&Ext.getCmp(this.id+"-tb-today").setDisabled(t.isToday()),i.toggle(!0)}},setStartDate:function(t){return Extensible.log("setStartDate (CalendarPanel"),this.startDate=t,this.layout.activeItem.setStartDate(t,!0),this.updateNavState(),this.fireViewChange(),this},showWeek:function(t){this.setActiveView(this.id+"-week",t)},onTodayClick:function(){this.startDate=this.layout.activeItem.moveToday(!0),this.updateNavState(),this.fireViewChange()},onJumpClick:function(){var t=Ext.getCmp(this.id+"-tb-jump-dt").getValue();""!==t&&(this.startDate=this.layout.activeItem.moveTo(t,!0),this.updateNavState(),this.fireViewChange())},onPrevClick:function(){this.startDate=this.layout.activeItem.movePrev(!0),this.updateNavState(),this.fireViewChange()},onNextClick:function(){this.startDate=this.layout.activeItem.moveNext(!0),this.updateNavState(),this.fireViewChange()},onDayNavClick:function(){this.setActiveView(this.id+"-day")},onMultiDayNavClick:function(){this.setActiveView(this.id+"-multiday")},onWeekNavClick:function(){this.setActiveView(this.id+"-week")},onMultiWeekNavClick:function(){this.setActiveView(this.id+"-multiweek")},onMonthNavClick:function(){this.setActiveView(this.id+"-month")},getActiveView:function(){return this.layout.activeItem}}),Ext.override(Ext.slider.Multi,{onDisable:function(){var t,e,i,n=0,s=this.thumbs,r=s.length;for(this.callParent();n<r;n++)e=(t=s[n]).el,t.disable(),Ext.isIE&&e&&(i=e.getXY(),e.hide(),this.innerEl.addCls(this.disabledCls).dom.disabled=!0,this.thumbHolder||(this.thumbHolder=this.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+this.disabledCls})),this.thumbHolder.show().setXY(i))}}),Ext.override(Ext.form.field.Date,{getSubmitValue:function(){var t=this.submitFormat||this.format,e=this.getValue();return e?Ext.Date.format(e,t):""}}),Ext.override(Ext.menu.Menu,{doConstrain:function(){var t,e,i,n,s,r,o,a=this.el.getY(),l=a;delete this.height,e=this.getHeight(),this.setSize(),this.floating?(r=(s=Ext.fly(this.el.dom.parentNode)).getScroll().top,o=s.getViewSize().height,n=a-r,t=this.maxHeight?this.maxHeight:o-n,e>o?(t=o,l=a-n):t<e&&(l=a-(e-t),t=e)):t=this.getHeight(),this.maxHeight&&(t=Math.min(this.maxHeight,t)),e>t&&t>0&&(this.layout.autoSize=!1,this.setHeight(t),this.showSeparator&&this.iconSepEl.setHeight(this.layout.getRenderTarget().dom.scrollHeight)),(i=this.getConstrainVector(this.el.dom.parentNode))&&this.setPosition(this.getPosition()[0]+i[0]),this.el.setY(l)}});